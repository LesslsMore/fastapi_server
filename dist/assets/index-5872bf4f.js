var _O=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var L1e=_O((Fs,Bs)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ob(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Qn={},cu=[],bn=()=>{},SO=()=>!1,hm=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ib=t=>t.startsWith("onUpdate:"),br=Object.assign,ab=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},EO=Object.prototype.hasOwnProperty,dn=(t,e)=>EO.call(t,e),Ke=Array.isArray,du=t=>ef(t)==="[object Map]",Qu=t=>ef(t)==="[object Set]",Ia=t=>ef(t)==="[object Date]",vt=t=>typeof t=="function",ht=t=>typeof t=="string",ko=t=>typeof t=="symbol",Kt=t=>t!==null&&typeof t=="object",dd=t=>(Kt(t)||vt(t))&&vt(t.then)&&vt(t.catch),Z2=Object.prototype.toString,ef=t=>Z2.call(t),xO=t=>ef(t).slice(8,-1),fd=t=>ef(t)==="[object Object]",lb=t=>ht(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,zc=ob(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pm=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},TO=/-(\w)/g,ms=pm(t=>t.replace(TO,(e,n)=>n?n.toUpperCase():"")),CO=/\B([A-Z])/g,Ki=pm(t=>t.replace(CO,"-$1").toLowerCase()),tf=pm(t=>t.charAt(0).toUpperCase()+t.slice(1)),Wc=pm(t=>t?`on${tf(t)}`:""),Ca=(t,e)=>!Object.is(t,e),Ph=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},J2=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},hp=t=>{const e=parseFloat(t);return isNaN(e)?t:e},kO=t=>{const e=ht(t)?Number(t):NaN;return isNaN(e)?t:e};let $_;const mm=()=>$_||($_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function dt(t){if(Ke(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=ht(r)?LO(r):dt(r);if(s)for(const o in s)e[o]=s[o]}return e}else if(ht(t)||Kt(t))return t}const IO=/;(?![^(]*\))/g,AO=/:([^]+)/,RO=/\/\*[^]*?\*\//g;function LO(t){const e={};return t.replace(RO,"").split(IO).forEach(n=>{if(n){const r=n.split(AO);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function U(t){let e="";if(ht(t))e=t;else if(Ke(t))for(let n=0;n<t.length;n++){const r=U(t[n]);r&&(e+=r+" ")}else if(Kt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Os(t){if(!t)return null;let{class:e,style:n}=t;return e&&!ht(e)&&(t.class=U(e)),n&&(t.style=dt(n)),t}const $O="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",PO=ob($O);function eC(t){return!!t||t===""}function DO(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=wl(t[r],e[r]);return n}function wl(t,e){if(t===e)return!0;let n=Ia(t),r=Ia(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=ko(t),r=ko(e),n||r)return t===e;if(n=Ke(t),r=Ke(e),n||r)return n&&r?DO(t,e):!1;if(n=Kt(t),r=Kt(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,o=Object.keys(e).length;if(s!==o)return!1;for(const i in t){const a=t.hasOwnProperty(i),u=e.hasOwnProperty(i);if(a&&!u||!a&&u||!wl(t[i],e[i]))return!1}}return String(t)===String(e)}function ub(t,e){return t.findIndex(n=>wl(n,e))}const tC=t=>!!(t&&t.__v_isRef===!0),ge=t=>ht(t)?t:t==null?"":Ke(t)||Kt(t)&&(t.toString===Z2||!vt(t.toString))?tC(t)?ge(t.value):JSON.stringify(t,nC,2):String(t),nC=(t,e)=>tC(e)?nC(t,e.value):du(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],o)=>(n[Ug(r,o)+" =>"]=s,n),{})}:Qu(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Ug(n))}:ko(e)?Ug(e):Kt(e)&&!Ke(e)&&!fd(e)?String(e):e,Ug=(t,e="")=>{var n;return ko(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let us;class rC{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=us,!e&&us&&(this.index=(us.scopes||(us.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=us;try{return us=this,e()}finally{us=n}}}on(){us=this}off(){us=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function OO(t){return new rC(t)}function sC(){return us}function oC(t,e=!1){us&&us.cleanups.push(t)}let er;const Hg=new WeakSet;class iC{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,us&&us.active&&us.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Hg.has(this)&&(Hg.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||lC(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,P_(this),uC(this);const e=er,n=xo;er=this,xo=!0;try{return this.fn()}finally{cC(this),er=e,xo=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)fb(e);this.deps=this.depsTail=void 0,P_(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Hg.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){s0(this)&&this.run()}get dirty(){return s0(this)}}let aC=0,Gc,qc;function lC(t,e=!1){if(t.flags|=8,e){t.next=qc,qc=t;return}t.next=Gc,Gc=t}function cb(){aC++}function db(){if(--aC>0)return;if(qc){let e=qc;for(qc=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Gc;){let e=Gc;for(Gc=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function uC(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function cC(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),fb(r),MO(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function s0(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(dC(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function dC(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===hd))return;t.globalVersion=hd;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!s0(t)){t.flags&=-3;return}const n=er,r=xo;er=t,xo=!0;try{uC(t);const s=t.fn(t._value);(e.version===0||Ca(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{er=n,xo=r,cC(t),t.flags&=-3}}function fb(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)fb(o,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function MO(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let xo=!0;const fC=[];function Va(){fC.push(xo),xo=!1}function Ua(){const t=fC.pop();xo=t===void 0?!0:t}function P_(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=er;er=void 0;try{e()}finally{er=n}}}let hd=0,NO=class{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class gm{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!er||!xo||er===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==er)n=this.activeLink=new NO(er,this),er.deps?(n.prevDep=er.depsTail,er.depsTail.nextDep=n,er.depsTail=n):er.deps=er.depsTail=n,hC(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=er.depsTail,n.nextDep=void 0,er.depsTail.nextDep=n,er.depsTail=n,er.deps===n&&(er.deps=r)}return n}trigger(e){this.version++,hd++,this.notify(e)}notify(e){cb();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{db()}}}function hC(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)hC(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const pp=new WeakMap,hl=Symbol(""),o0=Symbol(""),pd=Symbol("");function Qr(t,e,n){if(xo&&er){let r=pp.get(t);r||pp.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new gm),s.map=r,s.key=n),s.track()}}function Ri(t,e,n,r,s,o){const i=pp.get(t);if(!i){hd++;return}const a=u=>{u&&u.trigger()};if(cb(),e==="clear")i.forEach(a);else{const u=Ke(t),l=u&&lb(n);if(u&&n==="length"){const c=Number(r);i.forEach((d,f)=>{(f==="length"||f===pd||!ko(f)&&f>=c)&&a(d)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),l&&a(i.get(pd)),e){case"add":u?l&&a(i.get("length")):(a(i.get(hl)),du(t)&&a(i.get(o0)));break;case"delete":u||(a(i.get(hl)),du(t)&&a(i.get(o0)));break;case"set":du(t)&&a(i.get(hl));break}}db()}function FO(t,e){const n=pp.get(t);return n&&n.get(e)}function jl(t){const e=An(t);return e===t?e:(Qr(e,"iterate",pd),to(t)?e:e.map(Zr))}function vm(t){return Qr(t=An(t),"iterate",pd),t}const BO={__proto__:null,[Symbol.iterator](){return jg(this,Symbol.iterator,Zr)},concat(...t){return jl(this).concat(...t.map(e=>Ke(e)?jl(e):e))},entries(){return jg(this,"entries",t=>(t[1]=Zr(t[1]),t))},every(t,e){return wi(this,"every",t,e,void 0,arguments)},filter(t,e){return wi(this,"filter",t,e,n=>n.map(Zr),arguments)},find(t,e){return wi(this,"find",t,e,Zr,arguments)},findIndex(t,e){return wi(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return wi(this,"findLast",t,e,Zr,arguments)},findLastIndex(t,e){return wi(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return wi(this,"forEach",t,e,void 0,arguments)},includes(...t){return Kg(this,"includes",t)},indexOf(...t){return Kg(this,"indexOf",t)},join(t){return jl(this).join(t)},lastIndexOf(...t){return Kg(this,"lastIndexOf",t)},map(t,e){return wi(this,"map",t,e,void 0,arguments)},pop(){return kc(this,"pop")},push(...t){return kc(this,"push",t)},reduce(t,...e){return D_(this,"reduce",t,e)},reduceRight(t,...e){return D_(this,"reduceRight",t,e)},shift(){return kc(this,"shift")},some(t,e){return wi(this,"some",t,e,void 0,arguments)},splice(...t){return kc(this,"splice",t)},toReversed(){return jl(this).toReversed()},toSorted(t){return jl(this).toSorted(t)},toSpliced(...t){return jl(this).toSpliced(...t)},unshift(...t){return kc(this,"unshift",t)},values(){return jg(this,"values",Zr)}};function jg(t,e,n){const r=vm(t),s=r[e]();return r!==t&&!to(t)&&(s._next=s.next,s.next=()=>{const o=s._next();return o.value&&(o.value=n(o.value)),o}),s}const VO=Array.prototype;function wi(t,e,n,r,s,o){const i=vm(t),a=i!==t&&!to(t),u=i[e];if(u!==VO[e]){const d=u.apply(t,o);return a?Zr(d):d}let l=n;i!==t&&(a?l=function(d,f){return n.call(this,Zr(d),f,t)}:n.length>2&&(l=function(d,f){return n.call(this,d,f,t)}));const c=u.call(i,l,r);return a&&s?s(c):c}function D_(t,e,n,r){const s=vm(t);let o=n;return s!==t&&(to(t)?n.length>3&&(o=function(i,a,u){return n.call(this,i,a,u,t)}):o=function(i,a,u){return n.call(this,i,Zr(a),u,t)}),s[e](o,...r)}function Kg(t,e,n){const r=An(t);Qr(r,"iterate",pd);const s=r[e](...n);return(s===-1||s===!1)&&gb(n[0])?(n[0]=An(n[0]),r[e](...n)):s}function kc(t,e,n=[]){Va(),cb();const r=An(t)[e].apply(t,n);return db(),Ua(),r}const UO=ob("__proto__,__v_isRef,__isVue"),pC=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ko));function HO(t){ko(t)||(t=String(t));const e=An(this);return Qr(e,"has",t),e.hasOwnProperty(t)}class mC{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(s?o?ZO:bC:o?yC:vC).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const i=Ke(e);if(!s){let u;if(i&&(u=BO[n]))return u;if(n==="hasOwnProperty")return HO}const a=Reflect.get(e,n,Dn(e)?e:r);return(ko(n)?pC.has(n):UO(n))||(s||Qr(e,"get",n),o)?a:Dn(a)?i&&lb(n)?a:a.value:Kt(a)?s?Zu(a):Ft(a):a}}class gC extends mC{constructor(e=!1){super(!1,e)}set(e,n,r,s){let o=e[n];if(!this._isShallow){const u=_l(o);if(!to(r)&&!_l(r)&&(o=An(o),r=An(r)),!Ke(e)&&Dn(o)&&!Dn(r))return u?!1:(o.value=r,!0)}const i=Ke(e)&&lb(n)?Number(n)<e.length:dn(e,n),a=Reflect.set(e,n,r,Dn(e)?e:s);return e===An(s)&&(i?Ca(r,o)&&Ri(e,"set",n,r):Ri(e,"add",n,r)),a}deleteProperty(e,n){const r=dn(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Ri(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!ko(n)||!pC.has(n))&&Qr(e,"has",n),r}ownKeys(e){return Qr(e,"iterate",Ke(e)?"length":hl),Reflect.ownKeys(e)}}class jO extends mC{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const KO=new gC,zO=new jO,WO=new gC(!0),i0=t=>t,Gf=t=>Reflect.getPrototypeOf(t);function GO(t,e,n){return function(...r){const s=this.__v_raw,o=An(s),i=du(o),a=t==="entries"||t===Symbol.iterator&&i,u=t==="keys"&&i,l=s[t](...r),c=n?i0:e?a0:Zr;return!e&&Qr(o,"iterate",u?o0:hl),{next(){const{value:d,done:f}=l.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function qf(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function qO(t,e){const n={get(s){const o=this.__v_raw,i=An(o),a=An(s);t||(Ca(s,a)&&Qr(i,"get",s),Qr(i,"get",a));const{has:u}=Gf(i),l=e?i0:t?a0:Zr;if(u.call(i,s))return l(o.get(s));if(u.call(i,a))return l(o.get(a));o!==i&&o.get(s)},get size(){const s=this.__v_raw;return!t&&Qr(An(s),"iterate",hl),Reflect.get(s,"size",s)},has(s){const o=this.__v_raw,i=An(o),a=An(s);return t||(Ca(s,a)&&Qr(i,"has",s),Qr(i,"has",a)),s===a?o.has(s):o.has(s)||o.has(a)},forEach(s,o){const i=this,a=i.__v_raw,u=An(a),l=e?i0:t?a0:Zr;return!t&&Qr(u,"iterate",hl),a.forEach((c,d)=>s.call(o,l(c),l(d),i))}};return br(n,t?{add:qf("add"),set:qf("set"),delete:qf("delete"),clear:qf("clear")}:{add(s){!e&&!to(s)&&!_l(s)&&(s=An(s));const o=An(this);return Gf(o).has.call(o,s)||(o.add(s),Ri(o,"add",s,s)),this},set(s,o){!e&&!to(o)&&!_l(o)&&(o=An(o));const i=An(this),{has:a,get:u}=Gf(i);let l=a.call(i,s);l||(s=An(s),l=a.call(i,s));const c=u.call(i,s);return i.set(s,o),l?Ca(o,c)&&Ri(i,"set",s,o):Ri(i,"add",s,o),this},delete(s){const o=An(this),{has:i,get:a}=Gf(o);let u=i.call(o,s);u||(s=An(s),u=i.call(o,s)),a&&a.call(o,s);const l=o.delete(s);return u&&Ri(o,"delete",s,void 0),l},clear(){const s=An(this),o=s.size!==0,i=s.clear();return o&&Ri(s,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=GO(s,t,e)}),n}function hb(t,e){const n=qO(t,e);return(r,s,o)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(dn(n,s)&&s in r?n:r,s,o)}const YO={get:hb(!1,!1)},XO={get:hb(!1,!0)},QO={get:hb(!0,!1)},vC=new WeakMap,yC=new WeakMap,bC=new WeakMap,ZO=new WeakMap;function JO(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function e4(t){return t.__v_skip||!Object.isExtensible(t)?0:JO(xO(t))}function Ft(t){return _l(t)?t:mb(t,!1,KO,YO,vC)}function pb(t){return mb(t,!1,WO,XO,yC)}function Zu(t){return mb(t,!0,zO,QO,bC)}function mb(t,e,n,r,s){if(!Kt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const i=e4(t);if(i===0)return t;const a=new Proxy(t,i===2?r:n);return s.set(t,a),a}function fu(t){return _l(t)?fu(t.__v_raw):!!(t&&t.__v_isReactive)}function _l(t){return!!(t&&t.__v_isReadonly)}function to(t){return!!(t&&t.__v_isShallow)}function gb(t){return t?!!t.__v_raw:!1}function An(t){const e=t&&t.__v_raw;return e?An(e):t}function Ni(t){return!dn(t,"__v_skip")&&Object.isExtensible(t)&&J2(t,"__v_skip",!0),t}const Zr=t=>Kt(t)?Ft(t):t,a0=t=>Kt(t)?Zu(t):t;function Dn(t){return t?t.__v_isRef===!0:!1}function q(t){return wC(t,!1)}function On(t){return wC(t,!0)}function wC(t,e){return Dn(t)?t:new t4(t,e)}class t4{constructor(e,n){this.dep=new gm,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:An(e),this._value=n?e:Zr(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||to(e)||_l(e);e=r?e:An(e),Ca(e,n)&&(this._rawValue=e,this._value=r?e:Zr(e),this.dep.trigger())}}function m(t){return Dn(t)?t.value:t}const n4={get:(t,e,n)=>e==="__v_raw"?t:m(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Dn(s)&&!Dn(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function _C(t){return fu(t)?t:new Proxy(t,n4)}class r4{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new gm,{get:r,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function s4(t){return new r4(t)}function $r(t){const e=Ke(t)?new Array(t.length):{};for(const n in t)e[n]=SC(t,n);return e}class o4{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return FO(An(this._object),this._key)}}class i4{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function wn(t,e,n){return Dn(t)?t:vt(t)?new i4(t):Kt(t)&&arguments.length>1?SC(t,e,n):q(t)}function SC(t,e,n){const r=t[e];return Dn(r)?r:new o4(t,e,n)}class a4{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new gm(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=hd-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&er!==this)return lC(this,!0),!0}get value(){const e=this.dep.track();return dC(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function l4(t,e,n=!1){let r,s;return vt(t)?r=t:(r=t.get,s=t.set),new a4(r,s,n)}const Yf={},mp=new WeakMap;let tl;function u4(t,e=!1,n=tl){if(n){let r=mp.get(n);r||mp.set(n,r=[]),r.push(t)}}function c4(t,e,n=Qn){const{immediate:r,deep:s,once:o,scheduler:i,augmentJob:a,call:u}=n,l=w=>s?w:to(w)||s===!1||s===0?Li(w,1):Li(w);let c,d,f,h,p=!1,g=!1;if(Dn(t)?(d=()=>t.value,p=to(t)):fu(t)?(d=()=>l(t),p=!0):Ke(t)?(g=!0,p=t.some(w=>fu(w)||to(w)),d=()=>t.map(w=>{if(Dn(w))return w.value;if(fu(w))return l(w);if(vt(w))return u?u(w,2):w()})):vt(t)?e?d=u?()=>u(t,2):t:d=()=>{if(f){Va();try{f()}finally{Ua()}}const w=tl;tl=c;try{return u?u(t,3,[h]):t(h)}finally{tl=w}}:d=bn,e&&s){const w=d,S=s===!0?1/0:s;d=()=>Li(w(),S)}const v=sC(),y=()=>{c.stop(),v&&v.active&&ab(v.effects,c)};if(o&&e){const w=e;e=(...S)=>{w(...S),y()}}let _=g?new Array(t.length).fill(Yf):Yf;const b=w=>{if(!(!(c.flags&1)||!c.dirty&&!w))if(e){const S=c.run();if(s||p||(g?S.some((E,T)=>Ca(E,_[T])):Ca(S,_))){f&&f();const E=tl;tl=c;try{const T=[S,_===Yf?void 0:g&&_[0]===Yf?[]:_,h];u?u(e,3,T):e(...T),_=S}finally{tl=E}}}else c.run()};return a&&a(b),c=new iC(d),c.scheduler=i?()=>i(b,!1):b,h=w=>u4(w,!1,c),f=c.onStop=()=>{const w=mp.get(c);if(w){if(u)u(w,4);else for(const S of w)S();mp.delete(c)}},e?r?b(!0):_=c.run():i?i(b.bind(null,!0),!0):c.run(),y.pause=c.pause.bind(c),y.resume=c.resume.bind(c),y.stop=y,y}function Li(t,e=1/0,n){if(e<=0||!Kt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Dn(t))Li(t.value,e,n);else if(Ke(t))for(let r=0;r<t.length;r++)Li(t[r],e,n);else if(Qu(t)||du(t))t.forEach(r=>{Li(r,e,n)});else if(fd(t)){for(const r in t)Li(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Li(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function nf(t,e,n,r){try{return r?t(...r):t()}catch(s){ym(s,e,n)}}function Io(t,e,n,r){if(vt(t)){const s=nf(t,e,n,r);return s&&dd(s)&&s.catch(o=>{ym(o,e,n)}),s}if(Ke(t)){const s=[];for(let o=0;o<t.length;o++)s.push(Io(t[o],e,n,r));return s}}function ym(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=e&&e.appContext.config||Qn;if(e){let a=e.parent;const u=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,u,l)===!1)return}a=a.parent}if(o){Va(),nf(o,null,10,[t,u,l]),Ua();return}}d4(t,n,s,r,i)}function d4(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const cs=[];let zo=-1;const hu=[];let ga=null,eu=0;const EC=Promise.resolve();let gp=null;function pt(t){const e=gp||EC;return t?e.then(this?t.bind(this):t):e}function f4(t){let e=zo+1,n=cs.length;for(;e<n;){const r=e+n>>>1,s=cs[r],o=md(s);o<t||o===t&&s.flags&2?e=r+1:n=r}return e}function vb(t){if(!(t.flags&1)){const e=md(t),n=cs[cs.length-1];!n||!(t.flags&2)&&e>=md(n)?cs.push(t):cs.splice(f4(e),0,t),t.flags|=1,xC()}}function xC(){gp||(gp=EC.then(CC))}function h4(t){Ke(t)?hu.push(...t):ga&&t.id===-1?ga.splice(eu+1,0,t):t.flags&1||(hu.push(t),t.flags|=1),xC()}function O_(t,e,n=zo+1){for(;n<cs.length;n++){const r=cs[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;cs.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function TC(t){if(hu.length){const e=[...new Set(hu)].sort((n,r)=>md(n)-md(r));if(hu.length=0,ga){ga.push(...e);return}for(ga=e,eu=0;eu<ga.length;eu++){const n=ga[eu];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ga=null,eu=0}}const md=t=>t.id==null?t.flags&2?-1:1/0:t.id;function CC(t){const e=bn;try{for(zo=0;zo<cs.length;zo++){const n=cs[zo];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),nf(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;zo<cs.length;zo++){const n=cs[zo];n&&(n.flags&=-2)}zo=-1,cs.length=0,TC(),gp=null,(cs.length||hu.length)&&CC()}}let Nr=null,kC=null;function vp(t){const e=Nr;return Nr=t,kC=t&&t.type.__scopeId||null,e}function O(t,e=Nr,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&q_(-1);const o=vp(e);let i;try{i=t(...s)}finally{vp(o),r._d&&q_(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function At(t,e){if(Nr===null)return t;const n=Em(Nr),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,i,a,u=Qn]=e[s];o&&(vt(o)&&(o={mounted:o,updated:o}),o.deep&&Li(i),r.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:u}))}return t}function Ya(t,e,n,r){const s=t.dirs,o=e&&e.dirs;for(let i=0;i<s.length;i++){const a=s[i];o&&(a.oldValue=o[i].value);let u=a.dir[r];u&&(Va(),Io(u,n,8,[t.el,a,t,e]),Ua())}}const IC=Symbol("_vte"),AC=t=>t.__isTeleport,Yc=t=>t&&(t.disabled||t.disabled===""),M_=t=>t&&(t.defer||t.defer===""),N_=t=>typeof SVGElement<"u"&&t instanceof SVGElement,F_=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,l0=(t,e)=>{const n=t&&t.to;return ht(n)?e?e(n):null:n},RC={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,o,i,a,u,l){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:g,createComment:v}}=l,y=Yc(e.props);let{shapeFlag:_,children:b,dynamicChildren:w}=e;if(t==null){const S=e.el=g(""),E=e.anchor=g("");h(S,n,r),h(E,n,r);const T=(k,C)=>{_&16&&(s&&s.isCE&&(s.ce._teleportTarget=k),c(b,k,C,s,o,i,a,u))},I=()=>{const k=e.target=l0(e.props,p),C=LC(k,e,g,h);k&&(i!=="svg"&&N_(k)?i="svg":i!=="mathml"&&F_(k)&&(i="mathml"),y||(T(k,C),Dh(e,!1)))};y&&(T(n,E),Dh(e,!0)),M_(e.props)?ls(()=>{I(),e.el.__isMounted=!0},o):I()}else{if(M_(e.props)&&!t.el.__isMounted){ls(()=>{RC.process(t,e,n,r,s,o,i,a,u,l),delete t.el.__isMounted},o);return}e.el=t.el,e.targetStart=t.targetStart;const S=e.anchor=t.anchor,E=e.target=t.target,T=e.targetAnchor=t.targetAnchor,I=Yc(t.props),k=I?n:E,C=I?S:T;if(i==="svg"||N_(E)?i="svg":(i==="mathml"||F_(E))&&(i="mathml"),w?(f(t.dynamicChildren,w,k,s,o,i,a),xb(t,e,!0)):u||d(t,e,k,C,s,o,i,a,!1),y)I?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Xf(e,n,S,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const N=e.target=l0(e.props,p);N&&Xf(e,N,null,l,0)}else I&&Xf(e,E,T,l,1);Dh(e,y)}},remove(t,e,n,{um:r,o:{remove:s}},o){const{shapeFlag:i,children:a,anchor:u,targetStart:l,targetAnchor:c,target:d,props:f}=t;if(d&&(s(l),s(c)),o&&s(u),i&16){const h=o||!Yc(f);for(let p=0;p<a.length;p++){const g=a[p];r(g,e,n,h,!!g.dynamicChildren)}}},move:Xf,hydrate:p4};function Xf(t,e,n,{o:{insert:r},m:s},o=2){o===0&&r(t.targetAnchor,e,n);const{el:i,anchor:a,shapeFlag:u,children:l,props:c}=t,d=o===2;if(d&&r(i,e,n),(!d||Yc(c))&&u&16)for(let f=0;f<l.length;f++)s(l[f],e,n,2);d&&r(a,e,n)}function p4(t,e,n,r,s,o,{o:{nextSibling:i,parentNode:a,querySelector:u,insert:l,createText:c}},d){const f=e.target=l0(e.props,u);if(f){const h=Yc(e.props),p=f._lpa||f.firstChild;if(e.shapeFlag&16)if(h)e.anchor=d(i(t),e,a(t),n,r,s,o),e.targetStart=p,e.targetAnchor=p&&i(p);else{e.anchor=i(t);let g=p;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,f._lpa=e.targetAnchor&&i(e.targetAnchor);break}}g=i(g)}e.targetAnchor||LC(f,e,c,l),d(p&&i(p),e,f,n,r,s,o)}Dh(e,h)}return e.anchor&&i(e.anchor)}const m4=RC;function Dh(t,e){const n=t.ctx;if(n&&n.ut){let r,s;for(e?(r=t.el,s=t.anchor):(r=t.targetStart,s=t.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function LC(t,e,n,r){const s=e.targetStart=n(""),o=e.targetAnchor=n("");return s[IC]=o,t&&(r(s,t),r(o,t)),o}const va=Symbol("_leaveCb"),Qf=Symbol("_enterCb");function $C(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return xt(()=>{t.isMounted=!0}),In(()=>{t.isUnmounting=!0}),t}const qs=[Function,Array],PC={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:qs,onEnter:qs,onAfterEnter:qs,onEnterCancelled:qs,onBeforeLeave:qs,onLeave:qs,onAfterLeave:qs,onLeaveCancelled:qs,onBeforeAppear:qs,onAppear:qs,onAfterAppear:qs,onAppearCancelled:qs},DC=t=>{const e=t.subTree;return e.component?DC(e.component):e},g4={name:"BaseTransition",props:PC,setup(t,{slots:e}){const n=Gt(),r=$C();return()=>{const s=e.default&&yb(e.default(),!0);if(!s||!s.length)return;const o=OC(s),i=An(t),{mode:a}=i;if(r.isLeaving)return zg(o);const u=B_(o);if(!u)return zg(o);let l=gd(u,i,r,n,d=>l=d);u.type!==Rr&&Sl(u,l);let c=n.subTree&&B_(n.subTree);if(c&&c.type!==Rr&&!sl(u,c)&&DC(n).type!==Rr){let d=gd(c,i,r,n);if(Sl(c,d),a==="out-in"&&u.type!==Rr)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,c=void 0},zg(o);a==="in-out"&&u.type!==Rr?d.delayLeave=(f,h,p)=>{const g=MC(r,c);g[String(c.key)]=c,f[va]=()=>{h(),f[va]=void 0,delete l.delayedLeave,c=void 0},l.delayedLeave=()=>{p(),delete l.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return o}}};function OC(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Rr){e=n;break}}return e}const v4=g4;function MC(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function gd(t,e,n,r,s){const{appear:o,mode:i,persisted:a=!1,onBeforeEnter:u,onEnter:l,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:v,onAppear:y,onAfterAppear:_,onAppearCancelled:b}=e,w=String(t.key),S=MC(n,t),E=(k,C)=>{k&&Io(k,r,9,C)},T=(k,C)=>{const N=C[1];E(k,C),Ke(k)?k.every(D=>D.length<=1)&&N():k.length<=1&&N()},I={mode:i,persisted:a,beforeEnter(k){let C=u;if(!n.isMounted)if(o)C=v||u;else return;k[va]&&k[va](!0);const N=S[w];N&&sl(t,N)&&N.el[va]&&N.el[va](),E(C,[k])},enter(k){let C=l,N=c,D=d;if(!n.isMounted)if(o)C=y||l,N=_||c,D=b||d;else return;let W=!1;const H=k[Qf]=V=>{W||(W=!0,V?E(D,[k]):E(N,[k]),I.delayedLeave&&I.delayedLeave(),k[Qf]=void 0)};C?T(C,[k,H]):H()},leave(k,C){const N=String(t.key);if(k[Qf]&&k[Qf](!0),n.isUnmounting)return C();E(f,[k]);let D=!1;const W=k[va]=H=>{D||(D=!0,C(),H?E(g,[k]):E(p,[k]),k[va]=void 0,S[N]===t&&delete S[N])};S[N]=t,h?T(h,[k,W]):W()},clone(k){const C=gd(k,e,n,r,s);return s&&s(C),C}};return I}function zg(t){if(bm(t))return t=Bi(t),t.children=null,t}function B_(t){if(!bm(t))return AC(t.type)&&t.children?OC(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&vt(n.default))return n.default()}}function Sl(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Sl(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function yb(t,e=!1,n){let r=[],s=0;for(let o=0;o<t.length;o++){let i=t[o];const a=n==null?i.key:String(n)+String(i.key!=null?i.key:o);i.type===tt?(i.patchFlag&128&&s++,r=r.concat(yb(i.children,e,a))):(e||i.type!==Rr)&&r.push(a!=null?Bi(i,{key:a}):i)}if(s>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function ee(t,e){return vt(t)?(()=>br({name:t.name},e,{setup:t}))():t}function NC(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function yp(t,e,n,r,s=!1){if(Ke(t)){t.forEach((p,g)=>yp(p,e&&(Ke(e)?e[g]:e),n,r,s));return}if(pu(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&yp(t,e,n,r.component.subTree);return}const o=r.shapeFlag&4?Em(r.component):r.el,i=s?null:o,{i:a,r:u}=t,l=e&&e.r,c=a.refs===Qn?a.refs={}:a.refs,d=a.setupState,f=An(d),h=d===Qn?()=>!1:p=>dn(f,p);if(l!=null&&l!==u&&(ht(l)?(c[l]=null,h(l)&&(d[l]=null)):Dn(l)&&(l.value=null)),vt(u))nf(u,a,12,[i,c]);else{const p=ht(u),g=Dn(u);if(p||g){const v=()=>{if(t.f){const y=p?h(u)?d[u]:c[u]:u.value;s?Ke(y)&&ab(y,o):Ke(y)?y.includes(o)||y.push(o):p?(c[u]=[o],h(u)&&(d[u]=c[u])):(u.value=[o],t.k&&(c[t.k]=u.value))}else p?(c[u]=i,h(u)&&(d[u]=i)):g&&(u.value=i,t.k&&(c[t.k]=i))};i?(v.id=-1,ls(v,n)):v()}}}mm().requestIdleCallback;mm().cancelIdleCallback;const pu=t=>!!t.type.__asyncLoader,bm=t=>t.type.__isKeepAlive;function bb(t,e){BC(t,"a",e)}function FC(t,e){BC(t,"da",e)}function BC(t,e,n=Hr){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(wm(e,r,n),n){let s=n.parent;for(;s&&s.parent;)bm(s.parent.vnode)&&y4(r,e,n,s),s=s.parent}}function y4(t,e,n,r){const s=wm(e,t,r,!0);Ha(()=>{ab(r[e],s)},n)}function wm(t,e,n=Hr,r=!1){if(n){const s=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...i)=>{Va();const a=rf(n),u=Io(e,n,t,i);return a(),Ua(),u});return r?s.unshift(o):s.push(o),o}}const zi=t=>(e,n=Hr)=>{(!yd||t==="sp")&&wm(t,(...r)=>e(...r),n)},Ll=zi("bm"),xt=zi("m"),VC=zi("bu"),$o=zi("u"),In=zi("bum"),Ha=zi("um"),b4=zi("sp"),w4=zi("rtg"),_4=zi("rtc");function S4(t,e=Hr){wm("ec",t,e)}const wb="components",E4="directives";function qt(t,e){return _b(wb,t,!0,e)||t}const UC=Symbol.for("v-ndc");function Wt(t){return ht(t)?_b(wb,t,!1)||t:t||UC}function _m(t){return _b(E4,t)}function _b(t,e,n=!0,r=!1){const s=Nr||Hr;if(s){const o=s.type;if(t===wb){const a=a3(o,!1);if(a&&(a===e||a===ms(e)||a===tf(ms(e))))return o}const i=V_(s[t]||o[t],e)||V_(s.appContext[t],e);return!i&&r?o:i}}function V_(t,e){return t&&(t[e]||t[ms(e)]||t[tf(ms(e))])}function It(t,e,n,r){let s;const o=n&&n[r],i=Ke(t);if(i||ht(t)){const a=i&&fu(t);let u=!1;a&&(u=!to(t),t=vm(t)),s=new Array(t.length);for(let l=0,c=t.length;l<c;l++)s[l]=e(u?Zr(t[l]):t[l],l,void 0,o&&o[l])}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,o&&o[a])}else if(Kt(t))if(t[Symbol.iterator])s=Array.from(t,(a,u)=>e(a,u,void 0,o&&o[u]));else{const a=Object.keys(t);s=new Array(a.length);for(let u=0,l=a.length;u<l;u++){const c=a[u];s[u]=e(t[c],c,u,o&&o[u])}}else s=[];return n&&(n[r]=s),s}function js(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Ke(r))for(let s=0;s<r.length;s++)t[r[s].name]=r[s].fn;else r&&(t[r.name]=r.key?(...s)=>{const o=r.fn(...s);return o&&(o.key=r.key),o}:r.fn)}return t}function ve(t,e,n={},r,s){if(Nr.ce||Nr.parent&&pu(Nr.parent)&&Nr.parent.ce)return e!=="default"&&(n.name=e),L(),ye(tt,null,[A("slot",n,r&&r())],64);let o=t[e];o&&o._c&&(o._d=!1),L();const i=o&&HC(o(n)),a=n.key||i&&i.key,u=ye(tt,{key:(a&&!ko(a)?a:`_${e}`)+(!i&&r?"_fb":"")},i||(r?r():[]),i&&t._===1?64:-2);return!s&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),o&&o._c&&(o._d=!0),u}function HC(t){return t.some(e=>Mn(e)?!(e.type===Rr||e.type===tt&&!HC(e.children)):!0)?t:null}function x4(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Wc(r)]=t[r];return n}const u0=t=>t?lk(t)?Em(t):u0(t.parent):null,Xc=br(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>u0(t.parent),$root:t=>u0(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Sb(t),$forceUpdate:t=>t.f||(t.f=()=>{vb(t.update)}),$nextTick:t=>t.n||(t.n=pt.bind(t.proxy)),$watch:t=>z4.bind(t)}),Wg=(t,e)=>t!==Qn&&!t.__isScriptSetup&&dn(t,e),T4={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:o,accessCache:i,type:a,appContext:u}=t;let l;if(e[0]!=="$"){const h=i[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return o[e]}else{if(Wg(r,e))return i[e]=1,r[e];if(s!==Qn&&dn(s,e))return i[e]=2,s[e];if((l=t.propsOptions[0])&&dn(l,e))return i[e]=3,o[e];if(n!==Qn&&dn(n,e))return i[e]=4,n[e];c0&&(i[e]=0)}}const c=Xc[e];let d,f;if(c)return e==="$attrs"&&Qr(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Qn&&dn(n,e))return i[e]=4,n[e];if(f=u.config.globalProperties,dn(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:o}=t;return Wg(s,e)?(s[e]=n,!0):r!==Qn&&dn(r,e)?(r[e]=n,!0):dn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:o}},i){let a;return!!n[i]||t!==Qn&&dn(t,i)||Wg(e,i)||(a=o[0])&&dn(a,i)||dn(r,i)||dn(Xc,i)||dn(s.config.globalProperties,i)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:dn(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function _r(){return jC().slots}function Wi(){return jC().attrs}function jC(){const t=Gt();return t.setupContext||(t.setupContext=ck(t))}function U_(t){return Ke(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let c0=!0;function C4(t){const e=Sb(t),n=t.proxy,r=t.ctx;c0=!1,e.beforeCreate&&H_(e.beforeCreate,t,"bc");const{data:s,computed:o,methods:i,watch:a,provide:u,inject:l,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:g,deactivated:v,beforeDestroy:y,beforeUnmount:_,destroyed:b,unmounted:w,render:S,renderTracked:E,renderTriggered:T,errorCaptured:I,serverPrefetch:k,expose:C,inheritAttrs:N,components:D,directives:W,filters:H}=e;if(l&&k4(l,r,null),i)for(const z in i){const M=i[z];vt(M)&&(r[z]=M.bind(n))}if(s){const z=s.call(n,n);Kt(z)&&(t.data=Ft(z))}if(c0=!0,o)for(const z in o){const M=o[z],B=vt(M)?M.bind(n,n):vt(M.get)?M.get.bind(n,n):bn,j=!vt(M)&&vt(M.set)?M.set.bind(n):bn,X=P({get:B,set:j});Object.defineProperty(r,z,{enumerable:!0,configurable:!0,get:()=>X.value,set:se=>X.value=se})}if(a)for(const z in a)KC(a[z],r,n,z);if(u){const z=vt(u)?u.call(n):u;Reflect.ownKeys(z).forEach(M=>{Qt(M,z[M])})}c&&H_(c,t,"c");function R(z,M){Ke(M)?M.forEach(B=>z(B.bind(n))):M&&z(M.bind(n))}if(R(Ll,d),R(xt,f),R(VC,h),R($o,p),R(bb,g),R(FC,v),R(S4,I),R(_4,E),R(w4,T),R(In,_),R(Ha,w),R(b4,k),Ke(C))if(C.length){const z=t.exposed||(t.exposed={});C.forEach(M=>{Object.defineProperty(z,M,{get:()=>n[M],set:B=>n[M]=B})})}else t.exposed||(t.exposed={});S&&t.render===bn&&(t.render=S),N!=null&&(t.inheritAttrs=N),D&&(t.components=D),W&&(t.directives=W),k&&NC(t)}function k4(t,e,n=bn){Ke(t)&&(t=d0(t));for(const r in t){const s=t[r];let o;Kt(s)?"default"in s?o=rt(s.from||r,s.default,!0):o=rt(s.from||r):o=rt(s),Dn(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):e[r]=o}}function H_(t,e,n){Io(Ke(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function KC(t,e,n,r){let s=r.includes(".")?nk(n,r):()=>n[r];if(ht(t)){const o=e[t];vt(o)&&Pe(s,o)}else if(vt(t))Pe(s,t.bind(n));else if(Kt(t))if(Ke(t))t.forEach(o=>KC(o,e,n,r));else{const o=vt(t.handler)?t.handler.bind(n):e[t.handler];vt(o)&&Pe(s,o,t)}}function Sb(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:i}}=t.appContext,a=o.get(e);let u;return a?u=a:!s.length&&!n&&!r?u=e:(u={},s.length&&s.forEach(l=>bp(u,l,i,!0)),bp(u,e,i)),Kt(e)&&o.set(e,u),u}function bp(t,e,n,r=!1){const{mixins:s,extends:o}=e;o&&bp(t,o,n,!0),s&&s.forEach(i=>bp(t,i,n,!0));for(const i in e)if(!(r&&i==="expose")){const a=I4[i]||n&&n[i];t[i]=a?a(t[i],e[i]):e[i]}return t}const I4={data:j_,props:K_,emits:K_,methods:Bc,computed:Bc,beforeCreate:is,created:is,beforeMount:is,mounted:is,beforeUpdate:is,updated:is,beforeDestroy:is,beforeUnmount:is,destroyed:is,unmounted:is,activated:is,deactivated:is,errorCaptured:is,serverPrefetch:is,components:Bc,directives:Bc,watch:R4,provide:j_,inject:A4};function j_(t,e){return e?t?function(){return br(vt(t)?t.call(this,this):t,vt(e)?e.call(this,this):e)}:e:t}function A4(t,e){return Bc(d0(t),d0(e))}function d0(t){if(Ke(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function is(t,e){return t?[...new Set([].concat(t,e))]:e}function Bc(t,e){return t?br(Object.create(null),t,e):e}function K_(t,e){return t?Ke(t)&&Ke(e)?[...new Set([...t,...e])]:br(Object.create(null),U_(t),U_(e??{})):e}function R4(t,e){if(!t)return e;if(!e)return t;const n=br(Object.create(null),t);for(const r in e)n[r]=is(t[r],e[r]);return n}function zC(){return{app:null,config:{isNativeTag:SO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let L4=0;function $4(t,e){return function(r,s=null){vt(r)||(r=br({},r)),s!=null&&!Kt(s)&&(s=null);const o=zC(),i=new WeakSet,a=[];let u=!1;const l=o.app={_uid:L4++,_component:r,_props:s,_container:null,_context:o,_instance:null,version:u3,get config(){return o.config},set config(c){},use(c,...d){return i.has(c)||(c&&vt(c.install)?(i.add(c),c.install(l,...d)):vt(c)&&(i.add(c),c(l,...d))),l},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),l},component(c,d){return d?(o.components[c]=d,l):o.components[c]},directive(c,d){return d?(o.directives[c]=d,l):o.directives[c]},mount(c,d,f){if(!u){const h=l._ceVNode||A(r,s);return h.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),d&&e?e(h,c):t(h,c,f),u=!0,l._container=c,c.__vue_app__=l,Em(h.component)}},onUnmount(c){a.push(c)},unmount(){u&&(Io(a,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(c,d){return o.provides[c]=d,l},runWithContext(c){const d=mu;mu=l;try{return c()}finally{mu=d}}};return l}}let mu=null;function Qt(t,e){if(Hr){let n=Hr.provides;const r=Hr.parent&&Hr.parent.provides;r===n&&(n=Hr.provides=Object.create(r)),n[t]=e}}function rt(t,e,n=!1){const r=Hr||Nr;if(r||mu){const s=mu?mu._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&vt(e)?e.call(r&&r.proxy):e}}const WC={},GC=()=>Object.create(WC),qC=t=>Object.getPrototypeOf(t)===WC;function P4(t,e,n,r=!1){const s={},o=GC();t.propsDefaults=Object.create(null),YC(t,e,s,o);for(const i in t.propsOptions[0])i in s||(s[i]=void 0);n?t.props=r?s:pb(s):t.type.props?t.props=s:t.props=o,t.attrs=o}function D4(t,e,n,r){const{props:s,attrs:o,vnode:{patchFlag:i}}=t,a=An(s),[u]=t.propsOptions;let l=!1;if((r||i>0)&&!(i&16)){if(i&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(Sm(t.emitsOptions,f))continue;const h=e[f];if(u)if(dn(o,f))h!==o[f]&&(o[f]=h,l=!0);else{const p=ms(f);s[p]=f0(u,a,p,h,t,!1)}else h!==o[f]&&(o[f]=h,l=!0)}}}else{YC(t,e,s,o)&&(l=!0);let c;for(const d in a)(!e||!dn(e,d)&&((c=Ki(d))===d||!dn(e,c)))&&(u?n&&(n[d]!==void 0||n[c]!==void 0)&&(s[d]=f0(u,a,d,void 0,t,!0)):delete s[d]);if(o!==a)for(const d in o)(!e||!dn(e,d))&&(delete o[d],l=!0)}l&&Ri(t.attrs,"set","")}function YC(t,e,n,r){const[s,o]=t.propsOptions;let i=!1,a;if(e)for(let u in e){if(zc(u))continue;const l=e[u];let c;s&&dn(s,c=ms(u))?!o||!o.includes(c)?n[c]=l:(a||(a={}))[c]=l:Sm(t.emitsOptions,u)||(!(u in r)||l!==r[u])&&(r[u]=l,i=!0)}if(o){const u=An(n),l=a||Qn;for(let c=0;c<o.length;c++){const d=o[c];n[d]=f0(s,u,d,l[d],t,!dn(l,d))}}return i}function f0(t,e,n,r,s,o){const i=t[n];if(i!=null){const a=dn(i,"default");if(a&&r===void 0){const u=i.default;if(i.type!==Function&&!i.skipFactory&&vt(u)){const{propsDefaults:l}=s;if(n in l)r=l[n];else{const c=rf(s);r=l[n]=u.call(null,e),c()}}else r=u;s.ce&&s.ce._setProp(n,r)}i[0]&&(o&&!a?r=!1:i[1]&&(r===""||r===Ki(n))&&(r=!0))}return r}const O4=new WeakMap;function XC(t,e,n=!1){const r=n?O4:e.propsCache,s=r.get(t);if(s)return s;const o=t.props,i={},a=[];let u=!1;if(!vt(t)){const c=d=>{u=!0;const[f,h]=XC(d,e,!0);br(i,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!o&&!u)return Kt(t)&&r.set(t,cu),cu;if(Ke(o))for(let c=0;c<o.length;c++){const d=ms(o[c]);z_(d)&&(i[d]=Qn)}else if(o)for(const c in o){const d=ms(c);if(z_(d)){const f=o[c],h=i[d]=Ke(f)||vt(f)?{type:f}:br({},f),p=h.type;let g=!1,v=!0;if(Ke(p))for(let y=0;y<p.length;++y){const _=p[y],b=vt(_)&&_.name;if(b==="Boolean"){g=!0;break}else b==="String"&&(v=!1)}else g=vt(p)&&p.name==="Boolean";h[0]=g,h[1]=v,(g||dn(h,"default"))&&a.push(d)}}const l=[i,a];return Kt(t)&&r.set(t,l),l}function z_(t){return t[0]!=="$"&&!zc(t)}const QC=t=>t[0]==="_"||t==="$stable",Eb=t=>Ke(t)?t.map(qo):[qo(t)],M4=(t,e,n)=>{if(e._n)return e;const r=O((...s)=>Eb(e(...s)),n);return r._c=!1,r},ZC=(t,e,n)=>{const r=t._ctx;for(const s in t){if(QC(s))continue;const o=t[s];if(vt(o))e[s]=M4(s,o,r);else if(o!=null){const i=Eb(o);e[s]=()=>i}}},JC=(t,e)=>{const n=Eb(e);t.slots.default=()=>n},ek=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},N4=(t,e,n)=>{const r=t.slots=GC();if(t.vnode.shapeFlag&32){const s=e._;s?(ek(r,e,n),n&&J2(r,"_",s,!0)):ZC(e,r)}else e&&JC(t,e)},F4=(t,e,n)=>{const{vnode:r,slots:s}=t;let o=!0,i=Qn;if(r.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:ek(s,e,n):(o=!e.$stable,ZC(e,s)),i=e}else e&&(JC(t,e),i={default:1});if(o)for(const a in s)!QC(a)&&i[a]==null&&delete s[a]},ls=Z4;function B4(t){return V4(t)}function V4(t,e){const n=mm();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:i,createText:a,createComment:u,setText:l,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=bn,insertStaticContent:p}=t,g=(ne,le,Se,Ce=null,Ee=null,we=null,Le=void 0,Be=null,Ue=!!le.dynamicChildren)=>{if(ne===le)return;ne&&!sl(ne,le)&&(Ce=J(ne),se(ne,Ee,we,!0),ne=null),le.patchFlag===-2&&(Ue=!1,le.dynamicChildren=null);const{type:je,ref:at,shapeFlag:Ie}=le;switch(je){case Ju:v(ne,le,Se,Ce);break;case Rr:y(ne,le,Se,Ce);break;case Oh:ne==null&&_(le,Se,Ce,Le);break;case tt:D(ne,le,Se,Ce,Ee,we,Le,Be,Ue);break;default:Ie&1?S(ne,le,Se,Ce,Ee,we,Le,Be,Ue):Ie&6?W(ne,le,Se,Ce,Ee,we,Le,Be,Ue):(Ie&64||Ie&128)&&je.process(ne,le,Se,Ce,Ee,we,Le,Be,Ue,Ae)}at!=null&&Ee&&yp(at,ne&&ne.ref,we,le||ne,!le)},v=(ne,le,Se,Ce)=>{if(ne==null)r(le.el=a(le.children),Se,Ce);else{const Ee=le.el=ne.el;le.children!==ne.children&&l(Ee,le.children)}},y=(ne,le,Se,Ce)=>{ne==null?r(le.el=u(le.children||""),Se,Ce):le.el=ne.el},_=(ne,le,Se,Ce)=>{[ne.el,ne.anchor]=p(ne.children,le,Se,Ce,ne.el,ne.anchor)},b=({el:ne,anchor:le},Se,Ce)=>{let Ee;for(;ne&&ne!==le;)Ee=f(ne),r(ne,Se,Ce),ne=Ee;r(le,Se,Ce)},w=({el:ne,anchor:le})=>{let Se;for(;ne&&ne!==le;)Se=f(ne),s(ne),ne=Se;s(le)},S=(ne,le,Se,Ce,Ee,we,Le,Be,Ue)=>{le.type==="svg"?Le="svg":le.type==="math"&&(Le="mathml"),ne==null?E(le,Se,Ce,Ee,we,Le,Be,Ue):k(ne,le,Ee,we,Le,Be,Ue)},E=(ne,le,Se,Ce,Ee,we,Le,Be)=>{let Ue,je;const{props:at,shapeFlag:Ie,transition:Ze,dirs:mt}=ne;if(Ue=ne.el=i(ne.type,we,at&&at.is,at),Ie&8?c(Ue,ne.children):Ie&16&&I(ne.children,Ue,null,Ce,Ee,Gg(ne,we),Le,Be),mt&&Ya(ne,null,Ce,"created"),T(Ue,ne,ne.scopeId,Le,Ce),at){for(const Vt in at)Vt!=="value"&&!zc(Vt)&&o(Ue,Vt,null,at[Vt],we,Ce);"value"in at&&o(Ue,"value",null,at.value,we),(je=at.onVnodeBeforeMount)&&Uo(je,Ce,ne)}mt&&Ya(ne,null,Ce,"beforeMount");const Pt=U4(Ee,Ze);Pt&&Ze.beforeEnter(Ue),r(Ue,le,Se),((je=at&&at.onVnodeMounted)||Pt||mt)&&ls(()=>{je&&Uo(je,Ce,ne),Pt&&Ze.enter(Ue),mt&&Ya(ne,null,Ce,"mounted")},Ee)},T=(ne,le,Se,Ce,Ee)=>{if(Se&&h(ne,Se),Ce)for(let we=0;we<Ce.length;we++)h(ne,Ce[we]);if(Ee){let we=Ee.subTree;if(le===we||sk(we.type)&&(we.ssContent===le||we.ssFallback===le)){const Le=Ee.vnode;T(ne,Le,Le.scopeId,Le.slotScopeIds,Ee.parent)}}},I=(ne,le,Se,Ce,Ee,we,Le,Be,Ue=0)=>{for(let je=Ue;je<ne.length;je++){const at=ne[je]=Be?ya(ne[je]):qo(ne[je]);g(null,at,le,Se,Ce,Ee,we,Le,Be)}},k=(ne,le,Se,Ce,Ee,we,Le)=>{const Be=le.el=ne.el;let{patchFlag:Ue,dynamicChildren:je,dirs:at}=le;Ue|=ne.patchFlag&16;const Ie=ne.props||Qn,Ze=le.props||Qn;let mt;if(Se&&Xa(Se,!1),(mt=Ze.onVnodeBeforeUpdate)&&Uo(mt,Se,le,ne),at&&Ya(le,ne,Se,"beforeUpdate"),Se&&Xa(Se,!0),(Ie.innerHTML&&Ze.innerHTML==null||Ie.textContent&&Ze.textContent==null)&&c(Be,""),je?C(ne.dynamicChildren,je,Be,Se,Ce,Gg(le,Ee),we):Le||M(ne,le,Be,null,Se,Ce,Gg(le,Ee),we,!1),Ue>0){if(Ue&16)N(Be,Ie,Ze,Se,Ee);else if(Ue&2&&Ie.class!==Ze.class&&o(Be,"class",null,Ze.class,Ee),Ue&4&&o(Be,"style",Ie.style,Ze.style,Ee),Ue&8){const Pt=le.dynamicProps;for(let Vt=0;Vt<Pt.length;Vt++){const Ht=Pt[Vt],Jt=Ie[Ht],fn=Ze[Ht];(fn!==Jt||Ht==="value")&&o(Be,Ht,Jt,fn,Ee,Se)}}Ue&1&&ne.children!==le.children&&c(Be,le.children)}else!Le&&je==null&&N(Be,Ie,Ze,Se,Ee);((mt=Ze.onVnodeUpdated)||at)&&ls(()=>{mt&&Uo(mt,Se,le,ne),at&&Ya(le,ne,Se,"updated")},Ce)},C=(ne,le,Se,Ce,Ee,we,Le)=>{for(let Be=0;Be<le.length;Be++){const Ue=ne[Be],je=le[Be],at=Ue.el&&(Ue.type===tt||!sl(Ue,je)||Ue.shapeFlag&70)?d(Ue.el):Se;g(Ue,je,at,null,Ce,Ee,we,Le,!0)}},N=(ne,le,Se,Ce,Ee)=>{if(le!==Se){if(le!==Qn)for(const we in le)!zc(we)&&!(we in Se)&&o(ne,we,le[we],null,Ee,Ce);for(const we in Se){if(zc(we))continue;const Le=Se[we],Be=le[we];Le!==Be&&we!=="value"&&o(ne,we,Be,Le,Ee,Ce)}"value"in Se&&o(ne,"value",le.value,Se.value,Ee)}},D=(ne,le,Se,Ce,Ee,we,Le,Be,Ue)=>{const je=le.el=ne?ne.el:a(""),at=le.anchor=ne?ne.anchor:a("");let{patchFlag:Ie,dynamicChildren:Ze,slotScopeIds:mt}=le;mt&&(Be=Be?Be.concat(mt):mt),ne==null?(r(je,Se,Ce),r(at,Se,Ce),I(le.children||[],Se,at,Ee,we,Le,Be,Ue)):Ie>0&&Ie&64&&Ze&&ne.dynamicChildren?(C(ne.dynamicChildren,Ze,Se,Ee,we,Le,Be),(le.key!=null||Ee&&le===Ee.subTree)&&xb(ne,le,!0)):M(ne,le,Se,at,Ee,we,Le,Be,Ue)},W=(ne,le,Se,Ce,Ee,we,Le,Be,Ue)=>{le.slotScopeIds=Be,ne==null?le.shapeFlag&512?Ee.ctx.activate(le,Se,Ce,Le,Ue):H(le,Se,Ce,Ee,we,Le,Ue):V(ne,le,Ue)},H=(ne,le,Se,Ce,Ee,we,Le)=>{const Be=ne.component=r3(ne,Ce,Ee);if(bm(ne)&&(Be.ctx.renderer=Ae),s3(Be,!1,Le),Be.asyncDep){if(Ee&&Ee.registerDep(Be,R,Le),!ne.el){const Ue=Be.subTree=A(Rr);y(null,Ue,le,Se)}}else R(Be,ne,le,Se,Ee,we,Le)},V=(ne,le,Se)=>{const Ce=le.component=ne.component;if(X4(ne,le,Se))if(Ce.asyncDep&&!Ce.asyncResolved){z(Ce,le,Se);return}else Ce.next=le,Ce.update();else le.el=ne.el,Ce.vnode=le},R=(ne,le,Se,Ce,Ee,we,Le)=>{const Be=()=>{if(ne.isMounted){let{next:Ie,bu:Ze,u:mt,parent:Pt,vnode:Vt}=ne;{const Mt=tk(ne);if(Mt){Ie&&(Ie.el=Vt.el,z(ne,Ie,Le)),Mt.asyncDep.then(()=>{ne.isUnmounted||Be()});return}}let Ht=Ie,Jt;Xa(ne,!1),Ie?(Ie.el=Vt.el,z(ne,Ie,Le)):Ie=Vt,Ze&&Ph(Ze),(Jt=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&Uo(Jt,Pt,Ie,Vt),Xa(ne,!0);const fn=qg(ne),wt=ne.subTree;ne.subTree=fn,g(wt,fn,d(wt.el),J(wt),ne,Ee,we),Ie.el=fn.el,Ht===null&&Q4(ne,fn.el),mt&&ls(mt,Ee),(Jt=Ie.props&&Ie.props.onVnodeUpdated)&&ls(()=>Uo(Jt,Pt,Ie,Vt),Ee)}else{let Ie;const{el:Ze,props:mt}=le,{bm:Pt,m:Vt,parent:Ht,root:Jt,type:fn}=ne,wt=pu(le);if(Xa(ne,!1),Pt&&Ph(Pt),!wt&&(Ie=mt&&mt.onVnodeBeforeMount)&&Uo(Ie,Ht,le),Xa(ne,!0),Ze&&pe){const Mt=()=>{ne.subTree=qg(ne),pe(Ze,ne.subTree,ne,Ee,null)};wt&&fn.__asyncHydrate?fn.__asyncHydrate(Ze,ne,Mt):Mt()}else{Jt.ce&&Jt.ce._injectChildStyle(fn);const Mt=ne.subTree=qg(ne);g(null,Mt,Se,Ce,ne,Ee,we),le.el=Mt.el}if(Vt&&ls(Vt,Ee),!wt&&(Ie=mt&&mt.onVnodeMounted)){const Mt=le;ls(()=>Uo(Ie,Ht,Mt),Ee)}(le.shapeFlag&256||Ht&&pu(Ht.vnode)&&Ht.vnode.shapeFlag&256)&&ne.a&&ls(ne.a,Ee),ne.isMounted=!0,le=Se=Ce=null}};ne.scope.on();const Ue=ne.effect=new iC(Be);ne.scope.off();const je=ne.update=Ue.run.bind(Ue),at=ne.job=Ue.runIfDirty.bind(Ue);at.i=ne,at.id=ne.uid,Ue.scheduler=()=>vb(at),Xa(ne,!0),je()},z=(ne,le,Se)=>{le.component=ne;const Ce=ne.vnode.props;ne.vnode=le,ne.next=null,D4(ne,le.props,Ce,Se),F4(ne,le.children,Se),Va(),O_(ne),Ua()},M=(ne,le,Se,Ce,Ee,we,Le,Be,Ue=!1)=>{const je=ne&&ne.children,at=ne?ne.shapeFlag:0,Ie=le.children,{patchFlag:Ze,shapeFlag:mt}=le;if(Ze>0){if(Ze&128){j(je,Ie,Se,Ce,Ee,we,Le,Be,Ue);return}else if(Ze&256){B(je,Ie,Se,Ce,Ee,we,Le,Be,Ue);return}}mt&8?(at&16&&ue(je,Ee,we),Ie!==je&&c(Se,Ie)):at&16?mt&16?j(je,Ie,Se,Ce,Ee,we,Le,Be,Ue):ue(je,Ee,we,!0):(at&8&&c(Se,""),mt&16&&I(Ie,Se,Ce,Ee,we,Le,Be,Ue))},B=(ne,le,Se,Ce,Ee,we,Le,Be,Ue)=>{ne=ne||cu,le=le||cu;const je=ne.length,at=le.length,Ie=Math.min(je,at);let Ze;for(Ze=0;Ze<Ie;Ze++){const mt=le[Ze]=Ue?ya(le[Ze]):qo(le[Ze]);g(ne[Ze],mt,Se,null,Ee,we,Le,Be,Ue)}je>at?ue(ne,Ee,we,!0,!1,Ie):I(le,Se,Ce,Ee,we,Le,Be,Ue,Ie)},j=(ne,le,Se,Ce,Ee,we,Le,Be,Ue)=>{let je=0;const at=le.length;let Ie=ne.length-1,Ze=at-1;for(;je<=Ie&&je<=Ze;){const mt=ne[je],Pt=le[je]=Ue?ya(le[je]):qo(le[je]);if(sl(mt,Pt))g(mt,Pt,Se,null,Ee,we,Le,Be,Ue);else break;je++}for(;je<=Ie&&je<=Ze;){const mt=ne[Ie],Pt=le[Ze]=Ue?ya(le[Ze]):qo(le[Ze]);if(sl(mt,Pt))g(mt,Pt,Se,null,Ee,we,Le,Be,Ue);else break;Ie--,Ze--}if(je>Ie){if(je<=Ze){const mt=Ze+1,Pt=mt<at?le[mt].el:Ce;for(;je<=Ze;)g(null,le[je]=Ue?ya(le[je]):qo(le[je]),Se,Pt,Ee,we,Le,Be,Ue),je++}}else if(je>Ze)for(;je<=Ie;)se(ne[je],Ee,we,!0),je++;else{const mt=je,Pt=je,Vt=new Map;for(je=Pt;je<=Ze;je++){const re=le[je]=Ue?ya(le[je]):qo(le[je]);re.key!=null&&Vt.set(re.key,je)}let Ht,Jt=0;const fn=Ze-Pt+1;let wt=!1,Mt=0;const he=new Array(fn);for(je=0;je<fn;je++)he[je]=0;for(je=mt;je<=Ie;je++){const re=ne[je];if(Jt>=fn){se(re,Ee,we,!0);continue}let $e;if(re.key!=null)$e=Vt.get(re.key);else for(Ht=Pt;Ht<=Ze;Ht++)if(he[Ht-Pt]===0&&sl(re,le[Ht])){$e=Ht;break}$e===void 0?se(re,Ee,we,!0):(he[$e-Pt]=je+1,$e>=Mt?Mt=$e:wt=!0,g(re,le[$e],Se,null,Ee,we,Le,Be,Ue),Jt++)}const _e=wt?H4(he):cu;for(Ht=_e.length-1,je=fn-1;je>=0;je--){const re=Pt+je,$e=le[re],Et=re+1<at?le[re+1].el:Ce;he[je]===0?g(null,$e,Se,Et,Ee,we,Le,Be,Ue):wt&&(Ht<0||je!==_e[Ht]?X($e,Se,Et,2):Ht--)}}},X=(ne,le,Se,Ce,Ee=null)=>{const{el:we,type:Le,transition:Be,children:Ue,shapeFlag:je}=ne;if(je&6){X(ne.component.subTree,le,Se,Ce);return}if(je&128){ne.suspense.move(le,Se,Ce);return}if(je&64){Le.move(ne,le,Se,Ae);return}if(Le===tt){r(we,le,Se);for(let Ie=0;Ie<Ue.length;Ie++)X(Ue[Ie],le,Se,Ce);r(ne.anchor,le,Se);return}if(Le===Oh){b(ne,le,Se);return}if(Ce!==2&&je&1&&Be)if(Ce===0)Be.beforeEnter(we),r(we,le,Se),ls(()=>Be.enter(we),Ee);else{const{leave:Ie,delayLeave:Ze,afterLeave:mt}=Be,Pt=()=>r(we,le,Se),Vt=()=>{Ie(we,()=>{Pt(),mt&&mt()})};Ze?Ze(we,Pt,Vt):Vt()}else r(we,le,Se)},se=(ne,le,Se,Ce=!1,Ee=!1)=>{const{type:we,props:Le,ref:Be,children:Ue,dynamicChildren:je,shapeFlag:at,patchFlag:Ie,dirs:Ze,cacheIndex:mt}=ne;if(Ie===-2&&(Ee=!1),Be!=null&&yp(Be,null,Se,ne,!0),mt!=null&&(le.renderCache[mt]=void 0),at&256){le.ctx.deactivate(ne);return}const Pt=at&1&&Ze,Vt=!pu(ne);let Ht;if(Vt&&(Ht=Le&&Le.onVnodeBeforeUnmount)&&Uo(Ht,le,ne),at&6)fe(ne.component,Se,Ce);else{if(at&128){ne.suspense.unmount(Se,Ce);return}Pt&&Ya(ne,null,le,"beforeUnmount"),at&64?ne.type.remove(ne,le,Se,Ae,Ce):je&&!je.hasOnce&&(we!==tt||Ie>0&&Ie&64)?ue(je,le,Se,!1,!0):(we===tt&&Ie&384||!Ee&&at&16)&&ue(Ue,le,Se),Ce&&te(ne)}(Vt&&(Ht=Le&&Le.onVnodeUnmounted)||Pt)&&ls(()=>{Ht&&Uo(Ht,le,ne),Pt&&Ya(ne,null,le,"unmounted")},Se)},te=ne=>{const{type:le,el:Se,anchor:Ce,transition:Ee}=ne;if(le===tt){ie(Se,Ce);return}if(le===Oh){w(ne);return}const we=()=>{s(Se),Ee&&!Ee.persisted&&Ee.afterLeave&&Ee.afterLeave()};if(ne.shapeFlag&1&&Ee&&!Ee.persisted){const{leave:Le,delayLeave:Be}=Ee,Ue=()=>Le(Se,we);Be?Be(ne.el,we,Ue):Ue()}else we()},ie=(ne,le)=>{let Se;for(;ne!==le;)Se=f(ne),s(ne),ne=Se;s(le)},fe=(ne,le,Se)=>{const{bum:Ce,scope:Ee,job:we,subTree:Le,um:Be,m:Ue,a:je}=ne;W_(Ue),W_(je),Ce&&Ph(Ce),Ee.stop(),we&&(we.flags|=8,se(Le,ne,le,Se)),Be&&ls(Be,le),ls(()=>{ne.isUnmounted=!0},le),le&&le.pendingBranch&&!le.isUnmounted&&ne.asyncDep&&!ne.asyncResolved&&ne.suspenseId===le.pendingId&&(le.deps--,le.deps===0&&le.resolve())},ue=(ne,le,Se,Ce=!1,Ee=!1,we=0)=>{for(let Le=we;Le<ne.length;Le++)se(ne[Le],le,Se,Ce,Ee)},J=ne=>{if(ne.shapeFlag&6)return J(ne.component.subTree);if(ne.shapeFlag&128)return ne.suspense.next();const le=f(ne.anchor||ne.el),Se=le&&le[IC];return Se?f(Se):le};let de=!1;const ae=(ne,le,Se)=>{ne==null?le._vnode&&se(le._vnode,null,null,!0):g(le._vnode||null,ne,le,null,null,null,Se),le._vnode=ne,de||(de=!0,O_(),TC(),de=!1)},Ae={p:g,um:se,m:X,r:te,mt:H,mc:I,pc:M,pbc:C,n:J,o:t};let Re,pe;return e&&([Re,pe]=e(Ae)),{render:ae,hydrate:Re,createApp:$4(ae,Re)}}function Gg({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Xa({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function U4(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function xb(t,e,n=!1){const r=t.children,s=e.children;if(Ke(r)&&Ke(s))for(let o=0;o<r.length;o++){const i=r[o];let a=s[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[o]=ya(s[o]),a.el=i.el),!n&&a.patchFlag!==-2&&xb(i,a)),a.type===Ju&&(a.el=i.el)}}function H4(t){const e=t.slice(),n=[0];let r,s,o,i,a;const u=t.length;for(r=0;r<u;r++){const l=t[r];if(l!==0){if(s=n[n.length-1],t[s]<l){e[r]=s,n.push(r);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,t[n[a]]<l?o=a+1:i=a;l<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=e[i];return n}function tk(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:tk(e)}function W_(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const j4=Symbol.for("v-scx"),K4=()=>rt(j4);function Fr(t,e){return Tb(t,null,e)}function Pe(t,e,n){return Tb(t,e,n)}function Tb(t,e,n=Qn){const{immediate:r,deep:s,flush:o,once:i}=n,a=br({},n),u=e&&r||!e&&o!=="post";let l;if(yd){if(o==="sync"){const h=K4();l=h.__watcherHandles||(h.__watcherHandles=[])}else if(!u){const h=()=>{};return h.stop=bn,h.resume=bn,h.pause=bn,h}}const c=Hr;a.call=(h,p,g)=>Io(h,c,p,g);let d=!1;o==="post"?a.scheduler=h=>{ls(h,c&&c.suspense)}:o!=="sync"&&(d=!0,a.scheduler=(h,p)=>{p?h():vb(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const f=c4(t,e,a);return yd&&(l?l.push(f):u&&f()),f}function z4(t,e,n){const r=this.proxy,s=ht(t)?t.includes(".")?nk(r,t):()=>r[t]:t.bind(r,r);let o;vt(e)?o=e:(o=e.handler,n=e);const i=rf(this),a=Tb(s,o.bind(r),n);return i(),a}function nk(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const W4=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ms(e)}Modifiers`]||t[`${Ki(e)}Modifiers`];function G4(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Qn;let s=n;const o=e.startsWith("update:"),i=o&&W4(r,e.slice(7));i&&(i.trim&&(s=n.map(c=>ht(c)?c.trim():c)),i.number&&(s=n.map(hp)));let a,u=r[a=Wc(e)]||r[a=Wc(ms(e))];!u&&o&&(u=r[a=Wc(Ki(e))]),u&&Io(u,t,6,s);const l=r[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Io(l,t,6,s)}}function rk(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const o=t.emits;let i={},a=!1;if(!vt(t)){const u=l=>{const c=rk(l,e,!0);c&&(a=!0,br(i,c))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!o&&!a?(Kt(t)&&r.set(t,null),null):(Ke(o)?o.forEach(u=>i[u]=null):br(i,o),Kt(t)&&r.set(t,i),i)}function Sm(t,e){return!t||!hm(e)?!1:(e=e.slice(2).replace(/Once$/,""),dn(t,e[0].toLowerCase()+e.slice(1))||dn(t,Ki(e))||dn(t,e))}function qg(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[o],slots:i,attrs:a,emit:u,render:l,renderCache:c,props:d,data:f,setupState:h,ctx:p,inheritAttrs:g}=t,v=vp(t);let y,_;try{if(n.shapeFlag&4){const w=s||r,S=w;y=qo(l.call(S,w,c,d,h,f,p)),_=a}else{const w=e;y=qo(w.length>1?w(d,{attrs:a,slots:i,emit:u}):w(d,null)),_=e.props?a:q4(a)}}catch(w){Qc.length=0,ym(w,t,1),y=A(Rr)}let b=y;if(_&&g!==!1){const w=Object.keys(_),{shapeFlag:S}=b;w.length&&S&7&&(o&&w.some(ib)&&(_=Y4(_,o)),b=Bi(b,_,!1,!0))}return n.dirs&&(b=Bi(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&Sl(b,n.transition),y=b,vp(v),y}const q4=t=>{let e;for(const n in t)(n==="class"||n==="style"||hm(n))&&((e||(e={}))[n]=t[n]);return e},Y4=(t,e)=>{const n={};for(const r in t)(!ib(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function X4(t,e,n){const{props:r,children:s,component:o}=t,{props:i,children:a,patchFlag:u}=e,l=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?G_(r,i,l):!!i;if(u&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(i[f]!==r[f]&&!Sm(l,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===i?!1:r?i?G_(r,i,l):!0:!!i;return!1}function G_(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(e[o]!==t[o]&&!Sm(n,o))return!0}return!1}function Q4({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const sk=t=>t.__isSuspense;function Z4(t,e){e&&e.pendingBranch?Ke(t)?e.effects.push(...t):e.effects.push(t):h4(t)}const tt=Symbol.for("v-fgt"),Ju=Symbol.for("v-txt"),Rr=Symbol.for("v-cmt"),Oh=Symbol.for("v-stc"),Qc=[];let Ms=null;function L(t=!1){Qc.push(Ms=t?null:[])}function J4(){Qc.pop(),Ms=Qc[Qc.length-1]||null}let vd=1;function q_(t,e=!1){vd+=t,t<0&&Ms&&e&&(Ms.hasOnce=!0)}function ok(t){return t.dynamicChildren=vd>0?Ms||cu:null,J4(),vd>0&&Ms&&Ms.push(t),t}function G(t,e,n,r,s,o){return ok(F(t,e,n,r,s,o,!0))}function ye(t,e,n,r,s){return ok(A(t,e,n,r,s,!0))}function Mn(t){return t?t.__v_isVNode===!0:!1}function sl(t,e){return t.type===e.type&&t.key===e.key}const ik=({key:t})=>t??null,Mh=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ht(t)||Dn(t)||vt(t)?{i:Nr,r:t,k:e,f:!!n}:t:null);function F(t,e=null,n=null,r=0,s=null,o=t===tt?0:1,i=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ik(e),ref:e&&Mh(e),scopeId:kC,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Nr};return a?(Cb(u,n),o&128&&t.normalize(u)):n&&(u.shapeFlag|=ht(n)?8:16),vd>0&&!i&&Ms&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&Ms.push(u),u}const A=e3;function e3(t,e=null,n=null,r=0,s=null,o=!1){if((!t||t===UC)&&(t=Rr),Mn(t)){const a=Bi(t,e,!0);return n&&Cb(a,n),vd>0&&!o&&Ms&&(a.shapeFlag&6?Ms[Ms.indexOf(t)]=a:Ms.push(a)),a.patchFlag=-2,a}if(l3(t)&&(t=t.__vccOpts),e){e=ri(e);let{class:a,style:u}=e;a&&!ht(a)&&(e.class=U(a)),Kt(u)&&(gb(u)&&!Ke(u)&&(u=br({},u)),e.style=dt(u))}const i=ht(t)?1:sk(t)?128:AC(t)?64:Kt(t)?4:vt(t)?2:0;return F(t,e,n,r,s,i,o,!0)}function ri(t){return t?gb(t)||qC(t)?br({},t):t:null}function Bi(t,e,n=!1,r=!1){const{props:s,ref:o,patchFlag:i,children:a,transition:u}=t,l=e?Xt(s||{},e):s,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&ik(l),ref:e&&e.ref?n&&o?Ke(o)?o.concat(Mh(e)):[o,Mh(e)]:Mh(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==tt?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Bi(t.ssContent),ssFallback:t.ssFallback&&Bi(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&r&&Sl(c,u.clone(c)),c}function xe(t=" ",e=0){return A(Ju,null,t,e)}function ak(t,e){const n=A(Oh,null,t);return n.staticCount=e,n}function ce(t="",e=!1){return e?(L(),ye(Rr,null,t)):A(Rr,null,t)}function qo(t){return t==null||typeof t=="boolean"?A(Rr):Ke(t)?A(tt,null,t.slice()):Mn(t)?ya(t):A(Ju,null,String(t))}function ya(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Bi(t)}function Cb(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ke(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Cb(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!qC(e)?e._ctx=Nr:s===3&&Nr&&(Nr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else vt(e)?(e={default:e,_ctx:Nr},n=32):(e=String(e),r&64?(n=16,e=[xe(e)]):n=8);t.children=e,t.shapeFlag|=n}function Xt(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=U([e.class,r.class]));else if(s==="style")e.style=dt([e.style,r.style]);else if(hm(s)){const o=e[s],i=r[s];i&&o!==i&&!(Ke(o)&&o.includes(i))&&(e[s]=o?[].concat(o,i):i)}else s!==""&&(e[s]=r[s])}return e}function Uo(t,e,n,r=null){Io(t,e,7,[n,r])}const t3=zC();let n3=0;function r3(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||t3,o={uid:n3++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new rC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:XC(r,s),emitsOptions:rk(r,s),emit:null,emitted:null,propsDefaults:Qn,inheritAttrs:r.inheritAttrs,ctx:Qn,data:Qn,props:Qn,attrs:Qn,slots:Qn,refs:Qn,setupState:Qn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=G4.bind(null,o),t.ce&&t.ce(o),o}let Hr=null;const Gt=()=>Hr||Nr;let wp,h0;{const t=mm(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),o=>{s.length>1?s.forEach(i=>i(o)):s[0](o)}};wp=e("__VUE_INSTANCE_SETTERS__",n=>Hr=n),h0=e("__VUE_SSR_SETTERS__",n=>yd=n)}const rf=t=>{const e=Hr;return wp(t),t.scope.on(),()=>{t.scope.off(),wp(e)}},Y_=()=>{Hr&&Hr.scope.off(),wp(null)};function lk(t){return t.vnode.shapeFlag&4}let yd=!1;function s3(t,e=!1,n=!1){e&&h0(e);const{props:r,children:s}=t.vnode,o=lk(t);P4(t,r,o,e),N4(t,s,n);const i=o?o3(t,e):void 0;return e&&h0(!1),i}function o3(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,T4);const{setup:r}=n;if(r){Va();const s=t.setupContext=r.length>1?ck(t):null,o=rf(t),i=nf(r,t,0,[t.props,s]),a=dd(i);if(Ua(),o(),(a||t.sp)&&!pu(t)&&NC(t),a){if(i.then(Y_,Y_),e)return i.then(u=>{X_(t,u,e)}).catch(u=>{ym(u,t,0)});t.asyncDep=i}else X_(t,i,e)}else uk(t,e)}function X_(t,e,n){vt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Kt(e)&&(t.setupState=_C(e)),uk(t,n)}let Q_;function uk(t,e,n){const r=t.type;if(!t.render){if(!e&&Q_&&!r.render){const s=r.template||Sb(t).template;if(s){const{isCustomElement:o,compilerOptions:i}=t.appContext.config,{delimiters:a,compilerOptions:u}=r,l=br(br({isCustomElement:o,delimiters:a},i),u);r.render=Q_(s,l)}}t.render=r.render||bn}{const s=rf(t);Va();try{C4(t)}finally{Ua(),s()}}}const i3={get(t,e){return Qr(t,"get",""),t[e]}};function ck(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,i3),slots:t.slots,emit:t.emit,expose:e}}function Em(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(_C(Ni(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Xc)return Xc[n](t)},has(e,n){return n in e||n in Xc}})):t.proxy}function a3(t,e=!0){return vt(t)?t.displayName||t.name:t.name||e&&t.__name}function l3(t){return vt(t)&&"__vccOpts"in t}const P=(t,e)=>l4(t,e,yd);function _t(t,e,n){const r=arguments.length;return r===2?Kt(e)&&!Ke(e)?Mn(e)?A(t,null,[e]):A(t,e):A(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Mn(n)&&(n=[n]),A(t,e,n))}const u3="3.5.13",c3=bn;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let p0;const Z_=typeof window<"u"&&window.trustedTypes;if(Z_)try{p0=Z_.createPolicy("vue",{createHTML:t=>t})}catch{}const dk=p0?t=>p0.createHTML(t):t=>t,d3="http://www.w3.org/2000/svg",f3="http://www.w3.org/1998/Math/MathML",Ti=typeof document<"u"?document:null,J_=Ti&&Ti.createElement("template"),h3={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Ti.createElementNS(d3,t):e==="mathml"?Ti.createElementNS(f3,t):n?Ti.createElement(t,{is:n}):Ti.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Ti.createTextNode(t),createComment:t=>Ti.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ti.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,o){const i=n?n.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{J_.innerHTML=dk(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=J_.content;if(r==="svg"||r==="mathml"){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}e.insertBefore(a,n)}return[i?i.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},la="transition",Ic="animation",Iu=Symbol("_vtc"),fk={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},hk=br({},PC,fk),p3=t=>(t.displayName="Transition",t.props=hk,t),Tr=p3((t,{slots:e})=>_t(v4,pk(t),e)),Qa=(t,e=[])=>{Ke(t)?t.forEach(n=>n(...e)):t&&t(...e)},eS=t=>t?Ke(t)?t.some(e=>e.length>1):t.length>1:!1;function pk(t){const e={};for(const D in t)D in fk||(e[D]=t[D]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:u=o,appearActiveClass:l=i,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=m3(s),g=p&&p[0],v=p&&p[1],{onBeforeEnter:y,onEnter:_,onEnterCancelled:b,onLeave:w,onLeaveCancelled:S,onBeforeAppear:E=y,onAppear:T=_,onAppearCancelled:I=b}=e,k=(D,W,H,V)=>{D._enterCancelled=V,ha(D,W?c:a),ha(D,W?l:i),H&&H()},C=(D,W)=>{D._isLeaving=!1,ha(D,d),ha(D,h),ha(D,f),W&&W()},N=D=>(W,H)=>{const V=D?T:_,R=()=>k(W,D,H);Qa(V,[W,R]),tS(()=>{ha(W,D?u:o),Ko(W,D?c:a),eS(V)||nS(W,r,g,R)})};return br(e,{onBeforeEnter(D){Qa(y,[D]),Ko(D,o),Ko(D,i)},onBeforeAppear(D){Qa(E,[D]),Ko(D,u),Ko(D,l)},onEnter:N(!1),onAppear:N(!0),onLeave(D,W){D._isLeaving=!0;const H=()=>C(D,W);Ko(D,d),D._enterCancelled?(Ko(D,f),m0()):(m0(),Ko(D,f)),tS(()=>{D._isLeaving&&(ha(D,d),Ko(D,h),eS(w)||nS(D,r,v,H))}),Qa(w,[D,H])},onEnterCancelled(D){k(D,!1,void 0,!0),Qa(b,[D])},onAppearCancelled(D){k(D,!0,void 0,!0),Qa(I,[D])},onLeaveCancelled(D){C(D),Qa(S,[D])}})}function m3(t){if(t==null)return null;if(Kt(t))return[Yg(t.enter),Yg(t.leave)];{const e=Yg(t);return[e,e]}}function Yg(t){return kO(t)}function Ko(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Iu]||(t[Iu]=new Set)).add(e)}function ha(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Iu];n&&(n.delete(e),n.size||(t[Iu]=void 0))}function tS(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let g3=0;function nS(t,e,n,r){const s=t._endId=++g3,o=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(o,n);const{type:i,timeout:a,propCount:u}=mk(t,e);if(!i)return r();const l=i+"end";let c=0;const d=()=>{t.removeEventListener(l,f),o()},f=h=>{h.target===t&&++c>=u&&d()};setTimeout(()=>{c<u&&d()},a+1),t.addEventListener(l,f)}function mk(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),s=r(`${la}Delay`),o=r(`${la}Duration`),i=rS(s,o),a=r(`${Ic}Delay`),u=r(`${Ic}Duration`),l=rS(a,u);let c=null,d=0,f=0;e===la?i>0&&(c=la,d=i,f=o.length):e===Ic?l>0&&(c=Ic,d=l,f=u.length):(d=Math.max(i,l),c=d>0?i>l?la:Ic:null,f=c?c===la?o.length:u.length:0);const h=c===la&&/\b(transform|all)(,|$)/.test(r(`${la}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function rS(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>sS(n)+sS(t[r])))}function sS(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function m0(){return document.body.offsetHeight}function v3(t,e,n){const r=t[Iu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const _p=Symbol("_vod"),gk=Symbol("_vsh"),nn={beforeMount(t,{value:e},{transition:n}){t[_p]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ac(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Ac(t,!0),r.enter(t)):r.leave(t,()=>{Ac(t,!1)}):Ac(t,e))},beforeUnmount(t,{value:e}){Ac(t,e)}};function Ac(t,e){t.style.display=e?t[_p]:"none",t[gk]=!e}const y3=Symbol(""),b3=/(^|;)\s*display\s*:/;function w3(t,e,n){const r=t.style,s=ht(n);let o=!1;if(n&&!s){if(e)if(ht(e))for(const i of e.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&Nh(r,a,"")}else for(const i in e)n[i]==null&&Nh(r,i,"");for(const i in n)i==="display"&&(o=!0),Nh(r,i,n[i])}else if(s){if(e!==n){const i=r[y3];i&&(n+=";"+i),r.cssText=n,o=b3.test(n)}}else e&&t.removeAttribute("style");_p in t&&(t[_p]=o?r.display:"",t[gk]&&(r.display="none"))}const oS=/\s*!important$/;function Nh(t,e,n){if(Ke(n))n.forEach(r=>Nh(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=_3(t,e);oS.test(n)?t.setProperty(Ki(r),n.replace(oS,""),"important"):t[r]=n}}const iS=["Webkit","Moz","ms"],Xg={};function _3(t,e){const n=Xg[e];if(n)return n;let r=ms(e);if(r!=="filter"&&r in t)return Xg[e]=r;r=tf(r);for(let s=0;s<iS.length;s++){const o=iS[s]+r;if(o in t)return Xg[e]=o}return e}const aS="http://www.w3.org/1999/xlink";function lS(t,e,n,r,s,o=PO(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(aS,e.slice(6,e.length)):t.setAttributeNS(aS,e,n):n==null||o&&!eC(n)?t.removeAttribute(e):t.setAttribute(e,o?"":ko(n)?String(n):n)}function uS(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?dk(n):n);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(a!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let i=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=eC(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{t[e]=n}catch{}i&&t.removeAttribute(s||e)}function $i(t,e,n,r){t.addEventListener(e,n,r)}function S3(t,e,n,r){t.removeEventListener(e,n,r)}const cS=Symbol("_vei");function E3(t,e,n,r,s=null){const o=t[cS]||(t[cS]={}),i=o[e];if(r&&i)i.value=r;else{const[a,u]=x3(e);if(r){const l=o[e]=k3(r,s);$i(t,a,l,u)}else i&&(S3(t,a,i,u),o[e]=void 0)}}const dS=/(?:Once|Passive|Capture)$/;function x3(t){let e;if(dS.test(t)){e={};let r;for(;r=t.match(dS);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ki(t.slice(2)),e]}let Qg=0;const T3=Promise.resolve(),C3=()=>Qg||(T3.then(()=>Qg=0),Qg=Date.now());function k3(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Io(I3(r,n.value),e,5,[r])};return n.value=t,n.attached=C3(),n}function I3(t,e){if(Ke(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const fS=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,A3=(t,e,n,r,s,o)=>{const i=s==="svg";e==="class"?v3(t,r,i):e==="style"?w3(t,n,r):hm(e)?ib(e)||E3(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):R3(t,e,r,i))?(uS(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&lS(t,e,r,i,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ht(r))?uS(t,ms(e),r,o,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),lS(t,e,r,i))};function R3(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&fS(e)&&vt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return fS(e)&&ht(n)?!1:e in t}const vk=new WeakMap,yk=new WeakMap,Sp=Symbol("_moveCb"),hS=Symbol("_enterCb"),L3=t=>(delete t.props.mode,t),$3=L3({name:"TransitionGroup",props:br({},hk,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Gt(),r=$C();let s,o;return $o(()=>{if(!s.length)return;const i=t.moveClass||`${t.name||"v"}-move`;if(!M3(s[0].el,n.vnode.el,i))return;s.forEach(P3),s.forEach(D3);const a=s.filter(O3);m0(),a.forEach(u=>{const l=u.el,c=l.style;Ko(l,i),c.transform=c.webkitTransform=c.transitionDuration="";const d=l[Sp]=f=>{f&&f.target!==l||(!f||/transform$/.test(f.propertyName))&&(l.removeEventListener("transitionend",d),l[Sp]=null,ha(l,i))};l.addEventListener("transitionend",d)})}),()=>{const i=An(t),a=pk(i);let u=i.tag||tt;if(s=[],o)for(let l=0;l<o.length;l++){const c=o[l];c.el&&c.el instanceof Element&&(s.push(c),Sl(c,gd(c,a,r,n)),vk.set(c,c.el.getBoundingClientRect()))}o=e.default?yb(e.default()):[];for(let l=0;l<o.length;l++){const c=o[l];c.key!=null&&Sl(c,gd(c,a,r,n))}return A(u,null,o)}}}),bk=$3;function P3(t){const e=t.el;e[Sp]&&e[Sp](),e[hS]&&e[hS]()}function D3(t){yk.set(t,t.el.getBoundingClientRect())}function O3(t){const e=vk.get(t),n=yk.get(t),r=e.left-n.left,s=e.top-n.top;if(r||s){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${s}px)`,o.transitionDuration="0s",t}}function M3(t,e,n){const r=t.cloneNode(),s=t[Iu];s&&s.forEach(a=>{a.split(/\s+/).forEach(u=>u&&r.classList.remove(u))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(r);const{hasTransform:i}=mk(r);return o.removeChild(r),i}const Aa=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ke(e)?n=>Ph(e,n):e};function N3(t){t.target.composing=!0}function pS(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const no=Symbol("_assign"),si={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[no]=Aa(s);const o=r||s.props&&s.props.type==="number";$i(t,e?"change":"input",i=>{if(i.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=hp(a)),t[no](a)}),n&&$i(t,"change",()=>{t.value=t.value.trim()}),e||($i(t,"compositionstart",N3),$i(t,"compositionend",pS),$i(t,"change",pS))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:o}},i){if(t[no]=Aa(i),t.composing)return;const a=(o||t.type==="number")&&!/^0\d/.test(t.value)?hp(t.value):t.value,u=e??"";a!==u&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===u)||(t.value=u))}},bd={deep:!0,created(t,e,n){t[no]=Aa(n),$i(t,"change",()=>{const r=t._modelValue,s=Au(t),o=t.checked,i=t[no];if(Ke(r)){const a=ub(r,s),u=a!==-1;if(o&&!u)i(r.concat(s));else if(!o&&u){const l=[...r];l.splice(a,1),i(l)}}else if(Qu(r)){const a=new Set(r);o?a.add(s):a.delete(s),i(a)}else i(wk(t,o))})},mounted:mS,beforeUpdate(t,e,n){t[no]=Aa(n),mS(t,e,n)}};function mS(t,{value:e,oldValue:n},r){t._modelValue=e;let s;if(Ke(e))s=ub(e,r.props.value)>-1;else if(Qu(e))s=e.has(r.props.value);else{if(e===n)return;s=wl(e,wk(t,!0))}t.checked!==s&&(t.checked=s)}const kb={created(t,{value:e},n){t.checked=wl(e,n.props.value),t[no]=Aa(n),$i(t,"change",()=>{t[no](Au(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[no]=Aa(r),e!==n&&(t.checked=wl(e,r.props.value))}},F3={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=Qu(e);$i(t,"change",()=>{const o=Array.prototype.filter.call(t.options,i=>i.selected).map(i=>n?hp(Au(i)):Au(i));t[no](t.multiple?s?new Set(o):o:o[0]),t._assigning=!0,pt(()=>{t._assigning=!1})}),t[no]=Aa(r)},mounted(t,{value:e}){gS(t,e)},beforeUpdate(t,e,n){t[no]=Aa(n)},updated(t,{value:e}){t._assigning||gS(t,e)}};function gS(t,e){const n=t.multiple,r=Ke(e);if(!(n&&!r&&!Qu(e))){for(let s=0,o=t.options.length;s<o;s++){const i=t.options[s],a=Au(i);if(n)if(r){const u=typeof a;u==="string"||u==="number"?i.selected=e.some(l=>String(l)===String(a)):i.selected=ub(e,a)>-1}else i.selected=e.has(a);else if(wl(Au(i),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Au(t){return"_value"in t?t._value:t.value}function wk(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const B3={created(t,e,n){Zf(t,e,n,null,"created")},mounted(t,e,n){Zf(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Zf(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Zf(t,e,n,r,"updated")}};function V3(t,e){switch(t){case"SELECT":return F3;case"TEXTAREA":return si;default:switch(e){case"checkbox":return bd;case"radio":return kb;default:return si}}}function Zf(t,e,n,r,s){const i=V3(t.tagName,n.props&&n.props.type)[s];i&&i(t,e,n,r)}const U3=["ctrl","shift","alt","meta"],H3={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>U3.some(n=>t[`${n}Key`]&&!e.includes(n))},St=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...o)=>{for(let i=0;i<e.length;i++){const a=H3[e[i]];if(a&&a(s,e))return}return t(s,...o)})},j3={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Sn=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const o=Ki(s.key);if(e.some(i=>i===o||j3[i]===o))return t(s)})},K3=br({patchProp:A3},h3);let vS;function _k(){return vS||(vS=B4(K3))}const Ra=(...t)=>{_k().render(...t)},xm=(...t)=>{const e=_k().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=W3(r);if(!s)return;const o=e._component;!vt(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const i=n(s,!1,z3(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),i},e};function z3(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function W3(t){return ht(t)?document.querySelector(t):t}const G3="2.9.9",yS=Symbol("INSTALLED_KEY"),Sk=Symbol(),Zc="el",q3="is-",Za=(t,e,n,r,s)=>{let o=`${t}-${e}`;return n&&(o+=`-${n}`),r&&(o+=`__${r}`),s&&(o+=`--${s}`),o},Ek=Symbol("namespaceContextKey"),Ib=t=>{const e=t||(Gt()?rt(Ek,q(Zc)):q(Zc));return P(()=>m(e)||Zc)},Ne=(t,e)=>{const n=Ib(e);return{namespace:n,b:(g="")=>Za(n.value,t,g,"",""),e:g=>g?Za(n.value,t,"",g,""):"",m:g=>g?Za(n.value,t,"","",g):"",be:(g,v)=>g&&v?Za(n.value,t,g,v,""):"",em:(g,v)=>g&&v?Za(n.value,t,"",g,v):"",bm:(g,v)=>g&&v?Za(n.value,t,g,"",v):"",bem:(g,v,y)=>g&&v&&y?Za(n.value,t,g,v,y):"",is:(g,...v)=>{const y=v.length>=1?v[0]:!0;return g&&y?`${q3}${g}`:""},cssVar:g=>{const v={};for(const y in g)g[y]&&(v[`--${n.value}-${y}`]=g[y]);return v},cssVarName:g=>`--${n.value}-${g}`,cssVarBlock:g=>{const v={};for(const y in g)g[y]&&(v[`--${n.value}-${t}-${y}`]=g[y]);return v},cssVarBlockName:g=>`--${n.value}-${t}-${g}`}};var Y3=typeof global=="object"&&global&&global.Object===Object&&global;const xk=Y3;var X3=typeof self=="object"&&self&&self.Object===Object&&self,Q3=xk||X3||Function("return this")();const Po=Q3;var Z3=Po.Symbol;const oo=Z3;var Tk=Object.prototype,J3=Tk.hasOwnProperty,eM=Tk.toString,Rc=oo?oo.toStringTag:void 0;function tM(t){var e=J3.call(t,Rc),n=t[Rc];try{t[Rc]=void 0;var r=!0}catch{}var s=eM.call(t);return r&&(e?t[Rc]=n:delete t[Rc]),s}var nM=Object.prototype,rM=nM.toString;function sM(t){return rM.call(t)}var oM="[object Null]",iM="[object Undefined]",bS=oo?oo.toStringTag:void 0;function $l(t){return t==null?t===void 0?iM:oM:bS&&bS in Object(t)?tM(t):sM(t)}function oi(t){return t!=null&&typeof t=="object"}var aM="[object Symbol]";function Tm(t){return typeof t=="symbol"||oi(t)&&$l(t)==aM}function Ab(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var lM=Array.isArray;const gs=lM;var uM=1/0,wS=oo?oo.prototype:void 0,_S=wS?wS.toString:void 0;function Ck(t){if(typeof t=="string")return t;if(gs(t))return Ab(t,Ck)+"";if(Tm(t))return _S?_S.call(t):"";var e=t+"";return e=="0"&&1/t==-uM?"-0":e}var cM=/\s/;function dM(t){for(var e=t.length;e--&&cM.test(t.charAt(e)););return e}var fM=/^\s+/;function hM(t){return t&&t.slice(0,dM(t)+1).replace(fM,"")}function vs(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var SS=0/0,pM=/^[-+]0x[0-9a-f]+$/i,mM=/^0b[01]+$/i,gM=/^0o[0-7]+$/i,vM=parseInt;function g0(t){if(typeof t=="number")return t;if(Tm(t))return SS;if(vs(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=vs(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=hM(t);var n=mM.test(t);return n||gM.test(t)?vM(t.slice(2),n?2:8):pM.test(t)?SS:+t}var ES=1/0,yM=17976931348623157e292;function bM(t){if(!t)return t===0?t:0;if(t=g0(t),t===ES||t===-ES){var e=t<0?-1:1;return e*yM}return t===t?t:0}function wM(t){var e=bM(t),n=e%1;return e===e?n?e-n:e:0}function Rb(t){return t}var _M="[object AsyncFunction]",SM="[object Function]",EM="[object GeneratorFunction]",xM="[object Proxy]";function Lb(t){if(!vs(t))return!1;var e=$l(t);return e==SM||e==EM||e==_M||e==xM}var TM=Po["__core-js_shared__"];const Zg=TM;var xS=function(){var t=/[^.]+$/.exec(Zg&&Zg.keys&&Zg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function CM(t){return!!xS&&xS in t}var kM=Function.prototype,IM=kM.toString;function Pl(t){if(t!=null){try{return IM.call(t)}catch{}try{return t+""}catch{}}return""}var AM=/[\\^$.*+?()[\]{}|]/g,RM=/^\[object .+?Constructor\]$/,LM=Function.prototype,$M=Object.prototype,PM=LM.toString,DM=$M.hasOwnProperty,OM=RegExp("^"+PM.call(DM).replace(AM,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function MM(t){if(!vs(t)||CM(t))return!1;var e=Lb(t)?OM:RM;return e.test(Pl(t))}function NM(t,e){return t==null?void 0:t[e]}function Dl(t,e){var n=NM(t,e);return MM(n)?n:void 0}var FM=Dl(Po,"WeakMap");const v0=FM;var TS=Object.create,BM=function(){function t(){}return function(e){if(!vs(e))return{};if(TS)return TS(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const VM=BM;function UM(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function HM(){}function kk(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var jM=800,KM=16,zM=Date.now;function WM(t){var e=0,n=0;return function(){var r=zM(),s=KM-(r-n);if(n=r,s>0){if(++e>=jM)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function GM(t){return function(){return t}}var qM=function(){try{var t=Dl(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Ep=qM;var YM=Ep?function(t,e){return Ep(t,"toString",{configurable:!0,enumerable:!1,value:GM(e),writable:!0})}:Rb;const XM=YM;var QM=WM(XM);const Ik=QM;function ZM(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function Ak(t,e,n,r){for(var s=t.length,o=n+(r?1:-1);r?o--:++o<s;)if(e(t[o],o,t))return o;return-1}function JM(t){return t!==t}function e8(t,e,n){for(var r=n-1,s=t.length;++r<s;)if(t[r]===e)return r;return-1}function t8(t,e,n){return e===e?e8(t,e,n):Ak(t,JM,n)}function n8(t,e){var n=t==null?0:t.length;return!!n&&t8(t,e,0)>-1}var r8=9007199254740991,s8=/^(?:0|[1-9]\d*)$/;function Cm(t,e){var n=typeof t;return e=e??r8,!!e&&(n=="number"||n!="symbol"&&s8.test(t))&&t>-1&&t%1==0&&t<e}function $b(t,e,n){e=="__proto__"&&Ep?Ep(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function sf(t,e){return t===e||t!==t&&e!==e}var o8=Object.prototype,i8=o8.hasOwnProperty;function Pb(t,e,n){var r=t[e];(!(i8.call(t,e)&&sf(r,n))||n===void 0&&!(e in t))&&$b(t,e,n)}function ec(t,e,n,r){var s=!n;n||(n={});for(var o=-1,i=e.length;++o<i;){var a=e[o],u=r?r(n[a],t[a],a,n,t):void 0;u===void 0&&(u=t[a]),s?$b(n,a,u):Pb(n,a,u)}return n}var CS=Math.max;function Rk(t,e,n){return e=CS(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,o=CS(r.length-e,0),i=Array(o);++s<o;)i[s]=r[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=r[s];return a[e]=n(i),UM(t,this,a)}}function Lk(t,e){return Ik(Rk(t,e,Rb),t+"")}var a8=9007199254740991;function Db(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=a8}function tc(t){return t!=null&&Db(t.length)&&!Lb(t)}function l8(t,e,n){if(!vs(n))return!1;var r=typeof e;return(r=="number"?tc(n)&&Cm(e,n.length):r=="string"&&e in n)?sf(n[e],t):!1}function u8(t){return Lk(function(e,n){var r=-1,s=n.length,o=s>1?n[s-1]:void 0,i=s>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(s--,o):void 0,i&&l8(n[0],n[1],i)&&(o=s<3?void 0:o,s=1),e=Object(e);++r<s;){var a=n[r];a&&t(e,a,r,o)}return e})}var c8=Object.prototype;function Ob(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||c8;return t===n}function d8(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var f8="[object Arguments]";function kS(t){return oi(t)&&$l(t)==f8}var $k=Object.prototype,h8=$k.hasOwnProperty,p8=$k.propertyIsEnumerable,m8=kS(function(){return arguments}())?kS:function(t){return oi(t)&&h8.call(t,"callee")&&!p8.call(t,"callee")};const wd=m8;function g8(){return!1}var Pk=typeof Fs=="object"&&Fs&&!Fs.nodeType&&Fs,IS=Pk&&typeof Bs=="object"&&Bs&&!Bs.nodeType&&Bs,v8=IS&&IS.exports===Pk,AS=v8?Po.Buffer:void 0,y8=AS?AS.isBuffer:void 0,b8=y8||g8;const _d=b8;var w8="[object Arguments]",_8="[object Array]",S8="[object Boolean]",E8="[object Date]",x8="[object Error]",T8="[object Function]",C8="[object Map]",k8="[object Number]",I8="[object Object]",A8="[object RegExp]",R8="[object Set]",L8="[object String]",$8="[object WeakMap]",P8="[object ArrayBuffer]",D8="[object DataView]",O8="[object Float32Array]",M8="[object Float64Array]",N8="[object Int8Array]",F8="[object Int16Array]",B8="[object Int32Array]",V8="[object Uint8Array]",U8="[object Uint8ClampedArray]",H8="[object Uint16Array]",j8="[object Uint32Array]",rr={};rr[O8]=rr[M8]=rr[N8]=rr[F8]=rr[B8]=rr[V8]=rr[U8]=rr[H8]=rr[j8]=!0;rr[w8]=rr[_8]=rr[P8]=rr[S8]=rr[D8]=rr[E8]=rr[x8]=rr[T8]=rr[C8]=rr[k8]=rr[I8]=rr[A8]=rr[R8]=rr[L8]=rr[$8]=!1;function K8(t){return oi(t)&&Db(t.length)&&!!rr[$l(t)]}function Mb(t){return function(e){return t(e)}}var Dk=typeof Fs=="object"&&Fs&&!Fs.nodeType&&Fs,Jc=Dk&&typeof Bs=="object"&&Bs&&!Bs.nodeType&&Bs,z8=Jc&&Jc.exports===Dk,Jg=z8&&xk.process,W8=function(){try{var t=Jc&&Jc.require&&Jc.require("util").types;return t||Jg&&Jg.binding&&Jg.binding("util")}catch{}}();const Ru=W8;var RS=Ru&&Ru.isTypedArray,G8=RS?Mb(RS):K8;const Nb=G8;var q8=Object.prototype,Y8=q8.hasOwnProperty;function Ok(t,e){var n=gs(t),r=!n&&wd(t),s=!n&&!r&&_d(t),o=!n&&!r&&!s&&Nb(t),i=n||r||s||o,a=i?d8(t.length,String):[],u=a.length;for(var l in t)(e||Y8.call(t,l))&&!(i&&(l=="length"||s&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Cm(l,u)))&&a.push(l);return a}function Mk(t,e){return function(n){return t(e(n))}}var X8=Mk(Object.keys,Object);const Q8=X8;var Z8=Object.prototype,J8=Z8.hasOwnProperty;function eN(t){if(!Ob(t))return Q8(t);var e=[];for(var n in Object(t))J8.call(t,n)&&n!="constructor"&&e.push(n);return e}function of(t){return tc(t)?Ok(t):eN(t)}function tN(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var nN=Object.prototype,rN=nN.hasOwnProperty;function sN(t){if(!vs(t))return tN(t);var e=Ob(t),n=[];for(var r in t)r=="constructor"&&(e||!rN.call(t,r))||n.push(r);return n}function af(t){return tc(t)?Ok(t,!0):sN(t)}var oN=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,iN=/^\w*$/;function Fb(t,e){if(gs(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Tm(t)?!0:iN.test(t)||!oN.test(t)||e!=null&&t in Object(e)}var aN=Dl(Object,"create");const Sd=aN;function lN(){this.__data__=Sd?Sd(null):{},this.size=0}function uN(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var cN="__lodash_hash_undefined__",dN=Object.prototype,fN=dN.hasOwnProperty;function hN(t){var e=this.__data__;if(Sd){var n=e[t];return n===cN?void 0:n}return fN.call(e,t)?e[t]:void 0}var pN=Object.prototype,mN=pN.hasOwnProperty;function gN(t){var e=this.__data__;return Sd?e[t]!==void 0:mN.call(e,t)}var vN="__lodash_hash_undefined__";function yN(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Sd&&e===void 0?vN:e,this}function El(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}El.prototype.clear=lN;El.prototype.delete=uN;El.prototype.get=hN;El.prototype.has=gN;El.prototype.set=yN;function bN(){this.__data__=[],this.size=0}function km(t,e){for(var n=t.length;n--;)if(sf(t[n][0],e))return n;return-1}var wN=Array.prototype,_N=wN.splice;function SN(t){var e=this.__data__,n=km(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():_N.call(e,n,1),--this.size,!0}function EN(t){var e=this.__data__,n=km(e,t);return n<0?void 0:e[n][1]}function xN(t){return km(this.__data__,t)>-1}function TN(t,e){var n=this.__data__,r=km(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Gi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gi.prototype.clear=bN;Gi.prototype.delete=SN;Gi.prototype.get=EN;Gi.prototype.has=xN;Gi.prototype.set=TN;var CN=Dl(Po,"Map");const Ed=CN;function kN(){this.size=0,this.__data__={hash:new El,map:new(Ed||Gi),string:new El}}function IN(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Im(t,e){var n=t.__data__;return IN(e)?n[typeof e=="string"?"string":"hash"]:n.map}function AN(t){var e=Im(this,t).delete(t);return this.size-=e?1:0,e}function RN(t){return Im(this,t).get(t)}function LN(t){return Im(this,t).has(t)}function $N(t,e){var n=Im(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function qi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qi.prototype.clear=kN;qi.prototype.delete=AN;qi.prototype.get=RN;qi.prototype.has=LN;qi.prototype.set=$N;var PN="Expected a function";function Am(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(PN);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],o=n.cache;if(o.has(s))return o.get(s);var i=t.apply(this,r);return n.cache=o.set(s,i)||o,i};return n.cache=new(Am.Cache||qi),n}Am.Cache=qi;var DN=500;function ON(t){var e=Am(t,function(r){return n.size===DN&&n.clear(),r}),n=e.cache;return e}var MN=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,NN=/\\(\\)?/g,FN=ON(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(MN,function(n,r,s,o){e.push(s?o.replace(NN,"$1"):r||n)}),e});const BN=FN;function VN(t){return t==null?"":Ck(t)}function nc(t,e){return gs(t)?t:Fb(t,e)?[t]:BN(VN(t))}var UN=1/0;function rc(t){if(typeof t=="string"||Tm(t))return t;var e=t+"";return e=="0"&&1/t==-UN?"-0":e}function Rm(t,e){e=nc(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[rc(e[n++])];return n&&n==r?t:void 0}function or(t,e,n){var r=t==null?void 0:Rm(t,e);return r===void 0?n:r}function Bb(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var LS=oo?oo.isConcatSpreadable:void 0;function HN(t){return gs(t)||wd(t)||!!(LS&&t&&t[LS])}function lf(t,e,n,r,s){var o=-1,i=t.length;for(n||(n=HN),s||(s=[]);++o<i;){var a=t[o];e>0&&n(a)?e>1?lf(a,e-1,n,r,s):Bb(s,a):r||(s[s.length]=a)}return s}function Nk(t){var e=t==null?0:t.length;return e?lf(t,1):[]}function Fk(t){return Ik(Rk(t,void 0,Nk),t+"")}var jN=Mk(Object.getPrototypeOf,Object);const Vb=jN;var KN="[object Object]",zN=Function.prototype,WN=Object.prototype,Bk=zN.toString,GN=WN.hasOwnProperty,qN=Bk.call(Object);function Vk(t){if(!oi(t)||$l(t)!=KN)return!1;var e=Vb(t);if(e===null)return!0;var n=GN.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Bk.call(n)==qN}function YN(t,e,n){var r=-1,s=t.length;e<0&&(e=-e>s?0:s+e),n=n>s?s:n,n<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(s);++r<s;)o[r]=t[r+e];return o}function Jr(){if(!arguments.length)return[];var t=arguments[0];return gs(t)?t:[t]}function XN(){this.__data__=new Gi,this.size=0}function QN(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function ZN(t){return this.__data__.get(t)}function JN(t){return this.__data__.has(t)}var e6=200;function t6(t,e){var n=this.__data__;if(n instanceof Gi){var r=n.__data__;if(!Ed||r.length<e6-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new qi(r)}return n.set(t,e),this.size=n.size,this}function To(t){var e=this.__data__=new Gi(t);this.size=e.size}To.prototype.clear=XN;To.prototype.delete=QN;To.prototype.get=ZN;To.prototype.has=JN;To.prototype.set=t6;function n6(t,e){return t&&ec(e,of(e),t)}function r6(t,e){return t&&ec(e,af(e),t)}var Uk=typeof Fs=="object"&&Fs&&!Fs.nodeType&&Fs,$S=Uk&&typeof Bs=="object"&&Bs&&!Bs.nodeType&&Bs,s6=$S&&$S.exports===Uk,PS=s6?Po.Buffer:void 0,DS=PS?PS.allocUnsafe:void 0;function Hk(t,e){if(e)return t.slice();var n=t.length,r=DS?DS(n):new t.constructor(n);return t.copy(r),r}function o6(t,e){for(var n=-1,r=t==null?0:t.length,s=0,o=[];++n<r;){var i=t[n];e(i,n,t)&&(o[s++]=i)}return o}function jk(){return[]}var i6=Object.prototype,a6=i6.propertyIsEnumerable,OS=Object.getOwnPropertySymbols,l6=OS?function(t){return t==null?[]:(t=Object(t),o6(OS(t),function(e){return a6.call(t,e)}))}:jk;const Ub=l6;function u6(t,e){return ec(t,Ub(t),e)}var c6=Object.getOwnPropertySymbols,d6=c6?function(t){for(var e=[];t;)Bb(e,Ub(t)),t=Vb(t);return e}:jk;const Kk=d6;function f6(t,e){return ec(t,Kk(t),e)}function zk(t,e,n){var r=e(t);return gs(t)?r:Bb(r,n(t))}function y0(t){return zk(t,of,Ub)}function Wk(t){return zk(t,af,Kk)}var h6=Dl(Po,"DataView");const b0=h6;var p6=Dl(Po,"Promise");const w0=p6;var m6=Dl(Po,"Set");const gu=m6;var MS="[object Map]",g6="[object Object]",NS="[object Promise]",FS="[object Set]",BS="[object WeakMap]",VS="[object DataView]",v6=Pl(b0),y6=Pl(Ed),b6=Pl(w0),w6=Pl(gu),_6=Pl(v0),nl=$l;(b0&&nl(new b0(new ArrayBuffer(1)))!=VS||Ed&&nl(new Ed)!=MS||w0&&nl(w0.resolve())!=NS||gu&&nl(new gu)!=FS||v0&&nl(new v0)!=BS)&&(nl=function(t){var e=$l(t),n=e==g6?t.constructor:void 0,r=n?Pl(n):"";if(r)switch(r){case v6:return VS;case y6:return MS;case b6:return NS;case w6:return FS;case _6:return BS}return e});const xd=nl;var S6=Object.prototype,E6=S6.hasOwnProperty;function x6(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&E6.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var T6=Po.Uint8Array;const xp=T6;function Hb(t){var e=new t.constructor(t.byteLength);return new xp(e).set(new xp(t)),e}function C6(t,e){var n=e?Hb(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var k6=/\w*$/;function I6(t){var e=new t.constructor(t.source,k6.exec(t));return e.lastIndex=t.lastIndex,e}var US=oo?oo.prototype:void 0,HS=US?US.valueOf:void 0;function A6(t){return HS?Object(HS.call(t)):{}}function Gk(t,e){var n=e?Hb(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var R6="[object Boolean]",L6="[object Date]",$6="[object Map]",P6="[object Number]",D6="[object RegExp]",O6="[object Set]",M6="[object String]",N6="[object Symbol]",F6="[object ArrayBuffer]",B6="[object DataView]",V6="[object Float32Array]",U6="[object Float64Array]",H6="[object Int8Array]",j6="[object Int16Array]",K6="[object Int32Array]",z6="[object Uint8Array]",W6="[object Uint8ClampedArray]",G6="[object Uint16Array]",q6="[object Uint32Array]";function Y6(t,e,n){var r=t.constructor;switch(e){case F6:return Hb(t);case R6:case L6:return new r(+t);case B6:return C6(t,n);case V6:case U6:case H6:case j6:case K6:case z6:case W6:case G6:case q6:return Gk(t,n);case $6:return new r;case P6:case M6:return new r(t);case D6:return I6(t);case O6:return new r;case N6:return A6(t)}}function qk(t){return typeof t.constructor=="function"&&!Ob(t)?VM(Vb(t)):{}}var X6="[object Map]";function Q6(t){return oi(t)&&xd(t)==X6}var jS=Ru&&Ru.isMap,Z6=jS?Mb(jS):Q6;const J6=Z6;var eF="[object Set]";function tF(t){return oi(t)&&xd(t)==eF}var KS=Ru&&Ru.isSet,nF=KS?Mb(KS):tF;const rF=nF;var sF=1,oF=2,iF=4,Yk="[object Arguments]",aF="[object Array]",lF="[object Boolean]",uF="[object Date]",cF="[object Error]",Xk="[object Function]",dF="[object GeneratorFunction]",fF="[object Map]",hF="[object Number]",Qk="[object Object]",pF="[object RegExp]",mF="[object Set]",gF="[object String]",vF="[object Symbol]",yF="[object WeakMap]",bF="[object ArrayBuffer]",wF="[object DataView]",_F="[object Float32Array]",SF="[object Float64Array]",EF="[object Int8Array]",xF="[object Int16Array]",TF="[object Int32Array]",CF="[object Uint8Array]",kF="[object Uint8ClampedArray]",IF="[object Uint16Array]",AF="[object Uint32Array]",Jn={};Jn[Yk]=Jn[aF]=Jn[bF]=Jn[wF]=Jn[lF]=Jn[uF]=Jn[_F]=Jn[SF]=Jn[EF]=Jn[xF]=Jn[TF]=Jn[fF]=Jn[hF]=Jn[Qk]=Jn[pF]=Jn[mF]=Jn[gF]=Jn[vF]=Jn[CF]=Jn[kF]=Jn[IF]=Jn[AF]=!0;Jn[cF]=Jn[Xk]=Jn[yF]=!1;function vu(t,e,n,r,s,o){var i,a=e&sF,u=e&oF,l=e&iF;if(n&&(i=s?n(t,r,s,o):n(t)),i!==void 0)return i;if(!vs(t))return t;var c=gs(t);if(c){if(i=x6(t),!a)return kk(t,i)}else{var d=xd(t),f=d==Xk||d==dF;if(_d(t))return Hk(t,a);if(d==Qk||d==Yk||f&&!s){if(i=u||f?{}:qk(t),!a)return u?f6(t,r6(i,t)):u6(t,n6(i,t))}else{if(!Jn[d])return s?t:{};i=Y6(t,d,a)}}o||(o=new To);var h=o.get(t);if(h)return h;o.set(t,i),rF(t)?t.forEach(function(v){i.add(vu(v,e,n,v,t,o))}):J6(t)&&t.forEach(function(v,y){i.set(y,vu(v,e,n,y,t,o))});var p=l?u?Wk:y0:u?af:of,g=c?void 0:p(t);return ZM(g||t,function(v,y){g&&(y=v,v=t[y]),Pb(i,y,vu(v,e,n,y,t,o))}),i}var RF=4;function zS(t){return vu(t,RF)}var LF=1,$F=4;function Tp(t){return vu(t,LF|$F)}var PF="__lodash_hash_undefined__";function DF(t){return this.__data__.set(t,PF),this}function OF(t){return this.__data__.has(t)}function Td(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new qi;++e<n;)this.add(t[e])}Td.prototype.add=Td.prototype.push=DF;Td.prototype.has=OF;function MF(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Zk(t,e){return t.has(e)}var NF=1,FF=2;function Jk(t,e,n,r,s,o){var i=n&NF,a=t.length,u=e.length;if(a!=u&&!(i&&u>a))return!1;var l=o.get(t),c=o.get(e);if(l&&c)return l==e&&c==t;var d=-1,f=!0,h=n&FF?new Td:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var p=t[d],g=e[d];if(r)var v=i?r(g,p,d,e,t,o):r(p,g,d,t,e,o);if(v!==void 0){if(v)continue;f=!1;break}if(h){if(!MF(e,function(y,_){if(!Zk(h,_)&&(p===y||s(p,y,n,r,o)))return h.push(_)})){f=!1;break}}else if(!(p===g||s(p,g,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}function BF(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}function jb(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var VF=1,UF=2,HF="[object Boolean]",jF="[object Date]",KF="[object Error]",zF="[object Map]",WF="[object Number]",GF="[object RegExp]",qF="[object Set]",YF="[object String]",XF="[object Symbol]",QF="[object ArrayBuffer]",ZF="[object DataView]",WS=oo?oo.prototype:void 0,ev=WS?WS.valueOf:void 0;function JF(t,e,n,r,s,o,i){switch(n){case ZF:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case QF:return!(t.byteLength!=e.byteLength||!o(new xp(t),new xp(e)));case HF:case jF:case WF:return sf(+t,+e);case KF:return t.name==e.name&&t.message==e.message;case GF:case YF:return t==e+"";case zF:var a=BF;case qF:var u=r&VF;if(a||(a=jb),t.size!=e.size&&!u)return!1;var l=i.get(t);if(l)return l==e;r|=UF,i.set(t,e);var c=Jk(a(t),a(e),r,s,o,i);return i.delete(t),c;case XF:if(ev)return ev.call(t)==ev.call(e)}return!1}var e5=1,t5=Object.prototype,n5=t5.hasOwnProperty;function r5(t,e,n,r,s,o){var i=n&e5,a=y0(t),u=a.length,l=y0(e),c=l.length;if(u!=c&&!i)return!1;for(var d=u;d--;){var f=a[d];if(!(i?f in e:n5.call(e,f)))return!1}var h=o.get(t),p=o.get(e);if(h&&p)return h==e&&p==t;var g=!0;o.set(t,e),o.set(e,t);for(var v=i;++d<u;){f=a[d];var y=t[f],_=e[f];if(r)var b=i?r(_,y,f,e,t,o):r(y,_,f,t,e,o);if(!(b===void 0?y===_||s(y,_,n,r,o):b)){g=!1;break}v||(v=f=="constructor")}if(g&&!v){var w=t.constructor,S=e.constructor;w!=S&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(g=!1)}return o.delete(t),o.delete(e),g}var s5=1,GS="[object Arguments]",qS="[object Array]",Jf="[object Object]",o5=Object.prototype,YS=o5.hasOwnProperty;function i5(t,e,n,r,s,o){var i=gs(t),a=gs(e),u=i?qS:xd(t),l=a?qS:xd(e);u=u==GS?Jf:u,l=l==GS?Jf:l;var c=u==Jf,d=l==Jf,f=u==l;if(f&&_d(t)){if(!_d(e))return!1;i=!0,c=!1}if(f&&!c)return o||(o=new To),i||Nb(t)?Jk(t,e,n,r,s,o):JF(t,e,u,n,r,s,o);if(!(n&s5)){var h=c&&YS.call(t,"__wrapped__"),p=d&&YS.call(e,"__wrapped__");if(h||p){var g=h?t.value():t,v=p?e.value():e;return o||(o=new To),s(g,v,n,r,o)}}return f?(o||(o=new To),r5(t,e,n,r,s,o)):!1}function Lm(t,e,n,r,s){return t===e?!0:t==null||e==null||!oi(t)&&!oi(e)?t!==t&&e!==e:i5(t,e,n,r,Lm,s)}var a5=1,l5=2;function u5(t,e,n,r){var s=n.length,o=s,i=!r;if(t==null)return!o;for(t=Object(t);s--;){var a=n[s];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++s<o;){a=n[s];var u=a[0],l=t[u],c=a[1];if(i&&a[2]){if(l===void 0&&!(u in t))return!1}else{var d=new To;if(r)var f=r(l,c,u,t,e,d);if(!(f===void 0?Lm(c,l,a5|l5,r,d):f))return!1}}return!0}function eI(t){return t===t&&!vs(t)}function c5(t){for(var e=of(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,eI(s)]}return e}function tI(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function d5(t){var e=c5(t);return e.length==1&&e[0][2]?tI(e[0][0],e[0][1]):function(n){return n===t||u5(n,t,e)}}function f5(t,e){return t!=null&&e in Object(t)}function h5(t,e,n){e=nc(e,t);for(var r=-1,s=e.length,o=!1;++r<s;){var i=rc(e[r]);if(!(o=t!=null&&n(t,i)))break;t=t[i]}return o||++r!=s?o:(s=t==null?0:t.length,!!s&&Db(s)&&Cm(i,s)&&(gs(t)||wd(t)))}function nI(t,e){return t!=null&&h5(t,e,f5)}var p5=1,m5=2;function g5(t,e){return Fb(t)&&eI(e)?tI(rc(t),e):function(n){var r=or(n,t);return r===void 0&&r===e?nI(n,t):Lm(e,r,p5|m5)}}function v5(t){return function(e){return e==null?void 0:e[t]}}function y5(t){return function(e){return Rm(e,t)}}function b5(t){return Fb(t)?v5(rc(t)):y5(t)}function rI(t){return typeof t=="function"?t:t==null?Rb:typeof t=="object"?gs(t)?g5(t[0],t[1]):d5(t):b5(t)}function w5(t){return function(e,n,r){for(var s=-1,o=Object(e),i=r(e),a=i.length;a--;){var u=i[t?a:++s];if(n(o[u],u,o)===!1)break}return e}}var _5=w5();const sI=_5;function S5(t,e){return t&&sI(t,e,of)}function E5(t,e){return function(n,r){if(n==null)return n;if(!tc(n))return t(n,r);for(var s=n.length,o=e?s:-1,i=Object(n);(e?o--:++o<s)&&r(i[o],o,i)!==!1;);return n}}var x5=E5(S5);const T5=x5;var C5=function(){return Po.Date.now()};const tv=C5;var k5="Expected a function",I5=Math.max,A5=Math.min;function As(t,e,n){var r,s,o,i,a,u,l=0,c=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(k5);e=g0(e)||0,vs(n)&&(c=!!n.leading,d="maxWait"in n,o=d?I5(g0(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function h(E){var T=r,I=s;return r=s=void 0,l=E,i=t.apply(I,T),i}function p(E){return l=E,a=setTimeout(y,e),c?h(E):i}function g(E){var T=E-u,I=E-l,k=e-T;return d?A5(k,o-I):k}function v(E){var T=E-u,I=E-l;return u===void 0||T>=e||T<0||d&&I>=o}function y(){var E=tv();if(v(E))return _(E);a=setTimeout(y,g(E))}function _(E){return a=void 0,f&&r?h(E):(r=s=void 0,i)}function b(){a!==void 0&&clearTimeout(a),l=0,r=u=s=a=void 0}function w(){return a===void 0?i:_(tv())}function S(){var E=tv(),T=v(E);if(r=arguments,s=this,u=E,T){if(a===void 0)return p(u);if(d)return clearTimeout(a),a=setTimeout(y,e),h(u)}return a===void 0&&(a=setTimeout(y,e)),i}return S.cancel=b,S.flush=w,S}function _0(t,e,n){(n!==void 0&&!sf(t[e],n)||n===void 0&&!(e in t))&&$b(t,e,n)}function oI(t){return oi(t)&&tc(t)}function S0(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function R5(t){return ec(t,af(t))}function L5(t,e,n,r,s,o,i){var a=S0(t,n),u=S0(e,n),l=i.get(u);if(l){_0(t,n,l);return}var c=o?o(a,u,n+"",t,e,i):void 0,d=c===void 0;if(d){var f=gs(u),h=!f&&_d(u),p=!f&&!h&&Nb(u);c=u,f||h||p?gs(a)?c=a:oI(a)?c=kk(a):h?(d=!1,c=Hk(u,!0)):p?(d=!1,c=Gk(u,!0)):c=[]:Vk(u)||wd(u)?(c=a,wd(a)?c=R5(a):(!vs(a)||Lb(a))&&(c=qk(u))):d=!1}d&&(i.set(u,c),s(c,u,r,o,i),i.delete(u)),_0(t,n,c)}function iI(t,e,n,r,s){t!==e&&sI(e,function(o,i){if(s||(s=new To),vs(o))L5(t,e,i,n,iI,r,s);else{var a=r?r(S0(t,i),o,i+"",t,e,s):void 0;a===void 0&&(a=o),_0(t,i,a)}},af)}function $5(t,e,n){for(var r=-1,s=t==null?0:t.length;++r<s;)if(n(e,t[r]))return!0;return!1}function P5(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var D5=Math.max,O5=Math.min;function aI(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var s=r-1;return n!==void 0&&(s=wM(n),s=n<0?D5(r+s,0):O5(s,r-1)),Ak(t,rI(e),s,!0)}function M5(t,e){var n=-1,r=tc(t)?Array(t.length):[];return T5(t,function(s,o,i){r[++n]=e(s,o,i)}),r}function N5(t,e){var n=gs(t)?Ab:M5;return n(t,rI(e))}function F5(t,e){return lf(N5(t,e),1)}var B5=1/0;function V5(t){var e=t==null?0:t.length;return e?lf(t,B5):[]}function Cd(t){for(var e=-1,n=t==null?0:t.length,r={};++e<n;){var s=t[e];r[s[0]]=s[1]}return r}function U5(t,e){return e.length<2?t:Rm(t,YN(e,0,-1))}function Lr(t,e){return Lm(t,e)}function xr(t){return t==null}function uf(t){return t===null}function lI(t){return t===void 0}var H5=u8(function(t,e,n){iI(t,e,n)});const uI=H5;function j5(t,e){return e=nc(e,t),t=U5(t,e),t==null||delete t[rc(P5(e))]}function K5(t){return Vk(t)?void 0:t}var z5=1,W5=2,G5=4,q5=Fk(function(t,e){var n={};if(t==null)return n;var r=!1;e=Ab(e,function(o){return o=nc(o,t),r||(r=o.length>1),o}),ec(t,Wk(t),n),r&&(n=vu(n,z5|W5|G5,K5));for(var s=e.length;s--;)j5(n,e[s]);return n});const Y5=q5;function cI(t,e,n,r){if(!vs(t))return t;e=nc(e,t);for(var s=-1,o=e.length,i=o-1,a=t;a!=null&&++s<o;){var u=rc(e[s]),l=n;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(s!=i){var c=a[u];l=r?r(c,u,a):void 0,l===void 0&&(l=vs(c)?c:Cm(e[s+1])?[]:{})}Pb(a,u,l),a=a[u]}return t}function X5(t,e,n){for(var r=-1,s=e.length,o={};++r<s;){var i=e[r],a=Rm(t,i);n(a,i)&&cI(o,nc(i,t),a)}return o}function Q5(t,e){return X5(t,e,function(n,r){return nI(t,r)})}var Z5=Fk(function(t,e){return t==null?{}:Q5(t,e)});const So=Z5;function J5(t,e,n){return t==null?t:cI(t,e,n)}var eB="Expected a function";function pl(t,e,n){var r=!0,s=!0;if(typeof t!="function")throw new TypeError(eB);return vs(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),As(t,e,{leading:r,maxWait:e,trailing:s})}var tB=1/0,nB=gu&&1/jb(new gu([,-0]))[1]==tB?function(t){return new gu(t)}:HM;const rB=nB;var sB=200;function oB(t,e,n){var r=-1,s=n8,o=t.length,i=!0,a=[],u=a;if(n)i=!1,s=$5;else if(o>=sB){var l=e?null:rB(t);if(l)return jb(l);i=!1,s=Zk,u=new Td}else u=e?[]:a;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,i&&d===d){for(var f=u.length;f--;)if(u[f]===d)continue e;e&&u.push(d),a.push(c)}else s(u,d,n)||(u!==a&&u.push(d),a.push(c))}return a}var iB=Lk(function(t){return oB(lf(t,1,oI,!0))});const nv=iB,ln=t=>t===void 0,En=t=>typeof t=="boolean",bt=t=>typeof t=="number",Ds=t=>!t&&t!==0||Ke(t)&&t.length===0||Kt(t)&&!Object.keys(t).length,hs=t=>typeof Element>"u"?!1:t instanceof Element,ro=t=>xr(t),aB=t=>ht(t)?!Number.isNaN(Number(t)):!1,$m=t=>t===window;var lB=Object.defineProperty,uB=Object.defineProperties,cB=Object.getOwnPropertyDescriptors,XS=Object.getOwnPropertySymbols,dB=Object.prototype.hasOwnProperty,fB=Object.prototype.propertyIsEnumerable,QS=(t,e,n)=>e in t?lB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hB=(t,e)=>{for(var n in e||(e={}))dB.call(e,n)&&QS(t,n,e[n]);if(XS)for(var n of XS(e))fB.call(e,n)&&QS(t,n,e[n]);return t},pB=(t,e)=>uB(t,cB(e));function Cp(t,e){var n;const r=On();return Fr(()=>{r.value=t()},pB(hB({},e),{flush:(n=e==null?void 0:e.flush)!=null?n:"sync"})),Zu(r)}var ZS;const an=typeof window<"u",mB=t=>typeof t<"u",E0=t=>typeof t=="function",gB=t=>typeof t=="string",Lu=()=>{},kp=an&&((ZS=window==null?void 0:window.navigator)==null?void 0:ZS.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function La(t){return typeof t=="function"?t():m(t)}function dI(t,e){function n(...r){return new Promise((s,o)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(s).catch(o)})}return n}function vB(t,e={}){let n,r,s=Lu;const o=a=>{clearTimeout(a),s(),s=Lu};return a=>{const u=La(t),l=La(e.maxWait);return n&&o(n),u<=0||l!==void 0&&l<=0?(r&&(o(r),r=null),Promise.resolve(a())):new Promise((c,d)=>{s=e.rejectOnCancel?d:c,l&&!r&&(r=setTimeout(()=>{n&&o(n),r=null,c(a())},l)),n=setTimeout(()=>{r&&o(r),r=null,c(a())},u)})}}function yB(t,e=!0,n=!0,r=!1){let s=0,o,i=!0,a=Lu,u;const l=()=>{o&&(clearTimeout(o),o=void 0,a(),a=Lu)};return d=>{const f=La(t),h=Date.now()-s,p=()=>u=d();return l(),f<=0?(s=Date.now(),p()):(h>f&&(n||!i)?(s=Date.now(),p()):e&&(u=new Promise((g,v)=>{a=r?v:g,o=setTimeout(()=>{s=Date.now(),i=!0,g(p()),l()},Math.max(0,f-h))})),!n&&!o&&(o=setTimeout(()=>i=!0,f)),i=!1,u)}}function bB(t){return t}function wB(t,e){let n,r,s;const o=q(!0),i=()=>{o.value=!0,s()};Pe(t,i,{flush:"sync"});const a=E0(e)?e:e.get,u=E0(e)?void 0:e.set,l=s4((c,d)=>(r=c,s=d,{get(){return o.value&&(n=a(),o.value=!1),r(),n},set(f){u==null||u(f)}}));return Object.isExtensible(l)&&(l.trigger=i),l}function cf(t){return sC()?(oC(t),!0):!1}function _B(t,e=200,n={}){return dI(vB(e,n),t)}function SB(t,e=200,n={}){const r=q(t.value),s=_B(()=>{r.value=t.value},e,n);return Pe(t,()=>s()),r}function fI(t,e=200,n=!1,r=!0,s=!1){return dI(yB(e,n,r,s),t)}function Kb(t,e=!0){Gt()?xt(t):e?t():pt(t)}function xl(t,e,n={}){const{immediate:r=!0}=n,s=q(!1);let o=null;function i(){o&&(clearTimeout(o),o=null)}function a(){s.value=!1,i()}function u(...l){i(),s.value=!0,o=setTimeout(()=>{s.value=!1,o=null,t(...l)},La(e))}return r&&(s.value=!0,an&&u()),cf(a),{isPending:Zu(s),start:u,stop:a}}function fs(t){var e;const n=La(t);return(e=n==null?void 0:n.$el)!=null?e:n}const ja=an?window:void 0,EB=an?window.document:void 0;function xn(...t){let e,n,r,s;if(gB(t[0])||Array.isArray(t[0])?([n,r,s]=t,e=ja):[e,n,r,s]=t,!e)return Lu;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],i=()=>{o.forEach(c=>c()),o.length=0},a=(c,d,f,h)=>(c.addEventListener(d,f,h),()=>c.removeEventListener(d,f,h)),u=Pe(()=>[fs(e),La(s)],([c,d])=>{i(),c&&o.push(...n.flatMap(f=>r.map(h=>a(c,f,h,d))))},{immediate:!0,flush:"post"}),l=()=>{u(),i()};return cf(l),l}let JS=!1;function zb(t,e,n={}){const{window:r=ja,ignore:s=[],capture:o=!0,detectIframe:i=!1}=n;if(!r)return;kp&&!JS&&(JS=!0,Array.from(r.document.body.children).forEach(f=>f.addEventListener("click",Lu)));let a=!0;const u=f=>s.some(h=>{if(typeof h=="string")return Array.from(r.document.querySelectorAll(h)).some(p=>p===f.target||f.composedPath().includes(p));{const p=fs(h);return p&&(f.target===p||f.composedPath().includes(p))}}),c=[xn(r,"click",f=>{const h=fs(t);if(!(!h||h===f.target||f.composedPath().includes(h))){if(f.detail===0&&(a=!u(f)),!a){a=!0;return}e(f)}},{passive:!0,capture:o}),xn(r,"pointerdown",f=>{const h=fs(t);h&&(a=!f.composedPath().includes(h)&&!u(f))},{passive:!0}),i&&xn(r,"blur",f=>{var h;const p=fs(t);((h=r.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(p!=null&&p.contains(r.document.activeElement))&&e(f)})].filter(Boolean);return()=>c.forEach(f=>f())}function xB(t={}){var e;const{window:n=ja}=t,r=(e=t.document)!=null?e:n==null?void 0:n.document,s=wB(()=>null,()=>r==null?void 0:r.activeElement);return n&&(xn(n,"blur",o=>{o.relatedTarget===null&&s.trigger()},!0),xn(n,"focus",s.trigger,!0)),s}function hI(t,e=!1){const n=q(),r=()=>n.value=!!t();return r(),Kb(r,e),n}function TB(t){return JSON.parse(JSON.stringify(t))}const eE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tE="__vueuse_ssr_handlers__";eE[tE]=eE[tE]||{};function CB(t,e,{window:n=ja,initialValue:r=""}={}){const s=q(r),o=P(()=>{var i;return fs(e)||((i=n==null?void 0:n.document)==null?void 0:i.documentElement)});return Pe([o,()=>La(t)],([i,a])=>{var u;if(i&&n){const l=(u=n.getComputedStyle(i).getPropertyValue(a))==null?void 0:u.trim();s.value=l||r}},{immediate:!0}),Pe(s,i=>{var a;(a=o.value)!=null&&a.style&&o.value.style.setProperty(La(t),i)}),s}function kB({document:t=EB}={}){if(!t)return q("visible");const e=q(t.visibilityState);return xn(t,"visibilitychange",()=>{e.value=t.visibilityState}),e}var nE=Object.getOwnPropertySymbols,IB=Object.prototype.hasOwnProperty,AB=Object.prototype.propertyIsEnumerable,RB=(t,e)=>{var n={};for(var r in t)IB.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&nE)for(var r of nE(t))e.indexOf(r)<0&&AB.call(t,r)&&(n[r]=t[r]);return n};function qn(t,e,n={}){const r=n,{window:s=ja}=r,o=RB(r,["window"]);let i;const a=hI(()=>s&&"ResizeObserver"in s),u=()=>{i&&(i.disconnect(),i=void 0)},l=Pe(()=>fs(t),d=>{u(),a.value&&s&&d&&(i=new ResizeObserver(e),i.observe(d,o))},{immediate:!0,flush:"post"}),c=()=>{u(),l()};return cf(c),{isSupported:a,stop:c}}function rE(t,e={}){const{reset:n=!0,windowResize:r=!0,windowScroll:s=!0,immediate:o=!0}=e,i=q(0),a=q(0),u=q(0),l=q(0),c=q(0),d=q(0),f=q(0),h=q(0);function p(){const g=fs(t);if(!g){n&&(i.value=0,a.value=0,u.value=0,l.value=0,c.value=0,d.value=0,f.value=0,h.value=0);return}const v=g.getBoundingClientRect();i.value=v.height,a.value=v.bottom,u.value=v.left,l.value=v.right,c.value=v.top,d.value=v.width,f.value=v.x,h.value=v.y}return qn(t,p),Pe(()=>fs(t),g=>!g&&p()),s&&xn("scroll",p,{capture:!0,passive:!0}),r&&xn("resize",p,{passive:!0}),Kb(()=>{o&&p()}),{height:i,bottom:a,left:u,right:l,top:c,width:d,x:f,y:h,update:p}}var sE=Object.getOwnPropertySymbols,LB=Object.prototype.hasOwnProperty,$B=Object.prototype.propertyIsEnumerable,PB=(t,e)=>{var n={};for(var r in t)LB.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&sE)for(var r of sE(t))e.indexOf(r)<0&&$B.call(t,r)&&(n[r]=t[r]);return n};function pI(t,e,n={}){const r=n,{window:s=ja}=r,o=PB(r,["window"]);let i;const a=hI(()=>s&&"MutationObserver"in s),u=()=>{i&&(i.disconnect(),i=void 0)},l=Pe(()=>fs(t),d=>{u(),a.value&&s&&d&&(i=new MutationObserver(e),i.observe(d,o))},{immediate:!0}),c=()=>{u(),l()};return cf(c),{isSupported:a,stop:c}}var oE;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(oE||(oE={}));var DB=Object.defineProperty,iE=Object.getOwnPropertySymbols,OB=Object.prototype.hasOwnProperty,MB=Object.prototype.propertyIsEnumerable,aE=(t,e,n)=>e in t?DB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,NB=(t,e)=>{for(var n in e||(e={}))OB.call(e,n)&&aE(t,n,e[n]);if(iE)for(var n of iE(e))MB.call(e,n)&&aE(t,n,e[n]);return t};const FB={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};NB({linear:bB},FB);function mI(t,e,n,r={}){var s,o,i;const{clone:a=!1,passive:u=!1,eventName:l,deep:c=!1,defaultValue:d}=r,f=Gt(),h=n||(f==null?void 0:f.emit)||((s=f==null?void 0:f.$emit)==null?void 0:s.bind(f))||((i=(o=f==null?void 0:f.proxy)==null?void 0:o.$emit)==null?void 0:i.bind(f==null?void 0:f.proxy));let p=l;e||(e="modelValue"),p=l||p||`update:${e.toString()}`;const g=y=>a?E0(a)?a(y):TB(y):y,v=()=>mB(t[e])?g(t[e]):d;if(u){const y=v(),_=q(y);return Pe(()=>t[e],b=>_.value=g(b)),Pe(_,b=>{(b!==t[e]||c)&&h(p,b)},{deep:c}),_}else return P({get(){return v()},set(y){h(p,y)}})}function BB({window:t=ja}={}){if(!t)return q(!1);const e=q(t.document.hasFocus());return xn(t,"blur",()=>{e.value=!1}),xn(t,"focus",()=>{e.value=!0}),e}function VB(t={}){const{window:e=ja,initialWidth:n=1/0,initialHeight:r=1/0,listenOrientation:s=!0,includeScrollbar:o=!0}=t,i=q(n),a=q(r),u=()=>{e&&(o?(i.value=e.innerWidth,a.value=e.innerHeight):(i.value=e.document.documentElement.clientWidth,a.value=e.document.documentElement.clientHeight))};return u(),Kb(u),xn("resize",u,{passive:!0}),s&&xn("orientationchange",u,{passive:!0}),{width:i,height:a}}class UB extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function hr(t,e){throw new UB(`[${t}] ${e}`)}const lE={current:0},uE=q(0),gI=2e3,cE=Symbol("elZIndexContextKey"),vI=Symbol("zIndexContextKey"),sc=t=>{const e=Gt()?rt(cE,lE):lE,n=t||(Gt()?rt(vI,void 0):void 0),r=P(()=>{const i=m(n);return bt(i)?i:gI}),s=P(()=>r.value+uE.value),o=()=>(e.current++,uE.value=e.current,s.value);return!an&&rt(cE),{initialZIndex:r,currentZIndex:s,nextZIndex:o}};var HB={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const jB=t=>(e,n)=>KB(e,n,m(t)),KB=(t,e,n)=>or(n,t,t).replace(/\{(\w+)\}/g,(r,s)=>{var o;return`${(o=e==null?void 0:e[s])!=null?o:`{${s}}`}`}),zB=t=>{const e=P(()=>m(t).name),n=Dn(t)?t:q(t);return{lang:e,locale:n,t:jB(t)}},yI=Symbol("localeContextKey"),un=t=>{const e=t||rt(yI,q());return zB(P(()=>e.value||HB))},bI="__epPropKey",me=t=>t,WB=t=>Kt(t)&&!!t[bI],Do=(t,e)=>{if(!Kt(t)||WB(t))return t;const{values:n,required:r,default:s,type:o,validator:i}=t,u={type:o,required:!!r,validator:n||i?l=>{let c=!1,d=[];if(n&&(d=Array.from(n),dn(t,"default")&&d.push(s),c||(c=d.includes(l))),i&&(c||(c=i(l))),!c&&d.length>0){const f=[...new Set(d)].map(h=>JSON.stringify(h)).join(", ");c3(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${f}], got value ${JSON.stringify(l)}.`)}return c}:void 0,[bI]:!0};return dn(t,"default")&&(u.default=s),u},qe=t=>Cd(Object.entries(t).map(([e,n])=>[e,Do(n,e)])),di=["","default","small","large"],pr=Do({type:String,values:di,required:!1}),wI=Symbol("size"),_I=()=>{const t=rt(wI,{});return P(()=>m(t.size)||"")},SI=Symbol("emptyValuesContextKey"),GB=["",void 0,null],qB=void 0,oc=qe({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:t=>vt(t)?!t():!t}}),Pm=(t,e)=>{const n=Gt()?rt(SI,q({})):q({}),r=P(()=>t.emptyValues||n.value.emptyValues||GB),s=P(()=>vt(t.valueOnClear)?t.valueOnClear():t.valueOnClear!==void 0?t.valueOnClear:vt(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:e!==void 0?e:qB),o=i=>r.value.includes(i);return r.value.includes(s.value),{emptyValues:r,valueOnClear:s,isEmptyValue:o}},$u=t=>Object.keys(t),EI=t=>Object.entries(t),ed=(t,e,n)=>({get value(){return or(t,e,n)},set value(r){J5(t,e,r)}}),Ip=q();function Dm(t,e=void 0){const n=Gt()?rt(Sk,Ip):Ip;return t?P(()=>{var r,s;return(s=(r=n.value)==null?void 0:r[t])!=null?s:e}):n}function Om(t,e){const n=Dm(),r=Ne(t,P(()=>{var a;return((a=n.value)==null?void 0:a.namespace)||Zc})),s=un(P(()=>{var a;return(a=n.value)==null?void 0:a.locale})),o=sc(P(()=>{var a;return((a=n.value)==null?void 0:a.zIndex)||gI})),i=P(()=>{var a;return m(e)||((a=n.value)==null?void 0:a.size)||""});return Wb(P(()=>m(n)||{})),{ns:r,locale:s,zIndex:o,size:i}}const Wb=(t,e,n=!1)=>{var r;const s=!!Gt(),o=s?Dm():void 0,i=(r=e==null?void 0:e.provide)!=null?r:s?Qt:void 0;if(!i)return;const a=P(()=>{const u=m(t);return o!=null&&o.value?YB(o.value,u):u});return i(Sk,a),i(yI,P(()=>a.value.locale)),i(Ek,P(()=>a.value.namespace)),i(vI,P(()=>a.value.zIndex)),i(wI,{size:P(()=>a.value.size||"")}),i(SI,P(()=>({emptyValues:a.value.emptyValues,valueOnClear:a.value.valueOnClear}))),(n||!Ip.value)&&(Ip.value=a.value),a},YB=(t,e)=>{const n=[...new Set([...$u(t),...$u(e)])],r={};for(const s of n)r[s]=e[s]!==void 0?e[s]:t[s];return r},XB=(t=[])=>({version:G3,install:(n,r)=>{n[yS]||(n[yS]=!0,t.forEach(s=>n.use(s)),r&&Wb(r,n,!0))}}),$t="update:modelValue",Yt="change",yr="input",QB=qe({zIndex:{type:me([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),ZB={scroll:({scrollTop:t,fixed:e})=>bt(t)&&En(e),[Yt]:t=>En(t)};var Ye=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n};function JB(t,e,n,r){const s=n-e;return t/=r/2,t<1?s/2*t*t*t+e:s/2*((t-=2)*t*t+2)+e}const $a=t=>an?window.requestAnimationFrame(t):setTimeout(t,16),Tl=t=>an?window.cancelAnimationFrame(t):clearTimeout(t),xI=(t="")=>t.split(" ").filter(e=>!!e.trim()),Ts=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},Js=(t,e)=>{!t||!e.trim()||t.classList.add(...xI(e))},ns=(t,e)=>{!t||!e.trim()||t.classList.remove(...xI(e))},Pi=(t,e)=>{var n;if(!an||!t||!e)return"";let r=ms(e);r==="float"&&(r="cssFloat");try{const s=t.style[r];if(s)return s;const o=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return o?o[r]:""}catch{return t.style[r]}},TI=(t,e,n)=>{if(!(!t||!e))if(Kt(e))EI(e).forEach(([r,s])=>TI(t,r,s));else{const r=ms(e);t.style[r]=n}};function Zn(t,e="px"){if(!t)return"";if(bt(t)||aB(t))return`${t}${e}`;if(ht(t))return t}const eV=(t,e)=>{if(!an)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],r=Pi(t,n);return["scroll","auto","overlay"].some(s=>r.includes(s))},Gb=(t,e)=>{if(!an)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(eV(n,e))return n;n=n.parentNode}return n};let eh;const CI=t=>{var e;if(!an)return 0;if(eh!==void 0)return eh;const n=document.createElement("div");n.className=`${t}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",n.appendChild(s);const o=s.offsetWidth;return(e=n.parentNode)==null||e.removeChild(n),eh=r-o,eh};function qb(t,e){if(!an)return;if(!e){t.scrollTop=0;return}const n=[];let r=e.offsetParent;for(;r!==null&&t!==r&&t.contains(r);)n.push(r),r=r.offsetParent;const s=e.offsetTop+n.reduce((u,l)=>u+l.offsetTop,0),o=s+e.offsetHeight,i=t.scrollTop,a=i+t.clientHeight;s<i?t.scrollTop=s:o>a&&(t.scrollTop=o-t.clientHeight)}function tV(t,e,n,r,s){const o=Date.now();let i;const a=()=>{const l=Date.now()-o,c=JB(l>r?r:l,e,n,r);$m(t)?t.scrollTo(window.pageXOffset,c):t.scrollTop=c,l<r?i=$a(a):vt(s)&&s()};return a(),()=>{i&&Tl(i)}}const dE=(t,e)=>$m(e)?t.ownerDocument.documentElement:e,fE=t=>$m(t)?window.scrollY:t.scrollTop,kI="ElAffix",nV=ee({name:kI}),rV=ee({...nV,props:QB,emits:ZB,setup(t,{expose:e,emit:n}){const r=t,s=Ne("affix"),o=On(),i=On(),a=On(),{height:u}=VB(),{height:l,width:c,top:d,bottom:f,update:h}=rE(i,{windowScroll:!1}),p=rE(o),g=q(!1),v=q(0),y=q(0),_=P(()=>({height:g.value?`${l.value}px`:"",width:g.value?`${c.value}px`:""})),b=P(()=>{if(!g.value)return{};const E=r.offset?Zn(r.offset):0;return{height:`${l.value}px`,width:`${c.value}px`,top:r.position==="top"?E:"",bottom:r.position==="bottom"?E:"",transform:y.value?`translateY(${y.value}px)`:"",zIndex:r.zIndex}}),w=()=>{if(!a.value)return;v.value=a.value instanceof Window?document.documentElement.scrollTop:a.value.scrollTop||0;const{position:E,target:T,offset:I}=r,k=I+l.value;if(E==="top")if(T){const C=p.bottom.value-k;g.value=I>d.value&&p.bottom.value>0,y.value=C<0?C:0}else g.value=I>d.value;else if(T){const C=u.value-p.top.value-k;g.value=u.value-I<f.value&&u.value>p.top.value,y.value=C<0?-C:0}else g.value=u.value-I<f.value},S=async()=>{h(),await pt(),n("scroll",{scrollTop:v.value,fixed:g.value})};return Pe(g,E=>n(Yt,E)),xt(()=>{var E;r.target?(o.value=(E=document.querySelector(r.target))!=null?E:void 0,o.value||hr(kI,`Target does not exist: ${r.target}`)):o.value=document.documentElement,a.value=Gb(i.value,!0),h()}),xn(a,"scroll",S),Fr(w),e({update:w,updateRoot:h}),(E,T)=>(L(),G("div",{ref_key:"root",ref:i,class:U(m(s).b()),style:dt(m(_))},[F("div",{class:U({[m(s).m("fixed")]:g.value}),style:dt(m(b))},[ve(E.$slots,"default")],6)],6))}});var sV=Ye(rV,[["__file","affix.vue"]]);const Bt=(t,e)=>{if(t.install=n=>{for(const r of[t,...Object.values(e??{})])n.component(r.name,r)},e)for(const[n,r]of Object.entries(e))t[n]=r;return t},II=(t,e)=>(t.install=n=>{t._context=n._context,n.config.globalProperties[e]=t},t),oV=(t,e)=>(t.install=n=>{n.directive(e,t)},t),Xn=t=>(t.install=bn,t),iV=Bt(sV),aV=qe({size:{type:me([Number,String])},color:{type:String}}),lV=ee({name:"ElIcon",inheritAttrs:!1}),uV=ee({...lV,props:aV,setup(t){const e=t,n=Ne("icon"),r=P(()=>{const{size:s,color:o}=e;return!s&&!o?{}:{fontSize:ln(s)?void 0:Zn(s),"--color":o}});return(s,o)=>(L(),G("i",Xt({class:m(n).b(),style:m(r)},s.$attrs),[ve(s.$slots,"default")],16))}});var cV=Ye(uV,[["__file","icon.vue"]]);const lt=Bt(cV);/*! Element Plus Icons Vue v2.3.1 */var dV=ee({name:"Aim",__name:"aim",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),F("path",{fill:"currentColor",d:"M512 96a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V128a32 32 0 0 1 32-32m0 576a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V704a32 32 0 0 1 32-32M96 512a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64H128a32 32 0 0 1-32-32m576 0a32 32 0 0 1 32-32h192a32 32 0 1 1 0 64H704a32 32 0 0 1-32-32"})]))}}),fV=dV,hV=ee({name:"ArrowDown",__name:"arrow-down",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),fi=hV,pV=ee({name:"ArrowLeftBold",__name:"arrow-left-bold",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M685.248 104.704a64 64 0 0 1 0 90.496L368.448 512l316.8 316.8a64 64 0 0 1-90.496 90.496L232.704 557.248a64 64 0 0 1 0-90.496l362.048-362.048a64 64 0 0 1 90.496 0z"})]))}}),AI=pV,mV=ee({name:"ArrowLeft",__name:"arrow-left",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),Pa=mV,gV=ee({name:"ArrowRightBold",__name:"arrow-right-bold",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M338.752 104.704a64 64 0 0 0 0 90.496l316.8 316.8-316.8 316.8a64 64 0 0 0 90.496 90.496l362.048-362.048a64 64 0 0 0 0-90.496L429.248 104.704a64 64 0 0 0-90.496 0z"})]))}}),RI=gV,vV=ee({name:"ArrowRight",__name:"arrow-right",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),ps=vV,yV=ee({name:"ArrowUp",__name:"arrow-up",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),Mm=yV,bV=ee({name:"Back",__name:"back",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),F("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),wV=bV,_V=ee({name:"BellFilled",__name:"bell-filled",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M640 832a128 128 0 0 1-256 0zm192-64H134.4a38.4 38.4 0 0 1 0-76.8H192V448c0-154.88 110.08-284.16 256.32-313.6a64 64 0 1 1 127.36 0A320.128 320.128 0 0 1 832 448v243.2h57.6a38.4 38.4 0 0 1 0 76.8z"})]))}}),LI=_V,SV=ee({name:"Calendar",__name:"calendar",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),EV=SV,xV=ee({name:"CaretRight",__name:"caret-right",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),Nm=xV,TV=ee({name:"CaretTop",__name:"caret-top",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),CV=TV,kV=ee({name:"Check",__name:"check",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),df=kV,IV=ee({name:"CircleCheckFilled",__name:"circle-check-filled",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),AV=IV,RV=ee({name:"CircleCheck",__name:"circle-check",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),F("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),Yb=RV,LV=ee({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),Xb=LV,$V=ee({name:"CircleClose",__name:"circle-close",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),F("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),Yi=$V,PV=ee({name:"CirclePlus",__name:"circle-plus",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64"}),F("path",{fill:"currentColor",d:"M480 672V352a32 32 0 1 1 64 0v320a32 32 0 0 1-64 0"}),F("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),$I=PV,DV=ee({name:"Clock",__name:"clock",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),F("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),F("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),Qb=DV,OV=ee({name:"Close",__name:"close",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),io=OV,MV=ee({name:"DArrowLeft",__name:"d-arrow-left",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),Da=MV,NV=ee({name:"DArrowRight",__name:"d-arrow-right",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),Oa=NV,FV=ee({name:"DeleteFilled",__name:"delete-filled",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M352 192V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64H96a32 32 0 0 1 0-64zm64 0h192v-64H416zM192 960a32 32 0 0 1-32-32V256h704v672a32 32 0 0 1-32 32zm224-192a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32m192 0a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32"})]))}}),BV=FV,VV=ee({name:"Delete",__name:"delete",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),Ol=VV,UV=ee({name:"Discount",__name:"discount",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M224 704h576V318.336L552.512 115.84a64 64 0 0 0-81.024 0L224 318.336zm0 64v128h576V768zM593.024 66.304l259.2 212.096A32 32 0 0 1 864 303.168V928a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V303.168a32 32 0 0 1 11.712-24.768l259.2-212.096a128 128 0 0 1 162.112 0"}),F("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"})]))}}),HV=UV,jV=ee({name:"Document",__name:"document",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),KV=jV,zV=ee({name:"Edit",__name:"edit",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640z"}),F("path",{fill:"currentColor",d:"m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"})]))}}),ff=zV,WV=ee({name:"Film",__name:"film",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M160 160v704h704V160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32"}),F("path",{fill:"currentColor",d:"M320 288V128h64v352h256V128h64v160h160v64H704v128h160v64H704v128h160v64H704v160h-64V544H384v352h-64V736H128v-64h192V544H128v-64h192V352H128v-64z"})]))}}),GV=WV,qV=ee({name:"FolderOpened",__name:"folder-opened",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896"})]))}}),YV=qV,XV=ee({name:"FullScreen",__name:"full-screen",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),QV=XV,ZV=ee({name:"HelpFilled",__name:"help-filled",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M926.784 480H701.312A192.512 192.512 0 0 0 544 322.688V97.216A416.064 416.064 0 0 1 926.784 480m0 64A416.064 416.064 0 0 1 544 926.784V701.312A192.512 192.512 0 0 0 701.312 544zM97.28 544h225.472A192.512 192.512 0 0 0 480 701.312v225.472A416.064 416.064 0 0 1 97.216 544zm0-64A416.064 416.064 0 0 1 480 97.216v225.472A192.512 192.512 0 0 0 322.688 480H97.216z"})]))}}),JV=ZV,e9=ee({name:"Hide",__name:"hide",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),F("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),t9=e9,n9=ee({name:"HomeFilled",__name:"home-filled",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M512 128 128 447.936V896h255.936V640H640v256h255.936V447.936z"})]))}}),r9=n9,s9=ee({name:"InfoFilled",__name:"info-filled",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),Zb=s9,o9=ee({name:"Link",__name:"link",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M715.648 625.152 670.4 579.904l90.496-90.56c75.008-74.944 85.12-186.368 22.656-248.896-62.528-62.464-173.952-52.352-248.96 22.656L444.16 353.6l-45.248-45.248 90.496-90.496c100.032-99.968 251.968-110.08 339.456-22.656 87.488 87.488 77.312 239.424-22.656 339.456l-90.496 90.496zm-90.496 90.496-90.496 90.496C434.624 906.112 282.688 916.224 195.2 828.8c-87.488-87.488-77.312-239.424 22.656-339.456l90.496-90.496 45.248 45.248-90.496 90.56c-75.008 74.944-85.12 186.368-22.656 248.896 62.528 62.464 173.952 52.352 248.96-22.656l90.496-90.496zm0-362.048 45.248 45.248L398.848 670.4 353.6 625.152z"})]))}}),i9=o9,a9=ee({name:"Loading",__name:"loading",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),ii=a9,l9=ee({name:"MagicStick",__name:"magic-stick",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M512 64h64v192h-64zm0 576h64v192h-64zM160 480v-64h192v64zm576 0v-64h192v64zM249.856 199.04l45.248-45.184L430.848 289.6 385.6 334.848 249.856 199.104zM657.152 606.4l45.248-45.248 135.744 135.744-45.248 45.248zM114.048 923.2 68.8 877.952l316.8-316.8 45.248 45.248zM702.4 334.848 657.152 289.6l135.744-135.744 45.248 45.248z"})]))}}),u9=l9,c9=ee({name:"Minus",__name:"minus",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),d9=c9,f9=ee({name:"Moon",__name:"moon",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M240.448 240.448a384 384 0 1 0 559.424 525.696 448 448 0 0 1-542.016-542.08 390.592 390.592 0 0 0-17.408 16.384zm181.056 362.048a384 384 0 0 0 525.632 16.384A448 448 0 1 1 405.056 76.8a384 384 0 0 0 16.448 525.696"})]))}}),h9=f9,p9=ee({name:"MoreFilled",__name:"more-filled",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),x0=p9,m9=ee({name:"More",__name:"more",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),g9=m9,v9=ee({name:"PictureFilled",__name:"picture-filled",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),y9=v9,b9=ee({name:"Plus",__name:"plus",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),Jb=b9,w9=ee({name:"Promotion",__name:"promotion",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"m64 448 832-320-128 704-446.08-243.328L832 192 242.816 545.472zm256 512V657.024L512 768z"})]))}}),e1=w9,_9=ee({name:"QuestionFilled",__name:"question-filled",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),S9=_9,E9=ee({name:"RefreshLeft",__name:"refresh-left",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),PI=E9,x9=ee({name:"RefreshRight",__name:"refresh-right",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),t1=x9,T9=ee({name:"ScaleToOriginal",__name:"scale-to-original",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),C9=T9,k9=ee({name:"Search",__name:"search",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),kd=k9,I9=ee({name:"SortDown",__name:"sort-down",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),A9=I9,R9=ee({name:"SortUp",__name:"sort-up",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),L9=R9,$9=ee({name:"StarFilled",__name:"star-filled",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),th=$9,P9=ee({name:"Star",__name:"star",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),D9=P9,O9=ee({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),DI=O9,M9=ee({name:"Sunny",__name:"sunny",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M512 704a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512m0-704a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 768a32 32 0 0 1 32 32v64a32 32 0 1 1-64 0v-64a32 32 0 0 1 32-32M195.2 195.2a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 1 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm543.104 543.104a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 0 1-45.248 45.248l-45.248-45.248a32 32 0 0 1 0-45.248M64 512a32 32 0 0 1 32-32h64a32 32 0 0 1 0 64H96a32 32 0 0 1-32-32m768 0a32 32 0 0 1 32-32h64a32 32 0 1 1 0 64h-64a32 32 0 0 1-32-32M195.2 828.8a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248L240.448 828.8a32 32 0 0 1-45.248 0zm543.104-543.104a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248l-45.248 45.248a32 32 0 0 1-45.248 0"})]))}}),N9=M9,F9=ee({name:"SwitchButton",__name:"switch-button",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M352 159.872V230.4a352 352 0 1 0 320 0v-70.528A416.128 416.128 0 0 1 512 960a416 416 0 0 1-160-800.128z"}),F("path",{fill:"currentColor",d:"M512 64q32 0 32 32v320q0 32-32 32t-32-32V96q0-32 32-32"})]))}}),B9=F9,V9=ee({name:"TakeawayBox",__name:"takeaway-box",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M832 384H192v448h640zM96 320h832V128H96zm800 64v480a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V384H64a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32h896a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32zM416 512h192a32 32 0 0 1 0 64H416a32 32 0 0 1 0-64"})]))}}),U9=V9,H9=ee({name:"Timer",__name:"timer",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M512 896a320 320 0 1 0 0-640 320 320 0 0 0 0 640m0 64a384 384 0 1 1 0-768 384 384 0 0 1 0 768"}),F("path",{fill:"currentColor",d:"M512 320a32 32 0 0 1 32 32l-.512 224a32 32 0 1 1-64 0L480 352a32 32 0 0 1 32-32"}),F("path",{fill:"currentColor",d:"M448 576a64 64 0 1 0 128 0 64 64 0 1 0-128 0m96-448v128h-64V128h-96a32 32 0 0 1 0-64h256a32 32 0 1 1 0 64z"})]))}}),j9=H9,K9=ee({name:"UploadFilled",__name:"upload-filled",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M544 864V672h128L512 480 352 672h128v192H320v-1.6c-5.376.32-10.496 1.6-16 1.6A240 240 0 0 1 64 624c0-123.136 93.12-223.488 212.608-237.248A239.808 239.808 0 0 1 512 192a239.872 239.872 0 0 1 235.456 194.752c119.488 13.76 212.48 114.112 212.48 237.248a240 240 0 0 1-240 240c-5.376 0-10.56-1.28-16-1.6v1.6z"})]))}}),nh=K9,z9=ee({name:"VideoCamera",__name:"video-camera",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M704 768V256H128v512zm64-416 192-96v512l-192-96v128a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32zm0 71.552v176.896l128 64V359.552zM192 320h192v64H192z"})]))}}),W9=z9,G9=ee({name:"View",__name:"view",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),q9=G9,Y9=ee({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),hf=Y9,X9=ee({name:"ZoomIn",__name:"zoom-in",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),n1=X9,Q9=ee({name:"ZoomOut",__name:"zoom-out",setup(t){return(e,n)=>(L(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),Z9=Q9;const _n=me([String,Object,Function]),OI={Close:io},r1={Close:io,SuccessFilled:DI,InfoFilled:Zb,WarningFilled:hf,CircleCloseFilled:Xb},Ma={success:DI,warning:hf,error:Xb,info:Zb},Fm={validating:ii,success:Yb,error:Yi},J9=["light","dark"],e7=qe({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:$u(Ma),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:J9,default:"light"}}),t7={close:t=>t instanceof MouseEvent},n7=ee({name:"ElAlert"}),r7=ee({...n7,props:e7,emits:t7,setup(t,{emit:e}){const n=t,{Close:r}=r1,s=_r(),o=Ne("alert"),i=q(!0),a=P(()=>Ma[n.type]),u=P(()=>!!(n.description||s.default)),l=c=>{i.value=!1,e("close",c)};return(c,d)=>(L(),ye(Tr,{name:m(o).b("fade"),persisted:""},{default:O(()=>[At(F("div",{class:U([m(o).b(),m(o).m(c.type),m(o).is("center",c.center),m(o).is(c.effect)]),role:"alert"},[c.showIcon&&(c.$slots.icon||m(a))?(L(),ye(m(lt),{key:0,class:U([m(o).e("icon"),{[m(o).is("big")]:m(u)}])},{default:O(()=>[ve(c.$slots,"icon",{},()=>[(L(),ye(Wt(m(a))))])]),_:3},8,["class"])):ce("v-if",!0),F("div",{class:U(m(o).e("content"))},[c.title||c.$slots.title?(L(),G("span",{key:0,class:U([m(o).e("title"),{"with-description":m(u)}])},[ve(c.$slots,"title",{},()=>[xe(ge(c.title),1)])],2)):ce("v-if",!0),m(u)?(L(),G("p",{key:1,class:U(m(o).e("description"))},[ve(c.$slots,"default",{},()=>[xe(ge(c.description),1)])],2)):ce("v-if",!0),c.closable?(L(),G(tt,{key:2},[c.closeText?(L(),G("div",{key:0,class:U([m(o).e("close-btn"),m(o).is("customed")]),onClick:l},ge(c.closeText),3)):(L(),ye(m(lt),{key:1,class:U(m(o).e("close-btn")),onClick:l},{default:O(()=>[A(m(r))]),_:1},8,["class"]))],64)):ce("v-if",!0)],2)],2),[[nn,i.value]])]),_:3},8,["name"]))}});var s7=Ye(r7,[["__file","alert.vue"]]);const o7=Bt(s7),Bm=()=>an&&/firefox/i.test(window.navigator.userAgent);let ws;const i7={height:"0",visibility:"hidden",overflow:Bm()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},a7=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function l7(t){const e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),r=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),s=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:a7.map(i=>[i,e.getPropertyValue(i)]),paddingSize:r,borderSize:s,boxSizing:n}}function hE(t,e=1,n){var r;ws||(ws=document.createElement("textarea"),document.body.appendChild(ws));const{paddingSize:s,borderSize:o,boxSizing:i,contextStyle:a}=l7(t);a.forEach(([d,f])=>ws==null?void 0:ws.style.setProperty(d,f)),Object.entries(i7).forEach(([d,f])=>ws==null?void 0:ws.style.setProperty(d,f,"important")),ws.value=t.value||t.placeholder||"";let u=ws.scrollHeight;const l={};i==="border-box"?u=u+o:i==="content-box"&&(u=u-s),ws.value="";const c=ws.scrollHeight-s;if(bt(e)){let d=c*e;i==="border-box"&&(d=d+s+o),u=Math.max(d,u),l.minHeight=`${d}px`}if(bt(n)){let d=c*n;i==="border-box"&&(d=d+s+o),u=Math.min(d,u)}return l.height=`${u}px`,(r=ws.parentNode)==null||r.removeChild(ws),ws=void 0,l}const Yn=t=>t,u7=qe({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),Vr=t=>So(u7,t),s1=qe({id:{type:String,default:void 0},size:pr,disabled:Boolean,modelValue:{type:me([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:me([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:_n},prefixIcon:{type:_n},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:me([Object,Array,String]),default:()=>Yn({})},autofocus:Boolean,rows:{type:Number,default:2},...Vr(["ariaLabel"])}),c7={[$t]:t=>ht(t),input:t=>ht(t),change:t=>ht(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},d7=["class","style"],f7=/^on[A-Z]/,pf=(t={})=>{const{excludeListeners:e=!1,excludeKeys:n}=t,r=P(()=>((n==null?void 0:n.value)||[]).concat(d7)),s=Gt();return P(s?()=>{var o;return Cd(Object.entries((o=s.proxy)==null?void 0:o.$attrs).filter(([i])=>!r.value.includes(i)&&!(e&&f7.test(i))))}:()=>({}))},Ml=Symbol("formContextKey"),ai=Symbol("formItemContextKey"),pE={prefix:Math.floor(Math.random()*1e4),current:0},h7=Symbol("elIdInjection"),o1=()=>Gt()?rt(h7,pE):pE,Br=t=>{const e=o1(),n=Ib();return Cp(()=>m(t)||`${n.value}-id-${e.prefix}-${e.current++}`)},Kr=()=>{const t=rt(Ml,void 0),e=rt(ai,void 0);return{form:t,formItem:e}},po=(t,{formItemContext:e,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=q(!1)),r||(r=q(!1));const s=q();let o;const i=P(()=>{var a;return!!(!(t.label||t.ariaLabel)&&e&&e.inputIds&&((a=e.inputIds)==null?void 0:a.length)<=1)});return xt(()=>{o=Pe([wn(t,"id"),n],([a,u])=>{const l=a??(u?void 0:Br().value);l!==s.value&&(e!=null&&e.removeInputId&&(s.value&&e.removeInputId(s.value),!(r!=null&&r.value)&&!u&&l&&e.addInputId(l)),s.value=l)},{immediate:!0})}),Ha(()=>{o&&o(),e!=null&&e.removeInputId&&s.value&&e.removeInputId(s.value)}),{isLabeledByFormItem:i,inputId:s}},i1=t=>{const e=Gt();return P(()=>{var n,r;return(r=(n=e==null?void 0:e.proxy)==null?void 0:n.$props)==null?void 0:r[t]})},fr=(t,e={})=>{const n=q(void 0),r=e.prop?n:i1("size"),s=e.global?n:_I(),o=e.form?{size:void 0}:rt(Ml,void 0),i=e.formItem?{size:void 0}:rt(ai,void 0);return P(()=>r.value||m(t)||(i==null?void 0:i.size)||(o==null?void 0:o.size)||s.value||"")},zr=t=>{const e=i1("disabled"),n=rt(Ml,void 0);return P(()=>e.value||m(t)||(n==null?void 0:n.disabled)||!1)};function Ka(t,{beforeFocus:e,afterFocus:n,beforeBlur:r,afterBlur:s}={}){const o=Gt(),{emit:i}=o,a=On(),u=i1("disabled"),l=q(!1),c=h=>{vt(e)&&e(h)||l.value||(l.value=!0,i("focus",h),n==null||n())},d=h=>{var p;vt(r)&&r(h)||h.relatedTarget&&((p=a.value)!=null&&p.contains(h.relatedTarget))||(l.value=!1,i("blur",h),s==null||s())},f=()=>{var h,p;(h=a.value)!=null&&h.contains(document.activeElement)&&a.value!==document.activeElement||u.value||(p=t.value)==null||p.focus()};return Pe([a,u],([h,p])=>{h&&(p?h.removeAttribute("tabindex"):h.setAttribute("tabindex","-1"))}),xn(a,"focus",c,!0),xn(a,"blur",d,!0),xn(a,"click",f,!0),{isFocused:l,wrapperRef:a,handleFocus:c,handleBlur:d}}const p7=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t);function mf({afterComposition:t,emit:e}){const n=q(!1),r=a=>{e==null||e("compositionstart",a),n.value=!0},s=a=>{var u;e==null||e("compositionupdate",a);const l=(u=a.target)==null?void 0:u.value,c=l[l.length-1]||"";n.value=!p7(c)},o=a=>{e==null||e("compositionend",a),n.value&&(n.value=!1,pt(()=>t(a)))};return{isComposing:n,handleComposition:a=>{a.type==="compositionend"?o(a):s(a)},handleCompositionStart:r,handleCompositionUpdate:s,handleCompositionEnd:o}}function m7(t){let e;function n(){if(t.value==null)return;const{selectionStart:s,selectionEnd:o,value:i}=t.value;if(s==null||o==null)return;const a=i.slice(0,Math.max(0,s)),u=i.slice(Math.max(0,o));e={selectionStart:s,selectionEnd:o,value:i,beforeTxt:a,afterTxt:u}}function r(){if(t.value==null||e==null)return;const{value:s}=t.value,{beforeTxt:o,afterTxt:i,selectionStart:a}=e;if(o==null||i==null||a==null)return;let u=s.length;if(s.endsWith(i))u=s.length-i.length;else if(s.startsWith(o))u=o.length;else{const l=o[a-1],c=s.indexOf(l,a-1);c!==-1&&(u=c+1)}t.value.setSelectionRange(u,u)}return[n,r]}const g7="ElInput",v7=ee({name:g7,inheritAttrs:!1}),y7=ee({...v7,props:s1,emits:c7,setup(t,{expose:e,emit:n}){const r=t,s=Wi(),o=pf(),i=_r(),a=P(()=>[r.type==="textarea"?g.b():p.b(),p.m(f.value),p.is("disabled",h.value),p.is("exceed",se.value),{[p.b("group")]:i.prepend||i.append,[p.m("prefix")]:i.prefix||r.prefixIcon,[p.m("suffix")]:i.suffix||r.suffixIcon||r.clearable||r.showPassword,[p.bm("suffix","password-clear")]:M.value&&B.value,[p.b("hidden")]:r.type==="hidden"},s.class]),u=P(()=>[p.e("wrapper"),p.is("focus",I.value)]),{form:l,formItem:c}=Kr(),{inputId:d}=po(r,{formItemContext:c}),f=fr(),h=zr(),p=Ne("input"),g=Ne("textarea"),v=On(),y=On(),_=q(!1),b=q(!1),w=q(),S=On(r.inputStyle),E=P(()=>v.value||y.value),{wrapperRef:T,isFocused:I,handleFocus:k,handleBlur:C}=Ka(E,{beforeFocus(){return h.value},afterBlur(){var Ie;r.validateEvent&&((Ie=c==null?void 0:c.validate)==null||Ie.call(c,"blur").catch(Ze=>void 0))}}),N=P(()=>{var Ie;return(Ie=l==null?void 0:l.statusIcon)!=null?Ie:!1}),D=P(()=>(c==null?void 0:c.validateState)||""),W=P(()=>D.value&&Fm[D.value]),H=P(()=>b.value?q9:t9),V=P(()=>[s.style]),R=P(()=>[r.inputStyle,S.value,{resize:r.resize}]),z=P(()=>xr(r.modelValue)?"":String(r.modelValue)),M=P(()=>r.clearable&&!h.value&&!r.readonly&&!!z.value&&(I.value||_.value)),B=P(()=>r.showPassword&&!h.value&&!!z.value&&(!!z.value||I.value)),j=P(()=>r.showWordLimit&&!!r.maxlength&&(r.type==="text"||r.type==="textarea")&&!h.value&&!r.readonly&&!r.showPassword),X=P(()=>z.value.length),se=P(()=>!!j.value&&X.value>Number(r.maxlength)),te=P(()=>!!i.suffix||!!r.suffixIcon||M.value||r.showPassword||j.value||!!D.value&&N.value),[ie,fe]=m7(v);qn(y,Ie=>{if(de(),!j.value||r.resize!=="both")return;const Ze=Ie[0],{width:mt}=Ze.contentRect;w.value={right:`calc(100% - ${mt+15+6}px)`}});const ue=()=>{const{type:Ie,autosize:Ze}=r;if(!(!an||Ie!=="textarea"||!y.value))if(Ze){const mt=Kt(Ze)?Ze.minRows:void 0,Pt=Kt(Ze)?Ze.maxRows:void 0,Vt=hE(y.value,mt,Pt);S.value={overflowY:"hidden",...Vt},pt(()=>{y.value.offsetHeight,S.value=Vt})}else S.value={minHeight:hE(y.value).minHeight}},de=(Ie=>{let Ze=!1;return()=>{var mt;if(Ze||!r.autosize)return;((mt=y.value)==null?void 0:mt.offsetParent)===null||(Ie(),Ze=!0)}})(ue),ae=()=>{const Ie=E.value,Ze=r.formatter?r.formatter(z.value):z.value;!Ie||Ie.value===Ze||(Ie.value=Ze)},Ae=async Ie=>{ie();let{value:Ze}=Ie.target;if(r.formatter&&r.parser&&(Ze=r.parser(Ze)),!pe.value){if(Ze===z.value){ae();return}n($t,Ze),n(yr,Ze),await pt(),ae(),fe()}},Re=Ie=>{let{value:Ze}=Ie.target;r.formatter&&r.parser&&(Ze=r.parser(Ze)),n(Yt,Ze)},{isComposing:pe,handleCompositionStart:ne,handleCompositionUpdate:le,handleCompositionEnd:Se}=mf({emit:n,afterComposition:Ae}),Ce=()=>{ie(),b.value=!b.value,setTimeout(fe)},Ee=()=>{var Ie;return(Ie=E.value)==null?void 0:Ie.focus()},we=()=>{var Ie;return(Ie=E.value)==null?void 0:Ie.blur()},Le=Ie=>{_.value=!1,n("mouseleave",Ie)},Be=Ie=>{_.value=!0,n("mouseenter",Ie)},Ue=Ie=>{n("keydown",Ie)},je=()=>{var Ie;(Ie=E.value)==null||Ie.select()},at=()=>{n($t,""),n(Yt,""),n("clear"),n(yr,"")};return Pe(()=>r.modelValue,()=>{var Ie;pt(()=>ue()),r.validateEvent&&((Ie=c==null?void 0:c.validate)==null||Ie.call(c,"change").catch(Ze=>void 0))}),Pe(z,()=>ae()),Pe(()=>r.type,async()=>{await pt(),ae(),ue()}),xt(()=>{!r.formatter&&r.parser,ae(),pt(ue)}),e({input:v,textarea:y,ref:E,textareaStyle:R,autosize:wn(r,"autosize"),isComposing:pe,focus:Ee,blur:we,select:je,clear:at,resizeTextarea:ue}),(Ie,Ze)=>(L(),G("div",{class:U([m(a),{[m(p).bm("group","append")]:Ie.$slots.append,[m(p).bm("group","prepend")]:Ie.$slots.prepend}]),style:dt(m(V)),onMouseenter:Be,onMouseleave:Le},[ce(" input "),Ie.type!=="textarea"?(L(),G(tt,{key:0},[ce(" prepend slot "),Ie.$slots.prepend?(L(),G("div",{key:0,class:U(m(p).be("group","prepend"))},[ve(Ie.$slots,"prepend")],2)):ce("v-if",!0),F("div",{ref_key:"wrapperRef",ref:T,class:U(m(u))},[ce(" prefix slot "),Ie.$slots.prefix||Ie.prefixIcon?(L(),G("span",{key:0,class:U(m(p).e("prefix"))},[F("span",{class:U(m(p).e("prefix-inner"))},[ve(Ie.$slots,"prefix"),Ie.prefixIcon?(L(),ye(m(lt),{key:0,class:U(m(p).e("icon"))},{default:O(()=>[(L(),ye(Wt(Ie.prefixIcon)))]),_:1},8,["class"])):ce("v-if",!0)],2)],2)):ce("v-if",!0),F("input",Xt({id:m(d),ref_key:"input",ref:v,class:m(p).e("inner")},m(o),{minlength:Ie.minlength,maxlength:Ie.maxlength,type:Ie.showPassword?b.value?"text":"password":Ie.type,disabled:m(h),readonly:Ie.readonly,autocomplete:Ie.autocomplete,tabindex:Ie.tabindex,"aria-label":Ie.ariaLabel,placeholder:Ie.placeholder,style:Ie.inputStyle,form:Ie.form,autofocus:Ie.autofocus,role:Ie.containerRole,onCompositionstart:m(ne),onCompositionupdate:m(le),onCompositionend:m(Se),onInput:Ae,onChange:Re,onKeydown:Ue}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),ce(" suffix slot "),m(te)?(L(),G("span",{key:1,class:U(m(p).e("suffix"))},[F("span",{class:U(m(p).e("suffix-inner"))},[!m(M)||!m(B)||!m(j)?(L(),G(tt,{key:0},[ve(Ie.$slots,"suffix"),Ie.suffixIcon?(L(),ye(m(lt),{key:0,class:U(m(p).e("icon"))},{default:O(()=>[(L(),ye(Wt(Ie.suffixIcon)))]),_:1},8,["class"])):ce("v-if",!0)],64)):ce("v-if",!0),m(M)?(L(),ye(m(lt),{key:1,class:U([m(p).e("icon"),m(p).e("clear")]),onMousedown:St(m(bn),["prevent"]),onClick:at},{default:O(()=>[A(m(Yi))]),_:1},8,["class","onMousedown"])):ce("v-if",!0),m(B)?(L(),ye(m(lt),{key:2,class:U([m(p).e("icon"),m(p).e("password")]),onClick:Ce},{default:O(()=>[(L(),ye(Wt(m(H))))]),_:1},8,["class"])):ce("v-if",!0),m(j)?(L(),G("span",{key:3,class:U(m(p).e("count"))},[F("span",{class:U(m(p).e("count-inner"))},ge(m(X))+" / "+ge(Ie.maxlength),3)],2)):ce("v-if",!0),m(D)&&m(W)&&m(N)?(L(),ye(m(lt),{key:4,class:U([m(p).e("icon"),m(p).e("validateIcon"),m(p).is("loading",m(D)==="validating")])},{default:O(()=>[(L(),ye(Wt(m(W))))]),_:1},8,["class"])):ce("v-if",!0)],2)],2)):ce("v-if",!0)],2),ce(" append slot "),Ie.$slots.append?(L(),G("div",{key:1,class:U(m(p).be("group","append"))},[ve(Ie.$slots,"append")],2)):ce("v-if",!0)],64)):(L(),G(tt,{key:1},[ce(" textarea "),F("textarea",Xt({id:m(d),ref_key:"textarea",ref:y,class:[m(g).e("inner"),m(p).is("focus",m(I))]},m(o),{minlength:Ie.minlength,maxlength:Ie.maxlength,tabindex:Ie.tabindex,disabled:m(h),readonly:Ie.readonly,autocomplete:Ie.autocomplete,style:m(R),"aria-label":Ie.ariaLabel,placeholder:Ie.placeholder,form:Ie.form,autofocus:Ie.autofocus,rows:Ie.rows,role:Ie.containerRole,onCompositionstart:m(ne),onCompositionupdate:m(le),onCompositionend:m(Se),onInput:Ae,onFocus:m(k),onBlur:m(C),onChange:Re,onKeydown:Ue}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),m(j)?(L(),G("span",{key:0,style:dt(w.value),class:U(m(p).e("count"))},ge(m(X))+" / "+ge(Ie.maxlength),7)):ce("v-if",!0)],64))],38))}});var b7=Ye(y7,[["__file","input.vue"]]);const ir=Bt(b7),Kl=4,MI={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},w7=({move:t,size:e,bar:n})=>({[n.size]:e,transform:`translate${n.axis}(${t}%)`}),a1=Symbol("scrollbarContextKey"),_7=qe({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),S7="Thumb",E7=ee({__name:"thumb",props:_7,setup(t){const e=t,n=rt(a1),r=Ne("scrollbar");n||hr(S7,"can not inject scrollbar context");const s=q(),o=q(),i=q({}),a=q(!1);let u=!1,l=!1,c=an?document.onselectstart:null;const d=P(()=>MI[e.vertical?"vertical":"horizontal"]),f=P(()=>w7({size:e.size,move:e.move,bar:d.value})),h=P(()=>s.value[d.value.offset]**2/n.wrapElement[d.value.scrollSize]/e.ratio/o.value[d.value.offset]),p=E=>{var T;if(E.stopPropagation(),E.ctrlKey||[1,2].includes(E.button))return;(T=window.getSelection())==null||T.removeAllRanges(),v(E);const I=E.currentTarget;I&&(i.value[d.value.axis]=I[d.value.offset]-(E[d.value.client]-I.getBoundingClientRect()[d.value.direction]))},g=E=>{if(!o.value||!s.value||!n.wrapElement)return;const T=Math.abs(E.target.getBoundingClientRect()[d.value.direction]-E[d.value.client]),I=o.value[d.value.offset]/2,k=(T-I)*100*h.value/s.value[d.value.offset];n.wrapElement[d.value.scroll]=k*n.wrapElement[d.value.scrollSize]/100},v=E=>{E.stopImmediatePropagation(),u=!0,document.addEventListener("mousemove",y),document.addEventListener("mouseup",_),c=document.onselectstart,document.onselectstart=()=>!1},y=E=>{if(!s.value||!o.value||u===!1)return;const T=i.value[d.value.axis];if(!T)return;const I=(s.value.getBoundingClientRect()[d.value.direction]-E[d.value.client])*-1,k=o.value[d.value.offset]-T,C=(I-k)*100*h.value/s.value[d.value.offset];n.wrapElement[d.value.scroll]=C*n.wrapElement[d.value.scrollSize]/100},_=()=>{u=!1,i.value[d.value.axis]=0,document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",_),S(),l&&(a.value=!1)},b=()=>{l=!1,a.value=!!e.size},w=()=>{l=!0,a.value=u};In(()=>{S(),document.removeEventListener("mouseup",_)});const S=()=>{document.onselectstart!==c&&(document.onselectstart=c)};return xn(wn(n,"scrollbarElement"),"mousemove",b),xn(wn(n,"scrollbarElement"),"mouseleave",w),(E,T)=>(L(),ye(Tr,{name:m(r).b("fade"),persisted:""},{default:O(()=>[At(F("div",{ref_key:"instance",ref:s,class:U([m(r).e("bar"),m(r).is(m(d).key)]),onMousedown:g,onClick:St(()=>{},["stop"])},[F("div",{ref_key:"thumb",ref:o,class:U(m(r).e("thumb")),style:dt(m(f)),onMousedown:p},null,38)],42,["onClick"]),[[nn,E.always||a.value]])]),_:1},8,["name"]))}});var mE=Ye(E7,[["__file","thumb.vue"]]);const x7=qe({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),T7=ee({__name:"bar",props:x7,setup(t,{expose:e}){const n=t,r=rt(a1),s=q(0),o=q(0),i=q(""),a=q(""),u=q(1),l=q(1);return e({handleScroll:f=>{if(f){const h=f.offsetHeight-Kl,p=f.offsetWidth-Kl;o.value=f.scrollTop*100/h*u.value,s.value=f.scrollLeft*100/p*l.value}},update:()=>{const f=r==null?void 0:r.wrapElement;if(!f)return;const h=f.offsetHeight-Kl,p=f.offsetWidth-Kl,g=h**2/f.scrollHeight,v=p**2/f.scrollWidth,y=Math.max(g,n.minSize),_=Math.max(v,n.minSize);u.value=g/(h-g)/(y/(h-y)),l.value=v/(p-v)/(_/(p-_)),a.value=y+Kl<h?`${y}px`:"",i.value=_+Kl<p?`${_}px`:""}}),(f,h)=>(L(),G(tt,null,[A(mE,{move:s.value,ratio:l.value,size:i.value,always:f.always},null,8,["move","ratio","size","always"]),A(mE,{move:o.value,ratio:u.value,size:a.value,vertical:"",always:f.always},null,8,["move","ratio","size","always"])],64))}});var C7=Ye(T7,[["__file","bar.vue"]]);const k7=qe({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:me([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...Vr(["ariaLabel","ariaOrientation"])}),NI={scroll:({scrollTop:t,scrollLeft:e})=>[t,e].every(bt)},I7="ElScrollbar",A7=ee({name:I7}),R7=ee({...A7,props:k7,emits:NI,setup(t,{expose:e,emit:n}){const r=t,s=Ne("scrollbar");let o,i,a=0,u=0;const l=q(),c=q(),d=q(),f=q(),h=P(()=>{const S={};return r.height&&(S.height=Zn(r.height)),r.maxHeight&&(S.maxHeight=Zn(r.maxHeight)),[r.wrapStyle,S]}),p=P(()=>[r.wrapClass,s.e("wrap"),{[s.em("wrap","hidden-default")]:!r.native}]),g=P(()=>[s.e("view"),r.viewClass]),v=()=>{var S;c.value&&((S=f.value)==null||S.handleScroll(c.value),a=c.value.scrollTop,u=c.value.scrollLeft,n("scroll",{scrollTop:c.value.scrollTop,scrollLeft:c.value.scrollLeft}))};function y(S,E){Kt(S)?c.value.scrollTo(S):bt(S)&&bt(E)&&c.value.scrollTo(S,E)}const _=S=>{bt(S)&&(c.value.scrollTop=S)},b=S=>{bt(S)&&(c.value.scrollLeft=S)},w=()=>{var S;(S=f.value)==null||S.update()};return Pe(()=>r.noresize,S=>{S?(o==null||o(),i==null||i()):({stop:o}=qn(d,w),i=xn("resize",w))},{immediate:!0}),Pe(()=>[r.maxHeight,r.height],()=>{r.native||pt(()=>{var S;w(),c.value&&((S=f.value)==null||S.handleScroll(c.value))})}),Qt(a1,Ft({scrollbarElement:l,wrapElement:c})),bb(()=>{c.value&&(c.value.scrollTop=a,c.value.scrollLeft=u)}),xt(()=>{r.native||pt(()=>{w()})}),$o(()=>w()),e({wrapRef:c,update:w,scrollTo:y,setScrollTop:_,setScrollLeft:b,handleScroll:v}),(S,E)=>(L(),G("div",{ref_key:"scrollbarRef",ref:l,class:U(m(s).b())},[F("div",{ref_key:"wrapRef",ref:c,class:U(m(p)),style:dt(m(h)),tabindex:S.tabindex,onScroll:v},[(L(),ye(Wt(S.tag),{id:S.id,ref_key:"resizeRef",ref:d,class:U(m(g)),style:dt(S.viewStyle),role:S.role,"aria-label":S.ariaLabel,"aria-orientation":S.ariaOrientation},{default:O(()=>[ve(S.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),S.native?ce("v-if",!0):(L(),ye(C7,{key:0,ref_key:"barRef",ref:f,always:S.always,"min-size":S.minSize},null,8,["always","min-size"]))],2))}});var L7=Ye(R7,[["__file","scrollbar.vue"]]);const hi=Bt(L7),l1=Symbol("popper"),FI=Symbol("popperContent"),BI=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],VI=qe({role:{type:String,values:BI,default:"tooltip"}}),$7=ee({name:"ElPopper",inheritAttrs:!1}),P7=ee({...$7,props:VI,setup(t,{expose:e}){const n=t,r=q(),s=q(),o=q(),i=q(),a=P(()=>n.role),u={triggerRef:r,popperInstanceRef:s,contentRef:o,referenceRef:i,role:a};return e(u),Qt(l1,u),(l,c)=>ve(l.$slots,"default")}});var D7=Ye(P7,[["__file","popper.vue"]]);const UI=qe({arrowOffset:{type:Number,default:5}}),O7=ee({name:"ElPopperArrow",inheritAttrs:!1}),M7=ee({...O7,props:UI,setup(t,{expose:e}){const n=t,r=Ne("popper"),{arrowOffset:s,arrowRef:o,arrowStyle:i}=rt(FI,void 0);return Pe(()=>n.arrowOffset,a=>{s.value=a}),In(()=>{o.value=void 0}),e({arrowRef:o}),(a,u)=>(L(),G("span",{ref_key:"arrowRef",ref:o,class:U(m(r).e("arrow")),style:dt(m(i)),"data-popper-arrow":""},null,6))}});var N7=Ye(M7,[["__file","arrow.vue"]]);const HI=qe({virtualRef:{type:me(Object)},virtualTriggering:Boolean,onMouseenter:{type:me(Function)},onMouseleave:{type:me(Function)},onClick:{type:me(Function)},onKeydown:{type:me(Function)},onFocus:{type:me(Function)},onBlur:{type:me(Function)},onContextmenu:{type:me(Function)},id:String,open:Boolean}),jI=Symbol("elForwardRef"),F7=t=>{Qt(jI,{setForwardRef:n=>{t.value=n}})},B7=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),V7='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',U7=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,gE=t=>Array.from(t.querySelectorAll(V7)).filter(e=>Ap(e)&&U7(e)),Ap=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.tabIndex<0||t.hasAttribute("disabled")||t.getAttribute("aria-disabled")==="true")return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Fh=function(t,e,...n){let r;e.includes("mouse")||e.includes("click")?r="MouseEvents":e.includes("key")?r="KeyboardEvent":r="HTMLEvents";const s=document.createEvent(r);return s.initEvent(e,...n),t.dispatchEvent(s),t},KI=t=>!t.getAttribute("aria-owns"),zI=(t,e,n)=>{const{parentNode:r}=t;if(!r)return null;const s=r.querySelectorAll(n),o=Array.prototype.indexOf.call(s,t);return s[o+e]||null},Bh=t=>{t&&(t.focus(),!KI(t)&&t.click())},H7="ElOnlyChild",WI=ee({name:H7,setup(t,{slots:e,attrs:n}){var r;const s=rt(jI),o=B7((r=s==null?void 0:s.setForwardRef)!=null?r:bn);return()=>{var i;const a=(i=e.default)==null?void 0:i.call(e,n);if(!a||a.length>1)return null;const u=GI(a);return u?At(Bi(u,n),[[o]]):null}}});function GI(t){if(!t)return null;const e=t;for(const n of e){if(Kt(n))switch(n.type){case Rr:continue;case Ju:case"svg":return vE(n);case tt:return GI(n.children);default:return n}return vE(n)}return null}function vE(t){const e=Ne("only-child");return A("span",{class:e.e("content")},[t])}const j7=ee({name:"ElPopperTrigger",inheritAttrs:!1}),K7=ee({...j7,props:HI,setup(t,{expose:e}){const n=t,{role:r,triggerRef:s}=rt(l1,void 0);F7(s);const o=P(()=>a.value?n.id:void 0),i=P(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),a=P(()=>{if(r&&r.value!=="tooltip")return r.value}),u=P(()=>a.value?`${n.open}`:void 0);let l;const c=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return xt(()=>{Pe(()=>n.virtualRef,d=>{d&&(s.value=fs(d))},{immediate:!0}),Pe(s,(d,f)=>{l==null||l(),l=void 0,hs(d)&&(c.forEach(h=>{var p;const g=n[h];g&&(d.addEventListener(h.slice(2).toLowerCase(),g),(p=f==null?void 0:f.removeEventListener)==null||p.call(f,h.slice(2).toLowerCase(),g))}),Ap(d)&&(l=Pe([o,i,a,u],h=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((p,g)=>{xr(h[g])?d.removeAttribute(p):d.setAttribute(p,h[g])})},{immediate:!0}))),hs(f)&&Ap(f)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(h=>f.removeAttribute(h))},{immediate:!0})}),In(()=>{if(l==null||l(),l=void 0,s.value&&hs(s.value)){const d=s.value;c.forEach(f=>{const h=n[f];h&&d.removeEventListener(f.slice(2).toLowerCase(),h)}),s.value=void 0}}),e({triggerRef:s}),(d,f)=>d.virtualTriggering?ce("v-if",!0):(L(),ye(m(WI),Xt({key:0},d.$attrs,{"aria-controls":m(o),"aria-describedby":m(i),"aria-expanded":m(u),"aria-haspopup":m(a)}),{default:O(()=>[ve(d.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var z7=Ye(K7,[["__file","trigger.vue"]]);const rv="focus-trap.focus-after-trapped",sv="focus-trap.focus-after-released",W7="focus-trap.focusout-prevented",yE={cancelable:!0,bubbles:!1},G7={cancelable:!0,bubbles:!1},bE="focusAfterTrapped",wE="focusAfterReleased",u1=Symbol("elFocusTrap"),c1=q(),Vm=q(0),d1=q(0);let rh=0;const qI=t=>{const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e},_E=(t,e)=>{for(const n of t)if(!q7(n,e))return n},q7=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},Y7=t=>{const e=qI(t),n=_E(e,t),r=_E(e.reverse(),t);return[n,r]},X7=t=>t instanceof HTMLInputElement&&"select"in t,Ci=(t,e)=>{if(t&&t.focus){const n=document.activeElement;let r=!1;hs(t)&&!Ap(t)&&!t.getAttribute("tabindex")&&(t.setAttribute("tabindex","-1"),r=!0),t.focus({preventScroll:!0}),d1.value=window.performance.now(),t!==n&&X7(t)&&e&&t.select(),hs(t)&&r&&t.removeAttribute("tabindex")}};function SE(t,e){const n=[...t],r=t.indexOf(e);return r!==-1&&n.splice(r,1),n}const Q7=()=>{let t=[];return{push:r=>{const s=t[0];s&&r!==s&&s.pause(),t=SE(t,r),t.unshift(r)},remove:r=>{var s,o;t=SE(t,r),(o=(s=t[0])==null?void 0:s.resume)==null||o.call(s)}}},Z7=(t,e=!1)=>{const n=document.activeElement;for(const r of t)if(Ci(r,e),document.activeElement!==n)return},EE=Q7(),J7=()=>Vm.value>d1.value,sh=()=>{c1.value="pointer",Vm.value=window.performance.now()},xE=()=>{c1.value="keyboard",Vm.value=window.performance.now()},eU=()=>(xt(()=>{rh===0&&(document.addEventListener("mousedown",sh),document.addEventListener("touchstart",sh),document.addEventListener("keydown",xE)),rh++}),In(()=>{rh--,rh<=0&&(document.removeEventListener("mousedown",sh),document.removeEventListener("touchstart",sh),document.removeEventListener("keydown",xE))}),{focusReason:c1,lastUserFocusTimestamp:Vm,lastAutomatedFocusTimestamp:d1}),oh=t=>new CustomEvent(W7,{...G7,detail:t}),ot={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let tu=[];const TE=t=>{t.code===ot.esc&&tu.forEach(e=>e(t))},tU=t=>{xt(()=>{tu.length===0&&document.addEventListener("keydown",TE),an&&tu.push(t)}),In(()=>{tu=tu.filter(e=>e!==t),tu.length===0&&an&&document.removeEventListener("keydown",TE)})},nU=ee({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[bE,wE,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const n=q();let r,s;const{focusReason:o}=eU();tU(p=>{t.trapped&&!i.paused&&e("release-requested",p)});const i={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},a=p=>{if(!t.loop&&!t.trapped||i.paused)return;const{code:g,altKey:v,ctrlKey:y,metaKey:_,currentTarget:b,shiftKey:w}=p,{loop:S}=t,E=g===ot.tab&&!v&&!y&&!_,T=document.activeElement;if(E&&T){const I=b,[k,C]=Y7(I);if(k&&C){if(!w&&T===C){const D=oh({focusReason:o.value});e("focusout-prevented",D),D.defaultPrevented||(p.preventDefault(),S&&Ci(k,!0))}else if(w&&[k,I].includes(T)){const D=oh({focusReason:o.value});e("focusout-prevented",D),D.defaultPrevented||(p.preventDefault(),S&&Ci(C,!0))}}else if(T===I){const D=oh({focusReason:o.value});e("focusout-prevented",D),D.defaultPrevented||p.preventDefault()}}};Qt(u1,{focusTrapRef:n,onKeydown:a}),Pe(()=>t.focusTrapEl,p=>{p&&(n.value=p)},{immediate:!0}),Pe([n],([p],[g])=>{p&&(p.addEventListener("keydown",a),p.addEventListener("focusin",c),p.addEventListener("focusout",d)),g&&(g.removeEventListener("keydown",a),g.removeEventListener("focusin",c),g.removeEventListener("focusout",d))});const u=p=>{e(bE,p)},l=p=>e(wE,p),c=p=>{const g=m(n);if(!g)return;const v=p.target,y=p.relatedTarget,_=v&&g.contains(v);t.trapped||y&&g.contains(y)||(r=y),_&&e("focusin",p),!i.paused&&t.trapped&&(_?s=v:Ci(s,!0))},d=p=>{const g=m(n);if(!(i.paused||!g))if(t.trapped){const v=p.relatedTarget;!xr(v)&&!g.contains(v)&&setTimeout(()=>{if(!i.paused&&t.trapped){const y=oh({focusReason:o.value});e("focusout-prevented",y),y.defaultPrevented||Ci(s,!0)}},0)}else{const v=p.target;v&&g.contains(v)||e("focusout",p)}};async function f(){await pt();const p=m(n);if(p){EE.push(i);const g=p.contains(document.activeElement)?r:document.activeElement;if(r=g,!p.contains(g)){const y=new Event(rv,yE);p.addEventListener(rv,u),p.dispatchEvent(y),y.defaultPrevented||pt(()=>{let _=t.focusStartEl;ht(_)||(Ci(_),document.activeElement!==_&&(_="first")),_==="first"&&Z7(qI(p),!0),(document.activeElement===g||_==="container")&&Ci(p)})}}}function h(){const p=m(n);if(p){p.removeEventListener(rv,u);const g=new CustomEvent(sv,{...yE,detail:{focusReason:o.value}});p.addEventListener(sv,l),p.dispatchEvent(g),!g.defaultPrevented&&(o.value=="keyboard"||!J7()||p.contains(document.activeElement))&&Ci(r??document.body),p.removeEventListener(sv,l),EE.remove(i)}}return xt(()=>{t.trapped&&f(),Pe(()=>t.trapped,p=>{p?f():h()})}),In(()=>{t.trapped&&h(),n.value&&(n.value.removeEventListener("keydown",a),n.value.removeEventListener("focusin",c),n.value.removeEventListener("focusout",d),n.value=void 0)}),{onKeydown:a}}});function rU(t,e,n,r,s,o){return ve(t.$slots,"default",{handleKeydown:t.onKeydown})}var ic=Ye(nU,[["render",rU],["__file","focus-trap.vue"]]),Cs="top",ao="bottom",lo="right",ks="left",f1="auto",gf=[Cs,ao,lo,ks],Pu="start",Id="end",sU="clippingParents",YI="viewport",Lc="popper",oU="reference",CE=gf.reduce(function(t,e){return t.concat([e+"-"+Pu,e+"-"+Id])},[]),Xi=[].concat(gf,[f1]).reduce(function(t,e){return t.concat([e,e+"-"+Pu,e+"-"+Id])},[]),iU="beforeRead",aU="read",lU="afterRead",uU="beforeMain",cU="main",dU="afterMain",fU="beforeWrite",hU="write",pU="afterWrite",mU=[iU,aU,lU,uU,cU,dU,fU,hU,pU];function li(t){return t?(t.nodeName||"").toLowerCase():null}function Oo(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Du(t){var e=Oo(t).Element;return t instanceof e||t instanceof Element}function so(t){var e=Oo(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function h1(t){if(typeof ShadowRoot>"u")return!1;var e=Oo(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function gU(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},o=e.elements[n];!so(o)||!li(o)||(Object.assign(o.style,r),Object.keys(s).forEach(function(i){var a=s[i];a===!1?o.removeAttribute(i):o.setAttribute(i,a===!0?"":a)}))})}function vU(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],o=e.attributes[r]||{},i=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=i.reduce(function(u,l){return u[l]="",u},{});!so(s)||!li(s)||(Object.assign(s.style,a),Object.keys(o).forEach(function(u){s.removeAttribute(u)}))})}}var XI={name:"applyStyles",enabled:!0,phase:"write",fn:gU,effect:vU,requires:["computeStyles"]};function ti(t){return t.split("-")[0]}var ml=Math.max,Rp=Math.min,Ou=Math.round;function Mu(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,s=1;if(so(t)&&e){var o=t.offsetHeight,i=t.offsetWidth;i>0&&(r=Ou(n.width)/i||1),o>0&&(s=Ou(n.height)/o||1)}return{width:n.width/r,height:n.height/s,top:n.top/s,right:n.right/r,bottom:n.bottom/s,left:n.left/r,x:n.left/r,y:n.top/s}}function p1(t){var e=Mu(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function QI(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&h1(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Vi(t){return Oo(t).getComputedStyle(t)}function yU(t){return["table","td","th"].indexOf(li(t))>=0}function za(t){return((Du(t)?t.ownerDocument:t.document)||window.document).documentElement}function Um(t){return li(t)==="html"?t:t.assignedSlot||t.parentNode||(h1(t)?t.host:null)||za(t)}function kE(t){return!so(t)||Vi(t).position==="fixed"?null:t.offsetParent}function bU(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&so(t)){var r=Vi(t);if(r.position==="fixed")return null}var s=Um(t);for(h1(s)&&(s=s.host);so(s)&&["html","body"].indexOf(li(s))<0;){var o=Vi(s);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return s;s=s.parentNode}return null}function vf(t){for(var e=Oo(t),n=kE(t);n&&yU(n)&&Vi(n).position==="static";)n=kE(n);return n&&(li(n)==="html"||li(n)==="body"&&Vi(n).position==="static")?e:n||bU(t)||e}function m1(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function td(t,e,n){return ml(t,Rp(e,n))}function wU(t,e,n){var r=td(t,e,n);return r>n?n:r}function ZI(){return{top:0,right:0,bottom:0,left:0}}function JI(t){return Object.assign({},ZI(),t)}function eA(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var _U=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,JI(typeof t!="number"?t:eA(t,gf))};function SU(t){var e,n=t.state,r=t.name,s=t.options,o=n.elements.arrow,i=n.modifiersData.popperOffsets,a=ti(n.placement),u=m1(a),l=[ks,lo].indexOf(a)>=0,c=l?"height":"width";if(!(!o||!i)){var d=_U(s.padding,n),f=p1(o),h=u==="y"?Cs:ks,p=u==="y"?ao:lo,g=n.rects.reference[c]+n.rects.reference[u]-i[u]-n.rects.popper[c],v=i[u]-n.rects.reference[u],y=vf(o),_=y?u==="y"?y.clientHeight||0:y.clientWidth||0:0,b=g/2-v/2,w=d[h],S=_-f[c]-d[p],E=_/2-f[c]/2+b,T=td(w,E,S),I=u;n.modifiersData[r]=(e={},e[I]=T,e.centerOffset=T-E,e)}}function EU(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||!QI(e.elements.popper,s)||(e.elements.arrow=s))}var xU={name:"arrow",enabled:!0,phase:"main",fn:SU,effect:EU,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Nu(t){return t.split("-")[1]}var TU={top:"auto",right:"auto",bottom:"auto",left:"auto"};function CU(t){var e=t.x,n=t.y,r=window,s=r.devicePixelRatio||1;return{x:Ou(e*s)/s||0,y:Ou(n*s)/s||0}}function IE(t){var e,n=t.popper,r=t.popperRect,s=t.placement,o=t.variation,i=t.offsets,a=t.position,u=t.gpuAcceleration,l=t.adaptive,c=t.roundOffsets,d=t.isFixed,f=i.x,h=f===void 0?0:f,p=i.y,g=p===void 0?0:p,v=typeof c=="function"?c({x:h,y:g}):{x:h,y:g};h=v.x,g=v.y;var y=i.hasOwnProperty("x"),_=i.hasOwnProperty("y"),b=ks,w=Cs,S=window;if(l){var E=vf(n),T="clientHeight",I="clientWidth";if(E===Oo(n)&&(E=za(n),Vi(E).position!=="static"&&a==="absolute"&&(T="scrollHeight",I="scrollWidth")),E=E,s===Cs||(s===ks||s===lo)&&o===Id){w=ao;var k=d&&E===S&&S.visualViewport?S.visualViewport.height:E[T];g-=k-r.height,g*=u?1:-1}if(s===ks||(s===Cs||s===ao)&&o===Id){b=lo;var C=d&&E===S&&S.visualViewport?S.visualViewport.width:E[I];h-=C-r.width,h*=u?1:-1}}var N=Object.assign({position:a},l&&TU),D=c===!0?CU({x:h,y:g}):{x:h,y:g};if(h=D.x,g=D.y,u){var W;return Object.assign({},N,(W={},W[w]=_?"0":"",W[b]=y?"0":"",W.transform=(S.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",W))}return Object.assign({},N,(e={},e[w]=_?g+"px":"",e[b]=y?h+"px":"",e.transform="",e))}function kU(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,o=n.adaptive,i=o===void 0?!0:o,a=n.roundOffsets,u=a===void 0?!0:a,l={placement:ti(e.placement),variation:Nu(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,IE(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:i,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,IE(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var tA={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:kU,data:{}},ih={passive:!0};function IU(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,o=s===void 0?!0:s,i=r.resize,a=i===void 0?!0:i,u=Oo(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach(function(c){c.addEventListener("scroll",n.update,ih)}),a&&u.addEventListener("resize",n.update,ih),function(){o&&l.forEach(function(c){c.removeEventListener("scroll",n.update,ih)}),a&&u.removeEventListener("resize",n.update,ih)}}var nA={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:IU,data:{}},AU={left:"right",right:"left",bottom:"top",top:"bottom"};function Vh(t){return t.replace(/left|right|bottom|top/g,function(e){return AU[e]})}var RU={start:"end",end:"start"};function AE(t){return t.replace(/start|end/g,function(e){return RU[e]})}function g1(t){var e=Oo(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function v1(t){return Mu(za(t)).left+g1(t).scrollLeft}function LU(t){var e=Oo(t),n=za(t),r=e.visualViewport,s=n.clientWidth,o=n.clientHeight,i=0,a=0;return r&&(s=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(i=r.offsetLeft,a=r.offsetTop)),{width:s,height:o,x:i+v1(t),y:a}}function $U(t){var e,n=za(t),r=g1(t),s=(e=t.ownerDocument)==null?void 0:e.body,o=ml(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),i=ml(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+v1(t),u=-r.scrollTop;return Vi(s||n).direction==="rtl"&&(a+=ml(n.clientWidth,s?s.clientWidth:0)-o),{width:o,height:i,x:a,y:u}}function y1(t){var e=Vi(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function rA(t){return["html","body","#document"].indexOf(li(t))>=0?t.ownerDocument.body:so(t)&&y1(t)?t:rA(Um(t))}function nd(t,e){var n;e===void 0&&(e=[]);var r=rA(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),o=Oo(r),i=s?[o].concat(o.visualViewport||[],y1(r)?r:[]):r,a=e.concat(i);return s?a:a.concat(nd(Um(i)))}function T0(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function PU(t){var e=Mu(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function RE(t,e){return e===YI?T0(LU(t)):Du(e)?PU(e):T0($U(za(t)))}function DU(t){var e=nd(Um(t)),n=["absolute","fixed"].indexOf(Vi(t).position)>=0,r=n&&so(t)?vf(t):t;return Du(r)?e.filter(function(s){return Du(s)&&QI(s,r)&&li(s)!=="body"}):[]}function OU(t,e,n){var r=e==="clippingParents"?DU(t):[].concat(e),s=[].concat(r,[n]),o=s[0],i=s.reduce(function(a,u){var l=RE(t,u);return a.top=ml(l.top,a.top),a.right=Rp(l.right,a.right),a.bottom=Rp(l.bottom,a.bottom),a.left=ml(l.left,a.left),a},RE(t,o));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function sA(t){var e=t.reference,n=t.element,r=t.placement,s=r?ti(r):null,o=r?Nu(r):null,i=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,u;switch(s){case Cs:u={x:i,y:e.y-n.height};break;case ao:u={x:i,y:e.y+e.height};break;case lo:u={x:e.x+e.width,y:a};break;case ks:u={x:e.x-n.width,y:a};break;default:u={x:e.x,y:e.y}}var l=s?m1(s):null;if(l!=null){var c=l==="y"?"height":"width";switch(o){case Pu:u[l]=u[l]-(e[c]/2-n[c]/2);break;case Id:u[l]=u[l]+(e[c]/2-n[c]/2);break}}return u}function Ad(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,o=n.boundary,i=o===void 0?sU:o,a=n.rootBoundary,u=a===void 0?YI:a,l=n.elementContext,c=l===void 0?Lc:l,d=n.altBoundary,f=d===void 0?!1:d,h=n.padding,p=h===void 0?0:h,g=JI(typeof p!="number"?p:eA(p,gf)),v=c===Lc?oU:Lc,y=t.rects.popper,_=t.elements[f?v:c],b=OU(Du(_)?_:_.contextElement||za(t.elements.popper),i,u),w=Mu(t.elements.reference),S=sA({reference:w,element:y,strategy:"absolute",placement:s}),E=T0(Object.assign({},y,S)),T=c===Lc?E:w,I={top:b.top-T.top+g.top,bottom:T.bottom-b.bottom+g.bottom,left:b.left-T.left+g.left,right:T.right-b.right+g.right},k=t.modifiersData.offset;if(c===Lc&&k){var C=k[s];Object.keys(I).forEach(function(N){var D=[lo,ao].indexOf(N)>=0?1:-1,W=[Cs,ao].indexOf(N)>=0?"y":"x";I[N]+=C[W]*D})}return I}function MU(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,o=n.rootBoundary,i=n.padding,a=n.flipVariations,u=n.allowedAutoPlacements,l=u===void 0?Xi:u,c=Nu(r),d=c?a?CE:CE.filter(function(p){return Nu(p)===c}):gf,f=d.filter(function(p){return l.indexOf(p)>=0});f.length===0&&(f=d);var h=f.reduce(function(p,g){return p[g]=Ad(t,{placement:g,boundary:s,rootBoundary:o,padding:i})[ti(g)],p},{});return Object.keys(h).sort(function(p,g){return h[p]-h[g]})}function NU(t){if(ti(t)===f1)return[];var e=Vh(t);return[AE(t),e,AE(e)]}function FU(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,o=s===void 0?!0:s,i=n.altAxis,a=i===void 0?!0:i,u=n.fallbackPlacements,l=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,g=n.allowedAutoPlacements,v=e.options.placement,y=ti(v),_=y===v,b=u||(_||!p?[Vh(v)]:NU(v)),w=[v].concat(b).reduce(function(ie,fe){return ie.concat(ti(fe)===f1?MU(e,{placement:fe,boundary:c,rootBoundary:d,padding:l,flipVariations:p,allowedAutoPlacements:g}):fe)},[]),S=e.rects.reference,E=e.rects.popper,T=new Map,I=!0,k=w[0],C=0;C<w.length;C++){var N=w[C],D=ti(N),W=Nu(N)===Pu,H=[Cs,ao].indexOf(D)>=0,V=H?"width":"height",R=Ad(e,{placement:N,boundary:c,rootBoundary:d,altBoundary:f,padding:l}),z=H?W?lo:ks:W?ao:Cs;S[V]>E[V]&&(z=Vh(z));var M=Vh(z),B=[];if(o&&B.push(R[D]<=0),a&&B.push(R[z]<=0,R[M]<=0),B.every(function(ie){return ie})){k=N,I=!1;break}T.set(N,B)}if(I)for(var j=p?3:1,X=function(ie){var fe=w.find(function(ue){var J=T.get(ue);if(J)return J.slice(0,ie).every(function(de){return de})});if(fe)return k=fe,"break"},se=j;se>0;se--){var te=X(se);if(te==="break")break}e.placement!==k&&(e.modifiersData[r]._skip=!0,e.placement=k,e.reset=!0)}}var BU={name:"flip",enabled:!0,phase:"main",fn:FU,requiresIfExists:["offset"],data:{_skip:!1}};function LE(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function $E(t){return[Cs,lo,ao,ks].some(function(e){return t[e]>=0})}function VU(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,o=e.modifiersData.preventOverflow,i=Ad(e,{elementContext:"reference"}),a=Ad(e,{altBoundary:!0}),u=LE(i,r),l=LE(a,s,o),c=$E(u),d=$E(l);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}var UU={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:VU};function HU(t,e,n){var r=ti(t),s=[ks,Cs].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,i=o[0],a=o[1];return i=i||0,a=(a||0)*s,[ks,lo].indexOf(r)>=0?{x:a,y:i}:{x:i,y:a}}function jU(t){var e=t.state,n=t.options,r=t.name,s=n.offset,o=s===void 0?[0,0]:s,i=Xi.reduce(function(c,d){return c[d]=HU(d,e.rects,o),c},{}),a=i[e.placement],u=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=i}var KU={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:jU};function zU(t){var e=t.state,n=t.name;e.modifiersData[n]=sA({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var oA={name:"popperOffsets",enabled:!0,phase:"read",fn:zU,data:{}};function WU(t){return t==="x"?"y":"x"}function GU(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,o=s===void 0?!0:s,i=n.altAxis,a=i===void 0?!1:i,u=n.boundary,l=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,p=n.tetherOffset,g=p===void 0?0:p,v=Ad(e,{boundary:u,rootBoundary:l,padding:d,altBoundary:c}),y=ti(e.placement),_=Nu(e.placement),b=!_,w=m1(y),S=WU(w),E=e.modifiersData.popperOffsets,T=e.rects.reference,I=e.rects.popper,k=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,C=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),N=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(E){if(o){var W,H=w==="y"?Cs:ks,V=w==="y"?ao:lo,R=w==="y"?"height":"width",z=E[w],M=z+v[H],B=z-v[V],j=h?-I[R]/2:0,X=_===Pu?T[R]:I[R],se=_===Pu?-I[R]:-T[R],te=e.elements.arrow,ie=h&&te?p1(te):{width:0,height:0},fe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ZI(),ue=fe[H],J=fe[V],de=td(0,T[R],ie[R]),ae=b?T[R]/2-j-de-ue-C.mainAxis:X-de-ue-C.mainAxis,Ae=b?-T[R]/2+j+de+J+C.mainAxis:se+de+J+C.mainAxis,Re=e.elements.arrow&&vf(e.elements.arrow),pe=Re?w==="y"?Re.clientTop||0:Re.clientLeft||0:0,ne=(W=N==null?void 0:N[w])!=null?W:0,le=z+ae-ne-pe,Se=z+Ae-ne,Ce=td(h?Rp(M,le):M,z,h?ml(B,Se):B);E[w]=Ce,D[w]=Ce-z}if(a){var Ee,we=w==="x"?Cs:ks,Le=w==="x"?ao:lo,Be=E[S],Ue=S==="y"?"height":"width",je=Be+v[we],at=Be-v[Le],Ie=[Cs,ks].indexOf(y)!==-1,Ze=(Ee=N==null?void 0:N[S])!=null?Ee:0,mt=Ie?je:Be-T[Ue]-I[Ue]-Ze+C.altAxis,Pt=Ie?Be+T[Ue]+I[Ue]-Ze-C.altAxis:at,Vt=h&&Ie?wU(mt,Be,Pt):td(h?mt:je,Be,h?Pt:at);E[S]=Vt,D[S]=Vt-Be}e.modifiersData[r]=D}}var qU={name:"preventOverflow",enabled:!0,phase:"main",fn:GU,requiresIfExists:["offset"]};function YU(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function XU(t){return t===Oo(t)||!so(t)?g1(t):YU(t)}function QU(t){var e=t.getBoundingClientRect(),n=Ou(e.width)/t.offsetWidth||1,r=Ou(e.height)/t.offsetHeight||1;return n!==1||r!==1}function ZU(t,e,n){n===void 0&&(n=!1);var r=so(e),s=so(e)&&QU(e),o=za(e),i=Mu(t,s),a={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((li(e)!=="body"||y1(o))&&(a=XU(e)),so(e)?(u=Mu(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=v1(o))),{x:i.left+a.scrollLeft-u.x,y:i.top+a.scrollTop-u.y,width:i.width,height:i.height}}function JU(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function s(o){n.add(o.name);var i=[].concat(o.requires||[],o.requiresIfExists||[]);i.forEach(function(a){if(!n.has(a)){var u=e.get(a);u&&s(u)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||s(o)}),r}function eH(t){var e=JU(t);return mU.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function tH(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function nH(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var PE={placement:"bottom",modifiers:[],strategy:"absolute"};function DE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function b1(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,o=s===void 0?PE:s;return function(i,a,u){u===void 0&&(u=o);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},PE,o),modifiersData:{},elements:{reference:i,popper:a},attributes:{},styles:{}},c=[],d=!1,f={state:l,setOptions:function(g){var v=typeof g=="function"?g(l.options):g;p(),l.options=Object.assign({},o,l.options,v),l.scrollParents={reference:Du(i)?nd(i):i.contextElement?nd(i.contextElement):[],popper:nd(a)};var y=eH(nH([].concat(r,l.options.modifiers)));return l.orderedModifiers=y.filter(function(_){return _.enabled}),h(),f.update()},forceUpdate:function(){if(!d){var g=l.elements,v=g.reference,y=g.popper;if(DE(v,y)){l.rects={reference:ZU(v,vf(y),l.options.strategy==="fixed"),popper:p1(y)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(I){return l.modifiersData[I.name]=Object.assign({},I.data)});for(var _=0;_<l.orderedModifiers.length;_++){if(l.reset===!0){l.reset=!1,_=-1;continue}var b=l.orderedModifiers[_],w=b.fn,S=b.options,E=S===void 0?{}:S,T=b.name;typeof w=="function"&&(l=w({state:l,options:E,name:T,instance:f})||l)}}}},update:tH(function(){return new Promise(function(g){f.forceUpdate(),g(l)})}),destroy:function(){p(),d=!0}};if(!DE(i,a))return f;f.setOptions(u).then(function(g){!d&&u.onFirstUpdate&&u.onFirstUpdate(g)});function h(){l.orderedModifiers.forEach(function(g){var v=g.name,y=g.options,_=y===void 0?{}:y,b=g.effect;if(typeof b=="function"){var w=b({state:l,name:v,instance:f,options:_}),S=function(){};c.push(w||S)}})}function p(){c.forEach(function(g){return g()}),c=[]}return f}}b1();var rH=[nA,oA,tA,XI];b1({defaultModifiers:rH});var sH=[nA,oA,tA,XI,KU,BU,qU,xU,UU],oH=b1({defaultModifiers:sH});const iH=["fixed","absolute"],aH=qe({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:me(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Xi,default:"bottom"},popperOptions:{type:me(Object),default:()=>({})},strategy:{type:String,values:iH,default:"absolute"}}),iA=qe({...aH,id:String,style:{type:me([String,Array,Object])},className:{type:me([String,Array,Object])},effect:{type:me(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:me([String,Array,Object])},popperStyle:{type:me([String,Array,Object])},referenceEl:{type:me(Object)},triggerTargetEl:{type:me(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...Vr(["ariaLabel"])}),lH={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},uH=(t,e)=>{const n=q(!1),r=q();return{focusStartRef:r,trapped:n,onFocusAfterReleased:l=>{var c;((c=l.detail)==null?void 0:c.focusReason)!=="pointer"&&(r.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:l=>{t.visible&&!n.value&&(l.target&&(r.value=l.target),n.value=!0)},onFocusoutPrevented:l=>{t.trapping||(l.detail.focusReason==="pointer"&&l.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,e("close")}}},cH=(t,e=[])=>{const{placement:n,strategy:r,popperOptions:s}=t,o={placement:n,strategy:r,...s,modifiers:[...fH(t),...e]};return hH(o,s==null?void 0:s.modifiers),o},dH=t=>{if(an)return fs(t)};function fH(t){const{offset:e,gpuAcceleration:n,fallbackPlacements:r}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function hH(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const pH=(t,e,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:u})=>{const l=mH(u);Object.assign(i.value,l)},requires:["computeStyles"]},s=P(()=>{const{onFirstUpdate:u,placement:l,strategy:c,modifiers:d}=m(n);return{onFirstUpdate:u,placement:l||"bottom",strategy:c||"absolute",modifiers:[...d||[],r,{name:"applyStyles",enabled:!1}]}}),o=On(),i=q({styles:{popper:{position:m(s).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=()=>{o.value&&(o.value.destroy(),o.value=void 0)};return Pe(s,u=>{const l=m(o);l&&l.setOptions(u)},{deep:!0}),Pe([t,e],([u,l])=>{a(),!(!u||!l)&&(o.value=oH(u,l,m(s)))}),In(()=>{a()}),{state:P(()=>{var u;return{...((u=m(o))==null?void 0:u.state)||{}}}),styles:P(()=>m(i).styles),attributes:P(()=>m(i).attributes),update:()=>{var u;return(u=m(o))==null?void 0:u.update()},forceUpdate:()=>{var u;return(u=m(o))==null?void 0:u.forceUpdate()},instanceRef:P(()=>m(o))}};function mH(t){const e=Object.keys(t.elements),n=Cd(e.map(s=>[s,t.styles[s]||{}])),r=Cd(e.map(s=>[s,t.attributes[s]]));return{styles:n,attributes:r}}const gH=0,vH=t=>{const{popperInstanceRef:e,contentRef:n,triggerRef:r,role:s}=rt(l1,void 0),o=q(),i=q(),a=P(()=>({name:"eventListeners",enabled:!!t.visible})),u=P(()=>{var y;const _=m(o),b=(y=m(i))!=null?y:gH;return{name:"arrow",enabled:!lI(_),options:{element:_,padding:b}}}),l=P(()=>({onFirstUpdate:()=>{p()},...cH(t,[m(u),m(a)])})),c=P(()=>dH(t.referenceEl)||m(r)),{attributes:d,state:f,styles:h,update:p,forceUpdate:g,instanceRef:v}=pH(c,n,l);return Pe(v,y=>e.value=y,{flush:"sync"}),xt(()=>{Pe(()=>{var y;return(y=m(c))==null?void 0:y.getBoundingClientRect()},()=>{p()})}),{attributes:d,arrowRef:o,contentRef:n,instanceRef:v,state:f,styles:h,role:s,forceUpdate:g,update:p}},yH=(t,{attributes:e,styles:n,role:r})=>{const{nextZIndex:s}=sc(),o=Ne("popper"),i=P(()=>m(e).popper),a=q(bt(t.zIndex)?t.zIndex:s()),u=P(()=>[o.b(),o.is("pure",t.pure),o.is(t.effect),t.popperClass]),l=P(()=>[{zIndex:m(a)},m(n).popper,t.popperStyle||{}]),c=P(()=>r.value==="dialog"?"false":void 0),d=P(()=>m(n).arrow||{});return{ariaModal:c,arrowStyle:d,contentAttrs:i,contentClass:u,contentStyle:l,contentZIndex:a,updateZIndex:()=>{a.value=bt(t.zIndex)?t.zIndex:s()}}},bH=ee({name:"ElPopperContent"}),wH=ee({...bH,props:iA,emits:lH,setup(t,{expose:e,emit:n}){const r=t,{focusStartRef:s,trapped:o,onFocusAfterReleased:i,onFocusAfterTrapped:a,onFocusInTrap:u,onFocusoutPrevented:l,onReleaseRequested:c}=uH(r,n),{attributes:d,arrowRef:f,contentRef:h,styles:p,instanceRef:g,role:v,update:y}=vH(r),{ariaModal:_,arrowStyle:b,contentAttrs:w,contentClass:S,contentStyle:E,updateZIndex:T}=yH(r,{styles:p,attributes:d,role:v}),I=rt(ai,void 0),k=q();Qt(FI,{arrowStyle:b,arrowRef:f,arrowOffset:k}),I&&Qt(ai,{...I,addInputId:bn,removeInputId:bn});let C;const N=(W=!0)=>{y(),W&&T()},D=()=>{N(!1),r.visible&&r.focusOnShow?o.value=!0:r.visible===!1&&(o.value=!1)};return xt(()=>{Pe(()=>r.triggerTargetEl,(W,H)=>{C==null||C(),C=void 0;const V=m(W||h.value),R=m(H||h.value);hs(V)&&(C=Pe([v,()=>r.ariaLabel,_,()=>r.id],z=>{["role","aria-label","aria-modal","id"].forEach((M,B)=>{xr(z[B])?V.removeAttribute(M):V.setAttribute(M,z[B])})},{immediate:!0})),R!==V&&hs(R)&&["role","aria-label","aria-modal","id"].forEach(z=>{R.removeAttribute(z)})},{immediate:!0}),Pe(()=>r.visible,D,{immediate:!0})}),In(()=>{C==null||C(),C=void 0}),e({popperContentRef:h,popperInstanceRef:g,updatePopper:N,contentStyle:E}),(W,H)=>(L(),G("div",Xt({ref_key:"contentRef",ref:h},m(w),{style:m(E),class:m(S),tabindex:"-1",onMouseenter:V=>W.$emit("mouseenter",V),onMouseleave:V=>W.$emit("mouseleave",V)}),[A(m(ic),{trapped:m(o),"trap-on-focus-in":!0,"focus-trap-el":m(h),"focus-start-el":m(s),onFocusAfterTrapped:m(a),onFocusAfterReleased:m(i),onFocusin:m(u),onFocusoutPrevented:m(l),onReleaseRequested:m(c)},{default:O(()=>[ve(W.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var _H=Ye(wH,[["__file","content.vue"]]);const aA=Bt(D7),Hm=Symbol("elTooltip");function OE(){let t;const e=(r,s)=>{n(),t=window.setTimeout(r,s)},n=()=>window.clearTimeout(t);return cf(()=>n()),{registerTimeout:e,cancelTimeout:n}}const SH=qe({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),EH=({showAfter:t,hideAfter:e,autoClose:n,open:r,close:s})=>{const{registerTimeout:o}=OE(),{registerTimeout:i,cancelTimeout:a}=OE();return{onOpen:c=>{o(()=>{r(c);const d=m(n);bt(d)&&d>0&&i(()=>{s(c)},d)},m(t))},onClose:c=>{a(),o(()=>{s(c)},m(e))}}},jm=qe({to:{type:me([String,Object]),required:!0},disabled:Boolean}),dr=qe({...SH,...iA,appendTo:{type:jm.to.type},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:me(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...Vr(["ariaLabel"])}),yu=qe({...HI,disabled:Boolean,trigger:{type:me([String,Array]),default:"hover"},triggerKeys:{type:me(Array),default:()=>[ot.enter,ot.numpadEnter,ot.space]}}),xH=Do({type:me(Boolean),default:null}),TH=Do({type:me(Function)}),lA=t=>{const e=`update:${t}`,n=`onUpdate:${t}`,r=[e],s={[t]:xH,[n]:TH};return{useModelToggle:({indicator:i,toggleReason:a,shouldHideWhenRouteChanges:u,shouldProceed:l,onShow:c,onHide:d})=>{const f=Gt(),{emit:h}=f,p=f.props,g=P(()=>vt(p[n])),v=P(()=>p[t]===null),y=T=>{i.value!==!0&&(i.value=!0,a&&(a.value=T),vt(c)&&c(T))},_=T=>{i.value!==!1&&(i.value=!1,a&&(a.value=T),vt(d)&&d(T))},b=T=>{if(p.disabled===!0||vt(l)&&!l())return;const I=g.value&&an;I&&h(e,!0),(v.value||!I)&&y(T)},w=T=>{if(p.disabled===!0||!an)return;const I=g.value&&an;I&&h(e,!1),(v.value||!I)&&_(T)},S=T=>{En(T)&&(p.disabled&&T?g.value&&h(e,!1):i.value!==T&&(T?y():_()))},E=()=>{i.value?w():b()};return Pe(()=>p[t],S),u&&f.appContext.config.globalProperties.$route!==void 0&&Pe(()=>({...f.proxy.$route}),()=>{u.value&&i.value&&w()}),xt(()=>{S(p[t])}),{hide:w,show:b,toggle:E,hasUpdateHandler:g}},useModelToggleProps:s,useModelToggleEmits:r}};lA("modelValue");const{useModelToggleProps:CH,useModelToggleEmits:kH,useModelToggle:IH}=lA("visible"),AH=qe({...VI,...CH,...dr,...yu,...UI,showArrow:{type:Boolean,default:!0}}),RH=[...kH,"before-show","before-hide","show","hide","open","close"],LH=(t,e)=>Ke(t)?t.includes(e):t===e,zl=(t,e,n)=>r=>{LH(m(t),e)&&n(r)},tr=(t,e,{checkForDefaultPrevented:n=!0}={})=>s=>{const o=t==null?void 0:t(s);if(n===!1||!o)return e==null?void 0:e(s)},ME=t=>e=>e.pointerType==="mouse"?t(e):void 0,$H=ee({name:"ElTooltipTrigger"}),PH=ee({...$H,props:yu,setup(t,{expose:e}){const n=t,r=Ne("tooltip"),{controlled:s,id:o,open:i,onOpen:a,onClose:u,onToggle:l}=rt(Hm,void 0),c=q(null),d=()=>{if(m(s)||n.disabled)return!0},f=wn(n,"trigger"),h=tr(d,zl(f,"hover",a)),p=tr(d,zl(f,"hover",u)),g=tr(d,zl(f,"click",w=>{w.button===0&&l(w)})),v=tr(d,zl(f,"focus",a)),y=tr(d,zl(f,"focus",u)),_=tr(d,zl(f,"contextmenu",w=>{w.preventDefault(),l(w)})),b=tr(d,w=>{const{code:S}=w;n.triggerKeys.includes(S)&&(w.preventDefault(),l(w))});return e({triggerRef:c}),(w,S)=>(L(),ye(m(z7),{id:m(o),"virtual-ref":w.virtualRef,open:m(i),"virtual-triggering":w.virtualTriggering,class:U(m(r).e("trigger")),onBlur:m(y),onClick:m(g),onContextmenu:m(_),onFocus:m(v),onMouseenter:m(h),onMouseleave:m(p),onKeydown:m(b)},{default:O(()=>[ve(w.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var DH=Ye(PH,[["__file","trigger.vue"]]);const OH=ee({__name:"teleport",props:jm,setup(t){return(e,n)=>e.disabled?ve(e.$slots,"default",{key:0}):(L(),ye(m4,{key:1,to:e.to},[ve(e.$slots,"default")],8,["to"]))}});var MH=Ye(OH,[["__file","teleport.vue"]]);const ac=Bt(MH),uA=()=>{const t=Ib(),e=o1(),n=P(()=>`${t.value}-popper-container-${e.prefix}`),r=P(()=>`#${n.value}`);return{id:n,selector:r}},NH=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},FH=()=>{const{id:t,selector:e}=uA();return Ll(()=>{an&&(document.body.querySelector(e.value)||NH(t.value))}),{id:t,selector:e}},BH=ee({name:"ElTooltipContent",inheritAttrs:!1}),VH=ee({...BH,props:dr,setup(t,{expose:e}){const n=t,{selector:r}=uA(),s=Ne("tooltip"),o=q(),i=Cp(()=>{var M;return(M=o.value)==null?void 0:M.popperContentRef});let a;const{controlled:u,id:l,open:c,trigger:d,onClose:f,onOpen:h,onShow:p,onHide:g,onBeforeShow:v,onBeforeHide:y}=rt(Hm,void 0),_=P(()=>n.transition||`${s.namespace.value}-fade-in-linear`),b=P(()=>n.persistent);In(()=>{a==null||a()});const w=P(()=>m(b)?!0:m(c)),S=P(()=>n.disabled?!1:m(c)),E=P(()=>n.appendTo||r.value),T=P(()=>{var M;return(M=n.style)!=null?M:{}}),I=q(!0),k=()=>{g(),z()&&Ci(document.body),I.value=!0},C=()=>{if(m(u))return!0},N=tr(C,()=>{n.enterable&&m(d)==="hover"&&h()}),D=tr(C,()=>{m(d)==="hover"&&f()}),W=()=>{var M,B;(B=(M=o.value)==null?void 0:M.updatePopper)==null||B.call(M),v==null||v()},H=()=>{y==null||y()},V=()=>{p(),a=zb(i,()=>{if(m(u))return;m(d)!=="hover"&&f()})},R=()=>{n.virtualTriggering||f()},z=M=>{var B;const j=(B=o.value)==null?void 0:B.popperContentRef,X=(M==null?void 0:M.relatedTarget)||document.activeElement;return j==null?void 0:j.contains(X)};return Pe(()=>m(c),M=>{M?I.value=!1:a==null||a()},{flush:"post"}),Pe(()=>n.content,()=>{var M,B;(B=(M=o.value)==null?void 0:M.updatePopper)==null||B.call(M)}),e({contentRef:o,isFocusInsideContent:z}),(M,B)=>(L(),ye(m(ac),{disabled:!M.teleported,to:m(E)},{default:O(()=>[A(Tr,{name:m(_),onAfterLeave:k,onBeforeEnter:W,onAfterEnter:V,onBeforeLeave:H},{default:O(()=>[m(w)?At((L(),ye(m(_H),Xt({key:0,id:m(l),ref_key:"contentRef",ref:o},M.$attrs,{"aria-label":M.ariaLabel,"aria-hidden":I.value,"boundaries-padding":M.boundariesPadding,"fallback-placements":M.fallbackPlacements,"gpu-acceleration":M.gpuAcceleration,offset:M.offset,placement:M.placement,"popper-options":M.popperOptions,strategy:M.strategy,effect:M.effect,enterable:M.enterable,pure:M.pure,"popper-class":M.popperClass,"popper-style":[M.popperStyle,m(T)],"reference-el":M.referenceEl,"trigger-target-el":M.triggerTargetEl,visible:m(S),"z-index":M.zIndex,onMouseenter:m(N),onMouseleave:m(D),onBlur:R,onClose:m(f)}),{default:O(()=>[ve(M.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[nn,m(S)]]):ce("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var UH=Ye(VH,[["__file","content.vue"]]);const HH=ee({name:"ElTooltip"}),jH=ee({...HH,props:AH,emits:RH,setup(t,{expose:e,emit:n}){const r=t;FH();const s=Ne("tooltip"),o=Br(),i=q(),a=q(),u=()=>{var b;const w=m(i);w&&((b=w.popperInstanceRef)==null||b.update())},l=q(!1),c=q(),{show:d,hide:f,hasUpdateHandler:h}=IH({indicator:l,toggleReason:c}),{onOpen:p,onClose:g}=EH({showAfter:wn(r,"showAfter"),hideAfter:wn(r,"hideAfter"),autoClose:wn(r,"autoClose"),open:d,close:f}),v=P(()=>En(r.visible)&&!h.value),y=P(()=>[s.b(),r.popperClass]);Qt(Hm,{controlled:v,id:o,open:Zu(l),trigger:wn(r,"trigger"),onOpen:b=>{p(b)},onClose:b=>{g(b)},onToggle:b=>{m(l)?g(b):p(b)},onShow:()=>{n("show",c.value)},onHide:()=>{n("hide",c.value)},onBeforeShow:()=>{n("before-show",c.value)},onBeforeHide:()=>{n("before-hide",c.value)},updatePopper:u}),Pe(()=>r.disabled,b=>{b&&l.value&&(l.value=!1)});const _=b=>{var w;return(w=a.value)==null?void 0:w.isFocusInsideContent(b)};return FC(()=>l.value&&f()),e({popperRef:i,contentRef:a,isFocusInsideContent:_,updatePopper:u,onOpen:p,onClose:g,hide:f}),(b,w)=>(L(),ye(m(aA),{ref_key:"popperRef",ref:i,role:b.role},{default:O(()=>[A(DH,{disabled:b.disabled,trigger:b.trigger,"trigger-keys":b.triggerKeys,"virtual-ref":b.virtualRef,"virtual-triggering":b.virtualTriggering},{default:O(()=>[b.$slots.default?ve(b.$slots,"default",{key:0}):ce("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),A(UH,{ref_key:"contentRef",ref:a,"aria-label":b.ariaLabel,"boundaries-padding":b.boundariesPadding,content:b.content,disabled:b.disabled,effect:b.effect,enterable:b.enterable,"fallback-placements":b.fallbackPlacements,"hide-after":b.hideAfter,"gpu-acceleration":b.gpuAcceleration,offset:b.offset,persistent:b.persistent,"popper-class":m(y),"popper-style":b.popperStyle,placement:b.placement,"popper-options":b.popperOptions,pure:b.pure,"raw-content":b.rawContent,"reference-el":b.referenceEl,"trigger-target-el":b.triggerTargetEl,"show-after":b.showAfter,strategy:b.strategy,teleported:b.teleported,transition:b.transition,"virtual-triggering":b.virtualTriggering,"z-index":b.zIndex,"append-to":b.appendTo},{default:O(()=>[ve(b.$slots,"content",{},()=>[b.rawContent?(L(),G("span",{key:0,innerHTML:b.content},null,8,["innerHTML"])):(L(),G("span",{key:1},ge(b.content),1))]),b.showArrow?(L(),ye(m(N7),{key:0,"arrow-offset":b.arrowOffset},null,8,["arrow-offset"])):ce("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var KH=Ye(jH,[["__file","tooltip.vue"]]);const wr=Bt(KH),zH=qe({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:me(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:me([Function,Array]),default:bn},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:dr.teleported,appendTo:dr.appendTo,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...Vr(["ariaLabel"])}),WH={[$t]:t=>ht(t),[yr]:t=>ht(t),[Yt]:t=>ht(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,select:t=>Kt(t)},cA="ElAutocomplete",GH=ee({name:cA,inheritAttrs:!1}),qH=ee({...GH,props:zH,emits:WH,setup(t,{expose:e,emit:n}){const r=t,s=pf(),o=Wi(),i=zr(),a=Ne("autocomplete"),u=q(),l=q(),c=q(),d=q();let f=!1,h=!1;const p=q([]),g=q(-1),v=q(""),y=q(!1),_=q(!1),b=q(!1),w=Br(),S=P(()=>o.style),E=P(()=>(p.value.length>0||b.value)&&y.value),T=P(()=>!r.hideLoading&&b.value),I=P(()=>u.value?Array.from(u.value.$el.querySelectorAll("input")):[]),k=()=>{E.value&&(v.value=`${u.value.$el.offsetWidth}px`)},C=()=>{g.value=-1},N=async J=>{if(_.value)return;const de=ae=>{b.value=!1,!_.value&&(Ke(ae)?(p.value=ae,g.value=r.highlightFirstItem?0:-1):hr(cA,"autocomplete suggestions must be an array"))};if(b.value=!0,Ke(r.fetchSuggestions))de(r.fetchSuggestions);else{const ae=await r.fetchSuggestions(J,de);Ke(ae)&&de(ae)}},D=As(N,r.debounce),W=J=>{const de=!!J;if(n(yr,J),n($t,J),_.value=!1,y.value||(y.value=de),!r.triggerOnFocus&&!J){_.value=!0,p.value=[];return}D(J)},H=J=>{var de;i.value||(((de=J.target)==null?void 0:de.tagName)!=="INPUT"||I.value.includes(document.activeElement))&&(y.value=!0)},V=J=>{n(Yt,J)},R=J=>{var de;if(h)h=!1;else{y.value=!0,n("focus",J);const ae=(de=r.modelValue)!=null?de:"";r.triggerOnFocus&&!f&&D(String(ae))}},z=J=>{setTimeout(()=>{var de;if((de=c.value)!=null&&de.isFocusInsideContent()){h=!0;return}y.value&&X(),n("blur",J)})},M=()=>{y.value=!1,n($t,""),n("clear")},B=async()=>{E.value&&g.value>=0&&g.value<p.value.length?ie(p.value[g.value]):r.selectWhenUnmatched&&(n("select",{value:r.modelValue}),p.value=[],g.value=-1)},j=J=>{E.value&&(J.preventDefault(),J.stopPropagation(),X())},X=()=>{y.value=!1},se=()=>{var J;(J=u.value)==null||J.focus()},te=()=>{var J;(J=u.value)==null||J.blur()},ie=async J=>{n(yr,J[r.valueKey]),n($t,J[r.valueKey]),n("select",J),p.value=[],g.value=-1},fe=J=>{if(!E.value||b.value)return;if(J<0){g.value=-1;return}J>=p.value.length&&(J=p.value.length-1);const de=l.value.querySelector(`.${a.be("suggestion","wrap")}`),Ae=de.querySelectorAll(`.${a.be("suggestion","list")} li`)[J],Re=de.scrollTop,{offsetTop:pe,scrollHeight:ne}=Ae;pe+ne>Re+de.clientHeight&&(de.scrollTop+=ne),pe<Re&&(de.scrollTop-=ne),g.value=J,u.value.ref.setAttribute("aria-activedescendant",`${w.value}-item-${g.value}`)},ue=zb(d,()=>{var J;(J=c.value)!=null&&J.isFocusInsideContent()||E.value&&X()});return In(()=>{ue==null||ue()}),xt(()=>{u.value.ref.setAttribute("role","textbox"),u.value.ref.setAttribute("aria-autocomplete","list"),u.value.ref.setAttribute("aria-controls","id"),u.value.ref.setAttribute("aria-activedescendant",`${w.value}-item-${g.value}`),f=u.value.ref.hasAttribute("readonly")}),e({highlightedIndex:g,activated:y,loading:b,inputRef:u,popperRef:c,suggestions:p,handleSelect:ie,handleKeyEnter:B,focus:se,blur:te,close:X,highlight:fe,getData:N}),(J,de)=>(L(),ye(m(wr),{ref_key:"popperRef",ref:c,visible:m(E),placement:J.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[m(a).e("popper"),J.popperClass],teleported:J.teleported,"append-to":J.appendTo,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${m(a).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:k,onHide:C},{content:O(()=>[F("div",{ref_key:"regionRef",ref:l,class:U([m(a).b("suggestion"),m(a).is("loading",m(T))]),style:dt({[J.fitInputWidth?"width":"minWidth"]:v.value,outline:"none"}),role:"region"},[A(m(hi),{id:m(w),tag:"ul","wrap-class":m(a).be("suggestion","wrap"),"view-class":m(a).be("suggestion","list"),role:"listbox"},{default:O(()=>[m(T)?(L(),G("li",{key:0},[ve(J.$slots,"loading",{},()=>[A(m(lt),{class:U(m(a).is("loading"))},{default:O(()=>[A(m(ii))]),_:1},8,["class"])])])):(L(!0),G(tt,{key:1},It(p.value,(ae,Ae)=>(L(),G("li",{id:`${m(w)}-item-${Ae}`,key:Ae,class:U({highlighted:g.value===Ae}),role:"option","aria-selected":g.value===Ae,onClick:Re=>ie(ae)},[ve(J.$slots,"default",{item:ae},()=>[xe(ge(ae[J.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:O(()=>[F("div",{ref_key:"listboxRef",ref:d,class:U([m(a).b(),J.$attrs.class]),style:dt(m(S)),role:"combobox","aria-haspopup":"listbox","aria-expanded":m(E),"aria-owns":m(w)},[A(m(ir),Xt({ref_key:"inputRef",ref:u},m(s),{clearable:J.clearable,disabled:m(i),name:J.name,"model-value":J.modelValue,"aria-label":J.ariaLabel,onInput:W,onChange:V,onFocus:R,onBlur:z,onClear:M,onKeydown:[Sn(St(ae=>fe(g.value-1),["prevent"]),["up"]),Sn(St(ae=>fe(g.value+1),["prevent"]),["down"]),Sn(B,["enter"]),Sn(X,["tab"]),Sn(j,["esc"])],onMousedown:H}),js({_:2},[J.$slots.prepend?{name:"prepend",fn:O(()=>[ve(J.$slots,"prepend")])}:void 0,J.$slots.append?{name:"append",fn:O(()=>[ve(J.$slots,"append")])}:void 0,J.$slots.prefix?{name:"prefix",fn:O(()=>[ve(J.$slots,"prefix")])}:void 0,J.$slots.suffix?{name:"suffix",fn:O(()=>[ve(J.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])]),_:3},8,["visible","placement","popper-class","teleported","append-to","transition"]))}});var YH=Ye(qH,[["__file","autocomplete.vue"]]);const XH=Bt(YH),QH=qe({size:{type:[Number,String],values:di,default:"",validator:t=>bt(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:_n},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:me(String),default:"cover"}}),ZH={error:t=>t instanceof Event},JH=ee({name:"ElAvatar"}),ej=ee({...JH,props:QH,emits:ZH,setup(t,{emit:e}){const n=t,r=Ne("avatar"),s=q(!1),o=P(()=>{const{size:l,icon:c,shape:d}=n,f=[r.b()];return ht(l)&&f.push(r.m(l)),c&&f.push(r.m("icon")),d&&f.push(r.m(d)),f}),i=P(()=>{const{size:l}=n;return bt(l)?r.cssVarBlock({size:Zn(l)||""}):void 0}),a=P(()=>({objectFit:n.fit}));Pe(()=>n.src,()=>s.value=!1);function u(l){s.value=!0,e("error",l)}return(l,c)=>(L(),G("span",{class:U(m(o)),style:dt(m(i))},[(l.src||l.srcSet)&&!s.value?(L(),G("img",{key:0,src:l.src,alt:l.alt,srcset:l.srcSet,style:dt(m(a)),onError:u},null,44,["src","alt","srcset"])):l.icon?(L(),ye(m(lt),{key:1},{default:O(()=>[(L(),ye(Wt(l.icon)))]),_:1})):ve(l.$slots,"default",{key:2})],6))}});var tj=Ye(ej,[["__file","avatar.vue"]]);const w1=Bt(tj),nj={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},rj={click:t=>t instanceof MouseEvent},sj=(t,e,n)=>{const r=On(),s=On(),o=q(!1),i=()=>{r.value&&(o.value=r.value.scrollTop>=t.visibilityHeight)},a=l=>{var c;(c=r.value)==null||c.scrollTo({top:0,behavior:"smooth"}),e("click",l)},u=fI(i,300,!0);return xn(s,"scroll",u),xt(()=>{var l;s.value=document,r.value=document.documentElement,t.target&&(r.value=(l=document.querySelector(t.target))!=null?l:void 0,r.value||hr(n,`target does not exist: ${t.target}`),s.value=r.value),i()}),{visible:o,handleClick:a}},dA="ElBacktop",oj=ee({name:dA}),ij=ee({...oj,props:nj,emits:rj,setup(t,{emit:e}){const n=t,r=Ne("backtop"),{handleClick:s,visible:o}=sj(n,e,dA),i=P(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(a,u)=>(L(),ye(Tr,{name:`${m(r).namespace.value}-fade-in`},{default:O(()=>[m(o)?(L(),G("div",{key:0,style:dt(m(i)),class:U(m(r).b()),onClick:St(m(s),["stop"])},[ve(a.$slots,"default",{},()=>[A(m(lt),{class:U(m(r).e("icon"))},{default:O(()=>[A(m(CV))]),_:1},8,["class"])])],14,["onClick"])):ce("v-if",!0)]),_:3},8,["name"]))}});var aj=Ye(ij,[["__file","backtop.vue"]]);const lj=Bt(aj),uj=qe({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:me([String,Object,Array])},offset:{type:me(Array),default:[0,0]},badgeClass:{type:String}}),cj=ee({name:"ElBadge"}),dj=ee({...cj,props:uj,setup(t,{expose:e}){const n=t,r=Ne("badge"),s=P(()=>n.isDot?"":bt(n.value)&&bt(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`),o=P(()=>{var i,a,u,l,c;return[{backgroundColor:n.color,marginRight:Zn(-((a=(i=n.offset)==null?void 0:i[0])!=null?a:0)),marginTop:Zn((l=(u=n.offset)==null?void 0:u[1])!=null?l:0)},(c=n.badgeStyle)!=null?c:{}]});return e({content:s}),(i,a)=>(L(),G("div",{class:U(m(r).b())},[ve(i.$slots,"default"),A(Tr,{name:`${m(r).namespace.value}-zoom-in-center`,persisted:""},{default:O(()=>[At(F("sup",{class:U([m(r).e("content"),m(r).em("content",i.type),m(r).is("fixed",!!i.$slots.default),m(r).is("dot",i.isDot),m(r).is("hide-zero",!i.showZero&&n.value===0),i.badgeClass]),style:dt(m(o))},[ve(i.$slots,"content",{value:m(s)},()=>[xe(ge(m(s)),1)])],6),[[nn,!i.hidden&&(m(s)||i.isDot||i.$slots.content)]])]),_:3},8,["name"])],2))}});var fj=Ye(dj,[["__file","badge.vue"]]);const fA=Bt(fj),hA=Symbol("breadcrumbKey"),hj=qe({separator:{type:String,default:"/"},separatorIcon:{type:_n}}),pj=ee({name:"ElBreadcrumb"}),mj=ee({...pj,props:hj,setup(t){const e=t,{t:n}=un(),r=Ne("breadcrumb"),s=q();return Qt(hA,e),xt(()=>{const o=s.value.querySelectorAll(`.${r.e("item")}`);o.length&&o[o.length-1].setAttribute("aria-current","page")}),(o,i)=>(L(),G("div",{ref_key:"breadcrumb",ref:s,class:U(m(r).b()),"aria-label":m(n)("el.breadcrumb.label"),role:"navigation"},[ve(o.$slots,"default")],10,["aria-label"]))}});var gj=Ye(mj,[["__file","breadcrumb.vue"]]);const vj=qe({to:{type:me([String,Object]),default:""},replace:Boolean}),yj=ee({name:"ElBreadcrumbItem"}),bj=ee({...yj,props:vj,setup(t){const e=t,n=Gt(),r=rt(hA,void 0),s=Ne("breadcrumb"),o=n.appContext.config.globalProperties.$router,i=q(),a=()=>{!e.to||!o||(e.replace?o.replace(e.to):o.push(e.to))};return(u,l)=>{var c,d;return L(),G("span",{class:U(m(s).e("item"))},[F("span",{ref_key:"link",ref:i,class:U([m(s).e("inner"),m(s).is("link",!!u.to)]),role:"link",onClick:a},[ve(u.$slots,"default")],2),(c=m(r))!=null&&c.separatorIcon?(L(),ye(m(lt),{key:0,class:U(m(s).e("separator"))},{default:O(()=>[(L(),ye(Wt(m(r).separatorIcon)))]),_:1},8,["class"])):(L(),G("span",{key:1,class:U(m(s).e("separator")),role:"presentation"},ge((d=m(r))==null?void 0:d.separator),3))],2)}}});var pA=Ye(bj,[["__file","breadcrumb-item.vue"]]);const wj=Bt(gj,{BreadcrumbItem:pA}),_j=Xn(pA),mA=Symbol("buttonGroupContextKey"),Fi=({from:t,replacement:e,scope:n,version:r,ref:s,type:o="API"},i)=>{Pe(()=>m(i),a=>{},{immediate:!0})},Sj=(t,e)=>{Fi({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},P(()=>t.type==="text"));const n=rt(mA,void 0),r=Dm("button"),{form:s}=Kr(),o=fr(P(()=>n==null?void 0:n.size)),i=zr(),a=q(),u=_r(),l=P(()=>t.type||(n==null?void 0:n.type)||""),c=P(()=>{var p,g,v;return(v=(g=t.autoInsertSpace)!=null?g:(p=r.value)==null?void 0:p.autoInsertSpace)!=null?v:!1}),d=P(()=>t.tag==="button"?{ariaDisabled:i.value||t.loading,disabled:i.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),f=P(()=>{var p;const g=(p=u.default)==null?void 0:p.call(u);if(c.value&&(g==null?void 0:g.length)===1){const v=g[0];if((v==null?void 0:v.type)===Ju){const y=v.children;return/^\p{Unified_Ideograph}{2}$/u.test(y.trim())}}return!1});return{_disabled:i,_size:o,_type:l,_ref:a,_props:d,shouldAddSpace:f,handleClick:p=>{if(i.value||t.loading){p.stopPropagation();return}t.nativeType==="reset"&&(s==null||s.resetFields()),e("click",p)}}},C0=["default","primary","success","warning","info","danger","text",""],Ej=["button","submit","reset"],k0=qe({size:pr,disabled:Boolean,type:{type:String,values:C0,default:""},icon:{type:_n},nativeType:{type:String,values:Ej,default:"button"},loading:Boolean,loadingIcon:{type:_n,default:()=>ii},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:me([String,Object]),default:"button"}}),xj={click:t=>t instanceof MouseEvent};function jr(t,e){Tj(t)&&(t="100%");var n=Cj(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function ah(t){return Math.min(1,Math.max(0,t))}function Tj(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function Cj(t){return typeof t=="string"&&t.indexOf("%")!==-1}function gA(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function lh(t){return t<=1?"".concat(Number(t)*100,"%"):t}function al(t){return t.length===1?"0"+t:String(t)}function kj(t,e,n){return{r:jr(t,255)*255,g:jr(e,255)*255,b:jr(n,255)*255}}function NE(t,e,n){t=jr(t,255),e=jr(e,255),n=jr(n,255);var r=Math.max(t,e,n),s=Math.min(t,e,n),o=0,i=0,a=(r+s)/2;if(r===s)i=0,o=0;else{var u=r-s;switch(i=a>.5?u/(2-r-s):u/(r+s),r){case t:o=(e-n)/u+(e<n?6:0);break;case e:o=(n-t)/u+2;break;case n:o=(t-e)/u+4;break}o/=6}return{h:o,s:i,l:a}}function ov(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Ij(t,e,n){var r,s,o;if(t=jr(t,360),e=jr(e,100),n=jr(n,100),e===0)s=n,o=n,r=n;else{var i=n<.5?n*(1+e):n+e-n*e,a=2*n-i;r=ov(a,i,t+1/3),s=ov(a,i,t),o=ov(a,i,t-1/3)}return{r:r*255,g:s*255,b:o*255}}function FE(t,e,n){t=jr(t,255),e=jr(e,255),n=jr(n,255);var r=Math.max(t,e,n),s=Math.min(t,e,n),o=0,i=r,a=r-s,u=r===0?0:a/r;if(r===s)o=0;else{switch(r){case t:o=(e-n)/a+(e<n?6:0);break;case e:o=(n-t)/a+2;break;case n:o=(t-e)/a+4;break}o/=6}return{h:o,s:u,v:i}}function Aj(t,e,n){t=jr(t,360)*6,e=jr(e,100),n=jr(n,100);var r=Math.floor(t),s=t-r,o=n*(1-e),i=n*(1-s*e),a=n*(1-(1-s)*e),u=r%6,l=[n,i,o,o,a,n][u],c=[a,n,n,i,o,o][u],d=[o,o,a,n,n,i][u];return{r:l*255,g:c*255,b:d*255}}function BE(t,e,n,r){var s=[al(Math.round(t).toString(16)),al(Math.round(e).toString(16)),al(Math.round(n).toString(16))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function Rj(t,e,n,r,s){var o=[al(Math.round(t).toString(16)),al(Math.round(e).toString(16)),al(Math.round(n).toString(16)),al(Lj(r))];return s&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function Lj(t){return Math.round(parseFloat(t)*255).toString(16)}function VE(t){return $s(t)/255}function $s(t){return parseInt(t,16)}function $j(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var I0={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Pj(t){var e={r:0,g:0,b:0},n=1,r=null,s=null,o=null,i=!1,a=!1;return typeof t=="string"&&(t=Mj(t)),typeof t=="object"&&(_i(t.r)&&_i(t.g)&&_i(t.b)?(e=kj(t.r,t.g,t.b),i=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):_i(t.h)&&_i(t.s)&&_i(t.v)?(r=lh(t.s),s=lh(t.v),e=Aj(t.h,r,s),i=!0,a="hsv"):_i(t.h)&&_i(t.s)&&_i(t.l)&&(r=lh(t.s),o=lh(t.l),e=Ij(t.h,r,o),i=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=gA(n),{ok:i,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var Dj="[-\\+]?\\d+%?",Oj="[-\\+]?\\d*\\.\\d+%?",xa="(?:".concat(Oj,")|(?:").concat(Dj,")"),iv="[\\s|\\(]+(".concat(xa,")[,|\\s]+(").concat(xa,")[,|\\s]+(").concat(xa,")\\s*\\)?"),av="[\\s|\\(]+(".concat(xa,")[,|\\s]+(").concat(xa,")[,|\\s]+(").concat(xa,")[,|\\s]+(").concat(xa,")\\s*\\)?"),vo={CSS_UNIT:new RegExp(xa),rgb:new RegExp("rgb"+iv),rgba:new RegExp("rgba"+av),hsl:new RegExp("hsl"+iv),hsla:new RegExp("hsla"+av),hsv:new RegExp("hsv"+iv),hsva:new RegExp("hsva"+av),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Mj(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(I0[t])t=I0[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=vo.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=vo.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=vo.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=vo.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=vo.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=vo.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=vo.hex8.exec(t),n?{r:$s(n[1]),g:$s(n[2]),b:$s(n[3]),a:VE(n[4]),format:e?"name":"hex8"}:(n=vo.hex6.exec(t),n?{r:$s(n[1]),g:$s(n[2]),b:$s(n[3]),format:e?"name":"hex"}:(n=vo.hex4.exec(t),n?{r:$s(n[1]+n[1]),g:$s(n[2]+n[2]),b:$s(n[3]+n[3]),a:VE(n[4]+n[4]),format:e?"name":"hex8"}:(n=vo.hex3.exec(t),n?{r:$s(n[1]+n[1]),g:$s(n[2]+n[2]),b:$s(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function _i(t){return!!vo.CSS_UNIT.exec(String(t))}var vA=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=$j(e)),this.originalInput=e;var s=Pj(e);this.originalInput=e,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:s.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,s,o=e.r/255,i=e.g/255,a=e.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),i<=.03928?r=i/12.92:r=Math.pow((i+.055)/1.055,2.4),a<=.03928?s=a/12.92:s=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*r+.0722*s},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=gA(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=FE(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=FE(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),s=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=NE(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=NE(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),s=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),BE(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),Rj(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(jr(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(jr(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+BE(this.r,this.g,this.b,!1),n=0,r=Object.entries(I0);n<r.length;n++){var s=r[n],o=s[0],i=s[1];if(e===i)return o}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var r=!1,s=this.a<1&&this.a>=0,o=!n&&s&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=ah(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=ah(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=ah(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=ah(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),s=new t(e).toRgb(),o=n/100,i={r:(s.r-r.r)*o+r.r,g:(s.g-r.g)*o+r.g,b:(s.b-r.b)*o+r.b,a:(s.a-r.a)*o+r.a};return new t(i)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),s=360/n,o=[this];for(r.h=(r.h-(s*e>>1)+720)%360;--e;)r.h=(r.h+s)%360,o.push(new t(r));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,s=n.s,o=n.v,i=[],a=1/e;e--;)i.push(new t({h:r,s,v:o})),o=(o+a)%1;return i},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb(),s=n.a+r.a*(1-n.a);return new t({r:(n.r*n.a+r.r*r.a*(1-n.a))/s,g:(n.g*n.a+r.g*r.a*(1-n.a))/s,b:(n.b*n.a+r.b*r.a*(1-n.a))/s,a:s})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,s=[this],o=360/e,i=1;i<e;i++)s.push(new t({h:(r+i*o)%360,s:n.s,l:n.l}));return s},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function ua(t,e=20){return t.mix("#141414",e).toString()}function Nj(t){const e=zr(),n=Ne("button");return P(()=>{let r={},s=t.color;if(s){const o=s.match(/var\((.*?)\)/);o&&(s=window.getComputedStyle(window.document.documentElement).getPropertyValue(o[1]));const i=new vA(s),a=t.dark?i.tint(20).toString():ua(i,20);if(t.plain)r=n.cssVarBlock({"bg-color":t.dark?ua(i,90):i.tint(90).toString(),"text-color":s,"border-color":t.dark?ua(i,50):i.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":a,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":a}),e.value&&(r[n.cssVarBlockName("disabled-bg-color")]=t.dark?ua(i,90):i.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=t.dark?ua(i,50):i.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=t.dark?ua(i,80):i.tint(80).toString());else{const u=t.dark?ua(i,30):i.tint(30).toString(),l=i.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":s,"text-color":l,"border-color":s,"hover-bg-color":u,"hover-text-color":l,"hover-border-color":u,"active-bg-color":a,"active-border-color":a}),e.value){const c=t.dark?ua(i,50):i.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=c,r[n.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=c}}}return r})}const Fj=ee({name:"ElButton"}),Bj=ee({...Fj,props:k0,emits:xj,setup(t,{expose:e,emit:n}){const r=t,s=Nj(r),o=Ne("button"),{_ref:i,_size:a,_type:u,_disabled:l,_props:c,shouldAddSpace:d,handleClick:f}=Sj(r,n),h=P(()=>[o.b(),o.m(u.value),o.m(a.value),o.is("disabled",l.value),o.is("loading",r.loading),o.is("plain",r.plain),o.is("round",r.round),o.is("circle",r.circle),o.is("text",r.text),o.is("link",r.link),o.is("has-bg",r.bg)]);return e({ref:i,size:a,type:u,disabled:l,shouldAddSpace:d}),(p,g)=>(L(),ye(Wt(p.tag),Xt({ref_key:"_ref",ref:i},m(c),{class:m(h),style:m(s),onClick:m(f)}),{default:O(()=>[p.loading?(L(),G(tt,{key:0},[p.$slots.loading?ve(p.$slots,"loading",{key:0}):(L(),ye(m(lt),{key:1,class:U(m(o).is("loading"))},{default:O(()=>[(L(),ye(Wt(p.loadingIcon)))]),_:1},8,["class"]))],64)):p.icon||p.$slots.icon?(L(),ye(m(lt),{key:1},{default:O(()=>[p.icon?(L(),ye(Wt(p.icon),{key:0})):ve(p.$slots,"icon",{key:1})]),_:3})):ce("v-if",!0),p.$slots.default?(L(),G("span",{key:2,class:U({[m(o).em("text","expand")]:m(d)})},[ve(p.$slots,"default")],2)):ce("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Vj=Ye(Bj,[["__file","button.vue"]]);const Uj={size:k0.size,type:k0.type},Hj=ee({name:"ElButtonGroup"}),jj=ee({...Hj,props:Uj,setup(t){const e=t;Qt(mA,Ft({size:wn(e,"size"),type:wn(e,"type")}));const n=Ne("button");return(r,s)=>(L(),G("div",{class:U(m(n).b("group"))},[ve(r.$slots,"default")],2))}});var yA=Ye(jj,[["__file","button-group.vue"]]);const Nn=Bt(Vj,{ButtonGroup:yA}),bA=Xn(yA);var rs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ks(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wA={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(rs,function(){var n=1e3,r=6e4,s=36e5,o="millisecond",i="second",a="minute",u="hour",l="day",c="week",d="month",f="quarter",h="year",p="date",g="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(H){var V=["th","st","nd","rd"],R=H%100;return"["+H+(V[(R-20)%10]||V[R]||V[0])+"]"}},b=function(H,V,R){var z=String(H);return!z||z.length>=V?H:""+Array(V+1-z.length).join(R)+H},w={s:b,z:function(H){var V=-H.utcOffset(),R=Math.abs(V),z=Math.floor(R/60),M=R%60;return(V<=0?"+":"-")+b(z,2,"0")+":"+b(M,2,"0")},m:function H(V,R){if(V.date()<R.date())return-H(R,V);var z=12*(R.year()-V.year())+(R.month()-V.month()),M=V.clone().add(z,d),B=R-M<0,j=V.clone().add(z+(B?-1:1),d);return+(-(z+(R-M)/(B?M-j:j-M))||0)},a:function(H){return H<0?Math.ceil(H)||0:Math.floor(H)},p:function(H){return{M:d,y:h,w:c,d:l,D:p,h:u,m:a,s:i,ms:o,Q:f}[H]||String(H||"").toLowerCase().replace(/s$/,"")},u:function(H){return H===void 0}},S="en",E={};E[S]=_;var T="$isDayjsObject",I=function(H){return H instanceof D||!(!H||!H[T])},k=function H(V,R,z){var M;if(!V)return S;if(typeof V=="string"){var B=V.toLowerCase();E[B]&&(M=B),R&&(E[B]=R,M=B);var j=V.split("-");if(!M&&j.length>1)return H(j[0])}else{var X=V.name;E[X]=V,M=X}return!z&&M&&(S=M),M||!z&&S},C=function(H,V){if(I(H))return H.clone();var R=typeof V=="object"?V:{};return R.date=H,R.args=arguments,new D(R)},N=w;N.l=k,N.i=I,N.w=function(H,V){return C(H,{locale:V.$L,utc:V.$u,x:V.$x,$offset:V.$offset})};var D=function(){function H(R){this.$L=k(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[T]=!0}var V=H.prototype;return V.parse=function(R){this.$d=function(z){var M=z.date,B=z.utc;if(M===null)return new Date(NaN);if(N.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var j=M.match(v);if(j){var X=j[2]-1||0,se=(j[7]||"0").substring(0,3);return B?new Date(Date.UTC(j[1],X,j[3]||1,j[4]||0,j[5]||0,j[6]||0,se)):new Date(j[1],X,j[3]||1,j[4]||0,j[5]||0,j[6]||0,se)}}return new Date(M)}(R),this.init()},V.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},V.$utils=function(){return N},V.isValid=function(){return this.$d.toString()!==g},V.isSame=function(R,z){var M=C(R);return this.startOf(z)<=M&&M<=this.endOf(z)},V.isAfter=function(R,z){return C(R)<this.startOf(z)},V.isBefore=function(R,z){return this.endOf(z)<C(R)},V.$g=function(R,z,M){return N.u(R)?this[z]:this.set(M,R)},V.unix=function(){return Math.floor(this.valueOf()/1e3)},V.valueOf=function(){return this.$d.getTime()},V.startOf=function(R,z){var M=this,B=!!N.u(z)||z,j=N.p(R),X=function(ae,Ae){var Re=N.w(M.$u?Date.UTC(M.$y,Ae,ae):new Date(M.$y,Ae,ae),M);return B?Re:Re.endOf(l)},se=function(ae,Ae){return N.w(M.toDate()[ae].apply(M.toDate("s"),(B?[0,0,0,0]:[23,59,59,999]).slice(Ae)),M)},te=this.$W,ie=this.$M,fe=this.$D,ue="set"+(this.$u?"UTC":"");switch(j){case h:return B?X(1,0):X(31,11);case d:return B?X(1,ie):X(0,ie+1);case c:var J=this.$locale().weekStart||0,de=(te<J?te+7:te)-J;return X(B?fe-de:fe+(6-de),ie);case l:case p:return se(ue+"Hours",0);case u:return se(ue+"Minutes",1);case a:return se(ue+"Seconds",2);case i:return se(ue+"Milliseconds",3);default:return this.clone()}},V.endOf=function(R){return this.startOf(R,!1)},V.$set=function(R,z){var M,B=N.p(R),j="set"+(this.$u?"UTC":""),X=(M={},M[l]=j+"Date",M[p]=j+"Date",M[d]=j+"Month",M[h]=j+"FullYear",M[u]=j+"Hours",M[a]=j+"Minutes",M[i]=j+"Seconds",M[o]=j+"Milliseconds",M)[B],se=B===l?this.$D+(z-this.$W):z;if(B===d||B===h){var te=this.clone().set(p,1);te.$d[X](se),te.init(),this.$d=te.set(p,Math.min(this.$D,te.daysInMonth())).$d}else X&&this.$d[X](se);return this.init(),this},V.set=function(R,z){return this.clone().$set(R,z)},V.get=function(R){return this[N.p(R)]()},V.add=function(R,z){var M,B=this;R=Number(R);var j=N.p(z),X=function(ie){var fe=C(B);return N.w(fe.date(fe.date()+Math.round(ie*R)),B)};if(j===d)return this.set(d,this.$M+R);if(j===h)return this.set(h,this.$y+R);if(j===l)return X(1);if(j===c)return X(7);var se=(M={},M[a]=r,M[u]=s,M[i]=n,M)[j]||1,te=this.$d.getTime()+R*se;return N.w(te,this)},V.subtract=function(R,z){return this.add(-1*R,z)},V.format=function(R){var z=this,M=this.$locale();if(!this.isValid())return M.invalidDate||g;var B=R||"YYYY-MM-DDTHH:mm:ssZ",j=N.z(this),X=this.$H,se=this.$m,te=this.$M,ie=M.weekdays,fe=M.months,ue=M.meridiem,J=function(Ae,Re,pe,ne){return Ae&&(Ae[Re]||Ae(z,B))||pe[Re].slice(0,ne)},de=function(Ae){return N.s(X%12||12,Ae,"0")},ae=ue||function(Ae,Re,pe){var ne=Ae<12?"AM":"PM";return pe?ne.toLowerCase():ne};return B.replace(y,function(Ae,Re){return Re||function(pe){switch(pe){case"YY":return String(z.$y).slice(-2);case"YYYY":return N.s(z.$y,4,"0");case"M":return te+1;case"MM":return N.s(te+1,2,"0");case"MMM":return J(M.monthsShort,te,fe,3);case"MMMM":return J(fe,te);case"D":return z.$D;case"DD":return N.s(z.$D,2,"0");case"d":return String(z.$W);case"dd":return J(M.weekdaysMin,z.$W,ie,2);case"ddd":return J(M.weekdaysShort,z.$W,ie,3);case"dddd":return ie[z.$W];case"H":return String(X);case"HH":return N.s(X,2,"0");case"h":return de(1);case"hh":return de(2);case"a":return ae(X,se,!0);case"A":return ae(X,se,!1);case"m":return String(se);case"mm":return N.s(se,2,"0");case"s":return String(z.$s);case"ss":return N.s(z.$s,2,"0");case"SSS":return N.s(z.$ms,3,"0");case"Z":return j}return null}(Ae)||j.replace(":","")})},V.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},V.diff=function(R,z,M){var B,j=this,X=N.p(z),se=C(R),te=(se.utcOffset()-this.utcOffset())*r,ie=this-se,fe=function(){return N.m(j,se)};switch(X){case h:B=fe()/12;break;case d:B=fe();break;case f:B=fe()/3;break;case c:B=(ie-te)/6048e5;break;case l:B=(ie-te)/864e5;break;case u:B=ie/s;break;case a:B=ie/r;break;case i:B=ie/n;break;default:B=ie}return M?B:N.a(B)},V.daysInMonth=function(){return this.endOf(d).$D},V.$locale=function(){return E[this.$L]},V.locale=function(R,z){if(!R)return this.$L;var M=this.clone(),B=k(R,z,!0);return B&&(M.$L=B),M},V.clone=function(){return N.w(this.$d,this)},V.toDate=function(){return new Date(this.valueOf())},V.toJSON=function(){return this.isValid()?this.toISOString():null},V.toISOString=function(){return this.$d.toISOString()},V.toString=function(){return this.$d.toUTCString()},H}(),W=D.prototype;return C.prototype=W,[["$ms",o],["$s",i],["$m",a],["$H",u],["$W",l],["$M",d],["$y",h],["$D",p]].forEach(function(H){W[H[1]]=function(V){return this.$g(V,H[0],H[1])}}),C.extend=function(H,V){return H.$i||(H(V,D,C),H.$i=!0),C},C.locale=k,C.isDayjs=I,C.unix=function(H){return C(1e3*H)},C.en=E[S],C.Ls=E,C.p={},C})})(wA);var Kj=wA.exports;const Nt=Ks(Kj),lv=(t,e)=>[t>0?t-1:void 0,t,t<e?t+1:void 0],ka=t=>Array.from(Array.from({length:t}).keys()),_A=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),SA=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),UE=function(t,e){const n=Ia(t),r=Ia(e);return n&&r?t.getTime()===e.getTime():!n&&!r?t===e:!1},HE=function(t,e){const n=Ke(t),r=Ke(e);return n&&r?t.length!==e.length?!1:t.every((s,o)=>UE(s,e[o])):!n&&!r?UE(t,e):!1},jE=function(t,e,n){const r=Ds(e)||e==="x"?Nt(t).locale(n):Nt(t,e).locale(n);return r.isValid()?r:void 0},KE=function(t,e,n){return Ds(e)?t:e==="x"?+t:Nt(t).locale(n).format(e)},uv=(t,e)=>{var n;const r=[],s=e==null?void 0:e();for(let o=0;o<t;o++)r.push((n=s==null?void 0:s.includes(o))!=null?n:!1);return r},uh=t=>Ke(t)?t.map(e=>e.toDate()):t.toDate(),zj=(t,e)=>{const n=t.subtract(1,"month").endOf("month").date();return ka(e).map((r,s)=>n-(e-s-1))},Wj=t=>{const e=t.daysInMonth();return ka(e).map((n,r)=>r+1)},Gj=t=>ka(t.length/7).map(e=>{const n=e*7;return t.slice(n,n+7)}),qj=qe({selectedDay:{type:me(Object)},range:{type:me(Array)},date:{type:me(Object),required:!0},hideHeader:{type:Boolean}}),Yj={pick:t=>Kt(t)};var EA={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(rs,function(){return function(n,r,s){var o=r.prototype,i=function(d){return d&&(d.indexOf?d:d.s)},a=function(d,f,h,p,g){var v=d.name?d:d.$locale(),y=i(v[f]),_=i(v[h]),b=y||_.map(function(S){return S.slice(0,p)});if(!g)return b;var w=v.weekStart;return b.map(function(S,E){return b[(E+(w||0))%7]})},u=function(){return s.Ls[s.locale()]},l=function(d,f){return d.formats[f]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,g,v){return g||v.slice(1)})}(d.formats[f.toUpperCase()])},c=function(){var d=this;return{months:function(f){return f?f.format("MMMM"):a(d,"months")},monthsShort:function(f){return f?f.format("MMM"):a(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):a(d,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):a(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):a(d,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return l(d.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return c.bind(this)()},s.localeData=function(){var d=u();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(f){return l(d,f)},meridiem:d.meridiem,ordinal:d.ordinal}},s.months=function(){return a(u(),"months")},s.monthsShort=function(){return a(u(),"monthsShort","months",3)},s.weekdays=function(d){return a(u(),"weekdays",null,null,d)},s.weekdaysShort=function(d){return a(u(),"weekdaysShort","weekdays",3,d)},s.weekdaysMin=function(d){return a(u(),"weekdaysMin","weekdays",2,d)}}})})(EA);var Xj=EA.exports;const xA=Ks(Xj),Qj=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],cv=["sun","mon","tue","wed","thu","fri","sat"],Zj=(t,e)=>{Nt.extend(xA);const n=Nt.localeData().firstDayOfWeek(),{t:r,lang:s}=un(),o=Nt().locale(s.value),i=P(()=>!!t.range&&!!t.range.length),a=P(()=>{let f=[];if(i.value){const[h,p]=t.range,g=ka(p.date()-h.date()+1).map(_=>({text:h.date()+_,type:"current"}));let v=g.length%7;v=v===0?0:7-v;const y=ka(v).map((_,b)=>({text:b+1,type:"next"}));f=g.concat(y)}else{const h=t.date.startOf("month").day(),p=zj(t.date,(h-n+7)%7).map(_=>({text:_,type:"prev"})),g=Wj(t.date).map(_=>({text:_,type:"current"}));f=[...p,...g];const v=7-(f.length%7||7),y=ka(v).map((_,b)=>({text:b+1,type:"next"}));f=f.concat(y)}return Gj(f)}),u=P(()=>{const f=n;return f===0?cv.map(h=>r(`el.datepicker.weeks.${h}`)):cv.slice(f).concat(cv.slice(0,f)).map(h=>r(`el.datepicker.weeks.${h}`))}),l=(f,h)=>{switch(h){case"prev":return t.date.startOf("month").subtract(1,"month").date(f);case"next":return t.date.startOf("month").add(1,"month").date(f);case"current":return t.date.date(f)}};return{now:o,isInRange:i,rows:a,weekDays:u,getFormattedDate:l,handlePickDay:({text:f,type:h})=>{const p=l(f,h);e("pick",p)},getSlotData:({text:f,type:h})=>{const p=l(f,h);return{isSelected:p.isSame(t.selectedDay),type:`${h}-month`,day:p.format("YYYY-MM-DD"),date:p.toDate()}}}},Jj=ee({name:"DateTable"}),eK=ee({...Jj,props:qj,emits:Yj,setup(t,{expose:e,emit:n}){const r=t,{isInRange:s,now:o,rows:i,weekDays:a,getFormattedDate:u,handlePickDay:l,getSlotData:c}=Zj(r,n),d=Ne("calendar-table"),f=Ne("calendar-day"),h=({text:p,type:g})=>{const v=[g];if(g==="current"){const y=u(p,g);y.isSame(r.selectedDay,"day")&&v.push(f.is("selected")),y.isSame(o,"day")&&v.push(f.is("today"))}return v};return e({getFormattedDate:u}),(p,g)=>(L(),G("table",{class:U([m(d).b(),m(d).is("range",m(s))]),cellspacing:"0",cellpadding:"0"},[p.hideHeader?ce("v-if",!0):(L(),G("thead",{key:0},[F("tr",null,[(L(!0),G(tt,null,It(m(a),v=>(L(),G("th",{key:v,scope:"col"},ge(v),1))),128))])])),F("tbody",null,[(L(!0),G(tt,null,It(m(i),(v,y)=>(L(),G("tr",{key:y,class:U({[m(d).e("row")]:!0,[m(d).em("row","hide-border")]:y===0&&p.hideHeader})},[(L(!0),G(tt,null,It(v,(_,b)=>(L(),G("td",{key:b,class:U(h(_)),onClick:w=>m(l)(_)},[F("div",{class:U(m(f).b())},[ve(p.$slots,"date-cell",{data:m(c)(_)},()=>[F("span",null,ge(_.text),1)])],2)],10,["onClick"]))),128))],2))),128))])],2))}});var zE=Ye(eK,[["__file","date-table.vue"]]);const tK=(t,e)=>{const n=t.endOf("month"),r=e.startOf("month"),o=n.isSame(r,"week")?r.add(1,"week"):r;return[[t,n],[o.startOf("week"),e]]},nK=(t,e)=>{const n=t.endOf("month"),r=t.add(1,"month").startOf("month"),s=n.isSame(r,"week")?r.add(1,"week"):r,o=s.endOf("month"),i=e.startOf("month"),a=o.isSame(i,"week")?i.add(1,"week"):i;return[[t,n],[s.startOf("week"),o],[a.startOf("week"),e]]},rK=(t,e,n)=>{const{lang:r}=un(),s=q(),o=Nt().locale(r.value),i=P({get(){return t.modelValue?u.value:s.value},set(v){if(!v)return;s.value=v;const y=v.toDate();e(yr,y),e($t,y)}}),a=P(()=>{if(!t.range||!Ke(t.range)||t.range.length!==2||t.range.some(b=>!Ia(b)))return[];const v=t.range.map(b=>Nt(b).locale(r.value)),[y,_]=v;return y.isAfter(_)?[]:y.isSame(_,"month")?h(y,_):y.add(1,"month").month()!==_.month()?[]:h(y,_)}),u=P(()=>t.modelValue?Nt(t.modelValue).locale(r.value):i.value||(a.value.length?a.value[0][0]:o)),l=P(()=>u.value.subtract(1,"month").date(1)),c=P(()=>u.value.add(1,"month").date(1)),d=P(()=>u.value.subtract(1,"year").date(1)),f=P(()=>u.value.add(1,"year").date(1)),h=(v,y)=>{const _=v.startOf("week"),b=y.endOf("week"),w=_.get("month"),S=b.get("month");return w===S?[[_,b]]:(w+1)%12===S?tK(_,b):w+2===S||(w+1)%11===S?nK(_,b):[]},p=v=>{i.value=v};return{calculateValidatedDateRange:h,date:u,realSelectedDay:i,pickDay:p,selectDate:v=>{const _={"prev-month":l.value,"next-month":c.value,"prev-year":d.value,"next-year":f.value,today:o}[v];_.isSame(u.value,"day")||p(_)},validatedRange:a}},sK=t=>Ke(t)&&t.length===2&&t.every(e=>Ia(e)),oK=qe({modelValue:{type:Date},range:{type:me(Array),validator:sK}}),iK={[$t]:t=>Ia(t),[yr]:t=>Ia(t)},aK="ElCalendar",lK=ee({name:aK}),uK=ee({...lK,props:oK,emits:iK,setup(t,{expose:e,emit:n}){const r=t,s=Ne("calendar"),{calculateValidatedDateRange:o,date:i,pickDay:a,realSelectedDay:u,selectDate:l,validatedRange:c}=rK(r,n),{t:d}=un(),f=P(()=>{const h=`el.datepicker.month${i.value.format("M")}`;return`${i.value.year()} ${d("el.datepicker.year")} ${d(h)}`});return e({selectedDay:u,pickDay:a,selectDate:l,calculateValidatedDateRange:o}),(h,p)=>(L(),G("div",{class:U(m(s).b())},[F("div",{class:U(m(s).e("header"))},[ve(h.$slots,"header",{date:m(f)},()=>[F("div",{class:U(m(s).e("title"))},ge(m(f)),3),m(c).length===0?(L(),G("div",{key:0,class:U(m(s).e("button-group"))},[A(m(bA),null,{default:O(()=>[A(m(Nn),{size:"small",onClick:g=>m(l)("prev-month")},{default:O(()=>[xe(ge(m(d)("el.datepicker.prevMonth")),1)]),_:1},8,["onClick"]),A(m(Nn),{size:"small",onClick:g=>m(l)("today")},{default:O(()=>[xe(ge(m(d)("el.datepicker.today")),1)]),_:1},8,["onClick"]),A(m(Nn),{size:"small",onClick:g=>m(l)("next-month")},{default:O(()=>[xe(ge(m(d)("el.datepicker.nextMonth")),1)]),_:1},8,["onClick"])]),_:1})],2)):ce("v-if",!0)])],2),m(c).length===0?(L(),G("div",{key:0,class:U(m(s).e("body"))},[A(zE,{date:m(i),"selected-day":m(u),onPick:m(a)},js({_:2},[h.$slots["date-cell"]?{name:"date-cell",fn:O(g=>[ve(h.$slots,"date-cell",Os(ri(g)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(L(),G("div",{key:1,class:U(m(s).e("body"))},[(L(!0),G(tt,null,It(m(c),(g,v)=>(L(),ye(zE,{key:v,date:g[0],"selected-day":m(u),range:g,"hide-header":v!==0,onPick:m(a)},js({_:2},[h.$slots["date-cell"]?{name:"date-cell",fn:O(y=>[ve(h.$slots,"date-cell",Os(ri(y)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var cK=Ye(uK,[["__file","calendar.vue"]]);const dK=Bt(cK),fK=qe({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:me([String,Object,Array]),default:""},headerClass:String,bodyClass:String,footerClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),hK=ee({name:"ElCard"}),pK=ee({...hK,props:fK,setup(t){const e=Ne("card");return(n,r)=>(L(),G("div",{class:U([m(e).b(),m(e).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(L(),G("div",{key:0,class:U([m(e).e("header"),n.headerClass])},[ve(n.$slots,"header",{},()=>[xe(ge(n.header),1)])],2)):ce("v-if",!0),F("div",{class:U([m(e).e("body"),n.bodyClass]),style:dt(n.bodyStyle)},[ve(n.$slots,"default")],6),n.$slots.footer||n.footer?(L(),G("div",{key:1,class:U([m(e).e("footer"),n.footerClass])},[ve(n.$slots,"footer",{},()=>[xe(ge(n.footer),1)])],2)):ce("v-if",!0)],2))}});var mK=Ye(pK,[["__file","card.vue"]]);const gK=Bt(mK),vK=qe({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),yK={change:(t,e)=>[t,e].every(bt)},TA=Symbol("carouselContextKey"),A0="ElCarouselItem";var Xs=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(Xs||{});function R0(t){return Mn(t)&&t.type===tt}function bK(t){return Mn(t)&&t.type===Rr}function wK(t){return Mn(t)&&!R0(t)&&!bK(t)}const _K=t=>{if(!Mn(t))return{};const e=t.props||{},n=(Mn(t.type)?t.type.props:void 0)||{},r={};return Object.keys(n).forEach(s=>{dn(n[s],"default")&&(r[s]=n[s].default)}),Object.keys(e).forEach(s=>{r[ms(s)]=e[s]}),r},SK=t=>{if(!Ke(t)||t.length>1)throw new Error("expect to receive a single Vue element child");return t[0]},Oi=t=>{const e=Ke(t)?t:[t],n=[];return e.forEach(r=>{var s;Ke(r)?n.push(...Oi(r)):Mn(r)&&((s=r.component)!=null&&s.subTree)?n.push(r,...Oi(r.component.subTree)):Mn(r)&&Ke(r.children)?n.push(...Oi(r.children)):Mn(r)&&r.shapeFlag===2?n.push(...Oi(r.type())):n.push(r)}),n},EK=(t,e,n)=>Oi(t.subTree).filter(o=>{var i;return Mn(o)&&((i=o.type)==null?void 0:i.name)===e&&!!o.component}).map(o=>o.component.uid).map(o=>n[o]).filter(o=>!!o),_1=(t,e)=>{const n={},r=On([]);return{children:r,addChild:i=>{n[i.uid]=i,r.value=EK(t,e,n)},removeChild:i=>{delete n[i],r.value=r.value.filter(a=>a.uid!==i)}}},WE=300,xK=(t,e,n)=>{const{children:r,addChild:s,removeChild:o}=_1(Gt(),A0),i=_r(),a=q(-1),u=q(null),l=q(!1),c=q(),d=q(0),f=q(!0),h=q(!0),p=q(!1),g=P(()=>t.arrow!=="never"&&!m(_)),v=P(()=>r.value.some(ue=>ue.props.label.toString().length>0)),y=P(()=>t.type==="card"),_=P(()=>t.direction==="vertical"),b=P(()=>t.height!=="auto"?{height:t.height}:{height:`${d.value}px`,overflow:"hidden"}),w=pl(ue=>{C(ue)},WE,{trailing:!0}),S=pl(ue=>{B(ue)},WE),E=ue=>f.value?a.value<=1?ue<=1:ue>1:!0;function T(){u.value&&(clearInterval(u.value),u.value=null)}function I(){t.interval<=0||!t.autoplay||u.value||(u.value=setInterval(()=>k(),t.interval))}const k=()=>{h.value||(p.value=!0),h.value=!1,a.value<r.value.length-1?a.value=a.value+1:t.loop?a.value=0:p.value=!1};function C(ue){if(h.value||(p.value=!0),h.value=!1,ht(ue)){const ae=r.value.filter(Ae=>Ae.props.name===ue);ae.length>0&&(ue=r.value.indexOf(ae[0]))}if(ue=Number(ue),Number.isNaN(ue)||ue!==Math.floor(ue))return;const J=r.value.length,de=a.value;ue<0?a.value=t.loop?J-1:0:ue>=J?a.value=t.loop?0:J-1:a.value=ue,de===a.value&&N(de),se()}function N(ue){r.value.forEach((J,de)=>{J.translateItem(de,a.value,ue)})}function D(ue,J){var de,ae,Ae,Re;const pe=m(r),ne=pe.length;if(ne===0||!ue.states.inStage)return!1;const le=J+1,Se=J-1,Ce=ne-1,Ee=pe[Ce].states.active,we=pe[0].states.active,Le=(ae=(de=pe[le])==null?void 0:de.states)==null?void 0:ae.active,Be=(Re=(Ae=pe[Se])==null?void 0:Ae.states)==null?void 0:Re.active;return J===Ce&&we||Le?"left":J===0&&Ee||Be?"right":!1}function W(){l.value=!0,t.pauseOnHover&&T()}function H(){l.value=!1,I()}function V(){p.value=!1}function R(ue){m(_)||r.value.forEach((J,de)=>{ue===D(J,de)&&(J.states.hover=!0)})}function z(){m(_)||r.value.forEach(ue=>{ue.states.hover=!1})}function M(ue){ue!==a.value&&(h.value||(p.value=!0)),a.value=ue}function B(ue){t.trigger==="hover"&&ue!==a.value&&(a.value=ue,h.value||(p.value=!0))}function j(){C(a.value-1)}function X(){C(a.value+1)}function se(){T(),t.pauseOnHover||I()}function te(ue){t.height==="auto"&&(d.value=ue)}function ie(){var ue;const J=(ue=i.default)==null?void 0:ue.call(i);if(!J)return null;const ae=Oi(J).filter(Ae=>Mn(Ae)&&Ae.type.name===A0);return(ae==null?void 0:ae.length)===2&&t.loop&&!y.value?(f.value=!0,ae):(f.value=!1,null)}Pe(()=>a.value,(ue,J)=>{N(J),f.value&&(ue=ue%2,J=J%2),J>-1&&e(Yt,ue,J)}),Pe(()=>t.autoplay,ue=>{ue?I():T()}),Pe(()=>t.loop,()=>{C(a.value)}),Pe(()=>t.interval,()=>{se()});const fe=On();return xt(()=>{Pe(()=>r.value,()=>{r.value.length>0&&C(t.initialIndex)},{immediate:!0}),fe.value=qn(c.value,()=>{N()}),I()}),In(()=>{T(),c.value&&fe.value&&fe.value.stop()}),Qt(TA,{root:c,isCardType:y,isVertical:_,items:r,loop:t.loop,cardScale:t.cardScale,addItem:s,removeItem:o,setActiveItem:C,setContainerHeight:te}),{root:c,activeIndex:a,arrowDisplay:g,hasLabel:v,hover:l,isCardType:y,isTransitioning:p,items:r,isVertical:_,containerStyle:b,isItemsTwoLength:f,handleButtonEnter:R,handleTransitionEnd:V,handleButtonLeave:z,handleIndicatorClick:M,handleMouseEnter:W,handleMouseLeave:H,setActiveItem:C,prev:j,next:X,PlaceholderItem:ie,isTwoLengthShow:E,throttledArrowClick:w,throttledIndicatorHover:S}},TK="ElCarousel",CK=ee({name:TK}),kK=ee({...CK,props:vK,emits:yK,setup(t,{expose:e,emit:n}){const r=t,{root:s,activeIndex:o,arrowDisplay:i,hasLabel:a,hover:u,isCardType:l,items:c,isVertical:d,containerStyle:f,handleButtonEnter:h,handleButtonLeave:p,isTransitioning:g,handleIndicatorClick:v,handleMouseEnter:y,handleMouseLeave:_,handleTransitionEnd:b,setActiveItem:w,prev:S,next:E,PlaceholderItem:T,isTwoLengthShow:I,throttledArrowClick:k,throttledIndicatorHover:C}=xK(r,n),N=Ne("carousel"),{t:D}=un(),W=P(()=>{const R=[N.b(),N.m(r.direction)];return m(l)&&R.push(N.m("card")),R}),H=P(()=>{const R=[N.e("container")];return r.motionBlur&&m(g)&&c.value.length>1&&R.push(m(d)?`${N.namespace.value}-transitioning-vertical`:`${N.namespace.value}-transitioning`),R}),V=P(()=>{const R=[N.e("indicators"),N.em("indicators",r.direction)];return m(a)&&R.push(N.em("indicators","labels")),r.indicatorPosition==="outside"&&R.push(N.em("indicators","outside")),m(d)&&R.push(N.em("indicators","right")),R});return e({activeIndex:o,setActiveItem:w,prev:S,next:E}),(R,z)=>(L(),G("div",{ref_key:"root",ref:s,class:U(m(W)),onMouseenter:St(m(y),["stop"]),onMouseleave:St(m(_),["stop"])},[m(i)?(L(),ye(Tr,{key:0,name:"carousel-arrow-left",persisted:""},{default:O(()=>[At(F("button",{type:"button",class:U([m(N).e("arrow"),m(N).em("arrow","left")]),"aria-label":m(D)("el.carousel.leftArrow"),onMouseenter:M=>m(h)("left"),onMouseleave:m(p),onClick:St(M=>m(k)(m(o)-1),["stop"])},[A(m(lt),null,{default:O(()=>[A(m(Pa))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[nn,(R.arrow==="always"||m(u))&&(r.loop||m(o)>0)]])]),_:1})):ce("v-if",!0),m(i)?(L(),ye(Tr,{key:1,name:"carousel-arrow-right",persisted:""},{default:O(()=>[At(F("button",{type:"button",class:U([m(N).e("arrow"),m(N).em("arrow","right")]),"aria-label":m(D)("el.carousel.rightArrow"),onMouseenter:M=>m(h)("right"),onMouseleave:m(p),onClick:St(M=>m(k)(m(o)+1),["stop"])},[A(m(lt),null,{default:O(()=>[A(m(ps))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[nn,(R.arrow==="always"||m(u))&&(r.loop||m(o)<m(c).length-1)]])]),_:1})):ce("v-if",!0),F("div",{class:U(m(H)),style:dt(m(f)),onTransitionend:m(b)},[A(m(T)),ve(R.$slots,"default")],46,["onTransitionend"]),R.indicatorPosition!=="none"?(L(),G("ul",{key:2,class:U(m(V))},[(L(!0),G(tt,null,It(m(c),(M,B)=>At((L(),G("li",{key:B,class:U([m(N).e("indicator"),m(N).em("indicator",R.direction),m(N).is("active",B===m(o))]),onMouseenter:j=>m(C)(B),onClick:St(j=>m(v)(B),["stop"])},[F("button",{class:U(m(N).e("button")),"aria-label":m(D)("el.carousel.indicator",{index:B+1})},[m(a)?(L(),G("span",{key:0},ge(M.props.label),1)):ce("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[nn,m(I)(B)]])),128))],2)):ce("v-if",!0),r.motionBlur?(L(),G("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[F("defs",null,[F("filter",{id:"elCarouselHorizontal"},[F("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),F("filter",{id:"elCarouselVertical"},[F("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):ce("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var IK=Ye(kK,[["__file","carousel.vue"]]);const AK=qe({name:{type:String,default:""},label:{type:[String,Number],default:""}}),RK=t=>{const e=rt(TA),n=Gt(),r=q(),s=q(!1),o=q(0),i=q(1),a=q(!1),u=q(!1),l=q(!1),c=q(!1),{isCardType:d,isVertical:f,cardScale:h}=e;function p(b,w,S){const E=S-1,T=w-1,I=w+1,k=S/2;return w===0&&b===E?-1:w===E&&b===0?S:b<T&&w-b>=k?S+1:b>I&&b-w>=k?-2:b}function g(b,w){var S,E;const T=m(f)?((S=e.root.value)==null?void 0:S.offsetHeight)||0:((E=e.root.value)==null?void 0:E.offsetWidth)||0;return l.value?T*((2-h)*(b-w)+1)/4:b<w?-(1+h)*T/4:(3+h)*T/4}function v(b,w,S){const E=e.root.value;return E?((S?E.offsetHeight:E.offsetWidth)||0)*(b-w):0}const y=(b,w,S)=>{var E;const T=m(d),I=(E=e.items.value.length)!=null?E:Number.NaN,k=b===w;!T&&!ln(S)&&(c.value=k||b===S),!k&&I>2&&e.loop&&(b=p(b,w,I));const C=m(f);a.value=k,T?(l.value=Math.round(Math.abs(b-w))<=1,o.value=g(b,w),i.value=m(a)?1:h):o.value=v(b,w,C),u.value=!0,k&&r.value&&e.setContainerHeight(r.value.offsetHeight)};function _(){if(e&&m(d)){const b=e.items.value.findIndex(({uid:w})=>w===n.uid);e.setActiveItem(b)}}return xt(()=>{e.addItem({props:t,states:Ft({hover:s,translate:o,scale:i,active:a,ready:u,inStage:l,animating:c}),uid:n.uid,translateItem:y})}),Ha(()=>{e.removeItem(n.uid)}),{carouselItemRef:r,active:a,animating:c,hover:s,inStage:l,isVertical:f,translate:o,isCardType:d,scale:i,ready:u,handleItemClick:_}},LK=ee({name:A0}),$K=ee({...LK,props:AK,setup(t){const e=t,n=Ne("carousel"),{carouselItemRef:r,active:s,animating:o,hover:i,inStage:a,isVertical:u,translate:l,isCardType:c,scale:d,ready:f,handleItemClick:h}=RK(e),p=P(()=>[n.e("item"),n.is("active",s.value),n.is("in-stage",a.value),n.is("hover",i.value),n.is("animating",o.value),{[n.em("item","card")]:c.value,[n.em("item","card-vertical")]:c.value&&u.value}]),g=P(()=>{const y=`${`translate${m(u)?"Y":"X"}`}(${m(l)}px)`,_=`scale(${m(d)})`;return{transform:[y,_].join(" ")}});return(v,y)=>At((L(),G("div",{ref_key:"carouselItemRef",ref:r,class:U(m(p)),style:dt(m(g)),onClick:m(h)},[m(c)?At((L(),G("div",{key:0,class:U(m(n).e("mask"))},null,2)),[[nn,!m(s)]]):ce("v-if",!0),ve(v.$slots,"default")],14,["onClick"])),[[nn,m(f)]])}});var CA=Ye($K,[["__file","carousel-item.vue"]]);const kA=Bt(IK,{CarouselItem:CA}),IA=Xn(CA),AA={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:pr,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...Vr(["ariaControls"])},RA={[$t]:t=>ht(t)||bt(t)||En(t),change:t=>ht(t)||bt(t)||En(t)},lc=Symbol("checkboxGroupContextKey"),PK=({model:t,isChecked:e})=>{const n=rt(lc,void 0),r=P(()=>{var o,i;const a=(o=n==null?void 0:n.max)==null?void 0:o.value,u=(i=n==null?void 0:n.min)==null?void 0:i.value;return!ln(a)&&t.value.length>=a&&!e.value||!ln(u)&&t.value.length<=u&&e.value});return{isDisabled:zr(P(()=>(n==null?void 0:n.disabled.value)||r.value)),isLimitDisabled:r}},DK=(t,{model:e,isLimitExceeded:n,hasOwnLabel:r,isDisabled:s,isLabeledByFormItem:o})=>{const i=rt(lc,void 0),{formItem:a}=Kr(),{emit:u}=Gt();function l(p){var g,v,y,_;return[!0,t.trueValue,t.trueLabel].includes(p)?(v=(g=t.trueValue)!=null?g:t.trueLabel)!=null?v:!0:(_=(y=t.falseValue)!=null?y:t.falseLabel)!=null?_:!1}function c(p,g){u(Yt,l(p),g)}function d(p){if(n.value)return;const g=p.target;u(Yt,l(g.checked),p)}async function f(p){n.value||!r.value&&!s.value&&o.value&&(p.composedPath().some(y=>y.tagName==="LABEL")||(e.value=l([!1,t.falseValue,t.falseLabel].includes(e.value)),await pt(),c(e.value,p)))}const h=P(()=>(i==null?void 0:i.validateEvent)||t.validateEvent);return Pe(()=>t.modelValue,()=>{h.value&&(a==null||a.validate("change").catch(p=>void 0))}),{handleChange:d,onClickRoot:f}},OK=t=>{const e=q(!1),{emit:n}=Gt(),r=rt(lc,void 0),s=P(()=>ln(r)===!1),o=q(!1),i=P({get(){var a,u;return s.value?(a=r==null?void 0:r.modelValue)==null?void 0:a.value:(u=t.modelValue)!=null?u:e.value},set(a){var u,l;s.value&&Ke(a)?(o.value=((u=r==null?void 0:r.max)==null?void 0:u.value)!==void 0&&a.length>(r==null?void 0:r.max.value)&&a.length>i.value.length,o.value===!1&&((l=r==null?void 0:r.changeEvent)==null||l.call(r,a))):(n($t,a),e.value=a)}});return{model:i,isGroup:s,isLimitExceeded:o}},MK=(t,e,{model:n})=>{const r=rt(lc,void 0),s=q(!1),o=P(()=>ro(t.value)?t.label:t.value),i=P(()=>{const c=n.value;return En(c)?c:Ke(c)?Kt(o.value)?c.map(An).some(d=>Lr(d,o.value)):c.map(An).includes(o.value):c!=null?c===t.trueValue||c===t.trueLabel:!!c}),a=fr(P(()=>{var c;return(c=r==null?void 0:r.size)==null?void 0:c.value}),{prop:!0}),u=fr(P(()=>{var c;return(c=r==null?void 0:r.size)==null?void 0:c.value})),l=P(()=>!!e.default||!ro(o.value));return{checkboxButtonSize:a,isChecked:i,isFocused:s,checkboxSize:u,hasOwnLabel:l,actualValue:o}},LA=(t,e)=>{const{formItem:n}=Kr(),{model:r,isGroup:s,isLimitExceeded:o}=OK(t),{isFocused:i,isChecked:a,checkboxButtonSize:u,checkboxSize:l,hasOwnLabel:c,actualValue:d}=MK(t,e,{model:r}),{isDisabled:f}=PK({model:r,isChecked:a}),{inputId:h,isLabeledByFormItem:p}=po(t,{formItemContext:n,disableIdGeneration:c,disableIdManagement:s}),{handleChange:g,onClickRoot:v}=DK(t,{model:r,isLimitExceeded:o,hasOwnLabel:c,isDisabled:f,isLabeledByFormItem:p});return(()=>{function _(){var b,w;Ke(r.value)&&!r.value.includes(d.value)?r.value.push(d.value):r.value=(w=(b=t.trueValue)!=null?b:t.trueLabel)!=null?w:!0}t.checked&&_()})(),Fi({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},P(()=>s.value&&ro(t.value))),Fi({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},P(()=>!!t.trueLabel)),Fi({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},P(()=>!!t.falseLabel)),{inputId:h,isLabeledByFormItem:p,isChecked:a,isDisabled:f,isFocused:i,checkboxButtonSize:u,checkboxSize:l,hasOwnLabel:c,model:r,actualValue:d,handleChange:g,onClickRoot:v}},NK=ee({name:"ElCheckbox"}),FK=ee({...NK,props:AA,emits:RA,setup(t){const e=t,n=_r(),{inputId:r,isLabeledByFormItem:s,isChecked:o,isDisabled:i,isFocused:a,checkboxSize:u,hasOwnLabel:l,model:c,actualValue:d,handleChange:f,onClickRoot:h}=LA(e,n),p=Ne("checkbox"),g=P(()=>[p.b(),p.m(u.value),p.is("disabled",i.value),p.is("bordered",e.border),p.is("checked",o.value)]),v=P(()=>[p.e("input"),p.is("disabled",i.value),p.is("checked",o.value),p.is("indeterminate",e.indeterminate),p.is("focus",a.value)]);return(y,_)=>(L(),ye(Wt(!m(l)&&m(s)?"span":"label"),{class:U(m(g)),"aria-controls":y.indeterminate?y.ariaControls:null,onClick:m(h)},{default:O(()=>{var b,w,S,E;return[F("span",{class:U(m(v))},[y.trueValue||y.falseValue||y.trueLabel||y.falseLabel?At((L(),G("input",{key:0,id:m(r),"onUpdate:modelValue":T=>Dn(c)?c.value=T:null,class:U(m(p).e("original")),type:"checkbox",indeterminate:y.indeterminate,name:y.name,tabindex:y.tabindex,disabled:m(i),"true-value":(w=(b=y.trueValue)!=null?b:y.trueLabel)!=null?w:!0,"false-value":(E=(S=y.falseValue)!=null?S:y.falseLabel)!=null?E:!1,onChange:m(f),onFocus:T=>a.value=!0,onBlur:T=>a.value=!1,onClick:St(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[bd,m(c)]]):At((L(),G("input",{key:1,id:m(r),"onUpdate:modelValue":T=>Dn(c)?c.value=T:null,class:U(m(p).e("original")),type:"checkbox",indeterminate:y.indeterminate,disabled:m(i),value:m(d),name:y.name,tabindex:y.tabindex,onChange:m(f),onFocus:T=>a.value=!0,onBlur:T=>a.value=!1,onClick:St(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[bd,m(c)]]),F("span",{class:U(m(p).e("inner"))},null,2)],2),m(l)?(L(),G("span",{key:0,class:U(m(p).e("label"))},[ve(y.$slots,"default"),y.$slots.default?ce("v-if",!0):(L(),G(tt,{key:0},[xe(ge(y.label),1)],64))],2)):ce("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var BK=Ye(FK,[["__file","checkbox.vue"]]);const VK=ee({name:"ElCheckboxButton"}),UK=ee({...VK,props:AA,emits:RA,setup(t){const e=t,n=_r(),{isFocused:r,isChecked:s,isDisabled:o,checkboxButtonSize:i,model:a,actualValue:u,handleChange:l}=LA(e,n),c=rt(lc,void 0),d=Ne("checkbox"),f=P(()=>{var p,g,v,y;const _=(g=(p=c==null?void 0:c.fill)==null?void 0:p.value)!=null?g:"";return{backgroundColor:_,borderColor:_,color:(y=(v=c==null?void 0:c.textColor)==null?void 0:v.value)!=null?y:"",boxShadow:_?`-1px 0 0 0 ${_}`:void 0}}),h=P(()=>[d.b("button"),d.bm("button",i.value),d.is("disabled",o.value),d.is("checked",s.value),d.is("focus",r.value)]);return(p,g)=>{var v,y,_,b;return L(),G("label",{class:U(m(h))},[p.trueValue||p.falseValue||p.trueLabel||p.falseLabel?At((L(),G("input",{key:0,"onUpdate:modelValue":w=>Dn(a)?a.value=w:null,class:U(m(d).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:m(o),"true-value":(y=(v=p.trueValue)!=null?v:p.trueLabel)!=null?y:!0,"false-value":(b=(_=p.falseValue)!=null?_:p.falseLabel)!=null?b:!1,onChange:m(l),onFocus:w=>r.value=!0,onBlur:w=>r.value=!1,onClick:St(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[bd,m(a)]]):At((L(),G("input",{key:1,"onUpdate:modelValue":w=>Dn(a)?a.value=w:null,class:U(m(d).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:m(o),value:m(u),onChange:m(l),onFocus:w=>r.value=!0,onBlur:w=>r.value=!1,onClick:St(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[bd,m(a)]]),p.$slots.default||p.label?(L(),G("span",{key:2,class:U(m(d).be("button","inner")),style:dt(m(s)?m(f):void 0)},[ve(p.$slots,"default",{},()=>[xe(ge(p.label),1)])],6)):ce("v-if",!0)],2)}}});var $A=Ye(UK,[["__file","checkbox-button.vue"]]);const HK=qe({modelValue:{type:me(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:pr,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...Vr(["ariaLabel"])}),jK={[$t]:t=>Ke(t),change:t=>Ke(t)},KK=ee({name:"ElCheckboxGroup"}),zK=ee({...KK,props:HK,emits:jK,setup(t,{emit:e}){const n=t,r=Ne("checkbox"),{formItem:s}=Kr(),{inputId:o,isLabeledByFormItem:i}=po(n,{formItemContext:s}),a=async l=>{e($t,l),await pt(),e(Yt,l)},u=P({get(){return n.modelValue},set(l){a(l)}});return Qt(lc,{...So($r(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:u,changeEvent:a}),Pe(()=>n.modelValue,()=>{n.validateEvent&&(s==null||s.validate("change").catch(l=>void 0))}),(l,c)=>{var d;return L(),ye(Wt(l.tag),{id:m(o),class:U(m(r).b("group")),role:"group","aria-label":m(i)?void 0:l.ariaLabel||"checkbox-group","aria-labelledby":m(i)?(d=m(s))==null?void 0:d.labelId:void 0},{default:O(()=>[ve(l.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var PA=Ye(zK,[["__file","checkbox-group.vue"]]);const uo=Bt(BK,{CheckboxButton:$A,CheckboxGroup:PA}),WK=Xn($A),DA=Xn(PA),OA=qe({modelValue:{type:[String,Number,Boolean],default:void 0},size:pr,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),GK=qe({...OA,border:Boolean}),MA={[$t]:t=>ht(t)||bt(t)||En(t),[Yt]:t=>ht(t)||bt(t)||En(t)},NA=Symbol("radioGroupKey"),FA=(t,e)=>{const n=q(),r=rt(NA,void 0),s=P(()=>!!r),o=P(()=>ro(t.value)?t.label:t.value),i=P({get(){return s.value?r.modelValue:t.modelValue},set(d){s.value?r.changeEvent(d):e&&e($t,d),n.value.checked=t.modelValue===o.value}}),a=fr(P(()=>r==null?void 0:r.size)),u=zr(P(()=>r==null?void 0:r.disabled)),l=q(!1),c=P(()=>u.value||s.value&&i.value!==o.value?-1:0);return Fi({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},P(()=>s.value&&ro(t.value))),{radioRef:n,isGroup:s,radioGroup:r,focus:l,size:a,disabled:u,tabIndex:c,modelValue:i,actualValue:o}},qK=ee({name:"ElRadio"}),YK=ee({...qK,props:GK,emits:MA,setup(t,{emit:e}){const n=t,r=Ne("radio"),{radioRef:s,radioGroup:o,focus:i,size:a,disabled:u,modelValue:l,actualValue:c}=FA(n,e);function d(){pt(()=>e(Yt,l.value))}return(f,h)=>{var p;return L(),G("label",{class:U([m(r).b(),m(r).is("disabled",m(u)),m(r).is("focus",m(i)),m(r).is("bordered",f.border),m(r).is("checked",m(l)===m(c)),m(r).m(m(a))])},[F("span",{class:U([m(r).e("input"),m(r).is("disabled",m(u)),m(r).is("checked",m(l)===m(c))])},[At(F("input",{ref_key:"radioRef",ref:s,"onUpdate:modelValue":g=>Dn(l)?l.value=g:null,class:U(m(r).e("original")),value:m(c),name:f.name||((p=m(o))==null?void 0:p.name),disabled:m(u),checked:m(l)===m(c),type:"radio",onFocus:g=>i.value=!0,onBlur:g=>i.value=!1,onChange:d,onClick:St(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[kb,m(l)]]),F("span",{class:U(m(r).e("inner"))},null,2)],2),F("span",{class:U(m(r).e("label")),onKeydown:St(()=>{},["stop"])},[ve(f.$slots,"default",{},()=>[xe(ge(f.label),1)])],42,["onKeydown"])],2)}}});var XK=Ye(YK,[["__file","radio.vue"]]);const QK=qe({...OA}),ZK=ee({name:"ElRadioButton"}),JK=ee({...ZK,props:QK,setup(t){const e=t,n=Ne("radio"),{radioRef:r,focus:s,size:o,disabled:i,modelValue:a,radioGroup:u,actualValue:l}=FA(e),c=P(()=>({backgroundColor:(u==null?void 0:u.fill)||"",borderColor:(u==null?void 0:u.fill)||"",boxShadow:u!=null&&u.fill?`-1px 0 0 0 ${u.fill}`:"",color:(u==null?void 0:u.textColor)||""}));return(d,f)=>{var h;return L(),G("label",{class:U([m(n).b("button"),m(n).is("active",m(a)===m(l)),m(n).is("disabled",m(i)),m(n).is("focus",m(s)),m(n).bm("button",m(o))])},[At(F("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":p=>Dn(a)?a.value=p:null,class:U(m(n).be("button","original-radio")),value:m(l),type:"radio",name:d.name||((h=m(u))==null?void 0:h.name),disabled:m(i),onFocus:p=>s.value=!0,onBlur:p=>s.value=!1,onClick:St(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[kb,m(a)]]),F("span",{class:U(m(n).be("button","inner")),style:dt(m(a)===m(l)?m(c):{}),onKeydown:St(()=>{},["stop"])},[ve(d.$slots,"default",{},()=>[xe(ge(d.label),1)])],46,["onKeydown"])],2)}}});var BA=Ye(JK,[["__file","radio-button.vue"]]);const ez=qe({id:{type:String,default:void 0},size:pr,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...Vr(["ariaLabel"])}),tz=MA,nz=ee({name:"ElRadioGroup"}),rz=ee({...nz,props:ez,emits:tz,setup(t,{emit:e}){const n=t,r=Ne("radio"),s=Br(),o=q(),{formItem:i}=Kr(),{inputId:a,isLabeledByFormItem:u}=po(n,{formItemContext:i}),l=d=>{e($t,d),pt(()=>e(Yt,d))};xt(()=>{const d=o.value.querySelectorAll("[type=radio]"),f=d[0];!Array.from(d).some(h=>h.checked)&&f&&(f.tabIndex=0)});const c=P(()=>n.name||s.value);return Qt(NA,Ft({...$r(n),changeEvent:l,name:c})),Pe(()=>n.modelValue,()=>{n.validateEvent&&(i==null||i.validate("change").catch(d=>void 0))}),(d,f)=>(L(),G("div",{id:m(a),ref_key:"radioGroupRef",ref:o,class:U(m(r).b("group")),role:"radiogroup","aria-label":m(u)?void 0:d.ariaLabel||"radio-group","aria-labelledby":m(u)?m(i).labelId:void 0},[ve(d.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var VA=Ye(rz,[["__file","radio-group.vue"]]);const Km=Bt(XK,{RadioButton:BA,RadioGroup:VA}),S1=Xn(VA),sz=Xn(BA);var oz=ee({name:"NodeContent",setup(){return{ns:Ne("cascader-node")}},render(){const{ns:t}=this,{node:e,panel:n}=this.$parent,{data:r,label:s}=e,{renderLabelFn:o}=n;return _t("span",{class:t.e("label")},o?o({node:e,data:r}):s)}});const E1=Symbol(),iz=ee({name:"ElCascaderNode",components:{ElCheckbox:uo,ElRadio:Km,NodeContent:oz,ElIcon:lt,Check:df,Loading:ii,ArrowRight:ps},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:e}){const n=rt(E1),r=Ne("cascader-node"),s=P(()=>n.isHoverMenu),o=P(()=>n.config.multiple),i=P(()=>n.config.checkStrictly),a=P(()=>{var E;return(E=n.checkedNodes[0])==null?void 0:E.uid}),u=P(()=>t.node.isDisabled),l=P(()=>t.node.isLeaf),c=P(()=>i.value&&!l.value||!u.value),d=P(()=>h(n.expandingNode)),f=P(()=>i.value&&n.checkedNodes.some(h)),h=E=>{var T;const{level:I,uid:k}=t.node;return((T=E==null?void 0:E.pathNodes[I-1])==null?void 0:T.uid)===k},p=()=>{d.value||n.expandNode(t.node)},g=E=>{const{node:T}=t;E!==T.checked&&n.handleCheckChange(T,E)},v=()=>{n.lazyLoad(t.node,()=>{l.value||p()})},y=E=>{s.value&&(_(),!l.value&&e("expand",E))},_=()=>{const{node:E}=t;!c.value||E.loading||(E.loaded?p():v())},b=()=>{s.value&&!l.value||(l.value&&!u.value&&!i.value&&!o.value?S(!0):_())},w=E=>{i.value?(g(E),t.node.loaded&&p()):S(E)},S=E=>{t.node.loaded?(g(E),!i.value&&p()):v()};return{panel:n,isHoverMenu:s,multiple:o,checkStrictly:i,checkedNodeId:a,isDisabled:u,isLeaf:l,expandable:c,inExpandingPath:d,inCheckedPath:f,ns:r,handleHoverExpand:y,handleExpand:_,handleClick:b,handleCheck:S,handleSelectCheck:w}}});function az(t,e,n,r,s,o){const i=qt("el-checkbox"),a=qt("el-radio"),u=qt("check"),l=qt("el-icon"),c=qt("node-content"),d=qt("loading"),f=qt("arrow-right");return L(),G("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?void 0:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:U([t.ns.b(),t.ns.is("selectable",t.checkStrictly),t.ns.is("active",t.node.checked),t.ns.is("disabled",!t.expandable),t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path"]),onMouseenter:t.handleHoverExpand,onFocus:t.handleHoverExpand,onClick:t.handleClick},[ce(" prefix "),t.multiple?(L(),ye(i,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:St(()=>{},["stop"]),"onUpdate:modelValue":t.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):t.checkStrictly?(L(),ye(a,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleSelectCheck,onClick:St(()=>{},["stop"])},{default:O(()=>[ce(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),F("span")]),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):t.isLeaf&&t.node.checked?(L(),ye(l,{key:2,class:U(t.ns.e("prefix"))},{default:O(()=>[A(u)]),_:1},8,["class"])):ce("v-if",!0),ce(" content "),A(c),ce(" postfix "),t.isLeaf?ce("v-if",!0):(L(),G(tt,{key:3},[t.node.loading?(L(),ye(l,{key:0,class:U([t.ns.is("loading"),t.ns.e("postfix")])},{default:O(()=>[A(d)]),_:1},8,["class"])):(L(),ye(l,{key:1,class:U(["arrow-right",t.ns.e("postfix")])},{default:O(()=>[A(f)]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}var lz=Ye(iz,[["render",az],["__file","node.vue"]]);const uz=ee({name:"ElCascaderMenu",components:{Loading:ii,ElIcon:lt,ElScrollbar:hi,ElCascaderNode:lz},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const e=Gt(),n=Ne("cascader-menu"),{t:r}=un(),s=Br();let o=null,i=null;const a=rt(E1),u=q(null),l=P(()=>!t.nodes.length),c=P(()=>!a.initialLoaded),d=P(()=>`${s.value}-${t.index}`),f=v=>{o=v.target},h=v=>{if(!(!a.isHoverMenu||!o||!u.value))if(o.contains(v.target)){p();const y=e.vnode.el,{left:_}=y.getBoundingClientRect(),{offsetWidth:b,offsetHeight:w}=y,S=v.clientX-_,E=o.offsetTop,T=E+o.offsetHeight;u.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${S} ${E} L${b} 0 V${E} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${S} ${T} L${b} ${w} V${T} Z" />
        `}else i||(i=window.setTimeout(g,a.config.hoverThreshold))},p=()=>{i&&(clearTimeout(i),i=null)},g=()=>{u.value&&(u.value.innerHTML="",p())};return{ns:n,panel:a,hoverZone:u,isEmpty:l,isLoading:c,menuId:d,t:r,handleExpand:f,handleMouseMove:h,clearHoverZone:g}}});function cz(t,e,n,r,s,o){const i=qt("el-cascader-node"),a=qt("loading"),u=qt("el-icon"),l=qt("el-scrollbar");return L(),ye(l,{key:t.menuId,tag:"ul",role:"menu",class:U(t.ns.b()),"wrap-class":t.ns.e("wrap"),"view-class":[t.ns.e("list"),t.ns.is("empty",t.isEmpty)],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:O(()=>{var c;return[(L(!0),G(tt,null,It(t.nodes,d=>(L(),ye(i,{key:d.uid,node:d,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),t.isLoading?(L(),G("div",{key:0,class:U(t.ns.e("empty-text"))},[A(u,{size:"14",class:U(t.ns.is("loading"))},{default:O(()=>[A(a)]),_:1},8,["class"]),xe(" "+ge(t.t("el.cascader.loading")),1)],2)):t.isEmpty?(L(),G("div",{key:1,class:U(t.ns.e("empty-text"))},[ve(t.$slots,"empty",{},()=>[xe(ge(t.t("el.cascader.noData")),1)])],2)):(c=t.panel)!=null&&c.isHoverMenu?(L(),G(tt,{key:2},[ce(" eslint-disable-next-line vue/html-self-closing "),(L(),G("svg",{ref:"hoverZone",class:U(t.ns.e("hover-zone"))},null,2))],2112)):ce("v-if",!0)]}),_:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var dz=Ye(uz,[["render",cz],["__file","menu.vue"]]);const x1=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Xo=t=>tf(t);let fz=0;const hz=t=>{const e=[t];let{parent:n}=t;for(;n;)e.unshift(n),n=n.parent;return e};let L0=class $0{constructor(e,n,r,s=!1){this.data=e,this.config=n,this.parent=r,this.root=s,this.uid=fz++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:o,label:i,children:a}=n,u=e[a],l=hz(this);this.level=s?0:r?r.level+1:1,this.value=e[o],this.label=e[i],this.pathNodes=l,this.pathValues=l.map(c=>c.value),this.pathLabels=l.map(c=>c.label),this.childrenData=u,this.children=(u||[]).map(c=>new $0(c,n,this)),this.loaded=!n.lazy||this.isLeaf||!Ds(u)}get isDisabled(){const{data:e,parent:n,config:r}=this,{disabled:s,checkStrictly:o}=r;return(vt(s)?s(e,this):!!e[s])||!o&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:e,config:n,childrenData:r,loaded:s}=this,{lazy:o,leaf:i}=n,a=vt(i)?i(e,this):e[i];return ln(a)?o&&!s?!1:!(Ke(r)&&r.length):!!a}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:n,children:r}=this,s=new $0(e,this.config,this);return Ke(n)?n.push(e):this.childrenData=[e],r.push(s),s}calcText(e,n){const r=e?this.pathLabels.join(n):this.label;return this.text=r,r}broadcast(e,...n){const r=`onParent${Xo(e)}`;this.children.forEach(s=>{s&&(s.broadcast(e,...n),s[r]&&s[r](...n))})}emit(e,...n){const{parent:r}=this,s=`onChild${Xo(e)}`;r&&(r[s]&&r[s](...n),r.emit(e,...n))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,n=e.filter(s=>!s.isDisabled),r=n.length?n.every(s=>s.checked):!1;this.setCheckState(r)}setCheckState(e){const n=this.children.length,r=this.children.reduce((s,o)=>{const i=o.checked?1:o.indeterminate?.5:0;return s+i},0);this.checked=this.loaded&&this.children.filter(s=>!s.isDisabled).every(s=>s.loaded&&s.checked)&&e,this.indeterminate=this.loaded&&r!==n&&r>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:n,multiple:r}=this.config;n||!r?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const P0=(t,e)=>t.reduce((n,r)=>(r.isLeaf?n.push(r):(!e&&n.push(r),n=n.concat(P0(r.children,e))),n),[]);class GE{constructor(e,n){this.config=n;const r=(e||[]).map(s=>new L0(s,this.config));this.nodes=r,this.allNodes=P0(r,!1),this.leafNodes=P0(r,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,n){const r=n?n.appendChild(e):new L0(e,this.config);n||this.nodes.push(r),this.appendAllNodesAndLeafNodes(r)}appendNodes(e,n){e.forEach(r=>this.appendNode(r,n))}appendAllNodesAndLeafNodes(e){this.allNodes.push(e),e.isLeaf&&this.leafNodes.push(e),e.children&&e.children.forEach(n=>{this.appendAllNodesAndLeafNodes(n)})}getNodeByValue(e,n=!1){return!e&&e!==0?null:this.getFlattedNodes(n).find(s=>Lr(s.value,e)||Lr(s.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:r,level:s})=>Lr(e.value,r)&&e.level===s)||null}}const UA=qe({modelValue:{type:me([Number,String,Array])},options:{type:me(Array),default:()=>[]},props:{type:me(Object),default:()=>({})}}),pz={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:bn,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},mz=t=>P(()=>({...pz,...t.props})),qE=t=>{if(!t)return 0;const e=t.id.split("-");return Number(e[e.length-2])},gz=t=>{if(!t)return;const e=t.querySelector("input");e?e.click():KI(t)&&t.click()},vz=(t,e)=>{const n=e.slice(0),r=n.map(o=>o.uid),s=t.reduce((o,i)=>{const a=r.indexOf(i.uid);return a>-1&&(o.push(i),n.splice(a,1),r.splice(a,1)),o},[]);return s.push(...n),s},YE=t=>[...new Set(t)],ds=t=>!t&&t!==0?[]:Ke(t)?t:[t],yz=ee({name:"ElCascaderPanel",components:{ElCascaderMenu:dz},props:{...UA,border:{type:Boolean,default:!0},renderLabel:Function},emits:[$t,Yt,"close","expand-change"],setup(t,{emit:e,slots:n}){let r=!1;const s=Ne("cascader"),o=mz(t);let i=null;const a=q(!0),u=q([]),l=q(null),c=q([]),d=q(null),f=q([]),h=P(()=>o.value.expandTrigger==="hover"),p=P(()=>t.renderLabel||n.default),g=()=>{const{options:D}=t,W=o.value;r=!1,i=new GE(D,W),c.value=[i.getNodes()],W.lazy&&Ds(t.options)?(a.value=!1,v(void 0,H=>{H&&(i=new GE(H,W),c.value=[i.getNodes()]),a.value=!0,I(!1,!0)})):I(!1,!0)},v=(D,W)=>{const H=o.value;D=D||new L0({},H,void 0,!0),D.loading=!0;const V=R=>{const z=D,M=z.root?null:z;R&&(i==null||i.appendNodes(R,M)),z.loading=!1,z.loaded=!0,z.childrenData=z.childrenData||[],W&&W(R)};H.lazyLoad(D,V)},y=(D,W)=>{var H;const{level:V}=D,R=c.value.slice(0,V);let z;D.isLeaf?z=D.pathNodes[V-2]:(z=D,R.push(D.children)),((H=d.value)==null?void 0:H.uid)!==(z==null?void 0:z.uid)&&(d.value=D,c.value=R,!W&&e("expand-change",(D==null?void 0:D.pathValues)||[]))},_=(D,W,H=!0)=>{const{checkStrictly:V,multiple:R}=o.value,z=f.value[0];r=!0,!R&&(z==null||z.doCheck(!1)),D.doCheck(W),T(),H&&!R&&!V&&e("close"),!H&&!R&&!V&&b(D)},b=D=>{D&&(D=D.parent,b(D),D&&y(D))},w=D=>i==null?void 0:i.getFlattedNodes(D),S=D=>{var W;return(W=w(D))==null?void 0:W.filter(H=>H.checked!==!1)},E=()=>{f.value.forEach(D=>D.doCheck(!1)),T(),c.value=c.value.slice(0,1),d.value=null,e("expand-change",[])},T=()=>{var D;const{checkStrictly:W,multiple:H}=o.value,V=f.value,R=S(!W),z=vz(V,R),M=z.map(B=>B.valueByOption);f.value=z,l.value=H?M:(D=M[0])!=null?D:null},I=(D=!1,W=!1)=>{const{modelValue:H}=t,{lazy:V,multiple:R,checkStrictly:z}=o.value,M=!z;if(!(!a.value||r||!W&&Lr(H,l.value)))if(V&&!D){const j=YE(V5(ds(H))).map(X=>i==null?void 0:i.getNodeByValue(X)).filter(X=>!!X&&!X.loaded&&!X.loading);j.length?j.forEach(X=>{v(X,()=>I(!1,W))}):I(!0,W)}else{const B=R?ds(H):[H],j=YE(B.map(X=>i==null?void 0:i.getNodeByValue(X,M)));k(j,W),l.value=Tp(H)}},k=(D,W=!0)=>{const{checkStrictly:H}=o.value,V=f.value,R=D.filter(B=>!!B&&(H||B.isLeaf)),z=i==null?void 0:i.getSameNode(d.value),M=W&&z||R[0];M?M.pathNodes.forEach(B=>y(B,!0)):d.value=null,V.forEach(B=>B.doCheck(!1)),Ft(R).forEach(B=>B.doCheck(!0)),f.value=R,pt(C)},C=()=>{an&&u.value.forEach(D=>{const W=D==null?void 0:D.$el;if(W){const H=W.querySelector(`.${s.namespace.value}-scrollbar__wrap`),V=W.querySelector(`.${s.b("node")}.${s.is("active")}`)||W.querySelector(`.${s.b("node")}.in-active-path`);qb(H,V)}})},N=D=>{const W=D.target,{code:H}=D;switch(H){case ot.up:case ot.down:{D.preventDefault();const V=H===ot.up?-1:1;Bh(zI(W,V,`.${s.b("node")}[tabindex="-1"]`));break}case ot.left:{D.preventDefault();const V=u.value[qE(W)-1],R=V==null?void 0:V.$el.querySelector(`.${s.b("node")}[aria-expanded="true"]`);Bh(R);break}case ot.right:{D.preventDefault();const V=u.value[qE(W)+1],R=V==null?void 0:V.$el.querySelector(`.${s.b("node")}[tabindex="-1"]`);Bh(R);break}case ot.enter:case ot.numpadEnter:gz(W);break}};return Qt(E1,Ft({config:o,expandingNode:d,checkedNodes:f,isHoverMenu:h,initialLoaded:a,renderLabelFn:p,lazyLoad:v,expandNode:y,handleCheckChange:_})),Pe([o,()=>t.options],g,{deep:!0,immediate:!0}),Pe(()=>t.modelValue,()=>{r=!1,I()},{deep:!0}),Pe(()=>l.value,D=>{Lr(D,t.modelValue)||(e($t,D),e(Yt,D))}),VC(()=>u.value=[]),xt(()=>!Ds(t.modelValue)&&I()),{ns:s,menuList:u,menus:c,checkedNodes:f,handleKeyDown:N,handleCheckChange:_,getFlattedNodes:w,getCheckedNodes:S,clearCheckedNodes:E,calculateCheckedValue:T,scrollToExpandingNode:C}}});function bz(t,e,n,r,s,o){const i=qt("el-cascader-menu");return L(),G("div",{class:U([t.ns.b("panel"),t.ns.is("bordered",t.border)]),onKeydown:t.handleKeyDown},[(L(!0),G(tt,null,It(t.menus,(a,u)=>(L(),ye(i,{key:u,ref_for:!0,ref:l=>t.menuList[u]=l,index:u,nodes:[...a]},{empty:O(()=>[ve(t.$slots,"empty")]),_:2},1032,["index","nodes"]))),128))],42,["onKeydown"])}var wz=Ye(yz,[["render",bz],["__file","index.vue"]]);const HA=Bt(wz),Ui=qe({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:di},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),_z={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},Sz=ee({name:"ElTag"}),Ez=ee({...Sz,props:Ui,emits:_z,setup(t,{emit:e}){const n=t,r=fr(),s=Ne("tag"),o=P(()=>{const{type:l,hit:c,effect:d,closable:f,round:h}=n;return[s.b(),s.is("closable",f),s.m(l||"primary"),s.m(r.value),s.m(d),s.is("hit",c),s.is("round",h)]}),i=l=>{e("close",l)},a=l=>{e("click",l)},u=l=>{var c,d,f;(f=(d=(c=l==null?void 0:l.component)==null?void 0:c.subTree)==null?void 0:d.component)!=null&&f.bum&&(l.component.subTree.component.bum=null)};return(l,c)=>l.disableTransitions?(L(),G("span",{key:0,class:U(m(o)),style:dt({backgroundColor:l.color}),onClick:a},[F("span",{class:U(m(s).e("content"))},[ve(l.$slots,"default")],2),l.closable?(L(),ye(m(lt),{key:0,class:U(m(s).e("close")),onClick:St(i,["stop"])},{default:O(()=>[A(m(io))]),_:1},8,["class","onClick"])):ce("v-if",!0)],6)):(L(),ye(Tr,{key:1,name:`${m(s).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:u},{default:O(()=>[F("span",{class:U(m(o)),style:dt({backgroundColor:l.color}),onClick:a},[F("span",{class:U(m(s).e("content"))},[ve(l.$slots,"default")],2),l.closable?(L(),ye(m(lt),{key:0,class:U(m(s).e("close")),onClick:St(i,["stop"])},{default:O(()=>[A(m(io))]),_:1},8,["class","onClick"])):ce("v-if",!0)],6)]),_:3},8,["name"]))}});var xz=Ye(Ez,[["__file","tag.vue"]]);const co=Bt(xz),Tz=qe({...UA,size:pr,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:me(Function),default:(t,e)=>t.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:me(Function),default:()=>!0},placement:{type:me(String),values:Xi,default:"bottom-start"},fallbackPlacements:{type:me(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:dr.teleported,tagType:{...Ui.type,default:"info"},tagEffect:{...Ui.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...oc}),Cz={[$t]:t=>!0,[Yt]:t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,visibleChange:t=>En(t),expandChange:t=>!!t,removeTag:t=>!!t},pa=new Map;if(an){let t;document.addEventListener("mousedown",e=>t=e),document.addEventListener("mouseup",e=>{if(t){for(const n of pa.values())for(const{documentHandler:r}of n)r(e,t);t=void 0}})}function XE(t,e){let n=[];return Ke(e.arg)?n=e.arg:hs(e.arg)&&n.push(e.arg),function(r,s){const o=e.instance.popperRef,i=r.target,a=s==null?void 0:s.target,u=!e||!e.instance,l=!i||!a,c=t.contains(i)||t.contains(a),d=t===i,f=n.length&&n.some(p=>p==null?void 0:p.contains(i))||n.length&&n.includes(a),h=o&&(o.contains(i)||o.contains(a));u||l||c||d||f||h||e.value(r,s)}}const Hi={beforeMount(t,e){pa.has(t)||pa.set(t,[]),pa.get(t).push({documentHandler:XE(t,e),bindingFn:e.value})},updated(t,e){pa.has(t)||pa.set(t,[]);const n=pa.get(t),r=n.findIndex(o=>o.bindingFn===e.oldValue),s={documentHandler:XE(t,e),bindingFn:e.value};r>=0?n.splice(r,1,s):n.push(s)},unmounted(t){pa.delete(t)}},kz="ElCascader",Iz=ee({name:kz}),Az=ee({...Iz,props:Tz,emits:Cz,setup(t,{expose:e,emit:n}){const r=t,s={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:he})=>{const{modifiersData:_e,placement:re}=he;["right","left","bottom","top"].includes(re)||(_e.arrow.x=35)},requires:["arrow"]}]},o=Wi();let i=0,a=0;const u=Ne("cascader"),l=Ne("input"),{t:c}=un(),{form:d,formItem:f}=Kr(),{valueOnClear:h}=Pm(r),{isComposing:p,handleComposition:g}=mf({afterComposition(he){var _e;const re=(_e=he.target)==null?void 0:_e.value;wt(re)}}),v=q(null),y=q(null),_=q(null),b=q(null),w=q(null),S=q(!1),E=q(!1),T=q(!1),I=q(!1),k=q(""),C=q(""),N=q([]),D=q([]),W=q([]),H=P(()=>o.style),V=P(()=>r.disabled||(d==null?void 0:d.disabled)),R=P(()=>r.placeholder||c("el.cascader.placeholder")),z=P(()=>C.value||N.value.length>0||p.value?"":R.value),M=fr(),B=P(()=>M.value==="small"?"small":"default"),j=P(()=>!!r.props.multiple),X=P(()=>!r.filterable||j.value),se=P(()=>j.value?C.value:k.value),te=P(()=>{var he;return((he=b.value)==null?void 0:he.checkedNodes)||[]}),ie=P(()=>!r.clearable||V.value||T.value||!E.value?!1:!!te.value.length),fe=P(()=>{const{showAllLevels:he,separator:_e}=r,re=te.value;return re.length?j.value?"":re[0].calcText(he,_e):""}),ue=P(()=>(f==null?void 0:f.validateState)||""),J=P({get(){return Tp(r.modelValue)},set(he){const _e=he??h.value;n($t,_e),n(Yt,_e),r.validateEvent&&(f==null||f.validate("change").catch(re=>void 0))}}),de=P(()=>[u.b(),u.m(M.value),u.is("disabled",V.value),o.class]),ae=P(()=>[l.e("icon"),"icon-arrow-down",u.is("reverse",S.value)]),Ae=P(()=>u.is("focus",S.value||I.value)),Re=P(()=>{var he,_e;return(_e=(he=v.value)==null?void 0:he.popperRef)==null?void 0:_e.contentRef}),pe=he=>{var _e,re,$e;V.value||(he=he??!S.value,he!==S.value&&(S.value=he,(re=(_e=y.value)==null?void 0:_e.input)==null||re.setAttribute("aria-expanded",`${he}`),he?(ne(),pt(($e=b.value)==null?void 0:$e.scrollToExpandingNode)):r.filterable&&Ze(),n("visibleChange",he)))},ne=()=>{pt(()=>{var he;(he=v.value)==null||he.updatePopper()})},le=()=>{T.value=!1},Se=he=>{const{showAllLevels:_e,separator:re}=r;return{node:he,key:he.uid,text:he.calcText(_e,re),hitState:!1,closable:!V.value&&!he.isDisabled,isCollapseTag:!1}},Ce=he=>{var _e;const re=he.node;re.doCheck(!1),(_e=b.value)==null||_e.calculateCheckedValue(),n("removeTag",re.valueByOption)},Ee=()=>{if(!j.value)return;const he=te.value,_e=[],re=[];if(he.forEach($e=>re.push(Se($e))),D.value=re,he.length){he.slice(0,r.maxCollapseTags).forEach(Rt=>_e.push(Se(Rt)));const $e=he.slice(r.maxCollapseTags),Et=$e.length;Et&&(r.collapseTags?_e.push({key:-1,text:`+ ${Et}`,closable:!1,isCollapseTag:!0}):$e.forEach(Rt=>_e.push(Se(Rt))))}N.value=_e},we=()=>{var he,_e;const{filterMethod:re,showAllLevels:$e,separator:Et}=r,Rt=(_e=(he=b.value)==null?void 0:he.getFlattedNodes(!r.props.checkStrictly))==null?void 0:_e.filter(ft=>ft.isDisabled?!1:(ft.calcText($e,Et),re(ft,se.value)));j.value&&(N.value.forEach(ft=>{ft.hitState=!1}),D.value.forEach(ft=>{ft.hitState=!1})),T.value=!0,W.value=Rt,ne()},Le=()=>{var he;let _e;T.value&&w.value?_e=w.value.$el.querySelector(`.${u.e("suggestion-item")}`):_e=(he=b.value)==null?void 0:he.$el.querySelector(`.${u.b("node")}[tabindex="-1"]`),_e&&(_e.focus(),!T.value&&_e.click())},Be=()=>{var he,_e;const re=(he=y.value)==null?void 0:he.input,$e=_.value,Et=(_e=w.value)==null?void 0:_e.$el;if(!(!an||!re)){if(Et){const Rt=Et.querySelector(`.${u.e("suggestion-list")}`);Rt.style.minWidth=`${re.offsetWidth}px`}if($e){const{offsetHeight:Rt}=$e,ft=N.value.length>0?`${Math.max(Rt,i)-2}px`:`${i}px`;re.style.height=ft,ne()}}},Ue=he=>{var _e;return(_e=b.value)==null?void 0:_e.getCheckedNodes(he)},je=he=>{ne(),n("expandChange",he)},at=he=>{if(!p.value)switch(he.code){case ot.enter:case ot.numpadEnter:pe();break;case ot.down:pe(!0),pt(Le),he.preventDefault();break;case ot.esc:S.value===!0&&(he.preventDefault(),he.stopPropagation(),pe(!1));break;case ot.tab:pe(!1);break}},Ie=()=>{var he;(he=b.value)==null||he.clearCheckedNodes(),!S.value&&r.filterable&&Ze(),pe(!1),n("clear")},Ze=()=>{const{value:he}=fe;k.value=he,C.value=he},mt=he=>{var _e,re;const{checked:$e}=he;j.value?(_e=b.value)==null||_e.handleCheckChange(he,!$e,!1):(!$e&&((re=b.value)==null||re.handleCheckChange(he,!0,!1)),pe(!1))},Pt=he=>{const _e=he.target,{code:re}=he;switch(re){case ot.up:case ot.down:{he.preventDefault();const $e=re===ot.up?-1:1;Bh(zI(_e,$e,`.${u.e("suggestion-item")}[tabindex="-1"]`));break}case ot.enter:case ot.numpadEnter:_e.click();break}},Vt=()=>{const he=N.value,_e=he[he.length-1];a=C.value?0:a+1,!(!_e||!a||r.collapseTags&&he.length>1)&&(_e.hitState?Ce(_e):_e.hitState=!0)},Ht=he=>{const _e=he.target,re=u.e("search-input");_e.className===re&&(I.value=!0),n("focus",he)},Jt=he=>{I.value=!1,n("blur",he)},fn=As(()=>{const{value:he}=se;if(!he)return;const _e=r.beforeFilter(he);dd(_e)?_e.then(we).catch(()=>{}):_e!==!1?we():le()},r.debounce),wt=(he,_e)=>{!S.value&&pe(!0),!(_e!=null&&_e.isComposing)&&(he?fn():le())},Mt=he=>Number.parseFloat(CB(l.cssVarName("input-height"),he).value)-2;return Pe(T,ne),Pe([te,V,()=>r.collapseTags],Ee),Pe(N,()=>{pt(()=>Be())}),Pe(M,async()=>{await pt();const he=y.value.input;i=Mt(he)||i,Be()}),Pe(fe,Ze,{immediate:!0}),xt(()=>{const he=y.value.input,_e=Mt(he);i=he.offsetHeight||_e,qn(he,Be)}),e({getCheckedNodes:Ue,cascaderPanelRef:b,togglePopperVisible:pe,contentRef:Re,presentText:fe}),(he,_e)=>(L(),ye(m(wr),{ref_key:"tooltipRef",ref:v,visible:S.value,teleported:he.teleported,"popper-class":[m(u).e("dropdown"),he.popperClass],"popper-options":s,"fallback-placements":he.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:he.placement,transition:`${m(u).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:he.persistent,onHide:le},{default:O(()=>[At((L(),G("div",{class:U(m(de)),style:dt(m(H)),onClick:()=>pe(m(X)?void 0:!0),onKeydown:at,onMouseenter:re=>E.value=!0,onMouseleave:re=>E.value=!1},[A(m(ir),{ref_key:"input",ref:y,modelValue:k.value,"onUpdate:modelValue":re=>k.value=re,placeholder:m(z),readonly:m(X),disabled:m(V),"validate-event":!1,size:m(M),class:U(m(Ae)),tabindex:m(j)&&he.filterable&&!m(V)?-1:void 0,onCompositionstart:m(g),onCompositionupdate:m(g),onCompositionend:m(g),onFocus:Ht,onBlur:Jt,onInput:wt},js({suffix:O(()=>[m(ie)?(L(),ye(m(lt),{key:"clear",class:U([m(l).e("icon"),"icon-circle-close"]),onClick:St(Ie,["stop"])},{default:O(()=>[A(m(Yi))]),_:1},8,["class","onClick"])):(L(),ye(m(lt),{key:"arrow-down",class:U(m(ae)),onClick:St(re=>pe(),["stop"])},{default:O(()=>[A(m(fi))]),_:1},8,["class","onClick"]))]),_:2},[he.$slots.prefix?{name:"prefix",fn:O(()=>[ve(he.$slots,"prefix")])}:void 0]),1032,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),m(j)?(L(),G("div",{key:0,ref_key:"tagWrapper",ref:_,class:U([m(u).e("tags"),m(u).is("validate",!!m(ue))])},[(L(!0),G(tt,null,It(N.value,re=>(L(),ye(m(co),{key:re.key,type:he.tagType,size:m(B),effect:he.tagEffect,hit:re.hitState,closable:re.closable,"disable-transitions":"",onClose:$e=>Ce(re)},{default:O(()=>[re.isCollapseTag===!1?(L(),G("span",{key:0},ge(re.text),1)):(L(),ye(m(wr),{key:1,disabled:S.value||!he.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:O(()=>[F("span",null,ge(re.text),1)]),content:O(()=>[F("div",{class:U(m(u).e("collapse-tags"))},[(L(!0),G(tt,null,It(D.value.slice(he.maxCollapseTags),($e,Et)=>(L(),G("div",{key:Et,class:U(m(u).e("collapse-tag"))},[(L(),ye(m(co),{key:$e.key,class:"in-tooltip",type:he.tagType,size:m(B),effect:he.tagEffect,hit:$e.hitState,closable:$e.closable,"disable-transitions":"",onClose:Rt=>Ce($e)},{default:O(()=>[F("span",null,ge($e.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128)),he.filterable&&!m(V)?At((L(),G("input",{key:0,"onUpdate:modelValue":re=>C.value=re,type:"text",class:U(m(u).e("search-input")),placeholder:m(fe)?"":m(R),onInput:re=>wt(C.value,re),onClick:St(re=>pe(!0),["stop"]),onKeydown:Sn(Vt,["delete"]),onCompositionstart:m(g),onCompositionupdate:m(g),onCompositionend:m(g),onFocus:Ht,onBlur:Jt},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[si,C.value]]):ce("v-if",!0)],2)):ce("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[m(Hi),()=>pe(!1),m(Re)]])]),content:O(()=>[At(A(m(HA),{ref_key:"cascaderPanelRef",ref:b,modelValue:m(J),"onUpdate:modelValue":re=>Dn(J)?J.value=re:null,options:he.options,props:r.props,border:!1,"render-label":he.$slots.default,onExpandChange:je,onClose:re=>he.$nextTick(()=>pe(!1))},{empty:O(()=>[ve(he.$slots,"empty")]),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[nn,!T.value]]),he.filterable?At((L(),ye(m(hi),{key:0,ref_key:"suggestionPanel",ref:w,tag:"ul",class:U(m(u).e("suggestion-panel")),"view-class":m(u).e("suggestion-list"),onKeydown:Pt},{default:O(()=>[W.value.length?(L(!0),G(tt,{key:0},It(W.value,re=>(L(),G("li",{key:re.uid,class:U([m(u).e("suggestion-item"),m(u).is("checked",re.checked)]),tabindex:-1,onClick:$e=>mt(re)},[ve(he.$slots,"suggestion-item",{item:re},()=>[F("span",null,ge(re.text),1),re.checked?(L(),ye(m(lt),{key:0},{default:O(()=>[A(m(df))]),_:1})):ce("v-if",!0)])],10,["onClick"]))),128)):ve(he.$slots,"empty",{key:1},()=>[F("li",{class:U(m(u).e("empty-text"))},ge(m(c)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[nn,T.value]]):ce("v-if",!0)]),_:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}});var Rz=Ye(Az,[["__file","cascader.vue"]]);const Lz=Bt(Rz),$z=qe({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),Pz={"update:checked":t=>En(t),[Yt]:t=>En(t)},Dz=ee({name:"ElCheckTag"}),Oz=ee({...Dz,props:$z,emits:Pz,setup(t,{emit:e}){const n=t,r=Ne("check-tag"),s=P(()=>n.disabled),o=P(()=>[r.b(),r.is("checked",n.checked),r.is("disabled",s.value),r.m(n.type||"primary")]),i=()=>{if(s.value)return;const a=!n.checked;e(Yt,a),e("update:checked",a)};return(a,u)=>(L(),G("span",{class:U(m(o)),onClick:i},[ve(a.$slots,"default")],2))}});var Mz=Ye(Oz,[["__file","check-tag.vue"]]);const Nz=Bt(Mz),Fz=qe({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:me([Number,Object]),default:()=>Yn({})},sm:{type:me([Number,Object]),default:()=>Yn({})},md:{type:me([Number,Object]),default:()=>Yn({})},lg:{type:me([Number,Object]),default:()=>Yn({})},xl:{type:me([Number,Object]),default:()=>Yn({})}}),jA=Symbol("rowContextKey"),Bz=ee({name:"ElCol"}),Vz=ee({...Bz,props:Fz,setup(t){const e=t,{gutter:n}=rt(jA,{gutter:P(()=>0)}),r=Ne("col"),s=P(()=>{const i={};return n.value&&(i.paddingLeft=i.paddingRight=`${n.value/2}px`),i}),o=P(()=>{const i=[];return["span","offset","pull","push"].forEach(l=>{const c=e[l];bt(c)&&(l==="span"?i.push(r.b(`${e[l]}`)):c>0&&i.push(r.b(`${l}-${e[l]}`)))}),["xs","sm","md","lg","xl"].forEach(l=>{bt(e[l])?i.push(r.b(`${l}-${e[l]}`)):Kt(e[l])&&Object.entries(e[l]).forEach(([c,d])=>{i.push(c!=="span"?r.b(`${l}-${c}-${d}`):r.b(`${l}-${d}`))})}),n.value&&i.push(r.is("guttered")),[r.b(),i]});return(i,a)=>(L(),ye(Wt(i.tag),{class:U(m(o)),style:dt(m(s))},{default:O(()=>[ve(i.$slots,"default")]),_:3},8,["class","style"]))}});var Uz=Ye(Vz,[["__file","col.vue"]]);const KA=Bt(Uz),QE=t=>bt(t)||ht(t)||Ke(t),Hz=qe({accordion:Boolean,modelValue:{type:me([Array,String,Number]),default:()=>Yn([])}}),jz={[$t]:QE,[Yt]:QE},zA=Symbol("collapseContextKey"),Kz=(t,e)=>{const n=q(Jr(t.modelValue)),r=o=>{n.value=o;const i=t.accordion?n.value[0]:n.value;e($t,i),e(Yt,i)},s=o=>{if(t.accordion)r([n.value[0]===o?"":o]);else{const i=[...n.value],a=i.indexOf(o);a>-1?i.splice(a,1):i.push(o),r(i)}};return Pe(()=>t.modelValue,()=>n.value=Jr(t.modelValue),{deep:!0}),Qt(zA,{activeNames:n,handleItemClick:s}),{activeNames:n,setActiveNames:r}},zz=()=>{const t=Ne("collapse");return{rootKls:P(()=>t.b())}},Wz=ee({name:"ElCollapse"}),Gz=ee({...Wz,props:Hz,emits:jz,setup(t,{expose:e,emit:n}){const r=t,{activeNames:s,setActiveNames:o}=Kz(r,n),{rootKls:i}=zz();return e({activeNames:s,setActiveNames:o}),(a,u)=>(L(),G("div",{class:U(m(i))},[ve(a.$slots,"default")],2))}});var qz=Ye(Gz,[["__file","collapse.vue"]]);const Yz=ee({name:"ElCollapseTransition"}),Xz=ee({...Yz,setup(t){const e=Ne("collapse-transition"),n=s=>{s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom},r={beforeEnter(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.style.height&&(s.dataset.elExistsHeight=s.style.height),s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0},enter(s){requestAnimationFrame(()=>{s.dataset.oldOverflow=s.style.overflow,s.dataset.elExistsHeight?s.style.maxHeight=s.dataset.elExistsHeight:s.scrollHeight!==0?s.style.maxHeight=`${s.scrollHeight}px`:s.style.maxHeight=0,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom,s.style.overflow="hidden"})},afterEnter(s){s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow},enterCancelled(s){n(s)},beforeLeave(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.dataset.oldOverflow=s.style.overflow,s.style.maxHeight=`${s.scrollHeight}px`,s.style.overflow="hidden"},leave(s){s.scrollHeight!==0&&(s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0)},afterLeave(s){n(s)},leaveCancelled(s){n(s)}};return(s,o)=>(L(),ye(Tr,Xt({name:m(e).b()},x4(r)),{default:O(()=>[ve(s.$slots,"default")]),_:3},16,["name"]))}});var Qz=Ye(Xz,[["__file","collapse-transition.vue"]]);const yf=Bt(Qz),Zz=qe({title:{type:String,default:""},name:{type:me([String,Number]),default:void 0},icon:{type:_n,default:ps},disabled:Boolean}),Jz=t=>{const e=rt(zA),{namespace:n}=Ne("collapse"),r=q(!1),s=q(!1),o=o1(),i=P(()=>o.current++),a=P(()=>{var f;return(f=t.name)!=null?f:`${n.value}-id-${o.prefix}-${m(i)}`}),u=P(()=>e==null?void 0:e.activeNames.value.includes(m(a)));return{focusing:r,id:i,isActive:u,handleFocus:()=>{setTimeout(()=>{s.value?s.value=!1:r.value=!0},50)},handleHeaderClick:()=>{t.disabled||(e==null||e.handleItemClick(m(a)),r.value=!1,s.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(m(a))}}},eW=(t,{focusing:e,isActive:n,id:r})=>{const s=Ne("collapse"),o=P(()=>[s.b("item"),s.is("active",m(n)),s.is("disabled",t.disabled)]),i=P(()=>[s.be("item","header"),s.is("active",m(n)),{focusing:m(e)&&!t.disabled}]),a=P(()=>[s.be("item","arrow"),s.is("active",m(n))]),u=P(()=>s.be("item","wrap")),l=P(()=>s.be("item","content")),c=P(()=>s.b(`content-${m(r)}`)),d=P(()=>s.b(`head-${m(r)}`));return{arrowKls:a,headKls:i,rootKls:o,itemWrapperKls:u,itemContentKls:l,scopedContentId:c,scopedHeadId:d}},tW=ee({name:"ElCollapseItem"}),nW=ee({...tW,props:Zz,setup(t,{expose:e}){const n=t,{focusing:r,id:s,isActive:o,handleFocus:i,handleHeaderClick:a,handleEnterClick:u}=Jz(n),{arrowKls:l,headKls:c,rootKls:d,itemWrapperKls:f,itemContentKls:h,scopedContentId:p,scopedHeadId:g}=eW(n,{focusing:r,isActive:o,id:s});return e({isActive:o}),(v,y)=>(L(),G("div",{class:U(m(d))},[F("button",{id:m(g),class:U(m(c)),"aria-expanded":m(o),"aria-controls":m(p),"aria-describedby":m(p),tabindex:v.disabled?-1:0,type:"button",onClick:m(a),onKeydown:Sn(St(m(u),["stop","prevent"]),["space","enter"]),onFocus:m(i),onBlur:_=>r.value=!1},[ve(v.$slots,"title",{},()=>[xe(ge(v.title),1)]),ve(v.$slots,"icon",{isActive:m(o)},()=>[A(m(lt),{class:U(m(l))},{default:O(()=>[(L(),ye(Wt(v.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),A(m(yf),null,{default:O(()=>[At(F("div",{id:m(p),role:"region",class:U(m(f)),"aria-hidden":!m(o),"aria-labelledby":m(g)},[F("div",{class:U(m(h))},[ve(v.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[nn,m(o)]])]),_:3})],2))}});var WA=Ye(nW,[["__file","collapse-item.vue"]]);const rW=Bt(qz,{CollapseItem:WA}),sW=Xn(WA),oW=qe({color:{type:me(Object),required:!0},vertical:{type:Boolean,default:!1}});let dv=!1;function Rd(t,e){if(!an)return;const n=function(o){var i;(i=e.drag)==null||i.call(e,o)},r=function(o){var i;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,dv=!1,(i=e.end)==null||i.call(e,o)},s=function(o){var i;dv||(o.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),document.addEventListener("touchmove",n),document.addEventListener("touchend",r),dv=!0,(i=e.start)==null||i.call(e,o))};t.addEventListener("mousedown",s),t.addEventListener("touchstart",s,{passive:!1})}const iW=(t,e)=>{if(!an||!t||!e)return!1;const n=t.getBoundingClientRect();let r;return e instanceof Element?r=e.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right},ZE=t=>{let e=0,n=t;for(;n;)e+=n.offsetTop,n=n.offsetParent;return e},D0=(t,e)=>Math.abs(ZE(t)-ZE(e)),T1=t=>{let e,n;return t.type==="touchend"?(n=t.changedTouches[0].clientY,e=t.changedTouches[0].clientX):t.type.startsWith("touch")?(n=t.touches[0].clientY,e=t.touches[0].clientX):(n=t.clientY,e=t.clientX),{clientX:e,clientY:n}},aW=t=>{const e=Gt(),{t:n}=un(),r=On(),s=On(),o=P(()=>t.color.get("alpha")),i=P(()=>n("el.colorpicker.alphaLabel"));function a(d){var f;d.target!==r.value&&u(d),(f=r.value)==null||f.focus()}function u(d){if(!s.value||!r.value)return;const h=e.vnode.el.getBoundingClientRect(),{clientX:p,clientY:g}=T1(d);if(t.vertical){let v=g-h.top;v=Math.max(r.value.offsetHeight/2,v),v=Math.min(v,h.height-r.value.offsetHeight/2),t.color.set("alpha",Math.round((v-r.value.offsetHeight/2)/(h.height-r.value.offsetHeight)*100))}else{let v=p-h.left;v=Math.max(r.value.offsetWidth/2,v),v=Math.min(v,h.width-r.value.offsetWidth/2),t.color.set("alpha",Math.round((v-r.value.offsetWidth/2)/(h.width-r.value.offsetWidth)*100))}}function l(d){const{code:f,shiftKey:h}=d,p=h?10:1;switch(f){case ot.left:case ot.down:d.preventDefault(),d.stopPropagation(),c(-p);break;case ot.right:case ot.up:d.preventDefault(),d.stopPropagation(),c(p);break}}function c(d){let f=o.value+d;f=f<0?0:f>100?100:f,t.color.set("alpha",f)}return{thumb:r,bar:s,alpha:o,alphaLabel:i,handleDrag:u,handleClick:a,handleKeydown:l}},lW=(t,{bar:e,thumb:n,handleDrag:r})=>{const s=Gt(),o=Ne("color-alpha-slider"),i=q(0),a=q(0),u=q();function l(){if(!n.value||t.vertical)return 0;const _=s.vnode.el,b=t.color.get("alpha");return _?Math.round(b*(_.offsetWidth-n.value.offsetWidth/2)/100):0}function c(){if(!n.value)return 0;const _=s.vnode.el;if(!t.vertical)return 0;const b=t.color.get("alpha");return _?Math.round(b*(_.offsetHeight-n.value.offsetHeight/2)/100):0}function d(){if(t.color&&t.color.value){const{r:_,g:b,b:w}=t.color.toRgb();return`linear-gradient(to right, rgba(${_}, ${b}, ${w}, 0) 0%, rgba(${_}, ${b}, ${w}, 1) 100%)`}return""}function f(){i.value=l(),a.value=c(),u.value=d()}xt(()=>{if(!e.value||!n.value)return;const _={drag:b=>{r(b)},end:b=>{r(b)}};Rd(e.value,_),Rd(n.value,_),f()}),Pe(()=>t.color.get("alpha"),()=>f()),Pe(()=>t.color.value,()=>f());const h=P(()=>[o.b(),o.is("vertical",t.vertical)]),p=P(()=>o.e("bar")),g=P(()=>o.e("thumb")),v=P(()=>({background:u.value})),y=P(()=>({left:Zn(i.value),top:Zn(a.value)}));return{rootKls:h,barKls:p,barStyle:v,thumbKls:g,thumbStyle:y,update:f}},uW="ElColorAlphaSlider",cW=ee({name:uW}),dW=ee({...cW,props:oW,setup(t,{expose:e}){const n=t,{alpha:r,alphaLabel:s,bar:o,thumb:i,handleDrag:a,handleClick:u,handleKeydown:l}=aW(n),{rootKls:c,barKls:d,barStyle:f,thumbKls:h,thumbStyle:p,update:g}=lW(n,{bar:o,thumb:i,handleDrag:a});return e({update:g,bar:o,thumb:i}),(v,y)=>(L(),G("div",{class:U(m(c))},[F("div",{ref_key:"bar",ref:o,class:U(m(d)),style:dt(m(f)),onClick:m(u)},null,14,["onClick"]),F("div",{ref_key:"thumb",ref:i,class:U(m(h)),style:dt(m(p)),"aria-label":m(s),"aria-valuenow":m(r),"aria-orientation":v.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:m(l)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var fW=Ye(dW,[["__file","alpha-slider.vue"]]);const hW=ee({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const e=Ne("color-hue-slider"),n=Gt(),r=q(),s=q(),o=q(0),i=q(0),a=P(()=>t.color.get("hue"));Pe(()=>a.value,()=>{f()});function u(h){h.target!==r.value&&l(h)}function l(h){if(!s.value||!r.value)return;const g=n.vnode.el.getBoundingClientRect(),{clientX:v,clientY:y}=T1(h);let _;if(t.vertical){let b=y-g.top;b=Math.min(b,g.height-r.value.offsetHeight/2),b=Math.max(r.value.offsetHeight/2,b),_=Math.round((b-r.value.offsetHeight/2)/(g.height-r.value.offsetHeight)*360)}else{let b=v-g.left;b=Math.min(b,g.width-r.value.offsetWidth/2),b=Math.max(r.value.offsetWidth/2,b),_=Math.round((b-r.value.offsetWidth/2)/(g.width-r.value.offsetWidth)*360)}t.color.set("hue",_)}function c(){if(!r.value)return 0;const h=n.vnode.el;if(t.vertical)return 0;const p=t.color.get("hue");return h?Math.round(p*(h.offsetWidth-r.value.offsetWidth/2)/360):0}function d(){if(!r.value)return 0;const h=n.vnode.el;if(!t.vertical)return 0;const p=t.color.get("hue");return h?Math.round(p*(h.offsetHeight-r.value.offsetHeight/2)/360):0}function f(){o.value=c(),i.value=d()}return xt(()=>{if(!s.value||!r.value)return;const h={drag:p=>{l(p)},end:p=>{l(p)}};Rd(s.value,h),Rd(r.value,h),f()}),{bar:s,thumb:r,thumbLeft:o,thumbTop:i,hueValue:a,handleClick:u,update:f,ns:e}}});function pW(t,e,n,r,s,o){return L(),G("div",{class:U([t.ns.b(),t.ns.is("vertical",t.vertical)])},[F("div",{ref:"bar",class:U(t.ns.e("bar")),onClick:t.handleClick},null,10,["onClick"]),F("div",{ref:"thumb",class:U(t.ns.e("thumb")),style:dt({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var mW=Ye(hW,[["render",pW],["__file","hue-slider.vue"]]);const gW=qe({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:pr,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:dr.teleported,predefine:{type:me(Array)},validateEvent:{type:Boolean,default:!0},...Vr(["ariaLabel"])}),vW={[$t]:t=>ht(t)||xr(t),[Yt]:t=>ht(t)||xr(t),activeChange:t=>ht(t)||xr(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},GA=Symbol("colorPickerContextKey"),JE=function(t,e,n){return[t,e*n/((t=(2-e)*n)<1?t:2-t)||0,t/2]},yW=function(t){return ht(t)&&t.includes(".")&&Number.parseFloat(t)===1},bW=function(t){return ht(t)&&t.includes("%")},bu=function(t,e){yW(t)&&(t="100%");const n=bW(t);return t=Math.min(e,Math.max(0,Number.parseFloat(`${t}`))),n&&(t=Number.parseInt(`${t*e}`,10)/100),Math.abs(t-e)<1e-6?1:t%e/Number.parseFloat(e)},ex={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Uh=t=>{t=Math.min(Math.round(t),255);const e=Math.floor(t/16),n=t%16;return`${ex[e]||e}${ex[n]||n}`},tx=function({r:t,g:e,b:n}){return Number.isNaN(+t)||Number.isNaN(+e)||Number.isNaN(+n)?"":`#${Uh(t)}${Uh(e)}${Uh(n)}`},fv={A:10,B:11,C:12,D:13,E:14,F:15},Ja=function(t){return t.length===2?(fv[t[0].toUpperCase()]||+t[0])*16+(fv[t[1].toUpperCase()]||+t[1]):fv[t[1].toUpperCase()]||+t[1]},wW=function(t,e,n){e=e/100,n=n/100;let r=e;const s=Math.max(n,.01);n*=2,e*=n<=1?n:2-n,r*=s<=1?s:2-s;const o=(n+e)/2,i=n===0?2*r/(s+r):2*e/(n+e);return{h:t,s:i*100,v:o*100}},nx=(t,e,n)=>{t=bu(t,255),e=bu(e,255),n=bu(n,255);const r=Math.max(t,e,n),s=Math.min(t,e,n);let o;const i=r,a=r-s,u=r===0?0:a/r;if(r===s)o=0;else{switch(r){case t:{o=(e-n)/a+(e<n?6:0);break}case e:{o=(n-t)/a+2;break}case n:{o=(t-e)/a+4;break}}o/=6}return{h:o*360,s:u*100,v:i*100}},$c=function(t,e,n){t=bu(t,360)*6,e=bu(e,100),n=bu(n,100);const r=Math.floor(t),s=t-r,o=n*(1-e),i=n*(1-s*e),a=n*(1-(1-s)*e),u=r%6,l=[n,i,o,o,a,n][u],c=[a,n,n,i,o,o][u],d=[o,o,a,n,n,i][u];return{r:Math.round(l*255),g:Math.round(c*255),b:Math.round(d*255)}};class rd{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const n in e)dn(e,n)&&(this[n]=e[n]);e.value?this.fromString(e.value):this.doOnChange()}set(e,n){if(arguments.length===1&&typeof e=="object"){for(const r in e)dn(e,r)&&this.set(r,e[r]);return}this[`_${e}`]=n,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return $c(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(r,s,o)=>{this._hue=Math.max(0,Math.min(360,r)),this._saturation=Math.max(0,Math.min(100,s)),this._value=Math.max(0,Math.min(100,o)),this.doOnChange()};if(e.includes("hsl")){const r=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(s=>s!=="").map((s,o)=>o>2?Number.parseFloat(s):Number.parseInt(s,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:s,s:o,v:i}=wW(r[0],r[1],r[2]);n(s,o,i)}}else if(e.includes("hsv")){const r=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(s=>s!=="").map((s,o)=>o>2?Number.parseFloat(s):Number.parseInt(s,10));r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3&&n(r[0],r[1],r[2])}else if(e.includes("rgb")){const r=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(s=>s!=="").map((s,o)=>o>2?Number.parseFloat(s):Number.parseInt(s,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:s,s:o,v:i}=nx(r[0],r[1],r[2]);n(s,o,i)}}else if(e.includes("#")){const r=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(r))return;let s,o,i;r.length===3?(s=Ja(r[0]+r[0]),o=Ja(r[1]+r[1]),i=Ja(r[2]+r[2])):(r.length===6||r.length===8)&&(s=Ja(r.slice(0,2)),o=Ja(r.slice(2,4)),i=Ja(r.slice(4,6))),r.length===8?this._alpha=Ja(r.slice(6))/255*100:(r.length===3||r.length===6)&&(this._alpha=100);const{h:a,s:u,v:l}=nx(s,o,i);n(a,u,l)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:n,_value:r,_alpha:s,format:o}=this;if(this.enableAlpha)switch(o){case"hsl":{const i=JE(e,n/100,r/100);this.value=`hsla(${e}, ${Math.round(i[1]*100)}%, ${Math.round(i[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(n)}%, ${Math.round(r)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${tx($c(e,n,r))}${Uh(s*255/100)}`;break}default:{const{r:i,g:a,b:u}=$c(e,n,r);this.value=`rgba(${i}, ${a}, ${u}, ${this.get("alpha")/100})`}}else switch(o){case"hsl":{const i=JE(e,n/100,r/100);this.value=`hsl(${e}, ${Math.round(i[1]*100)}%, ${Math.round(i[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(n)}%, ${Math.round(r)}%)`;break}case"rgb":{const{r:i,g:a,b:u}=$c(e,n,r);this.value=`rgb(${i}, ${a}, ${u})`;break}default:this.value=tx($c(e,n,r))}}}const _W=ee({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(t){const e=Ne("color-predefine"),{currentColor:n}=rt(GA),r=q(o(t.colors,t.color));Pe(()=>n.value,i=>{const a=new rd;a.fromString(i),r.value.forEach(u=>{u.selected=a.compare(u)})}),Fr(()=>{r.value=o(t.colors,t.color)});function s(i){t.color.fromString(t.colors[i])}function o(i,a){return i.map(u=>{const l=new rd;return l.enableAlpha=t.enableAlpha,l.format="rgba",l.fromString(u),l.selected=l.value===a.value,l})}return{rgbaColors:r,handleSelect:s,ns:e}}});function SW(t,e,n,r,s,o){return L(),G("div",{class:U(t.ns.b())},[F("div",{class:U(t.ns.e("colors"))},[(L(!0),G(tt,null,It(t.rgbaColors,(i,a)=>(L(),G("div",{key:t.colors[a],class:U([t.ns.e("color-selector"),t.ns.is("alpha",i._alpha<100),{selected:i.selected}]),onClick:u=>t.handleSelect(a)},[F("div",{style:dt({backgroundColor:i.value})},null,4)],10,["onClick"]))),128))],2)],2)}var EW=Ye(_W,[["render",SW],["__file","predefine.vue"]]);const xW=ee({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const e=Ne("color-svpanel"),n=Gt(),r=q(0),s=q(0),o=q("hsl(0, 100%, 50%)"),i=P(()=>{const l=t.color.get("hue"),c=t.color.get("value");return{hue:l,value:c}});function a(){const l=t.color.get("saturation"),c=t.color.get("value"),d=n.vnode.el,{clientWidth:f,clientHeight:h}=d;s.value=l*f/100,r.value=(100-c)*h/100,o.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function u(l){const d=n.vnode.el.getBoundingClientRect(),{clientX:f,clientY:h}=T1(l);let p=f-d.left,g=h-d.top;p=Math.max(0,p),p=Math.min(p,d.width),g=Math.max(0,g),g=Math.min(g,d.height),s.value=p,r.value=g,t.color.set({saturation:p/d.width*100,value:100-g/d.height*100})}return Pe(()=>i.value,()=>{a()}),xt(()=>{Rd(n.vnode.el,{drag:l=>{u(l)},end:l=>{u(l)}}),a()}),{cursorTop:r,cursorLeft:s,background:o,colorValue:i,handleDrag:u,update:a,ns:e}}});function TW(t,e,n,r,s,o){return L(),G("div",{class:U(t.ns.b()),style:dt({backgroundColor:t.background})},[F("div",{class:U(t.ns.e("white"))},null,2),F("div",{class:U(t.ns.e("black"))},null,2),F("div",{class:U(t.ns.e("cursor")),style:dt({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},[F("div")],6)],6)}var CW=Ye(xW,[["render",TW],["__file","sv-panel.vue"]]);const kW=ee({name:"ElColorPicker"}),IW=ee({...kW,props:gW,emits:vW,setup(t,{expose:e,emit:n}){const r=t,{t:s}=un(),o=Ne("color"),{formItem:i}=Kr(),a=fr(),u=zr(),{inputId:l,isLabeledByFormItem:c}=po(r,{formItemContext:i}),d=q(),f=q(),h=q(),p=q(),g=q(),v=q(),{isFocused:y,handleFocus:_,handleBlur:b}=Ka(g,{beforeFocus(){return u.value},beforeBlur(ae){var Ae;return(Ae=p.value)==null?void 0:Ae.isFocusInsideContent(ae)},afterBlur(){V(!1),B()}});let w=!0;const S=Ft(new rd({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue})),E=q(!1),T=q(!1),I=q(""),k=P(()=>!r.modelValue&&!T.value?"transparent":H(S,r.showAlpha)),C=P(()=>!r.modelValue&&!T.value?"":S.value),N=P(()=>c.value?void 0:r.ariaLabel||s("el.colorpicker.defaultLabel")),D=P(()=>c.value?i==null?void 0:i.labelId:void 0),W=P(()=>[o.b("picker"),o.is("disabled",u.value),o.bm("picker",a.value),o.is("focused",y.value)]);function H(ae,Ae){if(!(ae instanceof rd))throw new TypeError("color should be instance of _color Class");const{r:Re,g:pe,b:ne}=ae.toRgb();return Ae?`rgba(${Re}, ${pe}, ${ne}, ${ae.get("alpha")/100})`:`rgb(${Re}, ${pe}, ${ne})`}function V(ae){E.value=ae}const R=As(V,100,{leading:!0});function z(){u.value||V(!0)}function M(){R(!1),B()}function B(){pt(()=>{r.modelValue?S.fromString(r.modelValue):(S.value="",pt(()=>{T.value=!1}))})}function j(){u.value||(E.value&&B(),R(!E.value))}function X(){S.fromString(I.value)}function se(){const ae=S.value;n($t,ae),n(Yt,ae),r.validateEvent&&(i==null||i.validate("change").catch(Ae=>void 0)),R(!1),pt(()=>{const Ae=new rd({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue});S.compare(Ae)||B()})}function te(){R(!1),n($t,null),n(Yt,null),r.modelValue!==null&&r.validateEvent&&(i==null||i.validate("change").catch(ae=>void 0)),B()}function ie(){E.value&&(M(),y.value&&J())}function fe(ae){ae.preventDefault(),ae.stopPropagation(),V(!1),B()}function ue(ae){switch(ae.code){case ot.enter:case ot.numpadEnter:case ot.space:ae.preventDefault(),ae.stopPropagation(),z(),v.value.focus();break;case ot.esc:fe(ae);break}}function J(){g.value.focus()}function de(){g.value.blur()}return xt(()=>{r.modelValue&&(I.value=C.value)}),Pe(()=>r.modelValue,ae=>{ae?ae&&ae!==S.value&&(w=!1,S.fromString(ae)):T.value=!1}),Pe(()=>[r.colorFormat,r.showAlpha],()=>{S.enableAlpha=r.showAlpha,S.format=r.colorFormat||S.format,S.doOnChange(),n($t,S.value)}),Pe(()=>C.value,ae=>{I.value=ae,w&&n("activeChange",ae),w=!0}),Pe(()=>S.value,()=>{!r.modelValue&&!T.value&&(T.value=!0)}),Pe(()=>E.value,()=>{pt(()=>{var ae,Ae,Re;(ae=d.value)==null||ae.update(),(Ae=f.value)==null||Ae.update(),(Re=h.value)==null||Re.update()})}),Qt(GA,{currentColor:C}),e({color:S,show:z,hide:M,focus:J,blur:de}),(ae,Ae)=>(L(),ye(m(wr),{ref_key:"popper",ref:p,visible:E.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[m(o).be("picker","panel"),m(o).b("dropdown"),ae.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:ae.teleported,transition:`${m(o).namespace.value}-zoom-in-top`,persistent:"",onHide:Re=>V(!1)},{content:O(()=>[At((L(),G("div",{onKeydown:Sn(fe,["esc"])},[F("div",{class:U(m(o).be("dropdown","main-wrapper"))},[A(mW,{ref_key:"hue",ref:d,class:"hue-slider",color:m(S),vertical:""},null,8,["color"]),A(CW,{ref_key:"sv",ref:f,color:m(S)},null,8,["color"])],2),ae.showAlpha?(L(),ye(fW,{key:0,ref_key:"alpha",ref:h,color:m(S)},null,8,["color"])):ce("v-if",!0),ae.predefine?(L(),ye(EW,{key:1,ref:"predefine","enable-alpha":ae.showAlpha,color:m(S),colors:ae.predefine},null,8,["enable-alpha","color","colors"])):ce("v-if",!0),F("div",{class:U(m(o).be("dropdown","btns"))},[F("span",{class:U(m(o).be("dropdown","value"))},[A(m(ir),{ref_key:"inputRef",ref:v,modelValue:I.value,"onUpdate:modelValue":Re=>I.value=Re,"validate-event":!1,size:"small",onKeyup:Sn(X,["enter"]),onBlur:X},null,8,["modelValue","onUpdate:modelValue","onKeyup"])],2),A(m(Nn),{class:U(m(o).be("dropdown","link-btn")),text:"",size:"small",onClick:te},{default:O(()=>[xe(ge(m(s)("el.colorpicker.clear")),1)]),_:1},8,["class"]),A(m(Nn),{plain:"",size:"small",class:U(m(o).be("dropdown","btn")),onClick:se},{default:O(()=>[xe(ge(m(s)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,["onKeydown"])),[[m(Hi),ie,g.value]])]),default:O(()=>[F("div",Xt({id:m(l),ref_key:"triggerRef",ref:g},ae.$attrs,{class:m(W),role:"button","aria-label":m(N),"aria-labelledby":m(D),"aria-description":m(s)("el.colorpicker.description",{color:ae.modelValue||""}),"aria-disabled":m(u),tabindex:m(u)?void 0:ae.tabindex,onKeydown:ue,onFocus:m(_),onBlur:m(b)}),[m(u)?(L(),G("div",{key:0,class:U(m(o).be("picker","mask"))},null,2)):ce("v-if",!0),F("div",{class:U(m(o).be("picker","trigger")),onClick:j},[F("span",{class:U([m(o).be("picker","color"),m(o).is("alpha",ae.showAlpha)])},[F("span",{class:U(m(o).be("picker","color-inner")),style:dt({backgroundColor:m(k)})},[At(A(m(lt),{class:U([m(o).be("picker","icon"),m(o).is("icon-arrow-down")])},{default:O(()=>[A(m(fi))]),_:1},8,["class"]),[[nn,ae.modelValue||T.value]]),At(A(m(lt),{class:U([m(o).be("picker","empty"),m(o).is("icon-close")])},{default:O(()=>[A(m(io))]),_:1},8,["class"]),[[nn,!ae.modelValue&&!T.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","onHide"]))}});var AW=Ye(IW,[["__file","color-picker.vue"]]);const RW=Bt(AW),LW=qe({a11y:{type:Boolean,default:!0},locale:{type:me(Object)},size:pr,button:{type:me(Object)},experimentalFeatures:{type:me(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:me(Object)},zIndex:Number,namespace:{type:String,default:"el"},...oc}),bo={},$W=ee({name:"ElConfigProvider",props:LW,setup(t,{slots:e}){Pe(()=>t.message,r=>{Object.assign(bo,r??{})},{immediate:!0,deep:!0});const n=Wb(t);return()=>ve(e,"default",{config:n==null?void 0:n.value})}}),qA=Bt($W),PW=ee({name:"ElContainer"}),DW=ee({...PW,props:{direction:{type:String}},setup(t){const e=t,n=_r(),r=Ne("container"),s=P(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:n&&n.default?n.default().some(i=>{const a=i.type.name;return a==="ElHeader"||a==="ElFooter"}):!1);return(o,i)=>(L(),G("section",{class:U([m(r).b(),m(r).is("vertical",m(s))])},[ve(o.$slots,"default")],2))}});var OW=Ye(DW,[["__file","container.vue"]]);const MW=ee({name:"ElAside"}),NW=ee({...MW,props:{width:{type:String,default:null}},setup(t){const e=t,n=Ne("aside"),r=P(()=>e.width?n.cssVarBlock({width:e.width}):{});return(s,o)=>(L(),G("aside",{class:U(m(n).b()),style:dt(m(r))},[ve(s.$slots,"default")],6))}});var YA=Ye(NW,[["__file","aside.vue"]]);const FW=ee({name:"ElFooter"}),BW=ee({...FW,props:{height:{type:String,default:null}},setup(t){const e=t,n=Ne("footer"),r=P(()=>e.height?n.cssVarBlock({height:e.height}):{});return(s,o)=>(L(),G("footer",{class:U(m(n).b()),style:dt(m(r))},[ve(s.$slots,"default")],6))}});var XA=Ye(BW,[["__file","footer.vue"]]);const VW=ee({name:"ElHeader"}),UW=ee({...VW,props:{height:{type:String,default:null}},setup(t){const e=t,n=Ne("header"),r=P(()=>e.height?n.cssVarBlock({height:e.height}):{});return(s,o)=>(L(),G("header",{class:U(m(n).b()),style:dt(m(r))},[ve(s.$slots,"default")],6))}});var QA=Ye(UW,[["__file","header.vue"]]);const HW=ee({name:"ElMain"}),jW=ee({...HW,setup(t){const e=Ne("main");return(n,r)=>(L(),G("main",{class:U(m(e).b())},[ve(n.$slots,"default")],2))}});var ZA=Ye(jW,[["__file","main.vue"]]);const C1=Bt(OW,{Aside:YA,Footer:XA,Header:QA,Main:ZA}),JA=Xn(YA),eR=Xn(XA),k1=Xn(QA),I1=Xn(ZA);var tR={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(rs,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d/,o=/\d\d/,i=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,u={},l=function(v){return(v=+v)+(v>68?1900:2e3)},c=function(v){return function(y){this[v]=+y}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=function(y){if(!y||y==="Z")return 0;var _=y.match(/([+-]|\d\d)/g),b=60*_[1]+(+_[2]||0);return b===0?0:_[0]==="+"?-b:b}(v)}],f=function(v){var y=u[v];return y&&(y.indexOf?y:y.s.concat(y.f))},h=function(v,y){var _,b=u.meridiem;if(b){for(var w=1;w<=24;w+=1)if(v.indexOf(b(w,0,y))>-1){_=w>12;break}}else _=v===(y?"pm":"PM");return _},p={A:[a,function(v){this.afternoon=h(v,!1)}],a:[a,function(v){this.afternoon=h(v,!0)}],Q:[s,function(v){this.month=3*(v-1)+1}],S:[s,function(v){this.milliseconds=100*+v}],SS:[o,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[i,c("seconds")],ss:[i,c("seconds")],m:[i,c("minutes")],mm:[i,c("minutes")],H:[i,c("hours")],h:[i,c("hours")],HH:[i,c("hours")],hh:[i,c("hours")],D:[i,c("day")],DD:[o,c("day")],Do:[a,function(v){var y=u.ordinal,_=v.match(/\d+/);if(this.day=_[0],y)for(var b=1;b<=31;b+=1)y(b).replace(/\[|\]/g,"")===v&&(this.day=b)}],w:[i,c("week")],ww:[o,c("week")],M:[i,c("month")],MM:[o,c("month")],MMM:[a,function(v){var y=f("months"),_=(f("monthsShort")||y.map(function(b){return b.slice(0,3)})).indexOf(v)+1;if(_<1)throw new Error;this.month=_%12||_}],MMMM:[a,function(v){var y=f("months").indexOf(v)+1;if(y<1)throw new Error;this.month=y%12||y}],Y:[/[+-]?\d+/,c("year")],YY:[o,function(v){this.year=l(v)}],YYYY:[/\d{4}/,c("year")],Z:d,ZZ:d};function g(v){var y,_;y=v,_=u&&u.formats;for(var b=(v=y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(C,N,D){var W=D&&D.toUpperCase();return N||_[D]||n[D]||_[W].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(H,V,R){return V||R.slice(1)})})).match(r),w=b.length,S=0;S<w;S+=1){var E=b[S],T=p[E],I=T&&T[0],k=T&&T[1];b[S]=k?{regex:I,parser:k}:E.replace(/^\[|\]$/g,"")}return function(C){for(var N={},D=0,W=0;D<w;D+=1){var H=b[D];if(typeof H=="string")W+=H.length;else{var V=H.regex,R=H.parser,z=C.slice(W),M=V.exec(z)[0];R.call(N,M),C=C.replace(M,"")}}return function(B){var j=B.afternoon;if(j!==void 0){var X=B.hours;j?X<12&&(B.hours+=12):X===12&&(B.hours=0),delete B.afternoon}}(N),N}}return function(v,y,_){_.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(l=v.parseTwoDigitYear);var b=y.prototype,w=b.parse;b.parse=function(S){var E=S.date,T=S.utc,I=S.args;this.$u=T;var k=I[1];if(typeof k=="string"){var C=I[2]===!0,N=I[3]===!0,D=C||N,W=I[2];N&&(W=I[2]),u=this.$locale(),!C&&W&&(u=_.Ls[W]),this.$d=function(z,M,B,j){try{if(["x","X"].indexOf(M)>-1)return new Date((M==="X"?1e3:1)*z);var X=g(M)(z),se=X.year,te=X.month,ie=X.day,fe=X.hours,ue=X.minutes,J=X.seconds,de=X.milliseconds,ae=X.zone,Ae=X.week,Re=new Date,pe=ie||(se||te?1:Re.getDate()),ne=se||Re.getFullYear(),le=0;se&&!te||(le=te>0?te-1:Re.getMonth());var Se,Ce=fe||0,Ee=ue||0,we=J||0,Le=de||0;return ae?new Date(Date.UTC(ne,le,pe,Ce,Ee,we,Le+60*ae.offset*1e3)):B?new Date(Date.UTC(ne,le,pe,Ce,Ee,we,Le)):(Se=new Date(ne,le,pe,Ce,Ee,we,Le),Ae&&(Se=j(Se).week(Ae).toDate()),Se)}catch{return new Date("")}}(E,k,T,_),this.init(),W&&W!==!0&&(this.$L=this.locale(W).$L),D&&E!=this.format(k)&&(this.$d=new Date("")),u={}}else if(k instanceof Array)for(var H=k.length,V=1;V<=H;V+=1){I[1]=k[V-1];var R=_.apply(this,I);if(R.isValid()){this.$d=R.$d,this.$L=R.$L,this.init();break}V===H&&(this.$d=new Date(""))}else w.call(this,S)}}})})(tR);var KW=tR.exports;const A1=Ks(KW);var nR={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(rs,function(){return function(n,r){var s=r.prototype,o=s.format;s.format=function(i){var a=this,u=this.$locale();if(!this.isValid())return o.bind(this)(i);var l=this.$utils(),c=(i||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return u.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return u.ordinal(a.week(),"W");case"w":case"ww":return l.s(a.week(),d==="w"?1:2,"0");case"W":case"WW":return l.s(a.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return l.s(String(a.$H===0?24:a.$H),d==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return d}});return o.bind(this)(c)}}})})(nR);var zW=nR.exports;const WW=Ks(zW);var rR={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(rs,function(){var n="week",r="year";return function(s,o,i){var a=o.prototype;a.week=function(u){if(u===void 0&&(u=null),u!==null)return this.add(7*(u-this.week()),"day");var l=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=i(this).startOf(r).add(1,r).date(l),d=i(this).endOf(n);if(c.isBefore(d))return 1}var f=i(this).startOf(r).date(l).startOf(n).subtract(1,"millisecond"),h=this.diff(f,n,!0);return h<0?i(this).startOf("week").week():Math.ceil(h)},a.weeks=function(u){return u===void 0&&(u=null),this.week(u)}}})})(rR);var GW=rR.exports;const qW=Ks(GW);var sR={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(rs,function(){return function(n,r){r.prototype.weekYear=function(){var s=this.month(),o=this.week(),i=this.year();return o===1&&s===11?i+1:s===0&&o>=52?i-1:i}}})})(sR);var YW=sR.exports;const XW=Ks(YW);var oR={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(rs,function(){return function(n,r,s){r.prototype.dayOfYear=function(o){var i=Math.round((s(this).startOf("day")-s(this).startOf("year"))/864e5)+1;return o==null?i:this.add(o-i,"day")}}})})(oR);var QW=oR.exports;const ZW=Ks(QW);var iR={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(rs,function(){return function(n,r){r.prototype.isSameOrAfter=function(s,o){return this.isSame(s,o)||this.isAfter(s,o)}}})})(iR);var JW=iR.exports;const eG=Ks(JW);var aR={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(rs,function(){return function(n,r){r.prototype.isSameOrBefore=function(s,o){return this.isSame(s,o)||this.isBefore(s,o)}}})})(aR);var tG=aR.exports;const nG=Ks(tG),rx=["hours","minutes","seconds"],Lp="HH:mm:ss",nu="YYYY-MM-DD",rG={date:nu,dates:nu,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${nu} ${Lp}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:nu,datetimerange:`${nu} ${Lp}`},lR=qe({disabledHours:{type:me(Function)},disabledMinutes:{type:me(Function)},disabledSeconds:{type:me(Function)}}),uR=qe({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),R1=qe({id:{type:me([Array,String])},name:{type:me([Array,String])},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:me([String,Object]),default:Yi},editable:{type:Boolean,default:!0},prefixIcon:{type:me([String,Object]),default:""},size:pr,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:me(Object),default:()=>({})},modelValue:{type:me([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:me([Date,Array])},defaultTime:{type:me([Date,Array])},isRange:Boolean,...lR,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:me([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:me(String),values:Xi,default:"bottom"},fallbackPlacements:{type:me(Array),default:["bottom","top","right","left"]},...oc,...Vr(["ariaLabel"]),showNow:{type:Boolean,default:!0}}),sG=qe({id:{type:me(Array)},name:{type:me(Array)},modelValue:{type:me([Array,String])},startPlaceholder:String,endPlaceholder:String,disabled:Boolean}),oG=ee({name:"PickerRangeTrigger",inheritAttrs:!1}),iG=ee({...oG,props:sG,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(t,{expose:e,emit:n}){const r=pf(),s=Ne("date"),o=Ne("range"),i=q(),a=q(),{wrapperRef:u,isFocused:l}=Ka(i),c=w=>{n("click",w)},d=w=>{n("mouseenter",w)},f=w=>{n("mouseleave",w)},h=w=>{n("mouseenter",w)},p=w=>{n("startInput",w)},g=w=>{n("endInput",w)},v=w=>{n("startChange",w)},y=w=>{n("endChange",w)};return e({focus:()=>{var w;(w=i.value)==null||w.focus()},blur:()=>{var w,S;(w=i.value)==null||w.blur(),(S=a.value)==null||S.blur()}}),(w,S)=>(L(),G("div",{ref_key:"wrapperRef",ref:u,class:U([m(s).is("active",m(l)),w.$attrs.class]),style:dt(w.$attrs.style),onClick:c,onMouseenter:d,onMouseleave:f,onTouchstartPassive:h},[ve(w.$slots,"prefix"),F("input",Xt(m(r),{id:w.id&&w.id[0],ref_key:"inputRef",ref:i,name:w.name&&w.name[0],placeholder:w.startPlaceholder,value:w.modelValue&&w.modelValue[0],class:m(o).b("input"),disabled:w.disabled,onInput:p,onChange:v}),null,16,["id","name","placeholder","value","disabled"]),ve(w.$slots,"range-separator"),F("input",Xt(m(r),{id:w.id&&w.id[1],ref_key:"endInputRef",ref:a,name:w.name&&w.name[1],placeholder:w.endPlaceholder,value:w.modelValue&&w.modelValue[1],class:m(o).b("input"),disabled:w.disabled,onInput:g,onChange:y}),null,16,["id","name","placeholder","value","disabled"]),ve(w.$slots,"suffix")],38))}});var aG=Ye(iG,[["__file","picker-range-trigger.vue"]]);const lG=ee({name:"Picker"}),uG=ee({...lG,props:R1,emits:[$t,Yt,"focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:e,emit:n}){const r=t,s=Wi(),{lang:o}=un(),i=Ne("date"),a=Ne("input"),u=Ne("range"),{form:l,formItem:c}=Kr(),d=rt("ElPopperOptions",{}),{valueOnClear:f}=Pm(r,null),h=q(),p=q(),g=q(!1),v=q(!1),y=q(null);let _=!1;const{isFocused:b,handleFocus:w,handleBlur:S}=Ka(p,{beforeFocus(){return r.readonly||B.value},afterFocus(){g.value=!0},beforeBlur(re){var $e;return!_&&(($e=h.value)==null?void 0:$e.isFocusInsideContent(re))},afterBlur(){Be(),g.value=!1,_=!1,r.validateEvent&&(c==null||c.validate("blur").catch(re=>void 0))}}),E=P(()=>[i.b("editor"),i.bm("editor",r.type),a.e("wrapper"),i.is("disabled",B.value),i.is("active",g.value),u.b("editor"),Ce?u.bm("editor",Ce.value):"",s.class]),T=P(()=>[a.e("icon"),u.e("close-icon"),de.value?"":u.e("close-icon--hidden")]);Pe(g,re=>{re?pt(()=>{re&&(y.value=r.modelValue)}):(Le.value=null,pt(()=>{I(r.modelValue)}))});const I=(re,$e)=>{($e||!HE(re,y.value))&&(n(Yt,re),$e&&(y.value=re),r.validateEvent&&(c==null||c.validate("change").catch(Et=>void 0)))},k=re=>{if(!HE(r.modelValue,re)){let $e;Ke(re)?$e=re.map(Et=>KE(Et,r.valueFormat,o.value)):re&&($e=KE(re,r.valueFormat,o.value)),n($t,re&&$e,o.value)}},C=re=>{n("keydown",re)},N=P(()=>p.value?Array.from(p.value.$el.querySelectorAll("input")):[]),D=(re,$e,Et)=>{const Rt=N.value;Rt.length&&(!Et||Et==="min"?(Rt[0].setSelectionRange(re,$e),Rt[0].focus()):Et==="max"&&(Rt[1].setSelectionRange(re,$e),Rt[1].focus()))},W=(re="",$e=!1)=>{g.value=$e;let Et;Ke(re)?Et=re.map(Rt=>Rt.toDate()):Et=re&&re.toDate(),Le.value=null,k(Et)},H=()=>{v.value=!0},V=()=>{n("visible-change",!0)},R=()=>{v.value=!1,g.value=!1,n("visible-change",!1)},z=()=>{g.value=!0},M=()=>{g.value=!1},B=P(()=>r.disabled||(l==null?void 0:l.disabled)),j=P(()=>{let re;if(Ae.value?Jt.value.getDefaultValue&&(re=Jt.value.getDefaultValue()):Ke(r.modelValue)?re=r.modelValue.map($e=>jE($e,r.valueFormat,o.value)):re=jE(r.modelValue,r.valueFormat,o.value),Jt.value.getRangeAvailableTime){const $e=Jt.value.getRangeAvailableTime(re);Lr($e,re)||(re=$e,Ae.value||k(uh(re)))}return Ke(re)&&re.some($e=>!$e)&&(re=[]),re}),X=P(()=>{if(!Jt.value.panelReady)return"";const re=je(j.value);return Ke(Le.value)?[Le.value[0]||re&&re[0]||"",Le.value[1]||re&&re[1]||""]:Le.value!==null?Le.value:!te.value&&Ae.value||!g.value&&Ae.value?"":re?ie.value||fe.value||ue.value?re.join(", "):re:""}),se=P(()=>r.type.includes("time")),te=P(()=>r.type.startsWith("time")),ie=P(()=>r.type==="dates"),fe=P(()=>r.type==="months"),ue=P(()=>r.type==="years"),J=P(()=>r.prefixIcon||(se.value?Qb:EV)),de=q(!1),ae=re=>{r.readonly||B.value||(de.value&&(re.stopPropagation(),Jt.value.handleClear?Jt.value.handleClear():k(f.value),I(f.value,!0),de.value=!1,R()),n("clear"))},Ae=P(()=>{const{modelValue:re}=r;return!re||Ke(re)&&!re.filter(Boolean).length}),Re=async re=>{var $e;r.readonly||B.value||((($e=re.target)==null?void 0:$e.tagName)!=="INPUT"||b.value)&&(g.value=!0)},pe=()=>{r.readonly||B.value||!Ae.value&&r.clearable&&(de.value=!0)},ne=()=>{de.value=!1},le=re=>{var $e;r.readonly||B.value||((($e=re.touches[0].target)==null?void 0:$e.tagName)!=="INPUT"||b.value)&&(g.value=!0)},Se=P(()=>r.type.includes("range")),Ce=fr(),Ee=P(()=>{var re,$e;return($e=(re=m(h))==null?void 0:re.popperRef)==null?void 0:$e.contentRef}),we=zb(p,re=>{const $e=m(Ee),Et=fs(p);$e&&(re.target===$e||re.composedPath().includes($e))||re.target===Et||Et&&re.composedPath().includes(Et)||(g.value=!1)});In(()=>{we==null||we()});const Le=q(null),Be=()=>{if(Le.value){const re=Ue(X.value);re&&at(re)&&(k(uh(re)),Le.value=null)}Le.value===""&&(k(f.value),I(f.value,!0),Le.value=null)},Ue=re=>re?Jt.value.parseUserInput(re):null,je=re=>re?Jt.value.formatToString(re):null,at=re=>Jt.value.isValidValue(re),Ie=async re=>{if(r.readonly||B.value)return;const{code:$e}=re;if(C(re),$e===ot.esc){g.value===!0&&(g.value=!1,re.preventDefault(),re.stopPropagation());return}if($e===ot.down&&(Jt.value.handleFocusPicker&&(re.preventDefault(),re.stopPropagation()),g.value===!1&&(g.value=!0,await pt()),Jt.value.handleFocusPicker)){Jt.value.handleFocusPicker();return}if($e===ot.tab){_=!0;return}if($e===ot.enter||$e===ot.numpadEnter){(Le.value===null||Le.value===""||at(Ue(X.value)))&&(Be(),g.value=!1),re.stopPropagation();return}if(Le.value){re.stopPropagation();return}Jt.value.handleKeydownInput&&Jt.value.handleKeydownInput(re)},Ze=re=>{Le.value=re,g.value||(g.value=!0)},mt=re=>{const $e=re.target;Le.value?Le.value=[$e.value,Le.value[1]]:Le.value=[$e.value,null]},Pt=re=>{const $e=re.target;Le.value?Le.value=[Le.value[0],$e.value]:Le.value=[null,$e.value]},Vt=()=>{var re;const $e=Le.value,Et=Ue($e&&$e[0]),Rt=m(j);if(Et&&Et.isValid()){Le.value=[je(Et),((re=X.value)==null?void 0:re[1])||null];const ft=[Et,Rt&&(Rt[1]||null)];at(ft)&&(k(uh(ft)),Le.value=null)}},Ht=()=>{var re;const $e=m(Le),Et=Ue($e&&$e[1]),Rt=m(j);if(Et&&Et.isValid()){Le.value=[((re=m(X))==null?void 0:re[0])||null,je(Et)];const ft=[Rt&&Rt[0],Et];at(ft)&&(k(uh(ft)),Le.value=null)}},Jt=q({}),fn=re=>{Jt.value[re[0]]=re[1],Jt.value.panelReady=!0},wt=re=>{n("calendar-change",re)},Mt=(re,$e,Et)=>{n("panel-change",re,$e,Et)},he=()=>{var re;(re=p.value)==null||re.focus()},_e=()=>{var re;(re=p.value)==null||re.blur()};return Qt("EP_PICKER_BASE",{props:r}),e({focus:he,blur:_e,handleOpen:z,handleClose:M,onPick:W}),(re,$e)=>(L(),ye(m(wr),Xt({ref_key:"refPopper",ref:h,visible:g.value,effect:"light",pure:"",trigger:"click"},re.$attrs,{role:"dialog",teleported:"",transition:`${m(i).namespace.value}-zoom-in-top`,"popper-class":[`${m(i).namespace.value}-picker__popper`,re.popperClass],"popper-options":m(d),"fallback-placements":re.fallbackPlacements,"gpu-acceleration":!1,placement:re.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:H,onShow:V,onHide:R}),{default:O(()=>[m(Se)?(L(),ye(aG,{key:1,id:re.id,ref_key:"inputRef",ref:p,"model-value":m(X),name:re.name,disabled:m(B),readonly:!re.editable||re.readonly,"start-placeholder":re.startPlaceholder,"end-placeholder":re.endPlaceholder,class:U(m(E)),style:dt(re.$attrs.style),"aria-label":re.ariaLabel,tabindex:re.tabindex,autocomplete:"off",role:"combobox",onClick:Re,onFocus:m(w),onBlur:m(S),onStartInput:mt,onStartChange:Vt,onEndInput:Pt,onEndChange:Ht,onMousedown:Re,onMouseenter:pe,onMouseleave:ne,onTouchstartPassive:le,onKeydown:Ie},{prefix:O(()=>[m(J)?(L(),ye(m(lt),{key:0,class:U([m(a).e("icon"),m(u).e("icon")])},{default:O(()=>[(L(),ye(Wt(m(J))))]),_:1},8,["class"])):ce("v-if",!0)]),"range-separator":O(()=>[ve(re.$slots,"range-separator",{},()=>[F("span",{class:U(m(u).b("separator"))},ge(re.rangeSeparator),3)])]),suffix:O(()=>[re.clearIcon?(L(),ye(m(lt),{key:0,class:U(m(T)),onMousedown:St(m(bn),["prevent"]),onClick:ae},{default:O(()=>[(L(),ye(Wt(re.clearIcon)))]),_:1},8,["class","onMousedown"])):ce("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(L(),ye(m(ir),{key:0,id:re.id,ref_key:"inputRef",ref:p,"container-role":"combobox","model-value":m(X),name:re.name,size:m(Ce),disabled:m(B),placeholder:re.placeholder,class:U([m(i).b("editor"),m(i).bm("editor",re.type),re.$attrs.class]),style:dt(re.$attrs.style),readonly:!re.editable||re.readonly||m(ie)||m(fe)||m(ue)||re.type==="week","aria-label":re.ariaLabel,tabindex:re.tabindex,"validate-event":!1,onInput:Ze,onFocus:m(w),onBlur:m(S),onKeydown:Ie,onChange:Be,onMousedown:Re,onMouseenter:pe,onMouseleave:ne,onTouchstartPassive:le,onClick:St(()=>{},["stop"])},{prefix:O(()=>[m(J)?(L(),ye(m(lt),{key:0,class:U(m(a).e("icon")),onMousedown:St(Re,["prevent"]),onTouchstartPassive:le},{default:O(()=>[(L(),ye(Wt(m(J))))]),_:1},8,["class","onMousedown"])):ce("v-if",!0)]),suffix:O(()=>[de.value&&re.clearIcon?(L(),ye(m(lt),{key:0,class:U(`${m(a).e("icon")} clear-icon`),onMousedown:St(m(bn),["prevent"]),onClick:ae},{default:O(()=>[(L(),ye(Wt(re.clearIcon)))]),_:1},8,["class","onMousedown"])):ce("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur","onClick"]))]),content:O(()=>[ve(re.$slots,"default",{visible:g.value,actualVisible:v.value,parsedValue:m(j),format:re.format,dateFormat:re.dateFormat,timeFormat:re.timeFormat,unlinkPanels:re.unlinkPanels,type:re.type,defaultValue:re.defaultValue,showNow:re.showNow,onPick:W,onSelectRange:D,onSetPickerOption:fn,onCalendarChange:wt,onPanelChange:Mt,onMousedown:St(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-options","fallback-placements","placement"]))}});var cR=Ye(uG,[["__file","picker.vue"]]);const cG=qe({...uR,datetimeRole:String,parsedValue:{type:me(Object)}}),dR=({getAvailableHours:t,getAvailableMinutes:e,getAvailableSeconds:n})=>{const r=(i,a,u,l)=>{const c={hour:t,minute:e,second:n};let d=i;return["hour","minute","second"].forEach(f=>{if(c[f]){let h;const p=c[f];switch(f){case"minute":{h=p(d.hour(),a,l);break}case"second":{h=p(d.hour(),d.minute(),a,l);break}default:{h=p(a,l);break}}if(h!=null&&h.length&&!h.includes(d[f]())){const g=u?0:h.length-1;d=d[f](h[g])}}}),d},s={};return{timePickerOptions:s,getAvailableTime:r,onSetOption:([i,a])=>{s[i]=a}}},hv=t=>{const e=(r,s)=>r||s,n=r=>r!==!0;return t.map(e).filter(n)},fR=(t,e,n)=>({getHoursList:(i,a)=>uv(24,t&&(()=>t==null?void 0:t(i,a))),getMinutesList:(i,a,u)=>uv(60,e&&(()=>e==null?void 0:e(i,a,u))),getSecondsList:(i,a,u,l)=>uv(60,n&&(()=>n==null?void 0:n(i,a,u,l)))}),hR=(t,e,n)=>{const{getHoursList:r,getMinutesList:s,getSecondsList:o}=fR(t,e,n);return{getAvailableHours:(l,c)=>hv(r(l,c)),getAvailableMinutes:(l,c,d)=>hv(s(l,c,d)),getAvailableSeconds:(l,c,d,f)=>hv(o(l,c,d,f))}},pR=t=>{const e=q(t.parsedValue);return Pe(()=>t.visible,n=>{n||(e.value=t.parsedValue)}),e},dG=qe({role:{type:String,required:!0},spinnerDate:{type:me(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:me(String),default:""},...lR}),fG=100,hG=600,$p={beforeMount(t,e){const n=e.value,{interval:r=fG,delay:s=hG}=vt(n)?{}:n;let o,i;const a=()=>vt(n)?n():n.handler(),u=()=>{i&&(clearTimeout(i),i=void 0),o&&(clearInterval(o),o=void 0)};t.addEventListener("mousedown",l=>{l.button===0&&(u(),a(),document.addEventListener("mouseup",()=>u(),{once:!0}),i=setTimeout(()=>{o=setInterval(()=>{a()},r)},s))})}},pG=ee({__name:"basic-time-spinner",props:dG,emits:[Yt,"select-range","set-option"],setup(t,{emit:e}){const n=t,r=rt("EP_PICKER_BASE"),{isRange:s,format:o}=r.props,i=Ne("time"),{getHoursList:a,getMinutesList:u,getSecondsList:l}=fR(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let c=!1;const d=q(),f=q(),h=q(),p=q(),g={hours:f,minutes:h,seconds:p},v=P(()=>n.showSeconds?rx:rx.slice(0,2)),y=P(()=>{const{spinnerDate:se}=n,te=se.hour(),ie=se.minute(),fe=se.second();return{hours:te,minutes:ie,seconds:fe}}),_=P(()=>{const{hours:se,minutes:te}=m(y),{role:ie,spinnerDate:fe}=n,ue=s?void 0:fe;return{hours:a(ie,ue),minutes:u(se,ie,ue),seconds:l(se,te,ie,ue)}}),b=P(()=>{const{hours:se,minutes:te,seconds:ie}=m(y);return{hours:lv(se,23),minutes:lv(te,59),seconds:lv(ie,59)}}),w=As(se=>{c=!1,T(se)},200),S=se=>{if(!!!n.amPmMode)return"";const ie=n.amPmMode==="A";let fe=se<12?" am":" pm";return ie&&(fe=fe.toUpperCase()),fe},E=se=>{let te=[0,0];if(!o||o===Lp)switch(se){case"hours":te=[0,2];break;case"minutes":te=[3,5];break;case"seconds":te=[6,8];break}const[ie,fe]=te;e("select-range",ie,fe),d.value=se},T=se=>{C(se,m(y)[se])},I=()=>{T("hours"),T("minutes"),T("seconds")},k=se=>se.querySelector(`.${i.namespace.value}-scrollbar__wrap`),C=(se,te)=>{if(n.arrowControl)return;const ie=m(g[se]);ie&&ie.$el&&(k(ie.$el).scrollTop=Math.max(0,te*N(se)))},N=se=>{const te=m(g[se]),ie=te==null?void 0:te.$el.querySelector("li");return ie&&Number.parseFloat(Pi(ie,"height"))||0},D=()=>{H(1)},W=()=>{H(-1)},H=se=>{d.value||E("hours");const te=d.value,ie=m(y)[te],fe=d.value==="hours"?24:60,ue=V(te,ie,se,fe);R(te,ue),C(te,ue),pt(()=>E(te))},V=(se,te,ie,fe)=>{let ue=(te+ie+fe)%fe;const J=m(_)[se];for(;J[ue]&&ue!==te;)ue=(ue+ie+fe)%fe;return ue},R=(se,te)=>{if(m(_)[se][te])return;const{hours:ue,minutes:J,seconds:de}=m(y);let ae;switch(se){case"hours":ae=n.spinnerDate.hour(te).minute(J).second(de);break;case"minutes":ae=n.spinnerDate.hour(ue).minute(te).second(de);break;case"seconds":ae=n.spinnerDate.hour(ue).minute(J).second(te);break}e(Yt,ae)},z=(se,{value:te,disabled:ie})=>{ie||(R(se,te),E(se),C(se,te))},M=se=>{const te=m(g[se]);if(!te)return;c=!0,w(se);const ie=Math.min(Math.round((k(te.$el).scrollTop-(B(se)*.5-10)/N(se)+3)/N(se)),se==="hours"?23:59);R(se,ie)},B=se=>m(g[se]).$el.offsetHeight,j=()=>{const se=te=>{const ie=m(g[te]);ie&&ie.$el&&(k(ie.$el).onscroll=()=>{M(te)})};se("hours"),se("minutes"),se("seconds")};xt(()=>{pt(()=>{!n.arrowControl&&j(),I(),n.role==="start"&&E("hours")})});const X=(se,te)=>{g[te].value=se??void 0};return e("set-option",[`${n.role}_scrollDown`,H]),e("set-option",[`${n.role}_emitSelectRange`,E]),Pe(()=>n.spinnerDate,()=>{c||I()}),(se,te)=>(L(),G("div",{class:U([m(i).b("spinner"),{"has-seconds":se.showSeconds}])},[se.arrowControl?ce("v-if",!0):(L(!0),G(tt,{key:0},It(m(v),ie=>(L(),ye(m(hi),{key:ie,ref_for:!0,ref:fe=>X(fe,ie),class:U(m(i).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":m(i).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:fe=>E(ie),onMousemove:fe=>T(ie)},{default:O(()=>[(L(!0),G(tt,null,It(m(_)[ie],(fe,ue)=>(L(),G("li",{key:ue,class:U([m(i).be("spinner","item"),m(i).is("active",ue===m(y)[ie]),m(i).is("disabled",fe)]),onClick:J=>z(ie,{value:ue,disabled:fe})},[ie==="hours"?(L(),G(tt,{key:0},[xe(ge(("0"+(se.amPmMode?ue%12||12:ue)).slice(-2))+ge(S(ue)),1)],64)):(L(),G(tt,{key:1},[xe(ge(("0"+ue).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),se.arrowControl?(L(!0),G(tt,{key:1},It(m(v),ie=>(L(),G("div",{key:ie,class:U([m(i).be("spinner","wrapper"),m(i).is("arrow")]),onMouseenter:fe=>E(ie)},[At((L(),ye(m(lt),{class:U(["arrow-up",m(i).be("spinner","arrow")])},{default:O(()=>[A(m(Mm))]),_:1},8,["class"])),[[m($p),W]]),At((L(),ye(m(lt),{class:U(["arrow-down",m(i).be("spinner","arrow")])},{default:O(()=>[A(m(fi))]),_:1},8,["class"])),[[m($p),D]]),F("ul",{class:U(m(i).be("spinner","list"))},[(L(!0),G(tt,null,It(m(b)[ie],(fe,ue)=>(L(),G("li",{key:ue,class:U([m(i).be("spinner","item"),m(i).is("active",fe===m(y)[ie]),m(i).is("disabled",m(_)[ie][fe])])},[m(bt)(fe)?(L(),G(tt,{key:0},[ie==="hours"?(L(),G(tt,{key:0},[xe(ge(("0"+(se.amPmMode?fe%12||12:fe)).slice(-2))+ge(S(fe)),1)],64)):(L(),G(tt,{key:1},[xe(ge(("0"+fe).slice(-2)),1)],64))],64)):ce("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):ce("v-if",!0)],2))}});var O0=Ye(pG,[["__file","basic-time-spinner.vue"]]);const mG=ee({__name:"panel-time-pick",props:cG,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,r=rt("EP_PICKER_BASE"),{arrowControl:s,disabledHours:o,disabledMinutes:i,disabledSeconds:a,defaultValue:u}=r.props,{getAvailableHours:l,getAvailableMinutes:c,getAvailableSeconds:d}=hR(o,i,a),f=Ne("time"),{t:h,lang:p}=un(),g=q([0,2]),v=pR(n),y=P(()=>ln(n.actualVisible)?`${f.namespace.value}-zoom-in-top`:""),_=P(()=>n.format.includes("ss")),b=P(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),w=M=>{const B=Nt(M).locale(p.value),j=H(B);return B.isSame(j)},S=()=>{e("pick",v.value,!1)},E=(M=!1,B=!1)=>{B||e("pick",n.parsedValue,M)},T=M=>{if(!n.visible)return;const B=H(M).millisecond(0);e("pick",B,!0)},I=(M,B)=>{e("select-range",M,B),g.value=[M,B]},k=M=>{const B=[0,3].concat(_.value?[6]:[]),j=["hours","minutes"].concat(_.value?["seconds"]:[]),se=(B.indexOf(g.value[0])+M+B.length)%B.length;N.start_emitSelectRange(j[se])},C=M=>{const B=M.code,{left:j,right:X,up:se,down:te}=ot;if([j,X].includes(B)){k(B===j?-1:1),M.preventDefault();return}if([se,te].includes(B)){const ie=B===se?-1:1;N.start_scrollDown(ie),M.preventDefault();return}},{timePickerOptions:N,onSetOption:D,getAvailableTime:W}=dR({getAvailableHours:l,getAvailableMinutes:c,getAvailableSeconds:d}),H=M=>W(M,n.datetimeRole||"",!0),V=M=>M?Nt(M,n.format).locale(p.value):null,R=M=>M?M.format(n.format):null,z=()=>Nt(u).locale(p.value);return e("set-picker-option",["isValidValue",w]),e("set-picker-option",["formatToString",R]),e("set-picker-option",["parseUserInput",V]),e("set-picker-option",["handleKeydownInput",C]),e("set-picker-option",["getRangeAvailableTime",H]),e("set-picker-option",["getDefaultValue",z]),(M,B)=>(L(),ye(Tr,{name:m(y)},{default:O(()=>[M.actualVisible||M.visible?(L(),G("div",{key:0,class:U(m(f).b("panel"))},[F("div",{class:U([m(f).be("panel","content"),{"has-seconds":m(_)}])},[A(O0,{ref:"spinner",role:M.datetimeRole||"start","arrow-control":m(s),"show-seconds":m(_),"am-pm-mode":m(b),"spinner-date":M.parsedValue,"disabled-hours":m(o),"disabled-minutes":m(i),"disabled-seconds":m(a),onChange:T,onSetOption:m(D),onSelectRange:I},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),F("div",{class:U(m(f).be("panel","footer"))},[F("button",{type:"button",class:U([m(f).be("panel","btn"),"cancel"]),onClick:S},ge(m(h)("el.datepicker.cancel")),3),F("button",{type:"button",class:U([m(f).be("panel","btn"),"confirm"]),onClick:j=>E()},ge(m(h)("el.datepicker.confirm")),11,["onClick"])],2)],2)):ce("v-if",!0)]),_:1},8,["name"]))}});var Pp=Ye(mG,[["__file","panel-time-pick.vue"]]);const gG=qe({...uR,parsedValue:{type:me(Array)}}),vG=ee({__name:"panel-time-range",props:gG,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,r=(Re,pe)=>{const ne=[];for(let le=Re;le<=pe;le++)ne.push(le);return ne},{t:s,lang:o}=un(),i=Ne("time"),a=Ne("picker"),u=rt("EP_PICKER_BASE"),{arrowControl:l,disabledHours:c,disabledMinutes:d,disabledSeconds:f,defaultValue:h}=u.props,p=P(()=>[i.be("range-picker","body"),i.be("panel","content"),i.is("arrow",l),w.value?"has-seconds":""]),g=P(()=>[i.be("range-picker","body"),i.be("panel","content"),i.is("arrow",l),w.value?"has-seconds":""]),v=P(()=>n.parsedValue[0]),y=P(()=>n.parsedValue[1]),_=pR(n),b=()=>{e("pick",_.value,!1)},w=P(()=>n.format.includes("ss")),S=P(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),E=(Re=!1)=>{e("pick",[v.value,y.value],Re)},T=Re=>{C(Re.millisecond(0),y.value)},I=Re=>{C(v.value,Re.millisecond(0))},k=Re=>{const pe=Re.map(le=>Nt(le).locale(o.value)),ne=X(pe);return pe[0].isSame(ne[0])&&pe[1].isSame(ne[1])},C=(Re,pe)=>{n.visible&&e("pick",[Re,pe],!0)},N=P(()=>v.value>y.value),D=q([0,2]),W=(Re,pe)=>{e("select-range",Re,pe,"min"),D.value=[Re,pe]},H=P(()=>w.value?11:8),V=(Re,pe)=>{e("select-range",Re,pe,"max");const ne=m(H);D.value=[Re+ne,pe+ne]},R=Re=>{const pe=w.value?[0,3,6,11,14,17]:[0,3,8,11],ne=["hours","minutes"].concat(w.value?["seconds"]:[]),Se=(pe.indexOf(D.value[0])+Re+pe.length)%pe.length,Ce=pe.length/2;Se<Ce?fe.start_emitSelectRange(ne[Se]):fe.end_emitSelectRange(ne[Se-Ce])},z=Re=>{const pe=Re.code,{left:ne,right:le,up:Se,down:Ce}=ot;if([ne,le].includes(pe)){R(pe===ne?-1:1),Re.preventDefault();return}if([Se,Ce].includes(pe)){const Ee=pe===Se?-1:1,we=D.value[0]<H.value?"start":"end";fe[`${we}_scrollDown`](Ee),Re.preventDefault();return}},M=(Re,pe)=>{const ne=c?c(Re):[],le=Re==="start",Ce=(pe||(le?y.value:v.value)).hour(),Ee=le?r(Ce+1,23):r(0,Ce-1);return nv(ne,Ee)},B=(Re,pe,ne)=>{const le=d?d(Re,pe):[],Se=pe==="start",Ce=ne||(Se?y.value:v.value),Ee=Ce.hour();if(Re!==Ee)return le;const we=Ce.minute(),Le=Se?r(we+1,59):r(0,we-1);return nv(le,Le)},j=(Re,pe,ne,le)=>{const Se=f?f(Re,pe,ne):[],Ce=ne==="start",Ee=le||(Ce?y.value:v.value),we=Ee.hour(),Le=Ee.minute();if(Re!==we||pe!==Le)return Se;const Be=Ee.second(),Ue=Ce?r(Be+1,59):r(0,Be-1);return nv(Se,Ue)},X=([Re,pe])=>[ue(Re,"start",!0,pe),ue(pe,"end",!1,Re)],{getAvailableHours:se,getAvailableMinutes:te,getAvailableSeconds:ie}=hR(M,B,j),{timePickerOptions:fe,getAvailableTime:ue,onSetOption:J}=dR({getAvailableHours:se,getAvailableMinutes:te,getAvailableSeconds:ie}),de=Re=>Re?Ke(Re)?Re.map(pe=>Nt(pe,n.format).locale(o.value)):Nt(Re,n.format).locale(o.value):null,ae=Re=>Re?Ke(Re)?Re.map(pe=>pe.format(n.format)):Re.format(n.format):null,Ae=()=>{if(Ke(h))return h.map(pe=>Nt(pe).locale(o.value));const Re=Nt(h).locale(o.value);return[Re,Re.add(60,"m")]};return e("set-picker-option",["formatToString",ae]),e("set-picker-option",["parseUserInput",de]),e("set-picker-option",["isValidValue",k]),e("set-picker-option",["handleKeydownInput",z]),e("set-picker-option",["getDefaultValue",Ae]),e("set-picker-option",["getRangeAvailableTime",X]),(Re,pe)=>Re.actualVisible?(L(),G("div",{key:0,class:U([m(i).b("range-picker"),m(a).b("panel")])},[F("div",{class:U(m(i).be("range-picker","content"))},[F("div",{class:U(m(i).be("range-picker","cell"))},[F("div",{class:U(m(i).be("range-picker","header"))},ge(m(s)("el.datepicker.startTime")),3),F("div",{class:U(m(p))},[A(O0,{ref:"minSpinner",role:"start","show-seconds":m(w),"am-pm-mode":m(S),"arrow-control":m(l),"spinner-date":m(v),"disabled-hours":M,"disabled-minutes":B,"disabled-seconds":j,onChange:T,onSetOption:m(J),onSelectRange:W},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),F("div",{class:U(m(i).be("range-picker","cell"))},[F("div",{class:U(m(i).be("range-picker","header"))},ge(m(s)("el.datepicker.endTime")),3),F("div",{class:U(m(g))},[A(O0,{ref:"maxSpinner",role:"end","show-seconds":m(w),"am-pm-mode":m(S),"arrow-control":m(l),"spinner-date":m(y),"disabled-hours":M,"disabled-minutes":B,"disabled-seconds":j,onChange:I,onSetOption:m(J),onSelectRange:V},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),F("div",{class:U(m(i).be("panel","footer"))},[F("button",{type:"button",class:U([m(i).be("panel","btn"),"cancel"]),onClick:ne=>b()},ge(m(s)("el.datepicker.cancel")),11,["onClick"]),F("button",{type:"button",class:U([m(i).be("panel","btn"),"confirm"]),disabled:m(N),onClick:ne=>E()},ge(m(s)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):ce("v-if",!0)}});var yG=Ye(vG,[["__file","panel-time-range.vue"]]);Nt.extend(A1);var bG=ee({name:"ElTimePicker",install:null,props:{...R1,isRange:{type:Boolean,default:!1}},emits:[$t],setup(t,e){const n=q(),[r,s]=t.isRange?["timerange",yG]:["time",Pp],o=i=>e.emit($t,i);return Qt("ElPopperOptions",t.popperOptions),e.expose({focus:()=>{var i;(i=n.value)==null||i.focus()},blur:()=>{var i;(i=n.value)==null||i.blur()},handleOpen:()=>{var i;(i=n.value)==null||i.handleOpen()},handleClose:()=>{var i;(i=n.value)==null||i.handleClose()}}),()=>{var i;const a=(i=t.format)!=null?i:Lp;return A(cR,Xt(t,{ref:n,type:r,format:a,"onUpdate:modelValue":o}),{default:u=>A(s,u,null)})}}});const wG=Bt(bG),zm=Symbol(),_G=qe({...R1,type:{type:me(String),default:"date"}}),SG=["date","dates","year","years","month","months","week","range"],L1=qe({disabledDate:{type:me(Function)},date:{type:me(Object),required:!0},minDate:{type:me(Object)},maxDate:{type:me(Object)},parsedValue:{type:me([Object,Array])},rangeState:{type:me(Object),default:()=>({endDate:null,selecting:!1})}}),mR=qe({type:{type:me(String),required:!0,values:Qj},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0}}),$1=qe({unlinkPanels:Boolean,parsedValue:{type:me(Array)}}),P1=t=>({type:String,values:SG,default:t}),EG=qe({...mR,parsedValue:{type:me([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),Fu=t=>{if(!Ke(t))return!1;const[e,n]=t;return Nt.isDayjs(e)&&Nt.isDayjs(n)&&Nt(e).isValid()&&Nt(n).isValid()&&e.isSameOrBefore(n)},D1=(t,{lang:e,unit:n,unlinkPanels:r})=>{let s;if(Ke(t)){let[o,i]=t.map(a=>Nt(a).locale(e));return r||(i=o.add(1,n)),[o,i]}else t?s=Nt(t):s=Nt();return s=s.locale(e),[s,s.add(1,n)]},xG=(t,e,{columnIndexOffset:n,startDate:r,nextEndDate:s,now:o,unit:i,relativeDateGetter:a,setCellMetadata:u,setRowMetadata:l})=>{for(let c=0;c<t.row;c++){const d=e[c];for(let f=0;f<t.column;f++){let h=d[f+n];h||(h={row:c,column:f,type:"normal",inRange:!1,start:!1,end:!1});const p=c*t.column+f,g=a(p);h.dayjs=g,h.date=g.toDate(),h.timestamp=g.valueOf(),h.type="normal",h.inRange=!!(r&&g.isSameOrAfter(r,i)&&s&&g.isSameOrBefore(s,i))||!!(r&&g.isSameOrBefore(r,i)&&s&&g.isSameOrAfter(s,i)),r!=null&&r.isSameOrAfter(s)?(h.start=!!s&&g.isSame(s,i),h.end=r&&g.isSame(r,i)):(h.start=!!r&&g.isSame(r,i),h.end=!!s&&g.isSame(s,i)),g.isSame(o,i)&&(h.type="today"),u==null||u(h,{rowIndex:c,columnIndex:f}),d[f+n]=h}l==null||l(d)}},Dp=(t,e,n)=>{const r=Nt().locale(n).startOf("month").month(e).year(t),s=r.daysInMonth();return ka(s).map(o=>r.add(o,"day").toDate())},Ld=(t,e,n,r)=>{const s=Nt().year(t).month(e).startOf("month"),o=Dp(t,e,n).find(i=>!(r!=null&&r(i)));return o?Nt(o).locale(n):s.locale(n)},M0=(t,e,n)=>{const r=t.year();if(!(n!=null&&n(t.toDate())))return t.locale(e);const s=t.month();if(!Dp(r,s,e).every(n))return Ld(r,s,e,n);for(let o=0;o<12;o++)if(!Dp(r,o,e).every(n))return Ld(r,o,e,n);return t},Bu=(t,e,n,r)=>{if(Ke(t))return t.map(s=>Bu(s,e,n,r));if(ht(t)){const s=r.value?Nt(t):Nt(t,e);if(!s.isValid())return s}return Nt(t,e).locale(n)},TG=qe({...L1,cellClassName:{type:me(Function)},showWeekNumber:Boolean,selectionMode:P1("date")}),CG=["changerange","pick","select"],N0=(t="")=>["normal","today"].includes(t),kG=(t,e)=>{const{lang:n}=un(),r=q(),s=q(),o=q(),i=q(),a=q([[],[],[],[],[],[]]);let u=!1;const l=t.date.$locale().weekStart||7,c=t.date.locale("en").localeData().weekdaysShort().map(B=>B.toLowerCase()),d=P(()=>l>3?7-l:-l),f=P(()=>{const B=t.date.startOf("month");return B.subtract(B.day()||7,"day")}),h=P(()=>c.concat(c).slice(l,l+7)),p=P(()=>Nk(m(w)).some(B=>B.isCurrent)),g=P(()=>{const B=t.date.startOf("month"),j=B.day()||7,X=B.daysInMonth(),se=B.subtract(1,"month").daysInMonth();return{startOfMonthDay:j,dateCountOfMonth:X,dateCountOfLastMonth:se}}),v=P(()=>t.selectionMode==="dates"?ds(t.parsedValue):[]),y=(B,{count:j,rowIndex:X,columnIndex:se})=>{const{startOfMonthDay:te,dateCountOfMonth:ie,dateCountOfLastMonth:fe}=m(g),ue=m(d);if(X>=0&&X<=1){const J=te+ue<0?7+te+ue:te+ue;if(se+X*7>=J)return B.text=j,!0;B.text=fe-(J-se%7)+1+X*7,B.type="prev-month"}else return j<=ie?B.text=j:(B.text=j-ie,B.type="next-month"),!0;return!1},_=(B,{columnIndex:j,rowIndex:X},se)=>{const{disabledDate:te,cellClassName:ie}=t,fe=m(v),ue=y(B,{count:se,rowIndex:X,columnIndex:j}),J=B.dayjs.toDate();return B.selected=fe.find(de=>de.isSame(B.dayjs,"day")),B.isSelected=!!B.selected,B.isCurrent=E(B),B.disabled=te==null?void 0:te(J),B.customClass=ie==null?void 0:ie(J),ue},b=B=>{if(t.selectionMode==="week"){const[j,X]=t.showWeekNumber?[1,7]:[0,6],se=M(B[j+1]);B[j].inRange=se,B[j].start=se,B[X].inRange=se,B[X].end=se}},w=P(()=>{const{minDate:B,maxDate:j,rangeState:X,showWeekNumber:se}=t,te=m(d),ie=m(a),fe="day";let ue=1;if(se)for(let J=0;J<6;J++)ie[J][0]||(ie[J][0]={type:"week",text:m(f).add(J*7+1,fe).week()});return xG({row:6,column:7},ie,{startDate:B,columnIndexOffset:se?1:0,nextEndDate:X.endDate||j||X.selecting&&B||null,now:Nt().locale(m(n)).startOf(fe),unit:fe,relativeDateGetter:J=>m(f).add(J-te,fe),setCellMetadata:(...J)=>{_(...J,ue)&&(ue+=1)},setRowMetadata:b}),ie});Pe(()=>t.date,async()=>{var B;(B=m(r))!=null&&B.contains(document.activeElement)&&(await pt(),await S())});const S=async()=>{var B;return(B=m(s))==null?void 0:B.focus()},E=B=>t.selectionMode==="date"&&N0(B.type)&&T(B,t.parsedValue),T=(B,j)=>j?Nt(j).locale(m(n)).isSame(t.date.date(Number(B.text)),"day"):!1,I=(B,j)=>{const X=B*7+(j-(t.showWeekNumber?1:0))-m(d);return m(f).add(X,"day")},k=B=>{var j;if(!t.rangeState.selecting)return;let X=B.target;if(X.tagName==="SPAN"&&(X=(j=X.parentNode)==null?void 0:j.parentNode),X.tagName==="DIV"&&(X=X.parentNode),X.tagName!=="TD")return;const se=X.parentNode.rowIndex-1,te=X.cellIndex;m(w)[se][te].disabled||(se!==m(o)||te!==m(i))&&(o.value=se,i.value=te,e("changerange",{selecting:!0,endDate:I(se,te)}))},C=B=>!m(p)&&(B==null?void 0:B.text)===1&&B.type==="normal"||B.isCurrent,N=B=>{u||m(p)||t.selectionMode!=="date"||z(B,!0)},D=B=>{B.target.closest("td")&&(u=!0)},W=B=>{B.target.closest("td")&&(u=!1)},H=B=>{!t.rangeState.selecting||!t.minDate?(e("pick",{minDate:B,maxDate:null}),e("select",!0)):(B>=t.minDate?e("pick",{minDate:t.minDate,maxDate:B}):e("pick",{minDate:B,maxDate:t.minDate}),e("select",!1))},V=B=>{const j=B.week(),X=`${B.year()}w${j}`;e("pick",{year:B.year(),week:j,value:X,date:B.startOf("week")})},R=(B,j)=>{const X=j?ds(t.parsedValue).filter(se=>(se==null?void 0:se.valueOf())!==B.valueOf()):ds(t.parsedValue).concat([B]);e("pick",X)},z=(B,j=!1)=>{const X=B.target.closest("td");if(!X)return;const se=X.parentNode.rowIndex-1,te=X.cellIndex,ie=m(w)[se][te];if(ie.disabled||ie.type==="week")return;const fe=I(se,te);switch(t.selectionMode){case"range":{H(fe);break}case"date":{e("pick",fe,j);break}case"week":{V(fe);break}case"dates":{R(fe,!!ie.selected);break}}},M=B=>{if(t.selectionMode!=="week")return!1;let j=t.date.startOf("day");if(B.type==="prev-month"&&(j=j.subtract(1,"month")),B.type==="next-month"&&(j=j.add(1,"month")),j=j.date(Number.parseInt(B.text,10)),t.parsedValue&&!Ke(t.parsedValue)){const X=(t.parsedValue.day()-l+7)%7-1;return t.parsedValue.subtract(X,"day").isSame(j,"day")}return!1};return{WEEKS:h,rows:w,tbodyRef:r,currentCellRef:s,focus:S,isCurrent:E,isWeekActive:M,isSelectedCell:C,handlePickDate:z,handleMouseUp:W,handleMouseDown:D,handleMouseMove:k,handleFocus:N}},IG=(t,{isCurrent:e,isWeekActive:n})=>{const r=Ne("date-table"),{t:s}=un(),o=P(()=>[r.b(),{"is-week-mode":t.selectionMode==="week"}]),i=P(()=>s("el.datepicker.dateTablePrompt")),a=P(()=>s("el.datepicker.week"));return{tableKls:o,tableLabel:i,weekLabel:a,getCellClasses:c=>{const d=[];return N0(c.type)&&!c.disabled?(d.push("available"),c.type==="today"&&d.push("today")):d.push(c.type),e(c)&&d.push("current"),c.inRange&&(N0(c.type)||t.selectionMode==="week")&&(d.push("in-range"),c.start&&d.push("start-date"),c.end&&d.push("end-date")),c.disabled&&d.push("disabled"),c.selected&&d.push("selected"),c.customClass&&d.push(c.customClass),d.join(" ")},getRowKls:c=>[r.e("row"),{current:n(c)}],t:s}},AG=qe({cell:{type:me(Object)}});var O1=ee({name:"ElDatePickerCell",props:AG,setup(t){const e=Ne("date-table-cell"),{slots:n}=rt(zm);return()=>{const{cell:r}=t;return ve(n,"default",{...r},()=>{var s;return[A("div",{class:e.b()},[A("span",{class:e.e("text")},[(s=r==null?void 0:r.renderText)!=null?s:r==null?void 0:r.text])])]})}}});const RG=ee({__name:"basic-date-table",props:TG,emits:CG,setup(t,{expose:e,emit:n}){const r=t,{WEEKS:s,rows:o,tbodyRef:i,currentCellRef:a,focus:u,isCurrent:l,isWeekActive:c,isSelectedCell:d,handlePickDate:f,handleMouseUp:h,handleMouseDown:p,handleMouseMove:g,handleFocus:v}=kG(r,n),{tableLabel:y,tableKls:_,weekLabel:b,getCellClasses:w,getRowKls:S,t:E}=IG(r,{isCurrent:l,isWeekActive:c});let T=!1;return In(()=>{T=!0}),e({focus:u}),(I,k)=>(L(),G("table",{"aria-label":m(y),class:U(m(_)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:m(f),onMousemove:m(g),onMousedown:St(m(p),["prevent"]),onMouseup:m(h)},[F("tbody",{ref_key:"tbodyRef",ref:i},[F("tr",null,[I.showWeekNumber?(L(),G("th",{key:0,scope:"col"},ge(m(b)),1)):ce("v-if",!0),(L(!0),G(tt,null,It(m(s),(C,N)=>(L(),G("th",{key:N,"aria-label":m(E)("el.datepicker.weeksFull."+C),scope:"col"},ge(m(E)("el.datepicker.weeks."+C)),9,["aria-label"]))),128))]),(L(!0),G(tt,null,It(m(o),(C,N)=>(L(),G("tr",{key:N,class:U(m(S)(C[1]))},[(L(!0),G(tt,null,It(C,(D,W)=>(L(),G("td",{key:`${N}.${W}`,ref_for:!0,ref:H=>!m(T)&&m(d)(D)&&(a.value=H),class:U(m(w)(D)),"aria-current":D.isCurrent?"date":void 0,"aria-selected":D.isCurrent,tabindex:m(d)(D)?0:-1,onFocus:m(v)},[A(m(O1),{cell:D},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var F0=Ye(RG,[["__file","basic-date-table.vue"]]);const LG=qe({...L1,selectionMode:P1("month")}),$G=ee({__name:"basic-month-table",props:LG,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const r=t,s=Ne("month-table"),{t:o,lang:i}=un(),a=q(),u=q(),l=q(r.date.locale("en").localeData().monthsShort().map(b=>b.toLowerCase())),c=q([[],[],[]]),d=q(),f=q(),h=P(()=>{var b,w;const S=c.value,E=Nt().locale(i.value).startOf("month");for(let T=0;T<3;T++){const I=S[T];for(let k=0;k<4;k++){const C=I[k]||(I[k]={row:T,column:k,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});C.type="normal";const N=T*4+k,D=r.date.startOf("year").month(N),W=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;C.inRange=!!(r.minDate&&D.isSameOrAfter(r.minDate,"month")&&W&&D.isSameOrBefore(W,"month"))||!!(r.minDate&&D.isSameOrBefore(r.minDate,"month")&&W&&D.isSameOrAfter(W,"month")),(b=r.minDate)!=null&&b.isSameOrAfter(W)?(C.start=!!(W&&D.isSame(W,"month")),C.end=r.minDate&&D.isSame(r.minDate,"month")):(C.start=!!(r.minDate&&D.isSame(r.minDate,"month")),C.end=!!(W&&D.isSame(W,"month"))),E.isSame(D)&&(C.type="today"),C.text=N,C.disabled=((w=r.disabledDate)==null?void 0:w.call(r,D.toDate()))||!1}}return S}),p=()=>{var b;(b=u.value)==null||b.focus()},g=b=>{const w={},S=r.date.year(),E=new Date,T=b.text;return w.disabled=r.disabledDate?Dp(S,T,i.value).every(r.disabledDate):!1,w.current=ds(r.parsedValue).findIndex(I=>Nt.isDayjs(I)&&I.year()===S&&I.month()===T)>=0,w.today=E.getFullYear()===S&&E.getMonth()===T,b.inRange&&(w["in-range"]=!0,b.start&&(w["start-date"]=!0),b.end&&(w["end-date"]=!0)),w},v=b=>{const w=r.date.year(),S=b.text;return ds(r.date).findIndex(E=>E.year()===w&&E.month()===S)>=0},y=b=>{var w;if(!r.rangeState.selecting)return;let S=b.target;if(S.tagName==="SPAN"&&(S=(w=S.parentNode)==null?void 0:w.parentNode),S.tagName==="DIV"&&(S=S.parentNode),S.tagName!=="TD")return;const E=S.parentNode.rowIndex,T=S.cellIndex;h.value[E][T].disabled||(E!==d.value||T!==f.value)&&(d.value=E,f.value=T,n("changerange",{selecting:!0,endDate:r.date.startOf("year").month(E*4+T)}))},_=b=>{var w;const S=(w=b.target)==null?void 0:w.closest("td");if((S==null?void 0:S.tagName)!=="TD"||Ts(S,"disabled"))return;const E=S.cellIndex,I=S.parentNode.rowIndex*4+E,k=r.date.startOf("year").month(I);if(r.selectionMode==="months"){if(b.type==="keydown"){n("pick",ds(r.parsedValue),!1);return}const C=Ld(r.date.year(),I,i.value,r.disabledDate),N=Ts(S,"current")?ds(r.parsedValue).filter(D=>(D==null?void 0:D.year())!==C.year()||(D==null?void 0:D.month())!==C.month()):ds(r.parsedValue).concat([Nt(C)]);n("pick",N)}else r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&k>=r.minDate?n("pick",{minDate:r.minDate,maxDate:k}):n("pick",{minDate:k,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:k,maxDate:null}),n("select",!0)):n("pick",I)};return Pe(()=>r.date,async()=>{var b,w;(b=a.value)!=null&&b.contains(document.activeElement)&&(await pt(),(w=u.value)==null||w.focus())}),e({focus:p}),(b,w)=>(L(),G("table",{role:"grid","aria-label":m(o)("el.datepicker.monthTablePrompt"),class:U(m(s).b()),onClick:_,onMousemove:y},[F("tbody",{ref_key:"tbodyRef",ref:a},[(L(!0),G(tt,null,It(m(h),(S,E)=>(L(),G("tr",{key:E},[(L(!0),G(tt,null,It(S,(T,I)=>(L(),G("td",{key:I,ref_for:!0,ref:k=>v(T)&&(u.value=k),class:U(g(T)),"aria-selected":`${v(T)}`,"aria-label":m(o)(`el.datepicker.month${+T.text+1}`),tabindex:v(T)?0:-1,onKeydown:[Sn(St(_,["prevent","stop"]),["space"]),Sn(St(_,["prevent","stop"]),["enter"])]},[A(m(O1),{cell:{...T,renderText:m(o)("el.datepicker.months."+l.value[T.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var B0=Ye($G,[["__file","basic-month-table.vue"]]);const PG=qe({...L1,selectionMode:P1("year")}),DG=ee({__name:"basic-year-table",props:PG,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const r=t,s=(w,S)=>{const E=Nt(String(w)).locale(S).startOf("year"),I=E.endOf("year").dayOfYear();return ka(I).map(k=>E.add(k,"day").toDate())},o=Ne("year-table"),{t:i,lang:a}=un(),u=q(),l=q(),c=P(()=>Math.floor(r.date.year()/10)*10),d=q([[],[],[]]),f=q(),h=q(),p=P(()=>{var w;const S=d.value,E=Nt().locale(a.value).startOf("year");for(let T=0;T<3;T++){const I=S[T];for(let k=0;k<4&&!(T*4+k>=10);k++){let C=I[k];C||(C={row:T,column:k,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),C.type="normal";const N=T*4+k+c.value,D=Nt().year(N),W=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;C.inRange=!!(r.minDate&&D.isSameOrAfter(r.minDate,"year")&&W&&D.isSameOrBefore(W,"year"))||!!(r.minDate&&D.isSameOrBefore(r.minDate,"year")&&W&&D.isSameOrAfter(W,"year")),(w=r.minDate)!=null&&w.isSameOrAfter(W)?(C.start=!!(W&&D.isSame(W,"year")),C.end=!!(r.minDate&&D.isSame(r.minDate,"year"))):(C.start=!!(r.minDate&&D.isSame(r.minDate,"year")),C.end=!!(W&&D.isSame(W,"year"))),E.isSame(D)&&(C.type="today"),C.text=N;const V=D.toDate();C.disabled=r.disabledDate&&r.disabledDate(V)||!1,I[k]=C}}return S}),g=()=>{var w;(w=l.value)==null||w.focus()},v=w=>{const S={},E=Nt().locale(a.value),T=w.text;return S.disabled=r.disabledDate?s(T,a.value).every(r.disabledDate):!1,S.today=E.year()===T,S.current=ds(r.parsedValue).findIndex(I=>I.year()===T)>=0,w.inRange&&(S["in-range"]=!0,w.start&&(S["start-date"]=!0),w.end&&(S["end-date"]=!0)),S},y=w=>{const S=w.text;return ds(r.date).findIndex(E=>E.year()===S)>=0},_=w=>{var S;const E=(S=w.target)==null?void 0:S.closest("td");if(!E||!E.textContent||Ts(E,"disabled"))return;const T=E.cellIndex,k=E.parentNode.rowIndex*4+T+c.value,C=Nt().year(k);if(r.selectionMode==="range")r.rangeState.selecting?(r.minDate&&C>=r.minDate?n("pick",{minDate:r.minDate,maxDate:C}):n("pick",{minDate:C,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:C,maxDate:null}),n("select",!0));else if(r.selectionMode==="years"){if(w.type==="keydown"){n("pick",ds(r.parsedValue),!1);return}const N=M0(C.startOf("year"),a.value,r.disabledDate),D=Ts(E,"current")?ds(r.parsedValue).filter(W=>(W==null?void 0:W.year())!==k):ds(r.parsedValue).concat([N]);n("pick",D)}else n("pick",k)},b=w=>{var S;if(!r.rangeState.selecting)return;const E=(S=w.target)==null?void 0:S.closest("td");if(!E)return;const T=E.parentNode.rowIndex,I=E.cellIndex;p.value[T][I].disabled||(T!==f.value||I!==h.value)&&(f.value=T,h.value=I,n("changerange",{selecting:!0,endDate:Nt().year(c.value).add(T*4+I,"year")}))};return Pe(()=>r.date,async()=>{var w,S;(w=u.value)!=null&&w.contains(document.activeElement)&&(await pt(),(S=l.value)==null||S.focus())}),e({focus:g}),(w,S)=>(L(),G("table",{role:"grid","aria-label":m(i)("el.datepicker.yearTablePrompt"),class:U(m(o).b()),onClick:_,onMousemove:b},[F("tbody",{ref_key:"tbodyRef",ref:u},[(L(!0),G(tt,null,It(m(p),(E,T)=>(L(),G("tr",{key:T},[(L(!0),G(tt,null,It(E,(I,k)=>(L(),G("td",{key:`${T}_${k}`,ref_for:!0,ref:C=>y(I)&&(l.value=C),class:U(["available",v(I)]),"aria-selected":y(I),"aria-label":String(I.text),tabindex:y(I)?0:-1,onKeydown:[Sn(St(_,["prevent","stop"]),["space"]),Sn(St(_,["prevent","stop"]),["enter"])]},[A(m(O1),{cell:I},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var V0=Ye(DG,[["__file","basic-year-table.vue"]]);const OG=ee({__name:"panel-date-pick",props:EG,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:e}){const n=t,r=(he,_e,re)=>!0,s=Ne("picker-panel"),o=Ne("date-picker"),i=Wi(),a=_r(),{t:u,lang:l}=un(),c=rt("EP_PICKER_BASE"),d=rt("ElIsDefaultFormat"),f=rt(Hm),{shortcuts:h,disabledDate:p,cellClassName:g,defaultTime:v}=c.props,y=wn(c.props,"defaultValue"),_=q(),b=q(Nt().locale(l.value)),w=q(!1);let S=!1;const E=P(()=>Nt(v).locale(l.value)),T=P(()=>b.value.month()),I=P(()=>b.value.year()),k=q([]),C=q(null),N=q(null),D=he=>k.value.length>0?r(he,k.value,n.format||"HH:mm:ss"):!0,W=he=>v&&!Ce.value&&!w.value&&!S?E.value.year(he.year()).month(he.month()).date(he.date()):de.value?he.millisecond(0):he.startOf("day"),H=(he,..._e)=>{if(!he)e("pick",he,..._e);else if(Ke(he)){const re=he.map(W);e("pick",re,..._e)}else e("pick",W(he),..._e);C.value=null,N.value=null,w.value=!1,S=!1},V=async(he,_e)=>{if(X.value==="date"){he=he;let re=n.parsedValue?n.parsedValue.year(he.year()).month(he.month()).date(he.date()):he;D(re)||(re=k.value[0][0].year(he.year()).month(he.month()).date(he.date())),b.value=re,H(re,de.value||_e),n.type==="datetime"&&(await pt(),Ht())}else X.value==="week"?H(he.date):X.value==="dates"&&H(he,!0)},R=he=>{const _e=he?"add":"subtract";b.value=b.value[_e](1,"month"),Mt("month")},z=he=>{const _e=b.value,re=he?"add":"subtract";b.value=M.value==="year"?_e[re](10,"year"):_e[re](1,"year"),Mt("year")},M=q("date"),B=P(()=>{const he=u("el.datepicker.year");if(M.value==="year"){const _e=Math.floor(I.value/10)*10;return he?`${_e} ${he} - ${_e+9} ${he}`:`${_e} - ${_e+9}`}return`${I.value} ${he}`}),j=he=>{const _e=vt(he.value)?he.value():he.value;if(_e){S=!0,H(Nt(_e).locale(l.value));return}he.onClick&&he.onClick({attrs:i,slots:a,emit:e})},X=P(()=>{const{type:he}=n;return["week","month","months","year","years","dates"].includes(he)?he:"date"}),se=P(()=>X.value==="dates"||X.value==="months"||X.value==="years"),te=P(()=>X.value==="date"?M.value:X.value),ie=P(()=>!!h.length),fe=async(he,_e)=>{X.value==="month"?(b.value=Ld(b.value.year(),he,l.value,p),H(b.value,!1)):X.value==="months"?H(he,_e??!0):(b.value=Ld(b.value.year(),he,l.value,p),M.value="date",["month","year","date","week"].includes(X.value)&&(H(b.value,!0),await pt(),Ht())),Mt("month")},ue=async(he,_e)=>{if(X.value==="year"){const re=b.value.startOf("year").year(he);b.value=M0(re,l.value,p),H(b.value,!1)}else if(X.value==="years")H(he,_e??!0);else{const re=b.value.year(he);b.value=M0(re,l.value,p),M.value="month",["month","year","date","week"].includes(X.value)&&(H(b.value,!0),await pt(),Ht())}Mt("year")},J=async he=>{M.value=he,await pt(),Ht()},de=P(()=>n.type==="datetime"||n.type==="datetimerange"),ae=P(()=>{const he=de.value||X.value==="dates",_e=X.value==="years",re=X.value==="months",$e=M.value==="date",Et=M.value==="year",Rt=M.value==="month";return he&&$e||_e&&Et||re&&Rt}),Ae=P(()=>p?n.parsedValue?Ke(n.parsedValue)?p(n.parsedValue[0].toDate()):p(n.parsedValue.toDate()):!0:!1),Re=()=>{if(se.value)H(n.parsedValue);else{let he=n.parsedValue;if(!he){const _e=Nt(v).locale(l.value),re=Vt();he=_e.year(re.year()).month(re.month()).date(re.date())}b.value=he,H(he)}},pe=P(()=>p?p(Nt().locale(l.value).toDate()):!1),ne=()=>{const _e=Nt().locale(l.value).toDate();w.value=!0,(!p||!p(_e))&&D(_e)&&(b.value=Nt().locale(l.value),H(b.value))},le=P(()=>n.timeFormat||SA(n.format)),Se=P(()=>n.dateFormat||_A(n.format)),Ce=P(()=>{if(N.value)return N.value;if(!(!n.parsedValue&&!y.value))return(n.parsedValue||b.value).format(le.value)}),Ee=P(()=>{if(C.value)return C.value;if(!(!n.parsedValue&&!y.value))return(n.parsedValue||b.value).format(Se.value)}),we=q(!1),Le=()=>{we.value=!0},Be=()=>{we.value=!1},Ue=he=>({hour:he.hour(),minute:he.minute(),second:he.second(),year:he.year(),month:he.month(),date:he.date()}),je=(he,_e,re)=>{const{hour:$e,minute:Et,second:Rt}=Ue(he),ft=n.parsedValue?n.parsedValue.hour($e).minute(Et).second(Rt):he;b.value=ft,H(b.value,!0),re||(we.value=_e)},at=he=>{const _e=Nt(he,le.value).locale(l.value);if(_e.isValid()&&D(_e)){const{year:re,month:$e,date:Et}=Ue(b.value);b.value=_e.year(re).month($e).date(Et),N.value=null,we.value=!1,H(b.value,!0)}},Ie=he=>{const _e=Bu(he,Se.value,l.value,d);if(_e.isValid()){if(p&&p(_e.toDate()))return;const{hour:re,minute:$e,second:Et}=Ue(b.value);b.value=_e.hour(re).minute($e).second(Et),C.value=null,H(b.value,!0)}},Ze=he=>Nt.isDayjs(he)&&he.isValid()&&(p?!p(he.toDate()):!0),mt=he=>Ke(he)?he.map(_e=>_e.format(n.format)):he.format(n.format),Pt=he=>Bu(he,n.format,l.value,d),Vt=()=>{const he=Nt(y.value).locale(l.value);if(!y.value){const _e=E.value;return Nt().hour(_e.hour()).minute(_e.minute()).second(_e.second()).locale(l.value)}return he},Ht=()=>{var he;["week","month","year","date"].includes(X.value)&&((he=_.value)==null||he.focus())},Jt=()=>{Ht(),X.value==="week"&&wt(ot.down)},fn=he=>{const{code:_e}=he;[ot.up,ot.down,ot.left,ot.right,ot.home,ot.end,ot.pageUp,ot.pageDown].includes(_e)&&(wt(_e),he.stopPropagation(),he.preventDefault()),[ot.enter,ot.space,ot.numpadEnter].includes(_e)&&C.value===null&&N.value===null&&(he.preventDefault(),H(b.value,!1))},wt=he=>{var _e;const{up:re,down:$e,left:Et,right:Rt,home:ft,end:sn,pageUp:sr,pageDown:lr}=ot,zn={year:{[re]:-4,[$e]:4,[Et]:-1,[Rt]:1,offset:(Pn,Ur)=>Pn.setFullYear(Pn.getFullYear()+Ur)},month:{[re]:-4,[$e]:4,[Et]:-1,[Rt]:1,offset:(Pn,Ur)=>Pn.setMonth(Pn.getMonth()+Ur)},week:{[re]:-1,[$e]:1,[Et]:-1,[Rt]:1,offset:(Pn,Ur)=>Pn.setDate(Pn.getDate()+Ur*7)},date:{[re]:-7,[$e]:7,[Et]:-1,[Rt]:1,[ft]:Pn=>-Pn.getDay(),[sn]:Pn=>-Pn.getDay()+6,[sr]:Pn=>-new Date(Pn.getFullYear(),Pn.getMonth(),0).getDate(),[lr]:Pn=>new Date(Pn.getFullYear(),Pn.getMonth()+1,0).getDate(),offset:(Pn,Ur)=>Pn.setDate(Pn.getDate()+Ur)}},ys=b.value.toDate();for(;Math.abs(b.value.diff(ys,"year",!0))<1;){const Pn=zn[te.value];if(!Pn)return;if(Pn.offset(ys,vt(Pn[he])?Pn[he](ys):(_e=Pn[he])!=null?_e:0),p&&p(ys))break;const Ur=Nt(ys).locale(l.value);b.value=Ur,e("pick",Ur,!0);break}},Mt=he=>{e("panel-change",b.value.toDate(),he,M.value)};return Pe(()=>X.value,he=>{if(["month","year"].includes(he)){M.value=he;return}else if(he==="years"){M.value="year";return}else if(he==="months"){M.value="month";return}M.value="date"},{immediate:!0}),Pe(()=>M.value,()=>{f==null||f.updatePopper()}),Pe(()=>y.value,he=>{he&&(b.value=Vt())},{immediate:!0}),Pe(()=>n.parsedValue,he=>{if(he){if(se.value||Ke(he))return;b.value=he}else b.value=Vt()},{immediate:!0}),e("set-picker-option",["isValidValue",Ze]),e("set-picker-option",["formatToString",mt]),e("set-picker-option",["parseUserInput",Pt]),e("set-picker-option",["handleFocusPicker",Jt]),(he,_e)=>(L(),G("div",{class:U([m(s).b(),m(o).b(),{"has-sidebar":he.$slots.sidebar||m(ie),"has-time":m(de)}])},[F("div",{class:U(m(s).e("body-wrapper"))},[ve(he.$slots,"sidebar",{class:U(m(s).e("sidebar"))}),m(ie)?(L(),G("div",{key:0,class:U(m(s).e("sidebar"))},[(L(!0),G(tt,null,It(m(h),(re,$e)=>(L(),G("button",{key:$e,type:"button",class:U(m(s).e("shortcut")),onClick:Et=>j(re)},ge(re.text),11,["onClick"]))),128))],2)):ce("v-if",!0),F("div",{class:U(m(s).e("body"))},[m(de)?(L(),G("div",{key:0,class:U(m(o).e("time-header"))},[F("span",{class:U(m(o).e("editor-wrap"))},[A(m(ir),{placeholder:m(u)("el.datepicker.selectDate"),"model-value":m(Ee),size:"small","validate-event":!1,onInput:re=>C.value=re,onChange:Ie},null,8,["placeholder","model-value","onInput"])],2),At((L(),G("span",{class:U(m(o).e("editor-wrap"))},[A(m(ir),{placeholder:m(u)("el.datepicker.selectTime"),"model-value":m(Ce),size:"small","validate-event":!1,onFocus:Le,onInput:re=>N.value=re,onChange:at},null,8,["placeholder","model-value","onInput"]),A(m(Pp),{visible:we.value,format:m(le),"parsed-value":b.value,onPick:je},null,8,["visible","format","parsed-value"])],2)),[[m(Hi),Be]])],2)):ce("v-if",!0),At(F("div",{class:U([m(o).e("header"),(M.value==="year"||M.value==="month")&&m(o).e("header--bordered")])},[F("span",{class:U(m(o).e("prev-btn"))},[F("button",{type:"button","aria-label":m(u)("el.datepicker.prevYear"),class:U(["d-arrow-left",m(s).e("icon-btn")]),onClick:re=>z(!1)},[ve(he.$slots,"prev-year",{},()=>[A(m(lt),null,{default:O(()=>[A(m(Da))]),_:1})])],10,["aria-label","onClick"]),At(F("button",{type:"button","aria-label":m(u)("el.datepicker.prevMonth"),class:U([m(s).e("icon-btn"),"arrow-left"]),onClick:re=>R(!1)},[ve(he.$slots,"prev-month",{},()=>[A(m(lt),null,{default:O(()=>[A(m(Pa))]),_:1})])],10,["aria-label","onClick"]),[[nn,M.value==="date"]])],2),F("span",{role:"button",class:U(m(o).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:Sn(re=>J("year"),["enter"]),onClick:re=>J("year")},ge(m(B)),43,["onKeydown","onClick"]),At(F("span",{role:"button","aria-live":"polite",tabindex:"0",class:U([m(o).e("header-label"),{active:M.value==="month"}]),onKeydown:Sn(re=>J("month"),["enter"]),onClick:re=>J("month")},ge(m(u)(`el.datepicker.month${m(T)+1}`)),43,["onKeydown","onClick"]),[[nn,M.value==="date"]]),F("span",{class:U(m(o).e("next-btn"))},[At(F("button",{type:"button","aria-label":m(u)("el.datepicker.nextMonth"),class:U([m(s).e("icon-btn"),"arrow-right"]),onClick:re=>R(!0)},[ve(he.$slots,"next-month",{},()=>[A(m(lt),null,{default:O(()=>[A(m(ps))]),_:1})])],10,["aria-label","onClick"]),[[nn,M.value==="date"]]),F("button",{type:"button","aria-label":m(u)("el.datepicker.nextYear"),class:U([m(s).e("icon-btn"),"d-arrow-right"]),onClick:re=>z(!0)},[ve(he.$slots,"next-year",{},()=>[A(m(lt),null,{default:O(()=>[A(m(Oa))]),_:1})])],10,["aria-label","onClick"])],2)],2),[[nn,M.value!=="time"]]),F("div",{class:U(m(s).e("content")),onKeydown:fn},[M.value==="date"?(L(),ye(F0,{key:0,ref_key:"currentViewRef",ref:_,"selection-mode":m(X),date:b.value,"parsed-value":he.parsedValue,"disabled-date":m(p),"cell-class-name":m(g),onPick:V},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):ce("v-if",!0),M.value==="year"?(L(),ye(V0,{key:1,ref_key:"currentViewRef",ref:_,"selection-mode":m(X),date:b.value,"disabled-date":m(p),"parsed-value":he.parsedValue,onPick:ue},null,8,["selection-mode","date","disabled-date","parsed-value"])):ce("v-if",!0),M.value==="month"?(L(),ye(B0,{key:2,ref_key:"currentViewRef",ref:_,"selection-mode":m(X),date:b.value,"parsed-value":he.parsedValue,"disabled-date":m(p),onPick:fe},null,8,["selection-mode","date","parsed-value","disabled-date"])):ce("v-if",!0)],34)],2)],2),At(F("div",{class:U(m(s).e("footer"))},[At(A(m(Nn),{text:"",size:"small",class:U(m(s).e("link-btn")),disabled:m(pe),onClick:ne},{default:O(()=>[xe(ge(m(u)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[nn,!m(se)&&he.showNow]]),A(m(Nn),{plain:"",size:"small",class:U(m(s).e("link-btn")),disabled:m(Ae),onClick:Re},{default:O(()=>[xe(ge(m(u)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[nn,m(ae)]])],2))}});var MG=Ye(OG,[["__file","panel-date-pick.vue"]]);const NG=qe({...mR,...$1,visible:Boolean}),gR=t=>{const{emit:e}=Gt(),n=Wi(),r=_r();return o=>{const i=vt(o.value)?o.value():o.value;if(i){e("pick",[Nt(i[0]).locale(t.value),Nt(i[1]).locale(t.value)]);return}o.onClick&&o.onClick({attrs:n,slots:r,emit:e})}},vR=(t,{defaultValue:e,leftDate:n,rightDate:r,unit:s,onParsedValueChanged:o})=>{const{emit:i}=Gt(),{pickerNs:a}=rt(zm),u=Ne("date-range-picker"),{t:l,lang:c}=un(),d=gR(c),f=q(),h=q(),p=q({endDate:null,selecting:!1}),g=w=>{p.value=w},v=(w=!1)=>{const S=m(f),E=m(h);Fu([S,E])&&i("pick",[S,E],w)},y=w=>{p.value.selecting=w,w||(p.value.endDate=null)},_=w=>{if(Ke(w)&&w.length===2){const[S,E]=w;f.value=S,n.value=S,h.value=E,o(m(f),m(h))}else b()},b=()=>{const[w,S]=D1(m(e),{lang:m(c),unit:s,unlinkPanels:t.unlinkPanels});f.value=void 0,h.value=void 0,n.value=w,r.value=S};return Pe(e,w=>{w&&b()},{immediate:!0}),Pe(()=>t.parsedValue,_,{immediate:!0}),{minDate:f,maxDate:h,rangeState:p,lang:c,ppNs:a,drpNs:u,handleChangeRange:g,handleRangeConfirm:v,handleShortcutClick:d,onSelect:y,onReset:_,t:l}},ch="month",FG=ee({__name:"panel-date-range",props:NG,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:e}){const n=t,r=rt("EP_PICKER_BASE"),s=rt("ElIsDefaultFormat"),{disabledDate:o,cellClassName:i,defaultTime:a,clearable:u}=r.props,l=wn(r.props,"format"),c=wn(r.props,"shortcuts"),d=wn(r.props,"defaultValue"),{lang:f}=un(),h=q(Nt().locale(f.value)),p=q(Nt().locale(f.value).add(1,ch)),{minDate:g,maxDate:v,rangeState:y,ppNs:_,drpNs:b,handleChangeRange:w,handleRangeConfirm:S,handleShortcutClick:E,onSelect:T,onReset:I,t:k}=vR(n,{defaultValue:d,leftDate:h,rightDate:p,unit:ch,onParsedValueChanged:he});Pe(()=>n.visible,_e=>{!_e&&y.value.selecting&&(I(n.parsedValue),T(!1))});const C=q({min:null,max:null}),N=q({min:null,max:null}),D=P(()=>`${h.value.year()} ${k("el.datepicker.year")} ${k(`el.datepicker.month${h.value.month()+1}`)}`),W=P(()=>`${p.value.year()} ${k("el.datepicker.year")} ${k(`el.datepicker.month${p.value.month()+1}`)}`),H=P(()=>h.value.year()),V=P(()=>h.value.month()),R=P(()=>p.value.year()),z=P(()=>p.value.month()),M=P(()=>!!c.value.length),B=P(()=>C.value.min!==null?C.value.min:g.value?g.value.format(ie.value):""),j=P(()=>C.value.max!==null?C.value.max:v.value||g.value?(v.value||g.value).format(ie.value):""),X=P(()=>N.value.min!==null?N.value.min:g.value?g.value.format(te.value):""),se=P(()=>N.value.max!==null?N.value.max:v.value||g.value?(v.value||g.value).format(te.value):""),te=P(()=>n.timeFormat||SA(l.value)),ie=P(()=>n.dateFormat||_A(l.value)),fe=_e=>Fu(_e)&&(o?!o(_e[0].toDate())&&!o(_e[1].toDate()):!0),ue=()=>{h.value=h.value.subtract(1,"year"),n.unlinkPanels||(p.value=h.value.add(1,"month")),le("year")},J=()=>{h.value=h.value.subtract(1,"month"),n.unlinkPanels||(p.value=h.value.add(1,"month")),le("month")},de=()=>{n.unlinkPanels?p.value=p.value.add(1,"year"):(h.value=h.value.add(1,"year"),p.value=h.value.add(1,"month")),le("year")},ae=()=>{n.unlinkPanels?p.value=p.value.add(1,"month"):(h.value=h.value.add(1,"month"),p.value=h.value.add(1,"month")),le("month")},Ae=()=>{h.value=h.value.add(1,"year"),le("year")},Re=()=>{h.value=h.value.add(1,"month"),le("month")},pe=()=>{p.value=p.value.subtract(1,"year"),le("year")},ne=()=>{p.value=p.value.subtract(1,"month"),le("month")},le=_e=>{e("panel-change",[h.value.toDate(),p.value.toDate()],_e)},Se=P(()=>{const _e=(V.value+1)%12,re=V.value+1>=12?1:0;return n.unlinkPanels&&new Date(H.value+re,_e)<new Date(R.value,z.value)}),Ce=P(()=>n.unlinkPanels&&R.value*12+z.value-(H.value*12+V.value+1)>=12),Ee=P(()=>!(g.value&&v.value&&!y.value.selecting&&Fu([g.value,v.value]))),we=P(()=>n.type==="datetime"||n.type==="datetimerange"),Le=(_e,re)=>{if(_e)return a?Nt(a[re]||a).locale(f.value).year(_e.year()).month(_e.month()).date(_e.date()):_e},Be=(_e,re=!0)=>{const $e=_e.minDate,Et=_e.maxDate,Rt=Le($e,0),ft=Le(Et,1);v.value===ft&&g.value===Rt||(e("calendar-change",[$e.toDate(),Et&&Et.toDate()]),v.value=ft,g.value=Rt,!(!re||we.value)&&S())},Ue=q(!1),je=q(!1),at=()=>{Ue.value=!1},Ie=()=>{je.value=!1},Ze=(_e,re)=>{C.value[re]=_e;const $e=Nt(_e,ie.value).locale(f.value);if($e.isValid()){if(o&&o($e.toDate()))return;re==="min"?(h.value=$e,g.value=(g.value||h.value).year($e.year()).month($e.month()).date($e.date()),!n.unlinkPanels&&(!v.value||v.value.isBefore(g.value))&&(p.value=$e.add(1,"month"),v.value=g.value.add(1,"month"))):(p.value=$e,v.value=(v.value||p.value).year($e.year()).month($e.month()).date($e.date()),!n.unlinkPanels&&(!g.value||g.value.isAfter(v.value))&&(h.value=$e.subtract(1,"month"),g.value=v.value.subtract(1,"month")))}},mt=(_e,re)=>{C.value[re]=null},Pt=(_e,re)=>{N.value[re]=_e;const $e=Nt(_e,te.value).locale(f.value);$e.isValid()&&(re==="min"?(Ue.value=!0,g.value=(g.value||h.value).hour($e.hour()).minute($e.minute()).second($e.second())):(je.value=!0,v.value=(v.value||p.value).hour($e.hour()).minute($e.minute()).second($e.second()),p.value=v.value))},Vt=(_e,re)=>{N.value[re]=null,re==="min"?(h.value=g.value,Ue.value=!1,(!v.value||v.value.isBefore(g.value))&&(v.value=g.value)):(p.value=v.value,je.value=!1,v.value&&v.value.isBefore(g.value)&&(g.value=v.value))},Ht=(_e,re,$e)=>{N.value.min||(_e&&(h.value=_e,g.value=(g.value||h.value).hour(_e.hour()).minute(_e.minute()).second(_e.second())),$e||(Ue.value=re),(!v.value||v.value.isBefore(g.value))&&(v.value=g.value,p.value=_e))},Jt=(_e,re,$e)=>{N.value.max||(_e&&(p.value=_e,v.value=(v.value||p.value).hour(_e.hour()).minute(_e.minute()).second(_e.second())),$e||(je.value=re),v.value&&v.value.isBefore(g.value)&&(g.value=v.value))},fn=()=>{h.value=D1(m(d),{lang:m(f),unit:"month",unlinkPanels:n.unlinkPanels})[0],p.value=h.value.add(1,"month"),v.value=void 0,g.value=void 0,e("pick",null)},wt=_e=>Ke(_e)?_e.map(re=>re.format(l.value)):_e.format(l.value),Mt=_e=>Bu(_e,l.value,f.value,s);function he(_e,re){if(n.unlinkPanels&&re){const $e=(_e==null?void 0:_e.year())||0,Et=(_e==null?void 0:_e.month())||0,Rt=re.year(),ft=re.month();p.value=$e===Rt&&Et===ft?re.add(1,ch):re}else p.value=h.value.add(1,ch),re&&(p.value=p.value.hour(re.hour()).minute(re.minute()).second(re.second()))}return e("set-picker-option",["isValidValue",fe]),e("set-picker-option",["parseUserInput",Mt]),e("set-picker-option",["formatToString",wt]),e("set-picker-option",["handleClear",fn]),(_e,re)=>(L(),G("div",{class:U([m(_).b(),m(b).b(),{"has-sidebar":_e.$slots.sidebar||m(M),"has-time":m(we)}])},[F("div",{class:U(m(_).e("body-wrapper"))},[ve(_e.$slots,"sidebar",{class:U(m(_).e("sidebar"))}),m(M)?(L(),G("div",{key:0,class:U(m(_).e("sidebar"))},[(L(!0),G(tt,null,It(m(c),($e,Et)=>(L(),G("button",{key:Et,type:"button",class:U(m(_).e("shortcut")),onClick:Rt=>m(E)($e)},ge($e.text),11,["onClick"]))),128))],2)):ce("v-if",!0),F("div",{class:U(m(_).e("body"))},[m(we)?(L(),G("div",{key:0,class:U(m(b).e("time-header"))},[F("span",{class:U(m(b).e("editors-wrap"))},[F("span",{class:U(m(b).e("time-picker-wrap"))},[A(m(ir),{size:"small",disabled:m(y).selecting,placeholder:m(k)("el.datepicker.startDate"),class:U(m(b).e("editor")),"model-value":m(B),"validate-event":!1,onInput:$e=>Ze($e,"min"),onChange:$e=>mt($e,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),At((L(),G("span",{class:U(m(b).e("time-picker-wrap"))},[A(m(ir),{size:"small",class:U(m(b).e("editor")),disabled:m(y).selecting,placeholder:m(k)("el.datepicker.startTime"),"model-value":m(X),"validate-event":!1,onFocus:$e=>Ue.value=!0,onInput:$e=>Pt($e,"min"),onChange:$e=>Vt($e,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),A(m(Pp),{visible:Ue.value,format:m(te),"datetime-role":"start","parsed-value":h.value,onPick:Ht},null,8,["visible","format","parsed-value"])],2)),[[m(Hi),at]])],2),F("span",null,[A(m(lt),null,{default:O(()=>[A(m(ps))]),_:1})]),F("span",{class:U([m(b).e("editors-wrap"),"is-right"])},[F("span",{class:U(m(b).e("time-picker-wrap"))},[A(m(ir),{size:"small",class:U(m(b).e("editor")),disabled:m(y).selecting,placeholder:m(k)("el.datepicker.endDate"),"model-value":m(j),readonly:!m(g),"validate-event":!1,onInput:$e=>Ze($e,"max"),onChange:$e=>mt($e,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),At((L(),G("span",{class:U(m(b).e("time-picker-wrap"))},[A(m(ir),{size:"small",class:U(m(b).e("editor")),disabled:m(y).selecting,placeholder:m(k)("el.datepicker.endTime"),"model-value":m(se),readonly:!m(g),"validate-event":!1,onFocus:$e=>m(g)&&(je.value=!0),onInput:$e=>Pt($e,"max"),onChange:$e=>Vt($e,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),A(m(Pp),{"datetime-role":"end",visible:je.value,format:m(te),"parsed-value":p.value,onPick:Jt},null,8,["visible","format","parsed-value"])],2)),[[m(Hi),Ie]])],2)],2)):ce("v-if",!0),F("div",{class:U([[m(_).e("content"),m(b).e("content")],"is-left"])},[F("div",{class:U(m(b).e("header"))},[F("button",{type:"button",class:U([m(_).e("icon-btn"),"d-arrow-left"]),"aria-label":m(k)("el.datepicker.prevYear"),onClick:ue},[ve(_e.$slots,"prev-year",{},()=>[A(m(lt),null,{default:O(()=>[A(m(Da))]),_:1})])],10,["aria-label"]),F("button",{type:"button",class:U([m(_).e("icon-btn"),"arrow-left"]),"aria-label":m(k)("el.datepicker.prevMonth"),onClick:J},[ve(_e.$slots,"prev-month",{},()=>[A(m(lt),null,{default:O(()=>[A(m(Pa))]),_:1})])],10,["aria-label"]),_e.unlinkPanels?(L(),G("button",{key:0,type:"button",disabled:!m(Ce),class:U([[m(_).e("icon-btn"),{"is-disabled":!m(Ce)}],"d-arrow-right"]),"aria-label":m(k)("el.datepicker.nextYear"),onClick:Ae},[ve(_e.$slots,"next-year",{},()=>[A(m(lt),null,{default:O(()=>[A(m(Oa))]),_:1})])],10,["disabled","aria-label"])):ce("v-if",!0),_e.unlinkPanels?(L(),G("button",{key:1,type:"button",disabled:!m(Se),class:U([[m(_).e("icon-btn"),{"is-disabled":!m(Se)}],"arrow-right"]),"aria-label":m(k)("el.datepicker.nextMonth"),onClick:Re},[ve(_e.$slots,"next-month",{},()=>[A(m(lt),null,{default:O(()=>[A(m(ps))]),_:1})])],10,["disabled","aria-label"])):ce("v-if",!0),F("div",null,ge(m(D)),1)],2),A(F0,{"selection-mode":"range",date:h.value,"min-date":m(g),"max-date":m(v),"range-state":m(y),"disabled-date":m(o),"cell-class-name":m(i),onChangerange:m(w),onPick:Be,onSelect:m(T)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),F("div",{class:U([[m(_).e("content"),m(b).e("content")],"is-right"])},[F("div",{class:U(m(b).e("header"))},[_e.unlinkPanels?(L(),G("button",{key:0,type:"button",disabled:!m(Ce),class:U([[m(_).e("icon-btn"),{"is-disabled":!m(Ce)}],"d-arrow-left"]),"aria-label":m(k)("el.datepicker.prevYear"),onClick:pe},[ve(_e.$slots,"prev-year",{},()=>[A(m(lt),null,{default:O(()=>[A(m(Da))]),_:1})])],10,["disabled","aria-label"])):ce("v-if",!0),_e.unlinkPanels?(L(),G("button",{key:1,type:"button",disabled:!m(Se),class:U([[m(_).e("icon-btn"),{"is-disabled":!m(Se)}],"arrow-left"]),"aria-label":m(k)("el.datepicker.prevMonth"),onClick:ne},[ve(_e.$slots,"prev-month",{},()=>[A(m(lt),null,{default:O(()=>[A(m(Pa))]),_:1})])],10,["disabled","aria-label"])):ce("v-if",!0),F("button",{type:"button","aria-label":m(k)("el.datepicker.nextYear"),class:U([m(_).e("icon-btn"),"d-arrow-right"]),onClick:de},[ve(_e.$slots,"next-year",{},()=>[A(m(lt),null,{default:O(()=>[A(m(Oa))]),_:1})])],10,["aria-label"]),F("button",{type:"button",class:U([m(_).e("icon-btn"),"arrow-right"]),"aria-label":m(k)("el.datepicker.nextMonth"),onClick:ae},[ve(_e.$slots,"next-month",{},()=>[A(m(lt),null,{default:O(()=>[A(m(ps))]),_:1})])],10,["aria-label"]),F("div",null,ge(m(W)),1)],2),A(F0,{"selection-mode":"range",date:p.value,"min-date":m(g),"max-date":m(v),"range-state":m(y),"disabled-date":m(o),"cell-class-name":m(i),onChangerange:m(w),onPick:Be,onSelect:m(T)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),m(we)?(L(),G("div",{key:0,class:U(m(_).e("footer"))},[m(u)?(L(),ye(m(Nn),{key:0,text:"",size:"small",class:U(m(_).e("link-btn")),onClick:fn},{default:O(()=>[xe(ge(m(k)("el.datepicker.clear")),1)]),_:1},8,["class"])):ce("v-if",!0),A(m(Nn),{plain:"",size:"small",class:U(m(_).e("link-btn")),disabled:m(Ee),onClick:$e=>m(S)(!1)},{default:O(()=>[xe(ge(m(k)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])],2)):ce("v-if",!0)],2))}});var BG=Ye(FG,[["__file","panel-date-range.vue"]]);const VG=qe({...$1}),UG=["pick","set-picker-option","calendar-change"],HG=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const{t:r}=un(),s=()=>{e.value=e.value.subtract(1,"year"),t.value||(n.value=n.value.subtract(1,"year"))},o=()=>{t.value||(e.value=e.value.add(1,"year")),n.value=n.value.add(1,"year")},i=()=>{e.value=e.value.add(1,"year")},a=()=>{n.value=n.value.subtract(1,"year")},u=P(()=>`${e.value.year()} ${r("el.datepicker.year")}`),l=P(()=>`${n.value.year()} ${r("el.datepicker.year")}`),c=P(()=>e.value.year()),d=P(()=>n.value.year()===e.value.year()?e.value.year()+1:n.value.year());return{leftPrevYear:s,rightNextYear:o,leftNextYear:i,rightPrevYear:a,leftLabel:u,rightLabel:l,leftYear:c,rightYear:d}},dh="year",jG=ee({name:"DatePickerMonthRange"}),KG=ee({...jG,props:VG,emits:UG,setup(t,{emit:e}){const n=t,{lang:r}=un(),s=rt("EP_PICKER_BASE"),o=rt("ElIsDefaultFormat"),{shortcuts:i,disabledDate:a}=s.props,u=wn(s.props,"format"),l=wn(s.props,"defaultValue"),c=q(Nt().locale(r.value)),d=q(Nt().locale(r.value).add(1,dh)),{minDate:f,maxDate:h,rangeState:p,ppNs:g,drpNs:v,handleChangeRange:y,handleRangeConfirm:_,handleShortcutClick:b,onSelect:w}=vR(n,{defaultValue:l,leftDate:c,rightDate:d,unit:dh,onParsedValueChanged:B}),S=P(()=>!!i.length),{leftPrevYear:E,rightNextYear:T,leftNextYear:I,rightPrevYear:k,leftLabel:C,rightLabel:N,leftYear:D,rightYear:W}=HG({unlinkPanels:wn(n,"unlinkPanels"),leftDate:c,rightDate:d}),H=P(()=>n.unlinkPanels&&W.value>D.value+1),V=(j,X=!0)=>{const se=j.minDate,te=j.maxDate;h.value===te&&f.value===se||(e("calendar-change",[se.toDate(),te&&te.toDate()]),h.value=te,f.value=se,X&&_())},R=()=>{c.value=D1(m(l),{lang:m(r),unit:"year",unlinkPanels:n.unlinkPanels})[0],d.value=c.value.add(1,"year"),e("pick",null)},z=j=>Ke(j)?j.map(X=>X.format(u.value)):j.format(u.value),M=j=>Bu(j,u.value,r.value,o);function B(j,X){if(n.unlinkPanels&&X){const se=(j==null?void 0:j.year())||0,te=X.year();d.value=se===te?X.add(1,dh):X}else d.value=c.value.add(1,dh)}return e("set-picker-option",["isValidValue",Fu]),e("set-picker-option",["formatToString",z]),e("set-picker-option",["parseUserInput",M]),e("set-picker-option",["handleClear",R]),(j,X)=>(L(),G("div",{class:U([m(g).b(),m(v).b(),{"has-sidebar":!!j.$slots.sidebar||m(S)}])},[F("div",{class:U(m(g).e("body-wrapper"))},[ve(j.$slots,"sidebar",{class:U(m(g).e("sidebar"))}),m(S)?(L(),G("div",{key:0,class:U(m(g).e("sidebar"))},[(L(!0),G(tt,null,It(m(i),(se,te)=>(L(),G("button",{key:te,type:"button",class:U(m(g).e("shortcut")),onClick:ie=>m(b)(se)},ge(se.text),11,["onClick"]))),128))],2)):ce("v-if",!0),F("div",{class:U(m(g).e("body"))},[F("div",{class:U([[m(g).e("content"),m(v).e("content")],"is-left"])},[F("div",{class:U(m(v).e("header"))},[F("button",{type:"button",class:U([m(g).e("icon-btn"),"d-arrow-left"]),onClick:m(E)},[ve(j.$slots,"prev-year",{},()=>[A(m(lt),null,{default:O(()=>[A(m(Da))]),_:1})])],10,["onClick"]),j.unlinkPanels?(L(),G("button",{key:0,type:"button",disabled:!m(H),class:U([[m(g).e("icon-btn"),{[m(g).is("disabled")]:!m(H)}],"d-arrow-right"]),onClick:m(I)},[ve(j.$slots,"next-year",{},()=>[A(m(lt),null,{default:O(()=>[A(m(Oa))]),_:1})])],10,["disabled","onClick"])):ce("v-if",!0),F("div",null,ge(m(C)),1)],2),A(B0,{"selection-mode":"range",date:c.value,"min-date":m(f),"max-date":m(h),"range-state":m(p),"disabled-date":m(a),onChangerange:m(y),onPick:V,onSelect:m(w)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),F("div",{class:U([[m(g).e("content"),m(v).e("content")],"is-right"])},[F("div",{class:U(m(v).e("header"))},[j.unlinkPanels?(L(),G("button",{key:0,type:"button",disabled:!m(H),class:U([[m(g).e("icon-btn"),{"is-disabled":!m(H)}],"d-arrow-left"]),onClick:m(k)},[ve(j.$slots,"prev-year",{},()=>[A(m(lt),null,{default:O(()=>[A(m(Da))]),_:1})])],10,["disabled","onClick"])):ce("v-if",!0),F("button",{type:"button",class:U([m(g).e("icon-btn"),"d-arrow-right"]),onClick:m(T)},[ve(j.$slots,"next-year",{},()=>[A(m(lt),null,{default:O(()=>[A(m(Oa))]),_:1})])],10,["onClick"]),F("div",null,ge(m(N)),1)],2),A(B0,{"selection-mode":"range",date:d.value,"min-date":m(f),"max-date":m(h),"range-state":m(p),"disabled-date":m(a),onChangerange:m(y),onPick:V,onSelect:m(w)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var zG=Ye(KG,[["__file","panel-month-range.vue"]]);const WG=qe({...$1}),GG=["pick","set-picker-option","calendar-change"],qG=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const r=()=>{e.value=e.value.subtract(10,"year"),t.value||(n.value=n.value.subtract(10,"year"))},s=()=>{t.value||(e.value=e.value.add(10,"year")),n.value=n.value.add(10,"year")},o=()=>{e.value=e.value.add(10,"year")},i=()=>{n.value=n.value.subtract(10,"year")},a=P(()=>{const d=Math.floor(e.value.year()/10)*10;return`${d}-${d+9}`}),u=P(()=>{const d=Math.floor(n.value.year()/10)*10;return`${d}-${d+9}`}),l=P(()=>Math.floor(e.value.year()/10)*10+9),c=P(()=>Math.floor(n.value.year()/10)*10);return{leftPrevYear:r,rightNextYear:s,leftNextYear:o,rightPrevYear:i,leftLabel:a,rightLabel:u,leftYear:l,rightYear:c}},sx="year",YG=ee({name:"DatePickerYearRange"}),XG=ee({...YG,props:WG,emits:GG,setup(t,{emit:e}){const n=t,{lang:r}=un(),s=q(Nt().locale(r.value)),o=q(s.value.add(10,"year")),{pickerNs:i}=rt(zm),a=Ne("date-range-picker"),u=rt("isDefaultFormat"),l=P(()=>!!V.length),c=P(()=>[i.b(),a.b(),{"has-sidebar":!!_r().sidebar||l.value}]),d=P(()=>({content:[i.e("content"),a.e("content"),"is-left"],arrowLeftBtn:[i.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[i.e("icon-btn"),{[i.is("disabled")]:!E.value},"d-arrow-right"]})),f=P(()=>({content:[i.e("content"),a.e("content"),"is-right"],arrowLeftBtn:[i.e("icon-btn"),{"is-disabled":!E.value},"d-arrow-left"],arrowRightBtn:[i.e("icon-btn"),"d-arrow-right"]})),h=gR(r),{leftPrevYear:p,rightNextYear:g,leftNextYear:v,rightPrevYear:y,leftLabel:_,rightLabel:b,leftYear:w,rightYear:S}=qG({unlinkPanels:wn(n,"unlinkPanels"),leftDate:s,rightDate:o}),E=P(()=>n.unlinkPanels&&S.value>w.value+1),T=q(),I=q(),k=q({endDate:null,selecting:!1}),C=ie=>{k.value=ie},N=(ie,fe=!0)=>{const ue=ie.minDate,J=ie.maxDate;I.value===J&&T.value===ue||(e("calendar-change",[ue.toDate(),J&&J.toDate()]),I.value=J,T.value=ue,fe&&D())},D=(ie=!1)=>{Fu([T.value,I.value])&&e("pick",[T.value,I.value],ie)},W=ie=>{k.value.selecting=ie,ie||(k.value.endDate=null)},H=rt("EP_PICKER_BASE"),{shortcuts:V,disabledDate:R}=H.props,z=wn(H.props,"format"),M=wn(H.props,"defaultValue"),B=()=>{let ie;if(Ke(M.value)){const fe=Nt(M.value[0]);let ue=Nt(M.value[1]);return n.unlinkPanels||(ue=fe.add(10,sx)),[fe,ue]}else M.value?ie=Nt(M.value):ie=Nt();return ie=ie.locale(r.value),[ie,ie.add(10,sx)]};Pe(()=>M.value,ie=>{if(ie){const fe=B();s.value=fe[0],o.value=fe[1]}},{immediate:!0}),Pe(()=>n.parsedValue,ie=>{if(ie&&ie.length===2)if(T.value=ie[0],I.value=ie[1],s.value=T.value,n.unlinkPanels&&I.value){const fe=T.value.year(),ue=I.value.year();o.value=fe===ue?I.value.add(10,"year"):I.value}else o.value=s.value.add(10,"year");else{const fe=B();T.value=void 0,I.value=void 0,s.value=fe[0],o.value=fe[1]}},{immediate:!0});const j=ie=>Bu(ie,z.value,r.value,u),X=ie=>Ke(ie)?ie.map(fe=>fe.format(z.value)):ie.format(z.value),se=ie=>Fu(ie)&&(R?!R(ie[0].toDate())&&!R(ie[1].toDate()):!0),te=()=>{const ie=B();s.value=ie[0],o.value=ie[1],I.value=void 0,T.value=void 0,e("pick",null)};return e("set-picker-option",["isValidValue",se]),e("set-picker-option",["parseUserInput",j]),e("set-picker-option",["formatToString",X]),e("set-picker-option",["handleClear",te]),(ie,fe)=>(L(),G("div",{class:U(m(c))},[F("div",{class:U(m(i).e("body-wrapper"))},[ve(ie.$slots,"sidebar",{class:U(m(i).e("sidebar"))}),m(l)?(L(),G("div",{key:0,class:U(m(i).e("sidebar"))},[(L(!0),G(tt,null,It(m(V),(ue,J)=>(L(),G("button",{key:J,type:"button",class:U(m(i).e("shortcut")),onClick:de=>m(h)(ue)},ge(ue.text),11,["onClick"]))),128))],2)):ce("v-if",!0),F("div",{class:U(m(i).e("body"))},[F("div",{class:U(m(d).content)},[F("div",{class:U(m(a).e("header"))},[F("button",{type:"button",class:U(m(d).arrowLeftBtn),onClick:m(p)},[ve(ie.$slots,"prev-year",{},()=>[A(m(lt),null,{default:O(()=>[A(m(Da))]),_:1})])],10,["onClick"]),ie.unlinkPanels?(L(),G("button",{key:0,type:"button",disabled:!m(E),class:U(m(d).arrowRightBtn),onClick:m(v)},[ve(ie.$slots,"next-year",{},()=>[A(m(lt),null,{default:O(()=>[A(m(Oa))]),_:1})])],10,["disabled","onClick"])):ce("v-if",!0),F("div",null,ge(m(_)),1)],2),A(V0,{"selection-mode":"range",date:s.value,"min-date":T.value,"max-date":I.value,"range-state":k.value,"disabled-date":m(R),onChangerange:C,onPick:N,onSelect:W},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),F("div",{class:U(m(f).content)},[F("div",{class:U(m(a).e("header"))},[ie.unlinkPanels?(L(),G("button",{key:0,type:"button",disabled:!m(E),class:U(m(f).arrowLeftBtn),onClick:m(y)},[ve(ie.$slots,"prev-year",{},()=>[A(m(lt),null,{default:O(()=>[A(m(Da))]),_:1})])],10,["disabled","onClick"])):ce("v-if",!0),F("button",{type:"button",class:U(m(f).arrowRightBtn),onClick:m(g)},[ve(ie.$slots,"next-year",{},()=>[A(m(lt),null,{default:O(()=>[A(m(Oa))]),_:1})])],10,["onClick"]),F("div",null,ge(m(b)),1)],2),A(V0,{"selection-mode":"range",date:o.value,"min-date":T.value,"max-date":I.value,"range-state":k.value,"disabled-date":m(R),onChangerange:C,onPick:N,onSelect:W},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}});var QG=Ye(XG,[["__file","panel-year-range.vue"]]);const ZG=function(t){switch(t){case"daterange":case"datetimerange":return BG;case"monthrange":return zG;case"yearrange":return QG;default:return MG}};Nt.extend(xA);Nt.extend(WW);Nt.extend(A1);Nt.extend(qW);Nt.extend(XW);Nt.extend(ZW);Nt.extend(eG);Nt.extend(nG);var JG=ee({name:"ElDatePicker",install:null,props:_G,emits:[$t],setup(t,{expose:e,emit:n,slots:r}){const s=Ne("picker-panel"),o=P(()=>!t.format);Qt("ElIsDefaultFormat",o),Qt("ElPopperOptions",Ft(wn(t,"popperOptions"))),Qt(zm,{slots:r,pickerNs:s});const i=q();e({focus:()=>{var l;(l=i.value)==null||l.focus()},blur:()=>{var l;(l=i.value)==null||l.blur()},handleOpen:()=>{var l;(l=i.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=i.value)==null||l.handleClose()}});const u=l=>{n($t,l)};return()=>{var l;const c=(l=t.format)!=null?l:rG[t.type]||nu,d=ZG(t.type);return A(cR,Xt(t,{format:c,type:t.type,ref:i,"onUpdate:modelValue":u}),{default:f=>A(d,f,{"prev-month":r["prev-month"],"next-month":r["next-month"],"prev-year":r["prev-year"],"next-year":r["next-year"]}),"range-separator":r["range-separator"]})}}});const M1=Bt(JG),N1=Symbol("elDescriptions");var Pc=ee({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:rt(N1,{})}},render(){var t;const e=_K(this.cell),n=(((t=this.cell)==null?void 0:t.dirs)||[]).map(y=>{const{dir:_,arg:b,modifiers:w,value:S}=y;return[_,S,b,w]}),{border:r,direction:s}=this.descriptions,o=s==="vertical",i=()=>{var y,_,b;return((b=(_=(y=this.cell)==null?void 0:y.children)==null?void 0:_.label)==null?void 0:b.call(_))||e.label},a=()=>{var y,_,b;return(b=(_=(y=this.cell)==null?void 0:y.children)==null?void 0:_.default)==null?void 0:b.call(_)},u=e.span,l=e.rowspan,c=e.align?`is-${e.align}`:"",d=e.labelAlign?`is-${e.labelAlign}`:c,f=e.className,h=e.labelClassName,p=this.type==="label"&&(e.labelWidth||this.descriptions.labelWidth)||e.width,g={width:Zn(p),minWidth:Zn(e.minWidth)},v=Ne("descriptions");switch(this.type){case"label":return At(_t(this.tag,{style:g,class:[v.e("cell"),v.e("label"),v.is("bordered-label",r),v.is("vertical-label",o),d,h],colSpan:o?u:1,rowspan:o?1:l},i()),n);case"content":return At(_t(this.tag,{style:g,class:[v.e("cell"),v.e("content"),v.is("bordered-content",r),v.is("vertical-content",o),c,f],colSpan:o?u:u*2-1,rowspan:o?l*2-1:l},a()),n);default:{const y=i(),_={},b=Zn(e.labelWidth||this.descriptions.labelWidth);return b&&(_.width=b,_.display="inline-block"),At(_t("td",{style:g,class:[v.e("cell"),c],colSpan:u,rowspan:l},[xr(y)?void 0:_t("span",{style:_,class:[v.e("label"),h]},y),_t("span",{class:[v.e("content"),f]},a())]),n)}}}});const eq=qe({row:{type:me(Array),default:()=>[]}}),tq=ee({name:"ElDescriptionsRow"}),nq=ee({...tq,props:eq,setup(t){const e=rt(N1,{});return(n,r)=>m(e).direction==="vertical"?(L(),G(tt,{key:0},[F("tr",null,[(L(!0),G(tt,null,It(n.row,(s,o)=>(L(),ye(m(Pc),{key:`tr1-${o}`,cell:s,tag:"th",type:"label"},null,8,["cell"]))),128))]),F("tr",null,[(L(!0),G(tt,null,It(n.row,(s,o)=>(L(),ye(m(Pc),{key:`tr2-${o}`,cell:s,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(L(),G("tr",{key:1},[(L(!0),G(tt,null,It(n.row,(s,o)=>(L(),G(tt,{key:`tr3-${o}`},[m(e).border?(L(),G(tt,{key:0},[A(m(Pc),{cell:s,tag:"td",type:"label"},null,8,["cell"]),A(m(Pc),{cell:s,tag:"td",type:"content"},null,8,["cell"])],64)):(L(),ye(m(Pc),{key:1,cell:s,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var rq=Ye(nq,[["__file","descriptions-row.vue"]]);const sq=qe({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:pr,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),yR="ElDescriptionsItem",oq=ee({name:"ElDescriptions"}),iq=ee({...oq,props:sq,setup(t){const e=t,n=Ne("descriptions"),r=fr(),s=_r();Qt(N1,e);const o=P(()=>[n.b(),n.m(r.value)]),i=(u,l,c,d=!1)=>(u.props||(u.props={}),l>c&&(u.props.span=c),d&&(u.props.span=l),u),a=()=>{if(!s.default)return[];const u=Oi(s.default()).filter(p=>{var g;return((g=p==null?void 0:p.type)==null?void 0:g.name)===yR}),l=[];let c=[],d=e.column,f=0;const h=[];return u.forEach((p,g)=>{var v,y,_;const b=((v=p.props)==null?void 0:v.span)||1,w=((y=p.props)==null?void 0:y.rowspan)||1,S=l.length;if(h[S]||(h[S]=0),w>1)for(let E=1;E<w;E++)h[_=S+E]||(h[_]=0),h[S+E]++,f++;if(h[S]>0&&(d-=h[S],h[S]=0),g<u.length-1&&(f+=b>d?d:b),g===u.length-1){const E=e.column-f%e.column;c.push(i(p,E,d,!0)),l.push(c);return}b<d?(d-=b,c.push(p)):(c.push(i(p,b,d)),l.push(c),d=e.column,c=[])}),l};return(u,l)=>(L(),G("div",{class:U(m(o))},[u.title||u.extra||u.$slots.title||u.$slots.extra?(L(),G("div",{key:0,class:U(m(n).e("header"))},[F("div",{class:U(m(n).e("title"))},[ve(u.$slots,"title",{},()=>[xe(ge(u.title),1)])],2),F("div",{class:U(m(n).e("extra"))},[ve(u.$slots,"extra",{},()=>[xe(ge(u.extra),1)])],2)],2)):ce("v-if",!0),F("div",{class:U(m(n).e("body"))},[F("table",{class:U([m(n).e("table"),m(n).is("bordered",u.border)])},[F("tbody",null,[(L(!0),G(tt,null,It(a(),(c,d)=>(L(),ye(rq,{key:d,row:c},null,8,["row"]))),128))])],2)],2)],2))}});var aq=Ye(iq,[["__file","description.vue"]]);const lq=qe({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),bR=ee({name:yR,props:lq}),uq=Bt(aq,{DescriptionsItem:bR}),cq=Xn(bR),F1=t=>{if(!t)return{onClick:bn,onMousedown:bn,onMouseup:bn};let e=!1,n=!1;return{onClick:i=>{e&&n&&t(i),e=n=!1},onMousedown:i=>{e=i.target===i.currentTarget},onMouseup:i=>{n=i.target===i.currentTarget}}},dq=qe({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:me([String,Array,Object])},zIndex:{type:me([String,Number])}}),fq={click:t=>t instanceof MouseEvent},hq="overlay";var pq=ee({name:"ElOverlay",props:dq,emits:fq,setup(t,{slots:e,emit:n}){const r=Ne(hq),s=u=>{n("click",u)},{onClick:o,onMousedown:i,onMouseup:a}=F1(t.customMaskEvent?void 0:s);return()=>t.mask?A("div",{class:[r.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:o,onMousedown:i,onMouseup:a},[ve(e,"default")],Xs.STYLE|Xs.CLASS|Xs.PROPS,["onClick","onMouseup","onMousedown"]):_t("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[ve(e,"default")])}});const B1=pq,wR=Symbol("dialogInjectionKey"),_R=qe({center:Boolean,alignCenter:Boolean,closeIcon:{type:_n},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),mq={close:()=>!0},SR=(t,e,n,r)=>{const s={offsetX:0,offsetY:0},o=(d,f)=>{if(t.value){const{offsetX:h,offsetY:p}=s,g=t.value.getBoundingClientRect(),v=g.left,y=g.top,_=g.width,b=g.height,w=document.documentElement.clientWidth,S=document.documentElement.clientHeight,E=-v+h,T=-y+p,I=w-v-_+h,k=S-y-b+p;r!=null&&r.value||(d=Math.min(Math.max(d,E),I),f=Math.min(Math.max(f,T),k)),s.offsetX=d,s.offsetY=f,t.value.style.transform=`translate(${Zn(d)}, ${Zn(f)})`}},i=d=>{const f=d.clientX,h=d.clientY,{offsetX:p,offsetY:g}=s,v=_=>{const b=p+_.clientX-f,w=g+_.clientY-h;o(b,w)},y=()=>{document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y)};document.addEventListener("mousemove",v),document.addEventListener("mouseup",y)},a=()=>{e.value&&t.value&&(e.value.addEventListener("mousedown",i),window.addEventListener("resize",c))},u=()=>{e.value&&t.value&&(e.value.removeEventListener("mousedown",i),window.removeEventListener("resize",c))},l=()=>{s.offsetX=0,s.offsetY=0,t.value&&(t.value.style.transform="")},c=()=>{const{offsetX:d,offsetY:f}=s;o(d,f)};return xt(()=>{Fr(()=>{n.value?a():u()})}),In(()=>{u()}),{resetPosition:l,updatePosition:c}},Wm=(...t)=>e=>{t.forEach(n=>{vt(n)?n(e):n.value=e})},gq=ee({name:"ElDialogContent"}),vq=ee({...gq,props:_R,emits:mq,setup(t,{expose:e}){const n=t,{t:r}=un(),{Close:s}=OI,{dialogRef:o,headerRef:i,bodyId:a,ns:u,style:l}=rt(wR),{focusTrapRef:c}=rt(u1),d=P(()=>[u.b(),u.is("fullscreen",n.fullscreen),u.is("draggable",n.draggable),u.is("align-center",n.alignCenter),{[u.m("center")]:n.center}]),f=Wm(c,o),h=P(()=>n.draggable),p=P(()=>n.overflow),{resetPosition:g,updatePosition:v}=SR(o,i,h,p);return e({resetPosition:g,updatePosition:v}),(y,_)=>(L(),G("div",{ref:m(f),class:U(m(d)),style:dt(m(l)),tabindex:"-1"},[F("header",{ref_key:"headerRef",ref:i,class:U([m(u).e("header"),y.headerClass,{"show-close":y.showClose}])},[ve(y.$slots,"header",{},()=>[F("span",{role:"heading","aria-level":y.ariaLevel,class:U(m(u).e("title"))},ge(y.title),11,["aria-level"])]),y.showClose?(L(),G("button",{key:0,"aria-label":m(r)("el.dialog.close"),class:U(m(u).e("headerbtn")),type:"button",onClick:b=>y.$emit("close")},[A(m(lt),{class:U(m(u).e("close"))},{default:O(()=>[(L(),ye(Wt(y.closeIcon||m(s))))]),_:1},8,["class"])],10,["aria-label","onClick"])):ce("v-if",!0)],2),F("div",{id:m(a),class:U([m(u).e("body"),y.bodyClass])},[ve(y.$slots,"default")],10,["id"]),y.$slots.footer?(L(),G("footer",{key:0,class:U([m(u).e("footer"),y.footerClass])},[ve(y.$slots,"footer")],2)):ce("v-if",!0)],6))}});var yq=Ye(vq,[["__file","dialog-content.vue"]]);const ER=qe({..._R,appendToBody:Boolean,appendTo:{type:jm.to.type,default:"body"},beforeClose:{type:me(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),xR={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[$t]:t=>En(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},V1=(t,e={})=>{Dn(t)||hr("[useLockscreen]","You need to pass a ref param to this function");const n=e.ns||Ne("popup"),r=P(()=>n.bm("parent","hidden"));if(!an||Ts(document.body,r.value))return;let s=0,o=!1,i="0";const a=()=>{setTimeout(()=>{typeof document>"u"||o&&document&&(document.body.style.width=i,ns(document.body,r.value))},200)};Pe(t,u=>{if(!u){a();return}o=!Ts(document.body,r.value),o&&(i=document.body.style.width,Js(document.body,r.value)),s=CI(n.namespace.value);const l=document.documentElement.clientHeight<document.body.scrollHeight,c=Pi(document.body,"overflowY");s>0&&(l||c==="scroll")&&o&&(document.body.style.width=`calc(100% - ${s}px)`)}),oC(()=>a())},TR=(t,e)=>{var n;const s=Gt().emit,{nextZIndex:o}=sc();let i="";const a=Br(),u=Br(),l=q(!1),c=q(!1),d=q(!1),f=q((n=t.zIndex)!=null?n:o());let h,p;const g=Dm("namespace",Zc),v=P(()=>{const V={},R=`--${g.value}-dialog`;return t.fullscreen||(t.top&&(V[`${R}-margin-top`]=t.top),t.width&&(V[`${R}-width`]=Zn(t.width))),V}),y=P(()=>t.alignCenter?{display:"flex"}:{});function _(){s("opened")}function b(){s("closed"),s($t,!1),t.destroyOnClose&&(d.value=!1)}function w(){s("close")}function S(){p==null||p(),h==null||h(),t.openDelay&&t.openDelay>0?{stop:h}=xl(()=>k(),t.openDelay):k()}function E(){h==null||h(),p==null||p(),t.closeDelay&&t.closeDelay>0?{stop:p}=xl(()=>C(),t.closeDelay):C()}function T(){function V(R){R||(c.value=!0,l.value=!1)}t.beforeClose?t.beforeClose(V):E()}function I(){t.closeOnClickModal&&T()}function k(){an&&(l.value=!0)}function C(){l.value=!1}function N(){s("openAutoFocus")}function D(){s("closeAutoFocus")}function W(V){var R;((R=V.detail)==null?void 0:R.focusReason)==="pointer"&&V.preventDefault()}t.lockScroll&&V1(l);function H(){t.closeOnPressEscape&&T()}return Pe(()=>t.modelValue,V=>{V?(c.value=!1,S(),d.value=!0,f.value=lI(t.zIndex)?o():f.value++,pt(()=>{s("open"),e.value&&(e.value.parentElement.scrollTop=0,e.value.parentElement.scrollLeft=0,e.value.scrollTop=0)})):l.value&&E()}),Pe(()=>t.fullscreen,V=>{e.value&&(V?(i=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=i)}),xt(()=>{t.modelValue&&(l.value=!0,d.value=!0,S())}),{afterEnter:_,afterLeave:b,beforeLeave:w,handleClose:T,onModalClick:I,close:E,doClose:C,onOpenAutoFocus:N,onCloseAutoFocus:D,onCloseRequested:H,onFocusoutPrevented:W,titleId:a,bodyId:u,closed:c,style:v,overlayDialogStyle:y,rendered:d,visible:l,zIndex:f}},bq=ee({name:"ElDialog",inheritAttrs:!1}),wq=ee({...bq,props:ER,emits:xR,setup(t,{expose:e}){const n=t,r=_r();Fi({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},P(()=>!!r.title));const s=Ne("dialog"),o=q(),i=q(),a=q(),{visible:u,titleId:l,bodyId:c,style:d,overlayDialogStyle:f,rendered:h,zIndex:p,afterEnter:g,afterLeave:v,beforeLeave:y,handleClose:_,onModalClick:b,onOpenAutoFocus:w,onCloseAutoFocus:S,onCloseRequested:E,onFocusoutPrevented:T}=TR(n,o);Qt(wR,{dialogRef:o,headerRef:i,bodyId:c,ns:s,rendered:h,style:d});const I=F1(b),k=P(()=>n.draggable&&!n.fullscreen);return e({visible:u,dialogContentRef:a,resetPosition:()=>{var N;(N=a.value)==null||N.resetPosition()},handleClose:_}),(N,D)=>(L(),ye(m(ac),{to:N.appendTo,disabled:N.appendTo!=="body"?!1:!N.appendToBody},{default:O(()=>[A(Tr,{name:"dialog-fade",onAfterEnter:m(g),onAfterLeave:m(v),onBeforeLeave:m(y),persisted:""},{default:O(()=>[At(A(m(B1),{"custom-mask-event":"",mask:N.modal,"overlay-class":N.modalClass,"z-index":m(p)},{default:O(()=>[F("div",{role:"dialog","aria-modal":"true","aria-label":N.title||void 0,"aria-labelledby":N.title?void 0:m(l),"aria-describedby":m(c),class:U(`${m(s).namespace.value}-overlay-dialog`),style:dt(m(f)),onClick:m(I).onClick,onMousedown:m(I).onMousedown,onMouseup:m(I).onMouseup},[A(m(ic),{loop:"",trapped:m(u),"focus-start-el":"container",onFocusAfterTrapped:m(w),onFocusAfterReleased:m(S),onFocusoutPrevented:m(T),onReleaseRequested:m(E)},{default:O(()=>[m(h)?(L(),ye(yq,Xt({key:0,ref_key:"dialogContentRef",ref:a},N.$attrs,{center:N.center,"align-center":N.alignCenter,"close-icon":N.closeIcon,draggable:m(k),overflow:N.overflow,fullscreen:N.fullscreen,"header-class":N.headerClass,"body-class":N.bodyClass,"footer-class":N.footerClass,"show-close":N.showClose,title:N.title,"aria-level":N.headerAriaLevel,onClose:m(_)}),js({header:O(()=>[N.$slots.title?ve(N.$slots,"title",{key:1}):ve(N.$slots,"header",{key:0,close:m(_),titleId:m(l),titleClass:m(s).e("title")})]),default:O(()=>[ve(N.$slots,"default")]),_:2},[N.$slots.footer?{name:"footer",fn:O(()=>[ve(N.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):ce("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[nn,m(u)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var _q=Ye(wq,[["__file","dialog.vue"]]);const uc=Bt(_q),Sq=qe({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:me(String),default:"solid"}}),Eq=ee({name:"ElDivider"}),xq=ee({...Eq,props:Sq,setup(t){const e=t,n=Ne("divider"),r=P(()=>n.cssVar({"border-style":e.borderStyle}));return(s,o)=>(L(),G("div",{class:U([m(n).b(),m(n).m(s.direction)]),style:dt(m(r)),role:"separator"},[s.$slots.default&&s.direction!=="vertical"?(L(),G("div",{key:0,class:U([m(n).e("text"),m(n).is(s.contentPosition)])},[ve(s.$slots,"default")],2)):ce("v-if",!0)],6))}});var Tq=Ye(xq,[["__file","divider.vue"]]);const CR=Bt(Tq),Cq=qe({...ER,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),kq=xR,Iq=ee({name:"ElDrawer",inheritAttrs:!1}),Aq=ee({...Iq,props:Cq,emits:kq,setup(t,{expose:e}){const n=t,r=_r();Fi({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},P(()=>!!r.title));const s=q(),o=q(),i=Ne("drawer"),{t:a}=un(),{afterEnter:u,afterLeave:l,beforeLeave:c,visible:d,rendered:f,titleId:h,bodyId:p,zIndex:g,onModalClick:v,onOpenAutoFocus:y,onCloseAutoFocus:_,onFocusoutPrevented:b,onCloseRequested:w,handleClose:S}=TR(n,s),E=P(()=>n.direction==="rtl"||n.direction==="ltr"),T=P(()=>Zn(n.size));return e({handleClose:S,afterEnter:u,afterLeave:l}),(I,k)=>(L(),ye(m(ac),{to:I.appendTo,disabled:I.appendTo!=="body"?!1:!I.appendToBody},{default:O(()=>[A(Tr,{name:m(i).b("fade"),onAfterEnter:m(u),onAfterLeave:m(l),onBeforeLeave:m(c),persisted:""},{default:O(()=>[At(A(m(B1),{mask:I.modal,"overlay-class":I.modalClass,"z-index":m(g),onClick:m(v)},{default:O(()=>[A(m(ic),{loop:"",trapped:m(d),"focus-trap-el":s.value,"focus-start-el":o.value,onFocusAfterTrapped:m(y),onFocusAfterReleased:m(_),onFocusoutPrevented:m(b),onReleaseRequested:m(w)},{default:O(()=>[F("div",Xt({ref_key:"drawerRef",ref:s,"aria-modal":"true","aria-label":I.title||void 0,"aria-labelledby":I.title?void 0:m(h),"aria-describedby":m(p)},I.$attrs,{class:[m(i).b(),I.direction,m(d)&&"open"],style:m(E)?"width: "+m(T):"height: "+m(T),role:"dialog",onClick:St(()=>{},["stop"])}),[F("span",{ref_key:"focusStartRef",ref:o,class:U(m(i).e("sr-focus")),tabindex:"-1"},null,2),I.withHeader?(L(),G("header",{key:0,class:U([m(i).e("header"),I.headerClass])},[I.$slots.title?ve(I.$slots,"title",{key:1},()=>[ce(" DEPRECATED SLOT ")]):ve(I.$slots,"header",{key:0,close:m(S),titleId:m(h),titleClass:m(i).e("title")},()=>[I.$slots.title?ce("v-if",!0):(L(),G("span",{key:0,id:m(h),role:"heading","aria-level":I.headerAriaLevel,class:U(m(i).e("title"))},ge(I.title),11,["id","aria-level"]))]),I.showClose?(L(),G("button",{key:2,"aria-label":m(a)("el.drawer.close"),class:U(m(i).e("close-btn")),type:"button",onClick:m(S)},[A(m(lt),{class:U(m(i).e("close"))},{default:O(()=>[A(m(io))]),_:1},8,["class"])],10,["aria-label","onClick"])):ce("v-if",!0)],2)):ce("v-if",!0),m(f)?(L(),G("div",{key:1,id:m(p),class:U([m(i).e("body"),I.bodyClass])},[ve(I.$slots,"default")],10,["id"])):ce("v-if",!0),I.$slots.footer?(L(),G("div",{key:2,class:U([m(i).e("footer"),I.footerClass])},[ve(I.$slots,"footer")],2)):ce("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[nn,m(d)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var Rq=Ye(Aq,[["__file","drawer.vue"]]);const Lq=Bt(Rq),$q=ee({inheritAttrs:!1});function Pq(t,e,n,r,s,o){return ve(t.$slots,"default")}var Dq=Ye($q,[["render",Pq],["__file","collection.vue"]]);const Oq=ee({name:"ElCollectionItem",inheritAttrs:!1});function Mq(t,e,n,r,s,o){return ve(t.$slots,"default")}var Nq=Ye(Oq,[["render",Mq],["__file","collection-item.vue"]]);const kR="data-el-collection-item",IR=t=>{const e=`El${t}Collection`,n=`${e}Item`,r=Symbol(e),s=Symbol(n),o={...Dq,name:e,setup(){const a=q(),u=new Map;Qt(r,{itemMap:u,getItems:()=>{const c=m(a);if(!c)return[];const d=Array.from(c.querySelectorAll(`[${kR}]`));return[...u.values()].sort((h,p)=>d.indexOf(h.ref)-d.indexOf(p.ref))},collectionRef:a})}},i={...Nq,name:n,setup(a,{attrs:u}){const l=q(),c=rt(r,void 0);Qt(s,{collectionItemRef:l}),xt(()=>{const d=m(l);d&&c.itemMap.set(d,{ref:d,...u})}),In(()=>{const d=m(l);c.itemMap.delete(d)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:s,ElCollection:o,ElCollectionItem:i}},Fq=qe({style:{type:me([String,Array,Object])},currentTabId:{type:me(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:me(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Bq,ElCollectionItem:Vq,COLLECTION_INJECTION_KEY:U1,COLLECTION_ITEM_INJECTION_KEY:Uq}=IR("RovingFocusGroup"),H1=Symbol("elRovingFocusGroup"),AR=Symbol("elRovingFocusGroupItem"),Hq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},jq=(t,e)=>{if(e!=="rtl")return t;switch(t){case ot.right:return ot.left;case ot.left:return ot.right;default:return t}},Kq=(t,e,n)=>{const r=jq(t.code,n);if(!(e==="vertical"&&[ot.left,ot.right].includes(r))&&!(e==="horizontal"&&[ot.up,ot.down].includes(r)))return Hq[r]},zq=(t,e)=>t.map((n,r)=>t[(r+e)%t.length]),j1=t=>{const{activeElement:e}=document;for(const n of t)if(n===e||(n.focus(),e!==document.activeElement))return},ox="currentTabIdChange",ix="rovingFocusGroup.entryFocus",Wq={bubbles:!1,cancelable:!0},Gq=ee({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:Fq,emits:[ox,"entryFocus"],setup(t,{emit:e}){var n;const r=q((n=t.currentTabId||t.defaultCurrentTabId)!=null?n:null),s=q(!1),o=q(!1),i=q(),{getItems:a}=rt(U1,void 0),u=P(()=>[{outline:"none"},t.style]),l=g=>{e(ox,g)},c=()=>{s.value=!0},d=tr(g=>{var v;(v=t.onMousedown)==null||v.call(t,g)},()=>{o.value=!0}),f=tr(g=>{var v;(v=t.onFocus)==null||v.call(t,g)},g=>{const v=!m(o),{target:y,currentTarget:_}=g;if(y===_&&v&&!m(s)){const b=new Event(ix,Wq);if(_==null||_.dispatchEvent(b),!b.defaultPrevented){const w=a().filter(k=>k.focusable),S=w.find(k=>k.active),E=w.find(k=>k.id===m(r)),I=[S,E,...w].filter(Boolean).map(k=>k.ref);j1(I)}}o.value=!1}),h=tr(g=>{var v;(v=t.onBlur)==null||v.call(t,g)},()=>{s.value=!1}),p=(...g)=>{e("entryFocus",...g)};Qt(H1,{currentTabbedId:Zu(r),loop:wn(t,"loop"),tabIndex:P(()=>m(s)?-1:0),rovingFocusGroupRef:i,rovingFocusGroupRootStyle:u,orientation:wn(t,"orientation"),dir:wn(t,"dir"),onItemFocus:l,onItemShiftTab:c,onBlur:h,onFocus:f,onMousedown:d}),Pe(()=>t.currentTabId,g=>{r.value=g??null}),xn(i,ix,p)}});function qq(t,e,n,r,s,o){return ve(t.$slots,"default")}var Yq=Ye(Gq,[["render",qq],["__file","roving-focus-group-impl.vue"]]);const Xq=ee({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:Bq,ElRovingFocusGroupImpl:Yq}});function Qq(t,e,n,r,s,o){const i=qt("el-roving-focus-group-impl"),a=qt("el-focus-group-collection");return L(),ye(a,null,{default:O(()=>[A(i,Os(ri(t.$attrs)),{default:O(()=>[ve(t.$slots,"default")]),_:3},16)]),_:3})}var Zq=Ye(Xq,[["render",Qq],["__file","roving-focus-group.vue"]]);const Hh=qe({trigger:yu.trigger,triggerKeys:{type:me(Array),default:()=>[ot.enter,ot.numpadEnter,ot.space,ot.down]},effect:{...dr.effect,default:"light"},type:{type:me(String)},placement:{type:me(String),default:"bottom"},popperOptions:{type:me(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:me([Number,String]),default:0},maxHeight:{type:me([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,values:BI,default:"menu"},buttonProps:{type:me(Object)},teleported:dr.teleported,persistent:{type:Boolean,default:!0}}),RR=qe({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:_n}}),Jq=qe({onKeydown:{type:me(Function)}}),eY=[ot.down,ot.pageDown,ot.home],LR=[ot.up,ot.pageUp,ot.end],tY=[...eY,...LR],{ElCollection:nY,ElCollectionItem:rY,COLLECTION_INJECTION_KEY:sY,COLLECTION_ITEM_INJECTION_KEY:oY}=IR("Dropdown"),Gm=Symbol("elDropdown"),{ButtonGroup:iY}=Nn,aY=ee({name:"ElDropdown",components:{ElButton:Nn,ElButtonGroup:iY,ElScrollbar:hi,ElDropdownCollection:nY,ElTooltip:wr,ElRovingFocusGroup:Zq,ElOnlyChild:WI,ElIcon:lt,ArrowDown:fi},props:Hh,emits:["visible-change","click","command"],setup(t,{emit:e}){const n=Gt(),r=Ne("dropdown"),{t:s}=un(),o=q(),i=q(),a=q(),u=q(),l=q(null),c=q(null),d=q(!1),f=P(()=>({maxHeight:Zn(t.maxHeight)})),h=P(()=>[r.m(w.value)]),p=P(()=>Jr(t.trigger)),g=Br().value,v=P(()=>t.id||g);Pe([o,p],([R,z],[M])=>{var B,j,X;(B=M==null?void 0:M.$el)!=null&&B.removeEventListener&&M.$el.removeEventListener("pointerenter",E),(j=R==null?void 0:R.$el)!=null&&j.removeEventListener&&R.$el.removeEventListener("pointerenter",E),(X=R==null?void 0:R.$el)!=null&&X.addEventListener&&z.includes("hover")&&R.$el.addEventListener("pointerenter",E)},{immediate:!0}),In(()=>{var R,z;(z=(R=o.value)==null?void 0:R.$el)!=null&&z.removeEventListener&&o.value.$el.removeEventListener("pointerenter",E)});function y(){_()}function _(){var R;(R=a.value)==null||R.onClose()}function b(){var R;(R=a.value)==null||R.onOpen()}const w=fr();function S(...R){e("command",...R)}function E(){var R,z;(z=(R=o.value)==null?void 0:R.$el)==null||z.focus()}function T(){}function I(){const R=m(u);p.value.includes("hover")&&(R==null||R.focus()),c.value=null}function k(R){c.value=R}function C(R){d.value||(R.preventDefault(),R.stopImmediatePropagation())}function N(){e("visible-change",!0)}function D(R){var z;(R==null?void 0:R.type)==="keydown"&&((z=u.value)==null||z.focus())}function W(){e("visible-change",!1)}return Qt(Gm,{contentRef:u,role:P(()=>t.role),triggerId:v,isUsingKeyboard:d,onItemEnter:T,onItemLeave:I}),Qt("elDropdown",{instance:n,dropdownSize:w,handleClick:y,commandHandler:S,trigger:wn(t,"trigger"),hideOnClick:wn(t,"hideOnClick")}),{t:s,ns:r,scrollbar:l,wrapStyle:f,dropdownTriggerKls:h,dropdownSize:w,triggerId:v,currentTabId:c,handleCurrentTabIdChange:k,handlerMainButtonClick:R=>{e("click",R)},handleEntryFocus:C,handleClose:_,handleOpen:b,handleBeforeShowTooltip:N,handleShowTooltip:D,handleBeforeHideTooltip:W,onFocusAfterTrapped:R=>{var z,M;R.preventDefault(),(M=(z=u.value)==null?void 0:z.focus)==null||M.call(z,{preventScroll:!0})},popperRef:a,contentRef:u,triggeringElementRef:o,referenceElementRef:i}}});function lY(t,e,n,r,s,o){var i;const a=qt("el-dropdown-collection"),u=qt("el-roving-focus-group"),l=qt("el-scrollbar"),c=qt("el-only-child"),d=qt("el-tooltip"),f=qt("el-button"),h=qt("arrow-down"),p=qt("el-icon"),g=qt("el-button-group");return L(),G("div",{class:U([t.ns.b(),t.ns.is("disabled",t.disabled)])},[A(d,{ref:"popperRef",role:t.role,effect:t.effect,"fallback-placements":["bottom","top"],"popper-options":t.popperOptions,"gpu-acceleration":!1,"hide-after":t.trigger==="hover"?t.hideTimeout:0,"manual-mode":!0,placement:t.placement,"popper-class":[t.ns.e("popper"),t.popperClass],"reference-element":(i=t.referenceElementRef)==null?void 0:i.$el,trigger:t.trigger,"trigger-keys":t.triggerKeys,"trigger-target-el":t.contentRef,"show-after":t.trigger==="hover"?t.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":t.triggeringElementRef,"virtual-triggering":t.splitButton,disabled:t.disabled,transition:`${t.ns.namespace.value}-zoom-in-top`,teleported:t.teleported,pure:"",persistent:t.persistent,onBeforeShow:t.handleBeforeShowTooltip,onShow:t.handleShowTooltip,onBeforeHide:t.handleBeforeHideTooltip},js({content:O(()=>[A(l,{ref:"scrollbar","wrap-style":t.wrapStyle,tag:"div","view-class":t.ns.e("list")},{default:O(()=>[A(u,{loop:t.loop,"current-tab-id":t.currentTabId,orientation:"horizontal",onCurrentTabIdChange:t.handleCurrentTabIdChange,onEntryFocus:t.handleEntryFocus},{default:O(()=>[A(a,null,{default:O(()=>[ve(t.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[t.splitButton?void 0:{name:"default",fn:O(()=>[A(c,{id:t.triggerId,ref:"triggeringElementRef",role:"button",tabindex:t.tabindex},{default:O(()=>[ve(t.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","persistent","onBeforeShow","onShow","onBeforeHide"]),t.splitButton?(L(),ye(g,{key:0},{default:O(()=>[A(f,Xt({ref:"referenceElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,disabled:t.disabled,tabindex:t.tabindex,onClick:t.handlerMainButtonClick}),{default:O(()=>[ve(t.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),A(f,Xt({id:t.triggerId,ref:"triggeringElementRef"},t.buttonProps,{role:"button",size:t.dropdownSize,type:t.type,class:t.ns.e("caret-button"),disabled:t.disabled,tabindex:t.tabindex,"aria-label":t.t("el.dropdown.toggleDropdown")}),{default:O(()=>[A(p,{class:U(t.ns.e("icon"))},{default:O(()=>[A(h)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):ce("v-if",!0)],2)}var uY=Ye(aY,[["render",lY],["__file","dropdown.vue"]]);const cY=ee({components:{ElRovingFocusCollectionItem:Vq},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(t,{emit:e}){const{currentTabbedId:n,loop:r,onItemFocus:s,onItemShiftTab:o}=rt(H1,void 0),{getItems:i}=rt(U1,void 0),a=Br(),u=q(),l=tr(h=>{e("mousedown",h)},h=>{t.focusable?s(m(a)):h.preventDefault()}),c=tr(h=>{e("focus",h)},()=>{s(m(a))}),d=tr(h=>{e("keydown",h)},h=>{const{code:p,shiftKey:g,target:v,currentTarget:y}=h;if(p===ot.tab&&g){o();return}if(v!==y)return;const _=Kq(h);if(_){h.preventDefault();let w=i().filter(S=>S.focusable).map(S=>S.ref);switch(_){case"last":{w.reverse();break}case"prev":case"next":{_==="prev"&&w.reverse();const S=w.indexOf(y);w=r.value?zq(w,S+1):w.slice(S+1);break}}pt(()=>{j1(w)})}}),f=P(()=>n.value===m(a));return Qt(AR,{rovingFocusGroupItemRef:u,tabIndex:P(()=>m(f)?0:-1),handleMousedown:l,handleFocus:c,handleKeydown:d}),{id:a,handleKeydown:d,handleFocus:c,handleMousedown:l}}});function dY(t,e,n,r,s,o){const i=qt("el-roving-focus-collection-item");return L(),ye(i,{id:t.id,focusable:t.focusable,active:t.active},{default:O(()=>[ve(t.$slots,"default")]),_:3},8,["id","focusable","active"])}var fY=Ye(cY,[["render",dY],["__file","roving-focus-item.vue"]]);const hY=ee({name:"DropdownItemImpl",components:{ElIcon:lt},props:RR,emits:["pointermove","pointerleave","click","clickimpl"],setup(t,{emit:e}){const n=Ne("dropdown"),{role:r}=rt(Gm,void 0),{collectionItemRef:s}=rt(oY,void 0),{collectionItemRef:o}=rt(Uq,void 0),{rovingFocusGroupItemRef:i,tabIndex:a,handleFocus:u,handleKeydown:l,handleMousedown:c}=rt(AR,void 0),d=Wm(s,o,i),f=P(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),h=tr(p=>{if([ot.enter,ot.numpadEnter,ot.space].includes(p.code))return p.preventDefault(),p.stopImmediatePropagation(),e("clickimpl",p),!0},l);return{ns:n,itemRef:d,dataset:{[kR]:""},role:f,tabIndex:a,handleFocus:u,handleKeydown:h,handleMousedown:c}}});function pY(t,e,n,r,s,o){const i=qt("el-icon");return L(),G(tt,null,[t.divided?(L(),G("li",{key:0,role:"separator",class:U(t.ns.bem("menu","item","divided"))},null,2)):ce("v-if",!0),F("li",Xt({ref:t.itemRef},{...t.dataset,...t.$attrs},{"aria-disabled":t.disabled,class:[t.ns.be("menu","item"),t.ns.is("disabled",t.disabled)],tabindex:t.tabIndex,role:t.role,onClick:a=>t.$emit("clickimpl",a),onFocus:t.handleFocus,onKeydown:St(t.handleKeydown,["self"]),onMousedown:t.handleMousedown,onPointermove:a=>t.$emit("pointermove",a),onPointerleave:a=>t.$emit("pointerleave",a)}),[t.icon?(L(),ye(i,{key:0},{default:O(()=>[(L(),ye(Wt(t.icon)))]),_:1})):ce("v-if",!0),ve(t.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var mY=Ye(hY,[["render",pY],["__file","dropdown-item-impl.vue"]]);const $R=()=>{const t=rt("elDropdown",{}),e=P(()=>t==null?void 0:t.dropdownSize);return{elDropdown:t,_elDropdownSize:e}},gY=ee({name:"ElDropdownItem",components:{ElDropdownCollectionItem:rY,ElRovingFocusItem:fY,ElDropdownItemImpl:mY},inheritAttrs:!1,props:RR,emits:["pointermove","pointerleave","click"],setup(t,{emit:e,attrs:n}){const{elDropdown:r}=$R(),s=Gt(),o=q(null),i=P(()=>{var h,p;return(p=(h=m(o))==null?void 0:h.textContent)!=null?p:""}),{onItemEnter:a,onItemLeave:u}=rt(Gm,void 0),l=tr(h=>(e("pointermove",h),h.defaultPrevented),ME(h=>{if(t.disabled){u(h);return}const p=h.currentTarget;p===document.activeElement||p.contains(document.activeElement)||(a(h),h.defaultPrevented||p==null||p.focus())})),c=tr(h=>(e("pointerleave",h),h.defaultPrevented),ME(u)),d=tr(h=>{if(!t.disabled)return e("click",h),h.type!=="keydown"&&h.defaultPrevented},h=>{var p,g,v;if(t.disabled){h.stopImmediatePropagation();return}(p=r==null?void 0:r.hideOnClick)!=null&&p.value&&((g=r.handleClick)==null||g.call(r)),(v=r.commandHandler)==null||v.call(r,t.command,s,h)}),f=P(()=>({...t,...n}));return{handleClick:d,handlePointerMove:l,handlePointerLeave:c,textContent:i,propsAndAttrs:f}}});function vY(t,e,n,r,s,o){var i;const a=qt("el-dropdown-item-impl"),u=qt("el-roving-focus-item"),l=qt("el-dropdown-collection-item");return L(),ye(l,{disabled:t.disabled,"text-value":(i=t.textValue)!=null?i:t.textContent},{default:O(()=>[A(u,{focusable:!t.disabled},{default:O(()=>[A(a,Xt(t.propsAndAttrs,{onPointerleave:t.handlePointerLeave,onPointermove:t.handlePointerMove,onClickimpl:t.handleClick}),{default:O(()=>[ve(t.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var PR=Ye(gY,[["render",vY],["__file","dropdown-item.vue"]]);const yY=ee({name:"ElDropdownMenu",props:Jq,setup(t){const e=Ne("dropdown"),{_elDropdownSize:n}=$R(),r=n.value,{focusTrapRef:s,onKeydown:o}=rt(u1,void 0),{contentRef:i,role:a,triggerId:u}=rt(Gm,void 0),{collectionRef:l,getItems:c}=rt(sY,void 0),{rovingFocusGroupRef:d,rovingFocusGroupRootStyle:f,tabIndex:h,onBlur:p,onFocus:g,onMousedown:v}=rt(H1,void 0),{collectionRef:y}=rt(U1,void 0),_=P(()=>[e.b("menu"),e.bm("menu",r==null?void 0:r.value)]),b=Wm(i,l,s,d,y),w=tr(E=>{var T;(T=t.onKeydown)==null||T.call(t,E)},E=>{const{currentTarget:T,code:I,target:k}=E;if(T.contains(k),ot.tab===I&&E.stopImmediatePropagation(),E.preventDefault(),k!==m(i)||!tY.includes(I))return;const N=c().filter(D=>!D.disabled).map(D=>D.ref);LR.includes(I)&&N.reverse(),j1(N)});return{size:r,rovingFocusGroupRootStyle:f,tabIndex:h,dropdownKls:_,role:a,triggerId:u,dropdownListWrapperRef:b,handleKeydown:E=>{w(E),o(E)},onBlur:p,onFocus:g,onMousedown:v}}});function bY(t,e,n,r,s,o){return L(),G("ul",{ref:t.dropdownListWrapperRef,class:U(t.dropdownKls),style:dt(t.rovingFocusGroupRootStyle),tabindex:-1,role:t.role,"aria-labelledby":t.triggerId,onBlur:t.onBlur,onFocus:t.onFocus,onKeydown:St(t.handleKeydown,["self"]),onMousedown:St(t.onMousedown,["self"])},[ve(t.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var DR=Ye(yY,[["render",bY],["__file","dropdown-menu.vue"]]);const OR=Bt(uY,{DropdownItem:PR,DropdownMenu:DR}),MR=Xn(PR),NR=Xn(DR),wY=ee({name:"ImgEmpty"}),_Y=ee({...wY,setup(t){const e=Ne("empty"),n=Br();return(r,s)=>(L(),G("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[F("defs",null,[F("linearGradient",{id:`linearGradient-1-${m(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[F("stop",{"stop-color":`var(${m(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),F("stop",{"stop-color":`var(${m(e).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),F("linearGradient",{id:`linearGradient-2-${m(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[F("stop",{"stop-color":`var(${m(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),F("stop",{"stop-color":`var(${m(e).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),F("rect",{id:`path-3-${m(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),F("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[F("g",{transform:"translate(-1268.000000, -535.000000)"},[F("g",{transform:"translate(1268.000000, 535.000000)"},[F("path",{d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${m(e).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),F("polygon",{fill:`var(${m(e).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),F("g",{transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[F("polygon",{fill:`var(${m(e).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),F("polygon",{fill:`var(${m(e).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),F("rect",{fill:`url(#linearGradient-1-${m(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),F("polygon",{fill:`var(${m(e).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),F("rect",{fill:`url(#linearGradient-2-${m(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),F("g",{transform:"translate(53.000000, 45.000000)"},[F("use",{fill:`var(${m(e).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${m(n)}`},null,8,["fill","xlink:href"]),F("polygon",{fill:`var(${m(e).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${m(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),F("polygon",{fill:`var(${m(e).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var SY=Ye(_Y,[["__file","img-empty.vue"]]);const EY=qe({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),xY=ee({name:"ElEmpty"}),TY=ee({...xY,props:EY,setup(t){const e=t,{t:n}=un(),r=Ne("empty"),s=P(()=>e.description||n("el.table.emptyText")),o=P(()=>({width:Zn(e.imageSize)}));return(i,a)=>(L(),G("div",{class:U(m(r).b())},[F("div",{class:U(m(r).e("image")),style:dt(m(o))},[i.image?(L(),G("img",{key:0,src:i.image,ondragstart:"return false"},null,8,["src"])):ve(i.$slots,"image",{key:1},()=>[A(SY)])],6),F("div",{class:U(m(r).e("description"))},[i.$slots.description?ve(i.$slots,"description",{key:0}):(L(),G("p",{key:1},ge(m(s)),1))],2),i.$slots.default?(L(),G("div",{key:0,class:U(m(r).e("bottom"))},[ve(i.$slots,"default")],2)):ce("v-if",!0)],2))}});var CY=Ye(TY,[["__file","empty.vue"]]);const cc=Bt(CY),kY=qe({size:{type:String,values:di},disabled:Boolean}),IY=qe({...kY,model:Object,rules:{type:me(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),AY={validate:(t,e,n)=>(Ke(t)||ht(t))&&En(e)&&ht(n)};function RY(){const t=q([]),e=P(()=>{if(!t.value.length)return"0";const o=Math.max(...t.value);return o?`${o}px`:""});function n(o){const i=t.value.indexOf(o);return i===-1&&e.value,i}function r(o,i){if(o&&i){const a=n(i);t.value.splice(a,1,o)}else o&&t.value.push(o)}function s(o){const i=n(o);i>-1&&t.value.splice(i,1)}return{autoLabelWidth:e,registerLabelWidth:r,deregisterLabelWidth:s}}const fh=(t,e)=>{const n=Jr(e);return n.length>0?t.filter(r=>r.prop&&n.includes(r.prop)):t},LY="ElForm",$Y=ee({name:LY}),PY=ee({...$Y,props:IY,emits:AY,setup(t,{expose:e,emit:n}){const r=t,s=[],o=fr(),i=Ne("form"),a=P(()=>{const{labelPosition:b,inline:w}=r;return[i.b(),i.m(o.value||"default"),{[i.m(`label-${b}`)]:b,[i.m("inline")]:w}]}),u=b=>s.find(w=>w.prop===b),l=b=>{s.push(b)},c=b=>{b.prop&&s.splice(s.indexOf(b),1)},d=(b=[])=>{r.model&&fh(s,b).forEach(w=>w.resetField())},f=(b=[])=>{fh(s,b).forEach(w=>w.clearValidate())},h=P(()=>!!r.model),p=b=>{if(s.length===0)return[];const w=fh(s,b);return w.length?w:[]},g=async b=>y(void 0,b),v=async(b=[])=>{if(!h.value)return!1;const w=p(b);if(w.length===0)return!0;let S={};for(const E of w)try{await E.validate(""),E.validateState==="error"&&E.resetField()}catch(T){S={...S,...T}}return Object.keys(S).length===0?!0:Promise.reject(S)},y=async(b=[],w)=>{const S=!vt(w);try{const E=await v(b);return E===!0&&await(w==null?void 0:w(E)),E}catch(E){if(E instanceof Error)throw E;const T=E;return r.scrollToError&&_(Object.keys(T)[0]),await(w==null?void 0:w(!1,T)),S&&Promise.reject(T)}},_=b=>{var w;const S=fh(s,b)[0];S&&((w=S.$el)==null||w.scrollIntoView(r.scrollIntoViewOptions))};return Pe(()=>r.rules,()=>{r.validateOnRuleChange&&g().catch(b=>void 0)},{deep:!0,flush:"post"}),Qt(Ml,Ft({...$r(r),emit:n,resetFields:d,clearValidate:f,validateField:y,getField:u,addField:l,removeField:c,...RY()})),e({validate:g,validateField:y,resetFields:d,clearValidate:f,scrollToField:_,fields:s}),(b,w)=>(L(),G("form",{class:U(m(a))},[ve(b.$slots,"default")],2))}});var DY=Ye(PY,[["__file","form.vue"]]);function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ll.apply(this,arguments)}function OY(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,$d(t,e)}function U0(t){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U0(t)}function $d(t,e){return $d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},$d(t,e)}function MY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jh(t,e,n){return MY()?jh=Reflect.construct.bind():jh=function(s,o,i){var a=[null];a.push.apply(a,o);var u=Function.bind.apply(s,a),l=new u;return i&&$d(l,i.prototype),l},jh.apply(null,arguments)}function NY(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function H0(t){var e=typeof Map=="function"?new Map:void 0;return H0=function(r){if(r===null||!NY(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,s)}function s(){return jh(r,arguments,U0(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),$d(s,r)},H0(t)}var FY=/%[sdj%]/g,BY=function(){};typeof process<"u"&&process.env;function j0(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function Ns(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var s=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var i=t.replace(FY,function(a){if(a==="%%")return"%";if(s>=o)return a;switch(a){case"%s":return String(n[s++]);case"%d":return Number(n[s++]);case"%j":try{return JSON.stringify(n[s++])}catch{return"[Circular]"}break;default:return a}});return i}return t}function VY(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Pr(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||VY(e)&&typeof t=="string"&&!t)}function UY(t,e,n){var r=[],s=0,o=t.length;function i(a){r.push.apply(r,a||[]),s++,s===o&&n(r)}t.forEach(function(a){e(a,i)})}function ax(t,e,n){var r=0,s=t.length;function o(i){if(i&&i.length){n(i);return}var a=r;r=r+1,a<s?e(t[a],o):n([])}o([])}function HY(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var lx=function(t){OY(e,t);function e(n,r){var s;return s=t.call(this,"Async Validation Error")||this,s.errors=n,s.fields=r,s}return e}(H0(Error));function jY(t,e,n,r,s){if(e.first){var o=new Promise(function(f,h){var p=function(y){return r(y),y.length?h(new lx(y,j0(y))):f(s)},g=HY(t);ax(g,n,p)});return o.catch(function(f){return f}),o}var i=e.firstFields===!0?Object.keys(t):e.firstFields||[],a=Object.keys(t),u=a.length,l=0,c=[],d=new Promise(function(f,h){var p=function(v){if(c.push.apply(c,v),l++,l===u)return r(c),c.length?h(new lx(c,j0(c))):f(s)};a.length||(r(c),f(s)),a.forEach(function(g){var v=t[g];i.indexOf(g)!==-1?ax(v,n,p):UY(v,n,p)})});return d.catch(function(f){return f}),d}function KY(t){return!!(t&&t.message!==void 0)}function zY(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function ux(t,e){return function(n){var r;return t.fullFields?r=zY(e,t.fullFields):r=e[n.field||t.fullField],KY(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function cx(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=ll({},t[n],r):t[n]=r}}return t}var FR=function(e,n,r,s,o,i){e.required&&(!r.hasOwnProperty(e.field)||Pr(n,i||e.type))&&s.push(Ns(o.messages.required,e.fullField))},WY=function(e,n,r,s,o){(/^\s+$/.test(n)||n==="")&&s.push(Ns(o.messages.whitespace,e.fullField))},hh,GY=function(){if(hh)return hh;var t="[a-fA-F\\d:]",e=function(w){return w&&w.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",s=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+s+"$)"),i=new RegExp("^"+n+"$"),a=new RegExp("^"+s+"$"),u=function(w){return w&&w.exact?o:new RegExp("(?:"+e(w)+n+e(w)+")|(?:"+e(w)+s+e(w)+")","g")};u.v4=function(b){return b&&b.exact?i:new RegExp(""+e(b)+n+e(b),"g")},u.v6=function(b){return b&&b.exact?a:new RegExp(""+e(b)+s+e(b),"g")};var l="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",d=u.v4().source,f=u.v6().source,h="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",v="(?::\\d{2,5})?",y='(?:[/?#][^\\s"]*)?',_="(?:"+l+"|www\\.)"+c+"(?:localhost|"+d+"|"+f+"|"+h+p+g+")"+v+y;return hh=new RegExp("(?:^"+_+"$)","i"),hh},dx={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Vc={integer:function(e){return Vc.number(e)&&parseInt(e,10)===e},float:function(e){return Vc.number(e)&&!Vc.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!Vc.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(dx.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(GY())},hex:function(e){return typeof e=="string"&&!!e.match(dx.hex)}},qY=function(e,n,r,s,o){if(e.required&&n===void 0){FR(e,n,r,s,o);return}var i=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;i.indexOf(a)>-1?Vc[a](n)||s.push(Ns(o.messages.types[a],e.fullField,e.type)):a&&typeof n!==e.type&&s.push(Ns(o.messages.types[a],e.fullField,e.type))},YY=function(e,n,r,s,o){var i=typeof e.len=="number",a=typeof e.min=="number",u=typeof e.max=="number",l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=n,d=null,f=typeof n=="number",h=typeof n=="string",p=Array.isArray(n);if(f?d="number":h?d="string":p&&(d="array"),!d)return!1;p&&(c=n.length),h&&(c=n.replace(l,"_").length),i?c!==e.len&&s.push(Ns(o.messages[d].len,e.fullField,e.len)):a&&!u&&c<e.min?s.push(Ns(o.messages[d].min,e.fullField,e.min)):u&&!a&&c>e.max?s.push(Ns(o.messages[d].max,e.fullField,e.max)):a&&u&&(c<e.min||c>e.max)&&s.push(Ns(o.messages[d].range,e.fullField,e.min,e.max))},Wl="enum",XY=function(e,n,r,s,o){e[Wl]=Array.isArray(e[Wl])?e[Wl]:[],e[Wl].indexOf(n)===-1&&s.push(Ns(o.messages[Wl],e.fullField,e[Wl].join(", ")))},QY=function(e,n,r,s,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||s.push(Ns(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var i=new RegExp(e.pattern);i.test(n)||s.push(Ns(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},Rn={required:FR,whitespace:WY,type:qY,range:YY,enum:XY,pattern:QY},ZY=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Pr(n,"string")&&!e.required)return r();Rn.required(e,n,s,i,o,"string"),Pr(n,"string")||(Rn.type(e,n,s,i,o),Rn.range(e,n,s,i,o),Rn.pattern(e,n,s,i,o),e.whitespace===!0&&Rn.whitespace(e,n,s,i,o))}r(i)},JY=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Pr(n)&&!e.required)return r();Rn.required(e,n,s,i,o),n!==void 0&&Rn.type(e,n,s,i,o)}r(i)},eX=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(n===""&&(n=void 0),Pr(n)&&!e.required)return r();Rn.required(e,n,s,i,o),n!==void 0&&(Rn.type(e,n,s,i,o),Rn.range(e,n,s,i,o))}r(i)},tX=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Pr(n)&&!e.required)return r();Rn.required(e,n,s,i,o),n!==void 0&&Rn.type(e,n,s,i,o)}r(i)},nX=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Pr(n)&&!e.required)return r();Rn.required(e,n,s,i,o),Pr(n)||Rn.type(e,n,s,i,o)}r(i)},rX=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Pr(n)&&!e.required)return r();Rn.required(e,n,s,i,o),n!==void 0&&(Rn.type(e,n,s,i,o),Rn.range(e,n,s,i,o))}r(i)},sX=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Pr(n)&&!e.required)return r();Rn.required(e,n,s,i,o),n!==void 0&&(Rn.type(e,n,s,i,o),Rn.range(e,n,s,i,o))}r(i)},oX=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(n==null&&!e.required)return r();Rn.required(e,n,s,i,o,"array"),n!=null&&(Rn.type(e,n,s,i,o),Rn.range(e,n,s,i,o))}r(i)},iX=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Pr(n)&&!e.required)return r();Rn.required(e,n,s,i,o),n!==void 0&&Rn.type(e,n,s,i,o)}r(i)},aX="enum",lX=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Pr(n)&&!e.required)return r();Rn.required(e,n,s,i,o),n!==void 0&&Rn[aX](e,n,s,i,o)}r(i)},uX=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Pr(n,"string")&&!e.required)return r();Rn.required(e,n,s,i,o),Pr(n,"string")||Rn.pattern(e,n,s,i,o)}r(i)},cX=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Pr(n,"date")&&!e.required)return r();if(Rn.required(e,n,s,i,o),!Pr(n,"date")){var u;n instanceof Date?u=n:u=new Date(n),Rn.type(e,u,s,i,o),u&&Rn.range(e,u.getTime(),s,i,o)}}r(i)},dX=function(e,n,r,s,o){var i=[],a=Array.isArray(n)?"array":typeof n;Rn.required(e,n,s,i,o,a),r(i)},pv=function(e,n,r,s,o){var i=e.type,a=[],u=e.required||!e.required&&s.hasOwnProperty(e.field);if(u){if(Pr(n,i)&&!e.required)return r();Rn.required(e,n,s,a,o,i),Pr(n,i)||Rn.type(e,n,s,a,o)}r(a)},fX=function(e,n,r,s,o){var i=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(Pr(n)&&!e.required)return r();Rn.required(e,n,s,i,o)}r(i)},sd={string:ZY,method:JY,number:eX,boolean:tX,regexp:nX,integer:rX,float:sX,array:oX,object:iX,enum:lX,pattern:uX,date:cX,url:pv,hex:pv,email:pv,required:dX,any:fX};function K0(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var z0=K0(),bf=function(){function t(n){this.rules=null,this._messages=z0,this.define(n)}var e=t.prototype;return e.define=function(r){var s=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var i=r[o];s.rules[o]=Array.isArray(i)?i:[i]})},e.messages=function(r){return r&&(this._messages=cx(K0(),r)),this._messages},e.validate=function(r,s,o){var i=this;s===void 0&&(s={}),o===void 0&&(o=function(){});var a=r,u=s,l=o;if(typeof u=="function"&&(l=u,u={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,a),Promise.resolve(a);function c(g){var v=[],y={};function _(w){if(Array.isArray(w)){var S;v=(S=v).concat.apply(S,w)}else v.push(w)}for(var b=0;b<g.length;b++)_(g[b]);v.length?(y=j0(v),l(v,y)):l(null,a)}if(u.messages){var d=this.messages();d===z0&&(d=K0()),cx(d,u.messages),u.messages=d}else u.messages=this.messages();var f={},h=u.keys||Object.keys(this.rules);h.forEach(function(g){var v=i.rules[g],y=a[g];v.forEach(function(_){var b=_;typeof b.transform=="function"&&(a===r&&(a=ll({},a)),y=a[g]=b.transform(y)),typeof b=="function"?b={validator:b}:b=ll({},b),b.validator=i.getValidationMethod(b),b.validator&&(b.field=g,b.fullField=b.fullField||g,b.type=i.getType(b),f[g]=f[g]||[],f[g].push({rule:b,value:y,source:a,field:g}))})});var p={};return jY(f,u,function(g,v){var y=g.rule,_=(y.type==="object"||y.type==="array")&&(typeof y.fields=="object"||typeof y.defaultField=="object");_=_&&(y.required||!y.required&&g.value),y.field=g.field;function b(E,T){return ll({},T,{fullField:y.fullField+"."+E,fullFields:y.fullFields?[].concat(y.fullFields,[E]):[E]})}function w(E){E===void 0&&(E=[]);var T=Array.isArray(E)?E:[E];!u.suppressWarning&&T.length&&t.warning("async-validator:",T),T.length&&y.message!==void 0&&(T=[].concat(y.message));var I=T.map(ux(y,a));if(u.first&&I.length)return p[y.field]=1,v(I);if(!_)v(I);else{if(y.required&&!g.value)return y.message!==void 0?I=[].concat(y.message).map(ux(y,a)):u.error&&(I=[u.error(y,Ns(u.messages.required,y.field))]),v(I);var k={};y.defaultField&&Object.keys(g.value).map(function(D){k[D]=y.defaultField}),k=ll({},k,g.rule.fields);var C={};Object.keys(k).forEach(function(D){var W=k[D],H=Array.isArray(W)?W:[W];C[D]=H.map(b.bind(null,D))});var N=new t(C);N.messages(u.messages),g.rule.options&&(g.rule.options.messages=u.messages,g.rule.options.error=u.error),N.validate(g.value,g.rule.options||u,function(D){var W=[];I&&I.length&&W.push.apply(W,I),D&&D.length&&W.push.apply(W,D),v(W.length?W:null)})}}var S;if(y.asyncValidator)S=y.asyncValidator(y,g.value,w,g.source,u);else if(y.validator){try{S=y.validator(y,g.value,w,g.source,u)}catch(E){console.error==null||console.error(E),u.suppressValidatorError||setTimeout(function(){throw E},0),w(E.message)}S===!0?w():S===!1?w(typeof y.message=="function"?y.message(y.fullField||y.field):y.message||(y.fullField||y.field)+" fails"):S instanceof Array?w(S):S instanceof Error&&w(S.message)}S&&S.then&&S.then(function(){return w()},function(E){return w(E)})},function(g){c(g)},a)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!sd.hasOwnProperty(r.type))throw new Error(Ns("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var s=Object.keys(r),o=s.indexOf("message");return o!==-1&&s.splice(o,1),s.length===1&&s[0]==="required"?sd.required:sd[this.getType(r)]||void 0},t}();bf.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");sd[e]=n};bf.warning=BY;bf.messages=z0;bf.validators=sd;const hX=["","error","validating","success"],pX=qe({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:me([String,Array])},required:{type:Boolean,default:void 0},rules:{type:me([Object,Array])},error:String,validateStatus:{type:String,values:hX},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:di}}),fx="ElLabelWrap";var mX=ee({name:fx,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const n=rt(Ml,void 0),r=rt(ai);r||hr(fx,"usage: <el-form-item><label-wrap /></el-form-item>");const s=Ne("form"),o=q(),i=q(0),a=()=>{var c;if((c=o.value)!=null&&c.firstElementChild){const d=window.getComputedStyle(o.value.firstElementChild).width;return Math.ceil(Number.parseFloat(d))}else return 0},u=(c="update")=>{pt(()=>{e.default&&t.isAutoWidth&&(c==="update"?i.value=a():c==="remove"&&(n==null||n.deregisterLabelWidth(i.value)))})},l=()=>u("update");return xt(()=>{l()}),In(()=>{u("remove")}),$o(()=>l()),Pe(i,(c,d)=>{t.updateAll&&(n==null||n.registerLabelWidth(c,d))}),qn(P(()=>{var c,d;return(d=(c=o.value)==null?void 0:c.firstElementChild)!=null?d:null}),l),()=>{var c,d;if(!e)return null;const{isAutoWidth:f}=t;if(f){const h=n==null?void 0:n.autoLabelWidth,p=r==null?void 0:r.hasLabel,g={};if(p&&h&&h!=="auto"){const v=Math.max(0,Number.parseInt(h,10)-i.value),_=(r.labelPosition||n.labelPosition)==="left"?"marginRight":"marginLeft";v&&(g[_]=`${v}px`)}return A("div",{ref:o,class:[s.be("item","label-wrap")],style:g},[(c=e.default)==null?void 0:c.call(e)])}else return A(tt,{ref:o},[(d=e.default)==null?void 0:d.call(e)])}}});const gX=ee({name:"ElFormItem"}),vX=ee({...gX,props:pX,setup(t,{expose:e}){const n=t,r=_r(),s=rt(Ml,void 0),o=rt(ai,void 0),i=fr(void 0,{formItem:!1}),a=Ne("form-item"),u=Br().value,l=q([]),c=q(""),d=SB(c,100),f=q(""),h=q();let p,g=!1;const v=P(()=>n.labelPosition||(s==null?void 0:s.labelPosition)),y=P(()=>{if(v.value==="top")return{};const de=Zn(n.labelWidth||(s==null?void 0:s.labelWidth)||"");return de?{width:de}:{}}),_=P(()=>{if(v.value==="top"||s!=null&&s.inline)return{};if(!n.label&&!n.labelWidth&&C)return{};const de=Zn(n.labelWidth||(s==null?void 0:s.labelWidth)||"");return!n.label&&!r.label?{marginLeft:de}:{}}),b=P(()=>[a.b(),a.m(i.value),a.is("error",c.value==="error"),a.is("validating",c.value==="validating"),a.is("success",c.value==="success"),a.is("required",V.value||n.required),a.is("no-asterisk",s==null?void 0:s.hideRequiredAsterisk),(s==null?void 0:s.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[a.m("feedback")]:s==null?void 0:s.statusIcon,[a.m(`label-${v.value}`)]:v.value}]),w=P(()=>En(n.inlineMessage)?n.inlineMessage:(s==null?void 0:s.inlineMessage)||!1),S=P(()=>[a.e("error"),{[a.em("error","inline")]:w.value}]),E=P(()=>n.prop?ht(n.prop)?n.prop:n.prop.join("."):""),T=P(()=>!!(n.label||r.label)),I=P(()=>n.for||(l.value.length===1?l.value[0]:void 0)),k=P(()=>!I.value&&T.value),C=!!o,N=P(()=>{const de=s==null?void 0:s.model;if(!(!de||!n.prop))return ed(de,n.prop).value}),D=P(()=>{const{required:de}=n,ae=[];n.rules&&ae.push(...Jr(n.rules));const Ae=s==null?void 0:s.rules;if(Ae&&n.prop){const Re=ed(Ae,n.prop).value;Re&&ae.push(...Jr(Re))}if(de!==void 0){const Re=ae.map((pe,ne)=>[pe,ne]).filter(([pe])=>Object.keys(pe).includes("required"));if(Re.length>0)for(const[pe,ne]of Re)pe.required!==de&&(ae[ne]={...pe,required:de});else ae.push({required:de})}return ae}),W=P(()=>D.value.length>0),H=de=>D.value.filter(Ae=>!Ae.trigger||!de?!0:Ke(Ae.trigger)?Ae.trigger.includes(de):Ae.trigger===de).map(({trigger:Ae,...Re})=>Re),V=P(()=>D.value.some(de=>de.required)),R=P(()=>{var de;return d.value==="error"&&n.showMessage&&((de=s==null?void 0:s.showMessage)!=null?de:!0)}),z=P(()=>`${n.label||""}${(s==null?void 0:s.labelSuffix)||""}`),M=de=>{c.value=de},B=de=>{var ae,Ae;const{errors:Re,fields:pe}=de;(!Re||!pe)&&console.error(de),M("error"),f.value=Re?(Ae=(ae=Re==null?void 0:Re[0])==null?void 0:ae.message)!=null?Ae:`${n.prop} is required`:"",s==null||s.emit("validate",n.prop,!1,f.value)},j=()=>{M("success"),s==null||s.emit("validate",n.prop,!0,"")},X=async de=>{const ae=E.value;return new bf({[ae]:de}).validate({[ae]:N.value},{firstFields:!0}).then(()=>(j(),!0)).catch(Re=>(B(Re),Promise.reject(Re)))},se=async(de,ae)=>{if(g||!n.prop)return!1;const Ae=vt(ae);if(!W.value)return ae==null||ae(!1),!1;const Re=H(de);return Re.length===0?(ae==null||ae(!0),!0):(M("validating"),X(Re).then(()=>(ae==null||ae(!0),!0)).catch(pe=>{const{fields:ne}=pe;return ae==null||ae(!1,ne),Ae?!1:Promise.reject(ne)}))},te=()=>{M(""),f.value="",g=!1},ie=async()=>{const de=s==null?void 0:s.model;if(!de||!n.prop)return;const ae=ed(de,n.prop);g=!0,ae.value=zS(p),await pt(),te(),g=!1},fe=de=>{l.value.includes(de)||l.value.push(de)},ue=de=>{l.value=l.value.filter(ae=>ae!==de)};Pe(()=>n.error,de=>{f.value=de||"",M(de?"error":"")},{immediate:!0}),Pe(()=>n.validateStatus,de=>M(de||""));const J=Ft({...$r(n),$el:h,size:i,validateState:c,labelId:u,inputIds:l,isGroup:k,hasLabel:T,fieldValue:N,addInputId:fe,removeInputId:ue,resetField:ie,clearValidate:te,validate:se});return Qt(ai,J),xt(()=>{n.prop&&(s==null||s.addField(J),p=zS(N.value))}),In(()=>{s==null||s.removeField(J)}),e({size:i,validateMessage:f,validateState:c,validate:se,clearValidate:te,resetField:ie}),(de,ae)=>{var Ae;return L(),G("div",{ref_key:"formItemRef",ref:h,class:U(m(b)),role:m(k)?"group":void 0,"aria-labelledby":m(k)?m(u):void 0},[A(m(mX),{"is-auto-width":m(y).width==="auto","update-all":((Ae=m(s))==null?void 0:Ae.labelWidth)==="auto"},{default:O(()=>[m(T)?(L(),ye(Wt(m(I)?"label":"div"),{key:0,id:m(u),for:m(I),class:U(m(a).e("label")),style:dt(m(y))},{default:O(()=>[ve(de.$slots,"label",{label:m(z)},()=>[xe(ge(m(z)),1)])]),_:3},8,["id","for","class","style"])):ce("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),F("div",{class:U(m(a).e("content")),style:dt(m(_))},[ve(de.$slots,"default"),A(bk,{name:`${m(a).namespace.value}-zoom-in-top`},{default:O(()=>[m(R)?ve(de.$slots,"error",{key:0,error:f.value},()=>[F("div",{class:U(m(S))},ge(f.value),3)]):ce("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var BR=Ye(vX,[["__file","form-item.vue"]]);const pi=Bt(DY,{FormItem:BR}),mi=Xn(BR),yX=qe({urlList:{type:me(Array),default:()=>Yn([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:{type:Boolean,default:!1},crossorigin:{type:me(String)}}),bX={close:()=>!0,switch:t=>bt(t),rotate:t=>bt(t)},wX=ee({name:"ElImageViewer"}),_X=ee({...wX,props:yX,emits:bX,setup(t,{expose:e,emit:n}){var r;const s=t,o={CONTAIN:{name:"contain",icon:Ni(QV)},ORIGINAL:{name:"original",icon:Ni(C9)}};let i,a="";const{t:u}=un(),l=Ne("image-viewer"),{nextZIndex:c}=sc(),d=q(),f=q([]),h=OO(),p=q(!0),g=q(s.initialIndex),v=On(o.CONTAIN),y=q({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),_=q((r=s.zIndex)!=null?r:c()),b=P(()=>{const{urlList:ue}=s;return ue.length<=1}),w=P(()=>g.value===0),S=P(()=>g.value===s.urlList.length-1),E=P(()=>s.urlList[g.value]),T=P(()=>[l.e("btn"),l.e("prev"),l.is("disabled",!s.infinite&&w.value)]),I=P(()=>[l.e("btn"),l.e("next"),l.is("disabled",!s.infinite&&S.value)]),k=P(()=>{const{scale:ue,deg:J,offsetX:de,offsetY:ae,enableTransition:Ae}=y.value;let Re=de/ue,pe=ae/ue;const ne=J*Math.PI/180,le=Math.cos(ne),Se=Math.sin(ne);Re=Re*le+pe*Se,pe=pe*le-de/ue*Se;const Ce={transform:`scale(${ue}) rotate(${J}deg) translate(${Re}px, ${pe}px)`,transition:Ae?"transform .3s":""};return v.value.name===o.CONTAIN.name&&(Ce.maxWidth=Ce.maxHeight="100%"),Ce}),C=P(()=>`${g.value+1} / ${s.urlList.length}`);function N(){W(),i==null||i(),document.body.style.overflow=a,n("close")}function D(){const ue=pl(de=>{switch(de.code){case ot.esc:s.closeOnPressEscape&&N();break;case ot.space:M();break;case ot.left:j();break;case ot.up:se("zoomIn");break;case ot.right:X();break;case ot.down:se("zoomOut");break}}),J=pl(de=>{const ae=de.deltaY||de.deltaX;se(ae<0?"zoomIn":"zoomOut",{zoomRate:s.zoomRate,enableTransition:!1})});h.run(()=>{xn(document,"keydown",ue),xn(document,"wheel",J)})}function W(){h.stop()}function H(){p.value=!1}function V(ue){p.value=!1,ue.target.alt=u("el.image.error")}function R(ue){if(p.value||ue.button!==0||!d.value)return;y.value.enableTransition=!1;const{offsetX:J,offsetY:de}=y.value,ae=ue.pageX,Ae=ue.pageY,Re=pl(ne=>{y.value={...y.value,offsetX:J+ne.pageX-ae,offsetY:de+ne.pageY-Ae}}),pe=xn(document,"mousemove",Re);xn(document,"mouseup",()=>{pe()}),ue.preventDefault()}function z(){y.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function M(){if(p.value)return;const ue=$u(o),J=Object.values(o),de=v.value.name,Ae=(J.findIndex(Re=>Re.name===de)+1)%ue.length;v.value=o[ue[Ae]],z()}function B(ue){const J=s.urlList.length;g.value=(ue+J)%J}function j(){w.value&&!s.infinite||B(g.value-1)}function X(){S.value&&!s.infinite||B(g.value+1)}function se(ue,J={}){if(p.value)return;const{minScale:de,maxScale:ae}=s,{zoomRate:Ae,rotateDeg:Re,enableTransition:pe}={zoomRate:s.zoomRate,rotateDeg:90,enableTransition:!0,...J};switch(ue){case"zoomOut":y.value.scale>de&&(y.value.scale=Number.parseFloat((y.value.scale/Ae).toFixed(3)));break;case"zoomIn":y.value.scale<ae&&(y.value.scale=Number.parseFloat((y.value.scale*Ae).toFixed(3)));break;case"clockwise":y.value.deg+=Re,n("rotate",y.value.deg);break;case"anticlockwise":y.value.deg-=Re,n("rotate",y.value.deg);break}y.value.enableTransition=pe}function te(ue){var J;((J=ue.detail)==null?void 0:J.focusReason)==="pointer"&&ue.preventDefault()}function ie(){s.closeOnPressEscape&&N()}function fe(ue){if(ue.ctrlKey){if(ue.deltaY<0)return ue.preventDefault(),!1;if(ue.deltaY>0)return ue.preventDefault(),!1}}return Pe(E,()=>{pt(()=>{const ue=f.value[0];ue!=null&&ue.complete||(p.value=!0)})}),Pe(g,ue=>{z(),n("switch",ue)}),xt(()=>{D(),i=xn("wheel",fe,{passive:!1}),a=document.body.style.overflow,document.body.style.overflow="hidden"}),e({setActiveItem:B}),(ue,J)=>(L(),ye(m(ac),{to:"body",disabled:!ue.teleported},{default:O(()=>[A(Tr,{name:"viewer-fade",appear:""},{default:O(()=>[F("div",{ref_key:"wrapper",ref:d,tabindex:-1,class:U(m(l).e("wrapper")),style:dt({zIndex:_.value})},[A(m(ic),{loop:"",trapped:"","focus-trap-el":d.value,"focus-start-el":"container",onFocusoutPrevented:te,onReleaseRequested:ie},{default:O(()=>[F("div",{class:U(m(l).e("mask")),onClick:St(de=>ue.hideOnClickModal&&N(),["self"])},null,10,["onClick"]),ce(" CLOSE "),F("span",{class:U([m(l).e("btn"),m(l).e("close")]),onClick:N},[A(m(lt),null,{default:O(()=>[A(m(io))]),_:1})],2),ce(" ARROW "),m(b)?ce("v-if",!0):(L(),G(tt,{key:0},[F("span",{class:U(m(T)),onClick:j},[A(m(lt),null,{default:O(()=>[A(m(Pa))]),_:1})],2),F("span",{class:U(m(I)),onClick:X},[A(m(lt),null,{default:O(()=>[A(m(ps))]),_:1})],2)],64)),ue.$slots.progress||ue.showProgress?(L(),G("div",{key:1,class:U([m(l).e("btn"),m(l).e("progress")])},[ve(ue.$slots,"progress",{activeIndex:g.value,total:ue.urlList.length},()=>[xe(ge(m(C)),1)])],2)):ce("v-if",!0),ce(" ACTIONS "),F("div",{class:U([m(l).e("btn"),m(l).e("actions")])},[F("div",{class:U(m(l).e("actions__inner"))},[ve(ue.$slots,"toolbar",{actions:se,prev:j,next:X,reset:M,activeIndex:g.value,setActiveItem:B},()=>[A(m(lt),{onClick:de=>se("zoomOut")},{default:O(()=>[A(m(Z9))]),_:1},8,["onClick"]),A(m(lt),{onClick:de=>se("zoomIn")},{default:O(()=>[A(m(n1))]),_:1},8,["onClick"]),F("i",{class:U(m(l).e("actions__divider"))},null,2),A(m(lt),{onClick:M},{default:O(()=>[(L(),ye(Wt(m(v).icon)))]),_:1}),F("i",{class:U(m(l).e("actions__divider"))},null,2),A(m(lt),{onClick:de=>se("anticlockwise")},{default:O(()=>[A(m(PI))]),_:1},8,["onClick"]),A(m(lt),{onClick:de=>se("clockwise")},{default:O(()=>[A(m(t1))]),_:1},8,["onClick"])])],2)],2),ce(" CANVAS "),F("div",{class:U(m(l).e("canvas"))},[(L(!0),G(tt,null,It(ue.urlList,(de,ae)=>At((L(),G("img",{ref_for:!0,ref:Ae=>f.value[ae]=Ae,key:de,src:de,style:dt(m(k)),class:U(m(l).e("img")),crossorigin:ue.crossorigin,onLoad:H,onError:V,onMousedown:R},null,46,["src","crossorigin"])),[[nn,ae===g.value]])),128))],2),ve(ue.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var SX=Ye(_X,[["__file","image-viewer.vue"]]);const K1=Bt(SX),EX=qe({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:me([String,Object])},previewSrcList:{type:me(Array),default:()=>Yn([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:{type:Boolean,default:!1},crossorigin:{type:me(String)}}),xX={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>bt(t),close:()=>!0,show:()=>!0},TX=ee({name:"ElImage",inheritAttrs:!1}),CX=ee({...TX,props:EX,emits:xX,setup(t,{expose:e,emit:n}){const r=t,{t:s}=un(),o=Ne("image"),i=Wi(),a=P(()=>Cd(Object.entries(i).filter(([R])=>/^(data-|on[A-Z])/i.test(R)||["id","style"].includes(R)))),u=pf({excludeListeners:!0,excludeKeys:P(()=>Object.keys(a.value))}),l=q(),c=q(!1),d=q(!0),f=q(!1),h=q(),p=q(),g=an&&"loading"in HTMLImageElement.prototype;let v;const y=P(()=>[o.e("inner"),b.value&&o.e("preview"),d.value&&o.is("loading")]),_=P(()=>{const{fit:R}=r;return an&&R?{objectFit:R}:{}}),b=P(()=>{const{previewSrcList:R}=r;return Ke(R)&&R.length>0}),w=P(()=>{const{previewSrcList:R,initialIndex:z}=r;let M=z;return z>R.length-1&&(M=0),M}),S=P(()=>r.loading==="eager"?!1:!g&&r.loading==="lazy"||r.lazy),E=()=>{an&&(d.value=!0,c.value=!1,l.value=r.src)};function T(R){d.value=!1,c.value=!1,n("load",R)}function I(R){d.value=!1,c.value=!0,n("error",R)}function k(){iW(h.value,p.value)&&(E(),D())}const C=fI(k,200,!0);async function N(){var R;if(!an)return;await pt();const{scrollContainer:z}=r;hs(z)?p.value=z:ht(z)&&z!==""?p.value=(R=document.querySelector(z))!=null?R:void 0:h.value&&(p.value=Gb(h.value)),p.value&&(v=xn(p,"scroll",C),setTimeout(()=>k(),100))}function D(){!an||!p.value||!C||(v==null||v(),p.value=void 0)}function W(){b.value&&(f.value=!0,n("show"))}function H(){f.value=!1,n("close")}function V(R){n("switch",R)}return Pe(()=>r.src,()=>{S.value?(d.value=!0,c.value=!1,D(),N()):E()}),xt(()=>{S.value?N():E()}),e({showPreview:W}),(R,z)=>(L(),G("div",Xt({ref_key:"container",ref:h},m(a),{class:[m(o).b(),R.$attrs.class]}),[c.value?ve(R.$slots,"error",{key:0},()=>[F("div",{class:U(m(o).e("error"))},ge(m(s)("el.image.error")),3)]):(L(),G(tt,{key:1},[l.value!==void 0?(L(),G("img",Xt({key:0},m(u),{src:l.value,loading:R.loading,style:m(_),class:m(y),crossorigin:R.crossorigin,onClick:W,onLoad:T,onError:I}),null,16,["src","loading","crossorigin"])):ce("v-if",!0),d.value?(L(),G("div",{key:1,class:U(m(o).e("wrapper"))},[ve(R.$slots,"placeholder",{},()=>[F("div",{class:U(m(o).e("placeholder"))},null,2)])],2)):ce("v-if",!0)],64)),m(b)?(L(),G(tt,{key:2},[f.value?(L(),ye(m(K1),{key:0,"z-index":R.zIndex,"initial-index":m(w),infinite:R.infinite,"zoom-rate":R.zoomRate,"min-scale":R.minScale,"max-scale":R.maxScale,"show-progress":R.showProgress,"url-list":R.previewSrcList,crossorigin:R.crossorigin,"hide-on-click-modal":R.hideOnClickModal,teleported:R.previewTeleported,"close-on-press-escape":R.closeOnPressEscape,onClose:H,onSwitch:V},{progress:O(M=>[ve(R.$slots,"progress",Os(ri(M)))]),toolbar:O(M=>[ve(R.$slots,"toolbar",Os(ri(M)))]),default:O(()=>[R.$slots.viewer?(L(),G("div",{key:0},[ve(R.$slots,"viewer")])):ce("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","show-progress","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):ce("v-if",!0)],64)):ce("v-if",!0)],16))}});var kX=Ye(CX,[["__file","image.vue"]]);const qm=Bt(kX),IX=qe({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:pr,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:t=>t===null||bt(t)||["min","max"].includes(t),default:null},name:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)},validateEvent:{type:Boolean,default:!0},...Vr(["ariaLabel"])}),AX={[Yt]:(t,e)=>e!==t,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[yr]:t=>bt(t)||xr(t),[$t]:t=>bt(t)||xr(t)},RX=ee({name:"ElInputNumber"}),LX=ee({...RX,props:IX,emits:AX,setup(t,{expose:e,emit:n}){const r=t,{t:s}=un(),o=Ne("input-number"),i=q(),a=Ft({currentValue:r.modelValue,userInput:null}),{formItem:u}=Kr(),l=P(()=>bt(r.modelValue)&&r.modelValue<=r.min),c=P(()=>bt(r.modelValue)&&r.modelValue>=r.max),d=P(()=>{const V=y(r.step);return ln(r.precision)?Math.max(y(r.modelValue),V):(V>r.precision,r.precision)}),f=P(()=>r.controls&&r.controlsPosition==="right"),h=fr(),p=zr(),g=P(()=>{if(a.userInput!==null)return a.userInput;let V=a.currentValue;if(xr(V))return"";if(bt(V)){if(Number.isNaN(V))return"";ln(r.precision)||(V=V.toFixed(r.precision))}return V}),v=(V,R)=>{if(ln(R)&&(R=d.value),R===0)return Math.round(V);let z=String(V);const M=z.indexOf(".");if(M===-1||!z.replace(".","").split("")[M+R])return V;const X=z.length;return z.charAt(X-1)==="5"&&(z=`${z.slice(0,Math.max(0,X-1))}6`),Number.parseFloat(Number(z).toFixed(R))},y=V=>{if(xr(V))return 0;const R=V.toString(),z=R.indexOf(".");let M=0;return z!==-1&&(M=R.length-z-1),M},_=(V,R=1)=>bt(V)?v(V+r.step*R):a.currentValue,b=()=>{if(r.readonly||p.value||c.value)return;const V=Number(g.value)||0,R=_(V);E(R),n(yr,a.currentValue),W()},w=()=>{if(r.readonly||p.value||l.value)return;const V=Number(g.value)||0,R=_(V,-1);E(R),n(yr,a.currentValue),W()},S=(V,R)=>{const{max:z,min:M,step:B,precision:j,stepStrictly:X,valueOnClear:se}=r;z<M&&hr("InputNumber","min should not be greater than max.");let te=Number(V);if(xr(V)||Number.isNaN(te))return null;if(V===""){if(se===null)return null;te=ht(se)?{min:M,max:z}[se]:se}return X&&(te=v(Math.round(te/B)*B,j),te!==V&&R&&n($t,te)),ln(j)||(te=v(te,j)),(te>z||te<M)&&(te=te>z?z:M,R&&n($t,te)),te},E=(V,R=!0)=>{var z;const M=a.currentValue,B=S(V);if(!R){n($t,B);return}M===B&&V||(a.userInput=null,n($t,B),M!==B&&n(Yt,B,M),r.validateEvent&&((z=u==null?void 0:u.validate)==null||z.call(u,"change").catch(j=>void 0)),a.currentValue=B)},T=V=>{a.userInput=V;const R=V===""?null:Number(V);n(yr,R),E(R,!1)},I=V=>{const R=V!==""?Number(V):"";(bt(R)&&!Number.isNaN(R)||V==="")&&E(R),W(),a.userInput=null},k=()=>{var V,R;(R=(V=i.value)==null?void 0:V.focus)==null||R.call(V)},C=()=>{var V,R;(R=(V=i.value)==null?void 0:V.blur)==null||R.call(V)},N=V=>{n("focus",V)},D=V=>{var R,z;a.userInput=null,Bm()&&a.currentValue===null&&((R=i.value)!=null&&R.input)&&(i.value.input.value=""),n("blur",V),r.validateEvent&&((z=u==null?void 0:u.validate)==null||z.call(u,"blur").catch(M=>void 0))},W=()=>{a.currentValue!==r.modelValue&&(a.currentValue=r.modelValue)},H=V=>{document.activeElement===V.target&&V.preventDefault()};return Pe(()=>r.modelValue,(V,R)=>{const z=S(V,!0);a.userInput===null&&z!==R&&(a.currentValue=z)},{immediate:!0}),xt(()=>{var V;const{min:R,max:z,modelValue:M}=r,B=(V=i.value)==null?void 0:V.input;if(B.setAttribute("role","spinbutton"),Number.isFinite(z)?B.setAttribute("aria-valuemax",String(z)):B.removeAttribute("aria-valuemax"),Number.isFinite(R)?B.setAttribute("aria-valuemin",String(R)):B.removeAttribute("aria-valuemin"),B.setAttribute("aria-valuenow",a.currentValue||a.currentValue===0?String(a.currentValue):""),B.setAttribute("aria-disabled",String(p.value)),!bt(M)&&M!=null){let j=Number(M);Number.isNaN(j)&&(j=null),n($t,j)}B.addEventListener("wheel",H,{passive:!1})}),$o(()=>{var V,R;const z=(V=i.value)==null?void 0:V.input;z==null||z.setAttribute("aria-valuenow",`${(R=a.currentValue)!=null?R:""}`)}),e({focus:k,blur:C}),(V,R)=>(L(),G("div",{class:U([m(o).b(),m(o).m(m(h)),m(o).is("disabled",m(p)),m(o).is("without-controls",!V.controls),m(o).is("controls-right",m(f))]),onDragstart:St(()=>{},["prevent"])},[V.controls?At((L(),G("span",{key:0,role:"button","aria-label":m(s)("el.inputNumber.decrease"),class:U([m(o).e("decrease"),m(o).is("disabled",m(l))]),onKeydown:Sn(w,["enter"])},[ve(V.$slots,"decrease-icon",{},()=>[A(m(lt),null,{default:O(()=>[m(f)?(L(),ye(m(fi),{key:0})):(L(),ye(m(d9),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[m($p),w]]):ce("v-if",!0),V.controls?At((L(),G("span",{key:1,role:"button","aria-label":m(s)("el.inputNumber.increase"),class:U([m(o).e("increase"),m(o).is("disabled",m(c))]),onKeydown:Sn(b,["enter"])},[ve(V.$slots,"increase-icon",{},()=>[A(m(lt),null,{default:O(()=>[m(f)?(L(),ye(m(Mm),{key:0})):(L(),ye(m(Jb),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[m($p),b]]):ce("v-if",!0),A(m(ir),{id:V.id,ref_key:"input",ref:i,type:"number",step:V.step,"model-value":m(g),placeholder:V.placeholder,readonly:V.readonly,disabled:m(p),size:m(h),max:V.max,min:V.min,name:V.name,"aria-label":V.ariaLabel,"validate-event":!1,onKeydown:[Sn(St(b,["prevent"]),["up"]),Sn(St(w,["prevent"]),["down"])],onBlur:D,onFocus:N,onInput:T,onChange:I},js({_:2},[V.$slots.prefix?{name:"prefix",fn:O(()=>[ve(V.$slots,"prefix")])}:void 0,V.$slots.suffix?{name:"suffix",fn:O(()=>[ve(V.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var $X=Ye(LX,[["__file","input-number.vue"]]);const wf=Bt($X),PX=qe({modelValue:{type:me(Array)},max:Number,tagType:{...Ui.type,default:"info"},tagEffect:Ui.effect,trigger:{type:me(String),default:ot.enter},draggable:{type:Boolean,default:!1},delimiter:{type:[String,RegExp],default:""},size:pr,clearable:Boolean,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:String,default:"off"},saveOnBlur:{type:Boolean,default:!0},ariaLabel:String}),DX={[$t]:t=>Ke(t)||ln(t),[Yt]:t=>Ke(t)||ln(t),[yr]:t=>ht(t),"add-tag":t=>ht(t),"remove-tag":t=>ht(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0};function OX({props:t,emit:e,formItem:n}){const r=zr(),s=fr(),o=On(),i=q(),a=P(()=>["small"].includes(s.value)?"small":"default"),u=P(()=>{var k;return(k=t.modelValue)!=null&&k.length?void 0:t.placeholder}),l=P(()=>!(t.readonly||r.value)),c=P(()=>{var k,C;return ln(t.max)?!1:((C=(k=t.modelValue)==null?void 0:k.length)!=null?C:0)>=t.max}),d=k=>{var C,N;if(c.value){i.value=void 0;return}if(!S.value){if(t.delimiter){const D=(C=i.value)==null?void 0:C.replace(t.delimiter,"");(D==null?void 0:D.length)!==((N=i.value)==null?void 0:N.length)&&(i.value=D,h())}e(yr,k.target.value)}},f=k=>{var C;if(!S.value)switch(k.code){case t.trigger:k.preventDefault(),k.stopPropagation(),h();break;case ot.numpadEnter:t.trigger===ot.enter&&(k.preventDefault(),k.stopPropagation(),h());break;case ot.backspace:!i.value&&((C=t.modelValue)!=null&&C.length)&&(k.preventDefault(),k.stopPropagation(),p(t.modelValue.length-1));break}},h=()=>{var k,C;const N=(k=i.value)==null?void 0:k.trim();if(!N||c.value)return;const D=[...(C=t.modelValue)!=null?C:[],N];e($t,D),e(Yt,D),e("add-tag",N),i.value=void 0},p=k=>{var C;const N=((C=t.modelValue)!=null?C:[]).slice(),[D]=N.splice(k,1);e($t,N),e(Yt,N),e("remove-tag",D)},g=()=>{i.value=void 0,e($t,void 0),e(Yt,void 0),e("clear")},v=(k,C,N)=>{var D;const W=((D=t.modelValue)!=null?D:[]).slice(),[H]=W.splice(k,1),V=C>k&&N==="before"?-1:C<k&&N==="after"?1:0;W.splice(C+V,0,H),e($t,W),e(Yt,W)},y=()=>{var k;(k=o.value)==null||k.focus()},_=()=>{var k;(k=o.value)==null||k.blur()},{wrapperRef:b,isFocused:w}=Ka(o,{beforeFocus(){return r.value},afterBlur(){var k;t.saveOnBlur?h():i.value=void 0,t.validateEvent&&((k=n==null?void 0:n.validate)==null||k.call(n,"blur").catch(C=>void 0))}}),{isComposing:S,handleCompositionStart:E,handleCompositionUpdate:T,handleCompositionEnd:I}=mf({afterComposition:d});return Pe(()=>t.modelValue,()=>{var k;t.validateEvent&&((k=n==null?void 0:n.validate)==null||k.call(n,Yt).catch(C=>void 0))}),{inputRef:o,wrapperRef:b,isFocused:w,isComposing:S,inputValue:i,size:s,tagSize:a,placeholder:u,closable:l,disabled:r,inputLimit:c,handleDragged:v,handleInput:d,handleKeydown:f,handleAddTag:h,handleRemoveTag:p,handleClear:g,handleCompositionStart:E,handleCompositionUpdate:T,handleCompositionEnd:I,focus:y,blur:_}}function MX(){const t=q(!1);return{hovering:t,handleMouseEnter:()=>{t.value=!0},handleMouseLeave:()=>{t.value=!1}}}function z1(){const t=On(),e=q(0),n=11,r=P(()=>({minWidth:`${Math.max(e.value,n)}px`}));return qn(t,()=>{var o,i;e.value=(i=(o=t.value)==null?void 0:o.getBoundingClientRect().width)!=null?i:0}),{calculatorRef:t,calculatorWidth:e,inputStyle:r}}function NX({wrapperRef:t,handleDragged:e,afterDragged:n}){const r=Ne("input-tag"),s=On(),o=q(!1);let i,a,u,l;function c(p){return`.${r.e("inner")} .${r.namespace.value}-tag:nth-child(${p+1})`}function d(p,g){i=g,a=t.value.querySelector(c(g)),a&&(a.style.opacity="0.5"),p.dataTransfer.effectAllowed="move"}function f(p,g){if(u=g,p.preventDefault(),p.dataTransfer.dropEffect="move",ln(i)||i===g){o.value=!1;return}const v=t.value.querySelector(c(g)).getBoundingClientRect(),y=i+1!==g,_=i-1!==g,b=p.clientX-v.left,w=y?_?.5:1:-1,S=_?y?.5:0:1;b<=v.width*w?l="before":b>v.width*S?l="after":l=void 0;const E=t.value.querySelector(`.${r.e("inner")}`),T=E.getBoundingClientRect(),I=Number.parseFloat(Pi(E,"gap"))/2,k=v.top-T.top;let C=-9999;if(l==="before")C=Math.max(v.left-T.left-I,Math.floor(-I/2));else if(l==="after"){const N=v.right-T.left;C=N+(T.width===N?Math.floor(I/2):I)}TI(s.value,{top:`${k}px`,left:`${C}px`}),o.value=!!l}function h(p){p.preventDefault(),a&&(a.style.opacity=""),l&&!ln(i)&&!ln(u)&&i!==u&&e(i,u,l),o.value=!1,i=void 0,a=null,u=void 0,l=void 0,n==null||n()}return{dropIndicatorRef:s,showDropIndicator:o,handleDragStart:d,handleDragOver:f,handleDragEnd:h}}function FX({props:t,isFocused:e,hovering:n,disabled:r,inputValue:s,size:o,validateState:i,validateIcon:a,needStatusIcon:u}){const l=Wi(),c=_r(),d=Ne("input-tag"),f=Ne("input"),h=P(()=>[d.b(),d.is("focused",e.value),d.is("hovering",n.value),d.is("disabled",r.value),d.m(o.value),d.e("wrapper"),l.class]),p=P(()=>[l.style]),g=P(()=>{var _,b;return[d.e("inner"),d.is("draggable",t.draggable),d.is("left-space",!((_=t.modelValue)!=null&&_.length)&&!c.prefix),d.is("right-space",!((b=t.modelValue)!=null&&b.length)&&!y.value)]}),v=P(()=>{var _;return t.clearable&&!r.value&&!t.readonly&&(((_=t.modelValue)==null?void 0:_.length)||s.value)&&(e.value||n.value)}),y=P(()=>c.suffix||v.value||i.value&&a.value&&u.value);return{ns:d,nsInput:f,containerKls:h,containerStyle:p,innerKls:g,showClear:v,showSuffix:y}}const BX=ee({name:"ElInputTag",inheritAttrs:!1}),VX=ee({...BX,props:PX,emits:DX,setup(t,{expose:e,emit:n}){const r=t,s=pf(),o=_r(),{form:i,formItem:a}=Kr(),{inputId:u}=po(r,{formItemContext:a}),l=P(()=>{var pe;return(pe=i==null?void 0:i.statusIcon)!=null?pe:!1}),c=P(()=>(a==null?void 0:a.validateState)||""),d=P(()=>c.value&&Fm[c.value]),{inputRef:f,wrapperRef:h,isFocused:p,inputValue:g,size:v,tagSize:y,placeholder:_,closable:b,disabled:w,handleDragged:S,handleInput:E,handleKeydown:T,handleRemoveTag:I,handleClear:k,handleCompositionStart:C,handleCompositionUpdate:N,handleCompositionEnd:D,focus:W,blur:H}=OX({props:r,emit:n,formItem:a}),{hovering:V,handleMouseEnter:R,handleMouseLeave:z}=MX(),{calculatorRef:M,inputStyle:B}=z1(),{dropIndicatorRef:j,showDropIndicator:X,handleDragStart:se,handleDragOver:te,handleDragEnd:ie}=NX({wrapperRef:h,handleDragged:S,afterDragged:W}),{ns:fe,nsInput:ue,containerKls:J,containerStyle:de,innerKls:ae,showClear:Ae,showSuffix:Re}=FX({props:r,hovering:V,isFocused:p,inputValue:g,disabled:w,size:v,validateState:c,validateIcon:d,needStatusIcon:l});return e({focus:W,blur:H}),(pe,ne)=>(L(),G("div",{ref_key:"wrapperRef",ref:h,class:U(m(J)),style:dt(m(de)),onMouseenter:m(R),onMouseleave:m(z)},[m(o).prefix?(L(),G("div",{key:0,class:U(m(fe).e("prefix"))},[ve(pe.$slots,"prefix")],2)):ce("v-if",!0),F("div",{class:U(m(ae))},[(L(!0),G(tt,null,It(pe.modelValue,(le,Se)=>(L(),ye(m(co),{key:Se,size:m(y),closable:m(b),type:pe.tagType,effect:pe.tagEffect,draggable:m(b)&&pe.draggable,"disable-transitions":"",onClose:Ce=>m(I)(Se),onDragstart:Ce=>m(se)(Ce,Se),onDragover:Ce=>m(te)(Ce,Se),onDragend:m(ie),onDrop:St(()=>{},["stop"])},{default:O(()=>[ve(pe.$slots,"tag",{value:le,index:Se},()=>[xe(ge(le),1)])]),_:2},1032,["size","closable","type","effect","draggable","onClose","onDragstart","onDragover","onDragend","onDrop"]))),128)),F("div",{class:U(m(fe).e("input-wrapper"))},[At(F("input",Xt({id:m(u),ref_key:"inputRef",ref:f,"onUpdate:modelValue":le=>Dn(g)?g.value=le:null},m(s),{type:"text",minlength:pe.minlength,maxlength:pe.maxlength,disabled:m(w),readonly:pe.readonly,autocomplete:pe.autocomplete,tabindex:pe.tabindex,placeholder:m(_),autofocus:pe.autofocus,ariaLabel:pe.ariaLabel,class:m(fe).e("input"),style:m(B),onCompositionstart:m(C),onCompositionupdate:m(N),onCompositionend:m(D),onInput:m(E),onKeydown:m(T)}),null,16,["id","onUpdate:modelValue","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onKeydown"]),[[si,m(g)]]),F("span",{ref_key:"calculatorRef",ref:M,"aria-hidden":"true",class:U(m(fe).e("input-calculator")),textContent:ge(m(g))},null,10,["textContent"])],2),At(F("div",{ref_key:"dropIndicatorRef",ref:j,class:U(m(fe).e("drop-indicator"))},null,2),[[nn,m(X)]])],2),m(Re)?(L(),G("div",{key:1,class:U(m(fe).e("suffix"))},[ve(pe.$slots,"suffix"),m(Ae)?(L(),ye(m(lt),{key:0,class:U([m(fe).e("icon"),m(fe).e("clear")]),onMousedown:St(m(bn),["prevent"]),onClick:m(k)},{default:O(()=>[A(m(Yi))]),_:1},8,["class","onMousedown","onClick"])):ce("v-if",!0),m(c)&&m(d)&&m(l)?(L(),ye(m(lt),{key:1,class:U([m(ue).e("icon"),m(ue).e("validateIcon"),m(ue).is("loading",m(c)==="validating")])},{default:O(()=>[(L(),ye(Wt(m(d))))]),_:1},8,["class"])):ce("v-if",!0)],2)):ce("v-if",!0)],46,["onMouseenter","onMouseleave"]))}});var UX=Ye(VX,[["__file","input-tag.vue"]]);const HX=Bt(UX),jX=qe({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:[Boolean,String],values:[!0,!1,"always","never","hover"],default:"hover"},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:_n}}),KX={click:t=>t instanceof MouseEvent},zX=ee({name:"ElLink"}),WX=ee({...zX,props:jX,emits:KX,setup(t,{emit:e}){const n=t;Fi({scope:"el-link",from:"The underline option (boolean)",replacement:"'always' | 'hover' | 'never'",version:"3.0.0",ref:"https://element-plus.org/en-US/component/link.html#underline"},P(()=>En(n.underline)));const r=Ne("link"),s=P(()=>[r.b(),r.m(n.type),r.is("disabled",n.disabled),r.is("underline",o.value==="always"),r.is("hover-underline",o.value==="hover"&&!n.disabled)]),o=P(()=>En(n.underline)?n.underline?"hover":"never":n.underline);function i(a){n.disabled||e("click",a)}return(a,u)=>(L(),G("a",{class:U(m(s)),href:a.disabled||!a.href?void 0:a.href,target:a.disabled||!a.href?void 0:a.target,onClick:i},[a.icon?(L(),ye(m(lt),{key:0},{default:O(()=>[(L(),ye(Wt(a.icon)))]),_:1})):ce("v-if",!0),a.$slots.default?(L(),G("span",{key:1,class:U(m(r).e("inner"))},[ve(a.$slots,"default")],2)):ce("v-if",!0),a.$slots.icon?ve(a.$slots,"icon",{key:2}):ce("v-if",!0)],10,["href","target"]))}});var GX=Ye(WX,[["__file","link.vue"]]);const VR=Bt(GX);let qX=class{constructor(e,n){this.parent=e,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{let s=!1;switch(r.code){case ot.down:{this.gotoSubIndex(this.subIndex+1),s=!0;break}case ot.up:{this.gotoSubIndex(this.subIndex-1),s=!0;break}case ot.tab:{Fh(e,"mouseleave");break}case ot.enter:case ot.numpadEnter:case ot.space:{s=!0,r.currentTarget.click();break}}return s&&(r.preventDefault(),r.stopPropagation()),!1})})}},YX=class{constructor(e,n){this.domNode=e,this.submenu=null,this.submenu=null,this.init(n)}init(e){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${e}-menu`);n&&(this.submenu=new qX(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let n=!1;switch(e.code){case ot.down:{Fh(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case ot.up:{Fh(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case ot.tab:{Fh(e.currentTarget,"mouseleave");break}case ot.enter:case ot.numpadEnter:case ot.space:{n=!0,e.currentTarget.click();break}}n&&e.preventDefault()})}},XX=class{constructor(e,n){this.domNode=e,this.init(n)}init(e){const n=this.domNode.childNodes;Array.from(n).forEach(r=>{r.nodeType===1&&new YX(r,e)})}};const QX=ee({name:"ElMenuCollapseTransition"}),ZX=ee({...QX,setup(t){const e=Ne("menu"),n={onBeforeEnter:r=>r.style.opacity="0.2",onEnter(r,s){Js(r,`${e.namespace.value}-opacity-transition`),r.style.opacity="1",s()},onAfterEnter(r){ns(r,`${e.namespace.value}-opacity-transition`),r.style.opacity=""},onBeforeLeave(r){r.dataset||(r.dataset={}),Ts(r,e.m("collapse"))?(ns(r,e.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),Js(r,e.m("collapse"))):(Js(r,e.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),ns(r,e.m("collapse"))),r.style.width=`${r.scrollWidth}px`,r.style.overflow="hidden"},onLeave(r){Js(r,"horizontal-collapse-transition"),r.style.width=`${r.dataset.scrollWidth}px`}};return(r,s)=>(L(),ye(Tr,Xt({mode:"out-in"},m(n)),{default:O(()=>[ve(r.$slots,"default")]),_:3},16))}});var JX=Ye(ZX,[["__file","menu-collapse-transition.vue"]]);function UR(t,e){const n=P(()=>{let s=t.parent;const o=[e.value];for(;s.type.name!=="ElMenu";)s.props.index&&o.unshift(s.props.index),s=s.parent;return o});return{parentMenu:P(()=>{let s=t.parent;for(;s&&!["ElMenu","ElSubMenu"].includes(s.type.name);)s=s.parent;return s}),indexPath:n}}function eQ(t){return P(()=>{const n=t.backgroundColor;return n?new vA(n).shade(20).toString():""})}const HR=(t,e)=>{const n=Ne("menu");return P(()=>n.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":eQ(t).value||"","active-color":t.activeTextColor||"",level:`${e}`}))},tQ=qe({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:_n},expandOpenIcon:{type:_n},collapseCloseIcon:{type:_n},collapseOpenIcon:{type:_n}}),mv="ElSubMenu";var W1=ee({name:mv,props:tQ,setup(t,{slots:e,expose:n}){const r=Gt(),{indexPath:s,parentMenu:o}=UR(r,P(()=>t.index)),i=Ne("menu"),a=Ne("sub-menu"),u=rt("rootMenu");u||hr(mv,"can not inject root menu");const l=rt(`subMenu:${o.value.uid}`);l||hr(mv,"can not inject sub menu");const c=q({}),d=q({});let f;const h=q(!1),p=q(),g=q(),v=P(()=>I.value==="horizontal"&&_.value?"bottom-start":"right-start"),y=P(()=>I.value==="horizontal"&&_.value||I.value==="vertical"&&!u.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?E.value?t.expandOpenIcon:t.expandCloseIcon:fi:t.collapseCloseIcon&&t.collapseOpenIcon?E.value?t.collapseOpenIcon:t.collapseCloseIcon:ps),_=P(()=>l.level===0),b=P(()=>{const X=t.teleported;return ln(X)?_.value:X}),w=P(()=>u.props.collapse?`${i.namespace.value}-zoom-in-left`:`${i.namespace.value}-zoom-in-top`),S=P(()=>I.value==="horizontal"&&_.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),E=P(()=>u.openedMenus.includes(t.index)),T=P(()=>[...Object.values(c.value),...Object.values(d.value)].some(({active:X})=>X)),I=P(()=>u.props.mode),k=P(()=>u.props.persistent),C=Ft({index:t.index,indexPath:s,active:T}),N=HR(u.props,l.level+1),D=P(()=>{var X;return(X=t.popperOffset)!=null?X:u.props.popperOffset}),W=P(()=>{var X;return(X=t.popperClass)!=null?X:u.props.popperClass}),H=P(()=>{var X;return(X=t.showTimeout)!=null?X:u.props.showTimeout}),V=P(()=>{var X;return(X=t.hideTimeout)!=null?X:u.props.hideTimeout}),R=()=>{var X,se,te;return(te=(se=(X=g.value)==null?void 0:X.popperRef)==null?void 0:se.popperInstanceRef)==null?void 0:te.destroy()},z=X=>{X||R()},M=()=>{u.props.menuTrigger==="hover"&&u.props.mode==="horizontal"||u.props.collapse&&u.props.mode==="vertical"||t.disabled||u.handleSubMenuClick({index:t.index,indexPath:s.value,active:T.value})},B=(X,se=H.value)=>{var te;if(X.type!=="focus"){if(u.props.menuTrigger==="click"&&u.props.mode==="horizontal"||!u.props.collapse&&u.props.mode==="vertical"||t.disabled){l.mouseInChild.value=!0;return}l.mouseInChild.value=!0,f==null||f(),{stop:f}=xl(()=>{u.openMenu(t.index,s.value)},se),b.value&&((te=o.value.vnode.el)==null||te.dispatchEvent(new MouseEvent("mouseenter")))}},j=(X=!1)=>{var se;if(u.props.menuTrigger==="click"&&u.props.mode==="horizontal"||!u.props.collapse&&u.props.mode==="vertical"){l.mouseInChild.value=!1;return}f==null||f(),l.mouseInChild.value=!1,{stop:f}=xl(()=>!h.value&&u.closeMenu(t.index,s.value),V.value),b.value&&X&&((se=l.handleMouseleave)==null||se.call(l,!0))};Pe(()=>u.props.collapse,X=>z(!!X));{const X=te=>{d.value[te.index]=te},se=te=>{delete d.value[te.index]};Qt(`subMenu:${r.uid}`,{addSubMenu:X,removeSubMenu:se,handleMouseleave:j,mouseInChild:h,level:l.level+1})}return n({opened:E}),xt(()=>{u.addSubMenu(C),l.addSubMenu(C)}),In(()=>{l.removeSubMenu(C),u.removeSubMenu(C)}),()=>{var X;const se=[(X=e.title)==null?void 0:X.call(e),_t(lt,{class:a.e("icon-arrow"),style:{transform:E.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&u.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>ht(y.value)?_t(r.appContext.components[y.value]):_t(y.value)})],te=u.isMenuPopup?_t(wr,{ref:g,visible:E.value,effect:"light",pure:!0,offset:D.value,showArrow:!1,persistent:k.value,popperClass:W.value,placement:v.value,teleported:b.value,fallbackPlacements:S.value,transition:w.value,gpuAcceleration:!1},{content:()=>{var ie;return _t("div",{class:[i.m(I.value),i.m("popup-container"),W.value],onMouseenter:fe=>B(fe,100),onMouseleave:()=>j(!0),onFocus:fe=>B(fe,100)},[_t("ul",{class:[i.b(),i.m("popup"),i.m(`popup-${v.value}`)],style:N.value},[(ie=e.default)==null?void 0:ie.call(e)])])},default:()=>_t("div",{class:a.e("title"),onClick:M},se)}):_t(tt,{},[_t("div",{class:a.e("title"),ref:p,onClick:M},se),_t(yf,{},{default:()=>{var ie;return At(_t("ul",{role:"menu",class:[i.b(),i.m("inline")],style:N.value},[(ie=e.default)==null?void 0:ie.call(e)]),[[nn,E.value]])}})]);return _t("li",{class:[a.b(),a.is("active",T.value),a.is("opened",E.value),a.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:E.value,onMouseenter:B,onMouseleave:()=>j(),onFocus:B},[te])}}});const nQ=qe({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:me(Array),default:()=>Yn([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:_n,default:()=>g9},popperEffect:{type:me(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},persistent:{type:Boolean,default:!0}}),gv=t=>Ke(t)&&t.every(e=>ht(e)),rQ={close:(t,e)=>ht(t)&&gv(e),open:(t,e)=>ht(t)&&gv(e),select:(t,e,n,r)=>ht(t)&&gv(e)&&Kt(n)&&(ln(r)||r instanceof Promise)};var sQ=ee({name:"ElMenu",props:nQ,emits:rQ,setup(t,{emit:e,slots:n,expose:r}){const s=Gt(),o=s.appContext.config.globalProperties.$router,i=q(),a=Ne("menu"),u=Ne("sub-menu"),l=q(-1),c=q(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),d=q(t.defaultActive),f=q({}),h=q({}),p=P(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),g=()=>{const V=d.value&&f.value[d.value];if(!V||t.mode==="horizontal"||t.collapse)return;V.indexPath.forEach(z=>{const M=h.value[z];M&&v(z,M.indexPath)})},v=(V,R)=>{c.value.includes(V)||(t.uniqueOpened&&(c.value=c.value.filter(z=>R.includes(z))),c.value.push(V),e("open",V,R))},y=V=>{const R=c.value.indexOf(V);R!==-1&&c.value.splice(R,1)},_=(V,R)=>{y(V),e("close",V,R)},b=({index:V,indexPath:R})=>{c.value.includes(V)?_(V,R):v(V,R)},w=V=>{(t.mode==="horizontal"||t.collapse)&&(c.value=[]);const{index:R,indexPath:z}=V;if(!(xr(R)||xr(z)))if(t.router&&o){const M=V.route||R,B=o.push(M).then(j=>(j||(d.value=R),j));e("select",R,z,{index:R,indexPath:z,route:M},B)}else d.value=R,e("select",R,z,{index:R,indexPath:z})},S=V=>{var R;const z=f.value,M=z[V]||d.value&&z[d.value]||z[t.defaultActive];d.value=(R=M==null?void 0:M.index)!=null?R:V},E=V=>{const R=getComputedStyle(V),z=Number.parseInt(R.marginLeft,10),M=Number.parseInt(R.marginRight,10);return V.offsetWidth+z+M||0},T=()=>{var V,R;if(!i.value)return-1;const z=Array.from((R=(V=i.value)==null?void 0:V.childNodes)!=null?R:[]).filter(fe=>fe.nodeName!=="#text"||fe.nodeValue),M=64,B=getComputedStyle(i.value),j=Number.parseInt(B.paddingLeft,10),X=Number.parseInt(B.paddingRight,10),se=i.value.clientWidth-j-X;let te=0,ie=0;return z.forEach((fe,ue)=>{fe.nodeName!=="#comment"&&(te+=E(fe),te<=se-M&&(ie=ue+1))}),ie===z.length?-1:ie},I=V=>h.value[V].indexPath,k=(V,R=33.34)=>{let z;return()=>{z&&clearTimeout(z),z=setTimeout(()=>{V()},R)}};let C=!0;const N=()=>{if(l.value===T())return;const V=()=>{l.value=-1,pt(()=>{l.value=T()})};C?V():k(V)(),C=!1};Pe(()=>t.defaultActive,V=>{f.value[V]||(d.value=""),S(V)}),Pe(()=>t.collapse,V=>{V&&(c.value=[])}),Pe(f.value,g);let D;Fr(()=>{t.mode==="horizontal"&&t.ellipsis?D=qn(i,N).stop:D==null||D()});const W=q(!1);{const V=B=>{h.value[B.index]=B},R=B=>{delete h.value[B.index]};Qt("rootMenu",Ft({props:t,openedMenus:c,items:f,subMenus:h,activeIndex:d,isMenuPopup:p,addMenuItem:B=>{f.value[B.index]=B},removeMenuItem:B=>{delete f.value[B.index]},addSubMenu:V,removeSubMenu:R,openMenu:v,closeMenu:_,handleMenuItemClick:w,handleSubMenuClick:b})),Qt(`subMenu:${s.uid}`,{addSubMenu:V,removeSubMenu:R,mouseInChild:W,level:0})}xt(()=>{t.mode==="horizontal"&&new XX(s.vnode.el,a.namespace.value)}),r({open:R=>{const{indexPath:z}=h.value[R];z.forEach(M=>v(M,z))},close:y,updateActiveIndex:S,handleResize:N});const H=HR(t,0);return()=>{var V,R;let z=(R=(V=n.default)==null?void 0:V.call(n))!=null?R:[];const M=[];if(t.mode==="horizontal"&&i.value){const X=Oi(z),se=l.value===-1?X:X.slice(0,l.value),te=l.value===-1?[]:X.slice(l.value);te!=null&&te.length&&t.ellipsis&&(z=se,M.push(_t(W1,{index:"sub-menu-more",class:u.e("hide-arrow"),popperOffset:t.popperOffset},{title:()=>_t(lt,{class:u.e("icon-more")},{default:()=>_t(t.ellipsisIcon)}),default:()=>te})))}const B=t.closeOnClickOutside?[[Hi,()=>{c.value.length&&(W.value||(c.value.forEach(X=>e("close",X,I(X))),c.value=[]))}]]:[],j=At(_t("ul",{key:String(t.collapse),role:"menubar",ref:i,style:H.value,class:{[a.b()]:!0,[a.m(t.mode)]:!0,[a.m("collapse")]:t.collapse}},[...z,...M]),B);return t.collapseTransition&&t.mode==="vertical"?_t(JX,()=>j):j}}});const oQ=qe({index:{type:me([String,null]),default:null},route:{type:me([String,Object])},disabled:Boolean}),iQ={click:t=>ht(t.index)&&Ke(t.indexPath)},W0="ElMenuItem",aQ=ee({name:W0}),lQ=ee({...aQ,props:oQ,emits:iQ,setup(t,{expose:e,emit:n}){const r=t,s=Gt(),o=rt("rootMenu"),i=Ne("menu"),a=Ne("menu-item");o||hr(W0,"can not inject root menu");const{parentMenu:u,indexPath:l}=UR(s,wn(r,"index")),c=rt(`subMenu:${u.value.uid}`);c||hr(W0,"can not inject sub menu");const d=P(()=>r.index===o.activeIndex),f=Ft({index:r.index,indexPath:l,active:d}),h=()=>{r.disabled||(o.handleMenuItemClick({index:r.index,indexPath:l.value,route:r.route}),n("click",f))};return xt(()=>{c.addSubMenu(f),o.addMenuItem(f)}),In(()=>{c.removeSubMenu(f),o.removeMenuItem(f)}),e({parentMenu:u,rootMenu:o,active:d,nsMenu:i,nsMenuItem:a,handleClick:h}),(p,g)=>(L(),G("li",{class:U([m(a).b(),m(a).is("active",m(d)),m(a).is("disabled",p.disabled)]),role:"menuitem",tabindex:"-1",onClick:h},[m(u).type.name==="ElMenu"&&m(o).props.collapse&&p.$slots.title?(L(),ye(m(wr),{key:0,effect:m(o).props.popperEffect,placement:"right","fallback-placements":["left"],persistent:m(o).props.persistent},{content:O(()=>[ve(p.$slots,"title")]),default:O(()=>[F("div",{class:U(m(i).be("tooltip","trigger"))},[ve(p.$slots,"default")],2)]),_:3},8,["effect","persistent"])):(L(),G(tt,{key:1},[ve(p.$slots,"default"),ve(p.$slots,"title")],64))],2))}});var jR=Ye(lQ,[["__file","menu-item.vue"]]);const uQ={title:String},cQ=ee({name:"ElMenuItemGroup"}),dQ=ee({...cQ,props:uQ,setup(t){const e=Ne("menu-item-group");return(n,r)=>(L(),G("li",{class:U(m(e).b())},[F("div",{class:U(m(e).e("title"))},[n.$slots.title?ve(n.$slots,"title",{key:1}):(L(),G(tt,{key:0},[xe(ge(n.title),1)],64))],2),F("ul",null,[ve(n.$slots,"default")])],2))}});var KR=Ye(dQ,[["__file","menu-item-group.vue"]]);const zR=Bt(sQ,{MenuItem:jR,MenuItemGroup:KR,SubMenu:W1}),WR=Xn(jR),fQ=Xn(KR),GR=Xn(W1),hQ=qe({icon:{type:_n,default:()=>wV},title:String,content:{type:String,default:""}}),pQ={back:()=>!0},mQ=ee({name:"ElPageHeader"}),gQ=ee({...mQ,props:hQ,emits:pQ,setup(t,{emit:e}){const{t:n}=un(),r=Ne("page-header");function s(){e("back")}return(o,i)=>(L(),G("div",{class:U([m(r).b(),{[m(r).m("has-breadcrumb")]:!!o.$slots.breadcrumb,[m(r).m("has-extra")]:!!o.$slots.extra,[m(r).is("contentful")]:!!o.$slots.default}])},[o.$slots.breadcrumb?(L(),G("div",{key:0,class:U(m(r).e("breadcrumb"))},[ve(o.$slots,"breadcrumb")],2)):ce("v-if",!0),F("div",{class:U(m(r).e("header"))},[F("div",{class:U(m(r).e("left"))},[F("div",{class:U(m(r).e("back")),role:"button",tabindex:"0",onClick:s},[o.icon||o.$slots.icon?(L(),G("div",{key:0,"aria-label":o.title||m(n)("el.pageHeader.title"),class:U(m(r).e("icon"))},[ve(o.$slots,"icon",{},()=>[o.icon?(L(),ye(m(lt),{key:0},{default:O(()=>[(L(),ye(Wt(o.icon)))]),_:1})):ce("v-if",!0)])],10,["aria-label"])):ce("v-if",!0),F("div",{class:U(m(r).e("title"))},[ve(o.$slots,"title",{},()=>[xe(ge(o.title||m(n)("el.pageHeader.title")),1)])],2)],2),A(m(CR),{direction:"vertical"}),F("div",{class:U(m(r).e("content"))},[ve(o.$slots,"content",{},()=>[xe(ge(o.content),1)])],2)],2),o.$slots.extra?(L(),G("div",{key:0,class:U(m(r).e("extra"))},[ve(o.$slots,"extra")],2)):ce("v-if",!0)],2),o.$slots.default?(L(),G("div",{key:1,class:U(m(r).e("main"))},[ve(o.$slots,"default")],2)):ce("v-if",!0)],2))}});var vQ=Ye(gQ,[["__file","page-header.vue"]]);const yQ=Bt(vQ),qR=Symbol("elPaginationKey"),bQ=qe({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:_n}}),wQ={click:t=>t instanceof MouseEvent},_Q=ee({name:"ElPaginationPrev"}),SQ=ee({..._Q,props:bQ,emits:wQ,setup(t){const e=t,{t:n}=un(),r=P(()=>e.disabled||e.currentPage<=1);return(s,o)=>(L(),G("button",{type:"button",class:"btn-prev",disabled:m(r),"aria-label":s.prevText||m(n)("el.pagination.prev"),"aria-disabled":m(r),onClick:i=>s.$emit("click",i)},[s.prevText?(L(),G("span",{key:0},ge(s.prevText),1)):(L(),ye(m(lt),{key:1},{default:O(()=>[(L(),ye(Wt(s.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var EQ=Ye(SQ,[["__file","prev.vue"]]);const xQ=qe({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:_n}}),TQ=ee({name:"ElPaginationNext"}),CQ=ee({...TQ,props:xQ,emits:["click"],setup(t){const e=t,{t:n}=un(),r=P(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(s,o)=>(L(),G("button",{type:"button",class:"btn-next",disabled:m(r),"aria-label":s.nextText||m(n)("el.pagination.next"),"aria-disabled":m(r),onClick:i=>s.$emit("click",i)},[s.nextText?(L(),G("span",{key:0},ge(s.nextText),1)):(L(),ye(m(lt),{key:1},{default:O(()=>[(L(),ye(Wt(s.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var kQ=Ye(CQ,[["__file","next.vue"]]);const YR=Symbol("ElSelectGroup"),dc=Symbol("ElSelect"),G0="ElOption",IQ=qe({value:{type:[String,Number,Boolean,Object],required:!0},label:{type:[String,Number]},created:Boolean,disabled:Boolean});function AQ(t,e){const n=rt(dc);n||hr(G0,"usage: <el-select><el-option /></el-select/>");const r=rt(YR,{disabled:!1}),s=P(()=>c(Jr(n.props.modelValue),t.value)),o=P(()=>{var h;if(n.props.multiple){const p=Jr((h=n.props.modelValue)!=null?h:[]);return!s.value&&p.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),i=P(()=>t.label||(Kt(t.value)?"":t.value)),a=P(()=>t.value||t.label||""),u=P(()=>t.disabled||e.groupDisabled||o.value),l=Gt(),c=(h=[],p)=>{if(Kt(t.value)){const g=n.props.valueKey;return h&&h.some(v=>An(or(v,g))===or(p,g))}else return h&&h.includes(p)},d=()=>{!t.disabled&&!r.disabled&&(n.states.hoveringIndex=n.optionsArray.indexOf(l.proxy))},f=h=>{const p=new RegExp(x1(h),"i");e.visible=p.test(String(i.value))||t.created};return Pe(()=>i.value,()=>{!t.created&&!n.props.remote&&n.setSelected()}),Pe(()=>t.value,(h,p)=>{const{remote:g,valueKey:v}=n.props;if((g?h!==p:!Lr(h,p))&&(n.onOptionDestroy(p,l.proxy),n.onOptionCreate(l.proxy)),!t.created&&!g){if(v&&Kt(h)&&Kt(p)&&h[v]===p[v])return;n.setSelected()}}),Pe(()=>r.disabled,()=>{e.groupDisabled=r.disabled},{immediate:!0}),{select:n,currentLabel:i,currentValue:a,itemSelected:s,isDisabled:u,hoverItem:d,updateOption:f}}const RQ=ee({name:G0,componentName:G0,props:IQ,setup(t){const e=Ne("select"),n=Br(),r=P(()=>[e.be("dropdown","item"),e.is("disabled",m(a)),e.is("selected",m(i)),e.is("hovering",m(f))]),s=Ft({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:o,itemSelected:i,isDisabled:a,select:u,hoverItem:l,updateOption:c}=AQ(t,s),{visible:d,hover:f}=$r(s),h=Gt().proxy;u.onOptionCreate(h),In(()=>{const g=h.value,{selected:v}=u.states,y=v.some(_=>_.value===h.value);pt(()=>{u.states.cachedOptions.get(g)===h&&!y&&u.states.cachedOptions.delete(g)}),u.onOptionDestroy(g,h)});function p(){a.value||u.handleOptionSelect(h)}return{ns:e,id:n,containerKls:r,currentLabel:o,itemSelected:i,isDisabled:a,select:u,visible:d,hover:f,states:s,hoverItem:l,updateOption:c,selectOptionClick:p}}});function LQ(t,e){return At((L(),G("li",{id:t.id,class:U(t.containerKls),role:"option","aria-disabled":t.isDisabled||void 0,"aria-selected":t.itemSelected,onMousemove:t.hoverItem,onClick:St(t.selectOptionClick,["stop"])},[ve(t.$slots,"default",{},()=>[F("span",null,ge(t.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[nn,t.visible]])}var G1=Ye(RQ,[["render",LQ],["__file","option.vue"]]);const $Q=ee({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=rt(dc),e=Ne("select"),n=P(()=>t.props.popperClass),r=P(()=>t.props.multiple),s=P(()=>t.props.fitInputWidth),o=q("");function i(){var a;o.value=`${(a=t.selectRef)==null?void 0:a.offsetWidth}px`}return xt(()=>{i(),qn(t.selectRef,i)}),{ns:e,minWidth:o,popperClass:n,isMultiple:r,isFitInputWidth:s}}});function PQ(t,e,n,r,s,o){return L(),G("div",{class:U([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:dt({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[t.$slots.header?(L(),G("div",{key:0,class:U(t.ns.be("dropdown","header"))},[ve(t.$slots,"header")],2)):ce("v-if",!0),ve(t.$slots,"default"),t.$slots.footer?(L(),G("div",{key:1,class:U(t.ns.be("dropdown","footer"))},[ve(t.$slots,"footer")],2)):ce("v-if",!0)],6)}var DQ=Ye($Q,[["render",PQ],["__file","select-dropdown.vue"]]);const OQ=(t,e)=>{const{t:n}=un(),r=Br(),s=Ne("select"),o=Ne("input"),i=Ft({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),a=q(),u=q(),l=q(),c=q(),d=q(),f=q(),h=q(),p=q(),g=q(),v=q(),y=q(),{isComposing:_,handleCompositionStart:b,handleCompositionUpdate:w,handleCompositionEnd:S}=mf({afterComposition:et=>Vt(et)}),{wrapperRef:E,isFocused:T,handleBlur:I}=Ka(d,{beforeFocus(){return R.value},afterFocus(){t.automaticDropdown&&!k.value&&(k.value=!0,i.menuVisibleOnFocus=!0)},beforeBlur(et){var kt,cn;return((kt=l.value)==null?void 0:kt.isFocusInsideContent(et))||((cn=c.value)==null?void 0:cn.isFocusInsideContent(et))},afterBlur(){var et;k.value=!1,i.menuVisibleOnFocus=!1,t.validateEvent&&((et=D==null?void 0:D.validate)==null||et.call(D,"blur").catch(kt=>void 0))}}),k=q(!1),C=q(),{form:N,formItem:D}=Kr(),{inputId:W}=po(t,{formItemContext:D}),{valueOnClear:H,isEmptyValue:V}=Pm(t),R=P(()=>t.disabled||(N==null?void 0:N.disabled)),z=P(()=>Ke(t.modelValue)?t.modelValue.length>0:!V(t.modelValue)),M=P(()=>{var et;return(et=N==null?void 0:N.statusIcon)!=null?et:!1}),B=P(()=>t.clearable&&!R.value&&i.inputHovering&&z.value),j=P(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),X=P(()=>s.is("reverse",!!(j.value&&k.value))),se=P(()=>(D==null?void 0:D.validateState)||""),te=P(()=>se.value&&Fm[se.value]),ie=P(()=>t.remote?300:0),fe=P(()=>t.remote&&!i.inputValue&&i.options.size===0),ue=P(()=>t.loading?t.loadingText||n("el.select.loading"):t.filterable&&i.inputValue&&i.options.size>0&&J.value===0?t.noMatchText||n("el.select.noMatch"):i.options.size===0?t.noDataText||n("el.select.noData"):null),J=P(()=>de.value.filter(et=>et.visible).length),de=P(()=>{const et=Array.from(i.options.values()),kt=[];return i.optionValues.forEach(cn=>{const Vn=et.findIndex(mr=>mr.value===cn);Vn>-1&&kt.push(et[Vn])}),kt.length>=et.length?kt:et}),ae=P(()=>Array.from(i.cachedOptions.values())),Ae=P(()=>{const et=de.value.filter(kt=>!kt.created).some(kt=>kt.currentLabel===i.inputValue);return t.filterable&&t.allowCreate&&i.inputValue!==""&&!et}),Re=()=>{t.filterable&&vt(t.filterMethod)||t.filterable&&t.remote&&vt(t.remoteMethod)||de.value.forEach(et=>{var kt;(kt=et.updateOption)==null||kt.call(et,i.inputValue)})},pe=fr(),ne=P(()=>["small"].includes(pe.value)?"small":"default"),le=P({get(){return k.value&&!fe.value},set(et){k.value=et}}),Se=P(()=>{if(t.multiple&&!ln(t.modelValue))return Jr(t.modelValue).length===0&&!i.inputValue;const et=Ke(t.modelValue)?t.modelValue[0]:t.modelValue;return t.filterable||ln(et)?!i.inputValue:!0}),Ce=P(()=>{var et;const kt=(et=t.placeholder)!=null?et:n("el.select.placeholder");return t.multiple||!z.value?kt:i.selectedLabel}),Ee=P(()=>kp?null:"mouseenter");Pe(()=>t.modelValue,(et,kt)=>{t.multiple&&t.filterable&&!t.reserveKeyword&&(i.inputValue="",we("")),Be(),!Lr(et,kt)&&t.validateEvent&&(D==null||D.validate("change").catch(cn=>void 0))},{flush:"post",deep:!0}),Pe(()=>k.value,et=>{et?we(i.inputValue):(i.inputValue="",i.previousQuery=null,i.isBeforeHide=!0),e("visible-change",et)}),Pe(()=>i.options.entries(),()=>{an&&(Be(),t.defaultFirstOption&&(t.filterable||t.remote)&&J.value&&Le())},{flush:"post"}),Pe([()=>i.hoveringIndex,de],([et])=>{bt(et)&&et>-1?C.value=de.value[et]||{}:C.value={},de.value.forEach(kt=>{kt.hover=C.value===kt})}),Fr(()=>{i.isBeforeHide||Re()});const we=et=>{i.previousQuery===et||_.value||(i.previousQuery=et,t.filterable&&vt(t.filterMethod)?t.filterMethod(et):t.filterable&&t.remote&&vt(t.remoteMethod)&&t.remoteMethod(et),t.defaultFirstOption&&(t.filterable||t.remote)&&J.value?pt(Le):pt(je))},Le=()=>{const et=de.value.filter(mr=>mr.visible&&!mr.disabled&&!mr.states.groupDisabled),kt=et.find(mr=>mr.created),cn=et[0],Vn=de.value.map(mr=>mr.value);i.hoveringIndex=re(Vn,kt||cn)},Be=()=>{if(t.multiple)i.selectedLabel="";else{const kt=Ke(t.modelValue)?t.modelValue[0]:t.modelValue,cn=Ue(kt);i.selectedLabel=cn.currentLabel,i.selected=[cn];return}const et=[];ln(t.modelValue)||Jr(t.modelValue).forEach(kt=>{et.push(Ue(kt))}),i.selected=et},Ue=et=>{let kt;const cn=fd(et);for(let Fo=i.cachedOptions.size-1;Fo>=0;Fo--){const kr=ae.value[Fo];if(cn?or(kr.value,t.valueKey)===or(et,t.valueKey):kr.value===et){kt={value:et,currentLabel:kr.currentLabel,get isDisabled(){return kr.isDisabled}};break}}if(kt)return kt;const Vn=cn?et.label:et??"";return{value:et,currentLabel:Vn}},je=()=>{i.hoveringIndex=de.value.findIndex(et=>i.selected.some(kt=>bs(kt)===bs(et)))},at=()=>{i.selectionWidth=u.value.getBoundingClientRect().width},Ie=()=>{i.collapseItemWidth=v.value.getBoundingClientRect().width},Ze=()=>{var et,kt;(kt=(et=l.value)==null?void 0:et.updatePopper)==null||kt.call(et)},mt=()=>{var et,kt;(kt=(et=c.value)==null?void 0:et.updatePopper)==null||kt.call(et)},Pt=()=>{i.inputValue.length>0&&!k.value&&(k.value=!0),we(i.inputValue)},Vt=et=>{if(i.inputValue=et.target.value,t.remote)Ht();else return Pt()},Ht=As(()=>{Pt()},ie.value),Jt=et=>{Lr(t.modelValue,et)||e(Yt,et)},fn=et=>aI(et,kt=>{const cn=i.cachedOptions.get(kt);return cn&&!cn.disabled&&!cn.states.groupDisabled}),wt=et=>{if(t.multiple&&et.code!==ot.delete&&et.target.value.length<=0){const kt=Jr(t.modelValue).slice(),cn=fn(kt);if(cn<0)return;const Vn=kt[cn];kt.splice(cn,1),e($t,kt),Jt(kt),e("remove-tag",Vn)}},Mt=(et,kt)=>{const cn=i.selected.indexOf(kt);if(cn>-1&&!R.value){const Vn=Jr(t.modelValue).slice();Vn.splice(cn,1),e($t,Vn),Jt(Vn),e("remove-tag",kt.value)}et.stopPropagation(),sr()},he=et=>{et.stopPropagation();const kt=t.multiple?[]:H.value;if(t.multiple)for(const cn of i.selected)cn.isDisabled&&kt.push(cn.value);e($t,kt),Jt(kt),i.hoveringIndex=-1,k.value=!1,e("clear"),sr()},_e=et=>{var kt;if(t.multiple){const cn=Jr((kt=t.modelValue)!=null?kt:[]).slice(),Vn=re(cn,et);Vn>-1?cn.splice(Vn,1):(t.multipleLimit<=0||cn.length<t.multipleLimit)&&cn.push(et.value),e($t,cn),Jt(cn),et.created&&we(""),t.filterable&&!t.reserveKeyword&&(i.inputValue="")}else e($t,et.value),Jt(et.value),k.value=!1;sr(),!k.value&&pt(()=>{$e(et)})},re=(et,kt)=>ln(kt)?-1:Kt(kt.value)?et.findIndex(cn=>Lr(or(cn,t.valueKey),bs(kt))):et.indexOf(kt.value),$e=et=>{var kt,cn,Vn,mr,Fo;const kr=Ke(et)?et[0]:et;let mo=null;if(kr!=null&&kr.value){const Wr=de.value.filter(yi=>yi.value===kr.value);Wr.length>0&&(mo=Wr[0].$el)}if(l.value&&mo){const Wr=(mr=(Vn=(cn=(kt=l.value)==null?void 0:kt.popperRef)==null?void 0:cn.contentRef)==null?void 0:Vn.querySelector)==null?void 0:mr.call(Vn,`.${s.be("dropdown","wrap")}`);Wr&&qb(Wr,mo)}(Fo=y.value)==null||Fo.handleScroll()},Et=et=>{i.options.set(et.value,et),i.cachedOptions.set(et.value,et)},Rt=(et,kt)=>{i.options.get(et)===kt&&i.options.delete(et)},ft=P(()=>{var et,kt;return(kt=(et=l.value)==null?void 0:et.popperRef)==null?void 0:kt.contentRef}),sn=()=>{i.isBeforeHide=!1,pt(()=>{var et;(et=y.value)==null||et.update(),$e(i.selected)})},sr=()=>{var et;(et=d.value)==null||et.focus()},lr=()=>{var et;if(k.value){k.value=!1,pt(()=>{var kt;return(kt=d.value)==null?void 0:kt.blur()});return}(et=d.value)==null||et.blur()},zn=et=>{he(et)},ys=et=>{if(k.value=!1,T.value){const kt=new FocusEvent("focus",et);pt(()=>I(kt))}},Pn=()=>{i.inputValue.length>0?i.inputValue="":k.value=!1},Ur=()=>{R.value||(kp&&(i.inputHovering=!0),i.menuVisibleOnFocus?i.menuVisibleOnFocus=!1:k.value=!k.value)},zs=()=>{if(!k.value)Ur();else{const et=de.value[i.hoveringIndex];et&&!et.isDisabled&&_e(et)}},bs=et=>Kt(et.value)?or(et.value,t.valueKey):et.value,Zi=P(()=>de.value.filter(et=>et.visible).every(et=>et.isDisabled)),Ji=P(()=>t.multiple?t.collapseTags?i.selected.slice(0,t.maxCollapseTags):i.selected:[]),Bn=P(()=>t.multiple?t.collapseTags?i.selected.slice(t.maxCollapseTags):[]:[]),ur=et=>{if(!k.value){k.value=!0;return}if(!(i.options.size===0||J.value===0||_.value)&&!Zi.value){et==="next"?(i.hoveringIndex++,i.hoveringIndex===i.options.size&&(i.hoveringIndex=0)):et==="prev"&&(i.hoveringIndex--,i.hoveringIndex<0&&(i.hoveringIndex=i.options.size-1));const kt=de.value[i.hoveringIndex];(kt.isDisabled||!kt.visible)&&ur(et),pt(()=>$e(C.value))}},vc=()=>{if(!u.value)return 0;const et=window.getComputedStyle(u.value);return Number.parseFloat(et.gap||"6px")},ea=P(()=>{const et=vc();return{maxWidth:`${v.value&&t.maxCollapseTags===1?i.selectionWidth-i.collapseItemWidth-et:i.selectionWidth}px`}}),ta=P(()=>({maxWidth:`${i.selectionWidth}px`})),na=et=>{e("popup-scroll",et)};return qn(u,at),qn(p,Ze),qn(E,Ze),qn(g,mt),qn(v,Ie),xt(()=>{Be()}),{inputId:W,contentId:r,nsSelect:s,nsInput:o,states:i,isFocused:T,expanded:k,optionsArray:de,hoverOption:C,selectSize:pe,filteredOptionsCount:J,updateTooltip:Ze,updateTagTooltip:mt,debouncedOnInputChange:Ht,onInput:Vt,deletePrevTag:wt,deleteTag:Mt,deleteSelected:he,handleOptionSelect:_e,scrollToOption:$e,hasModelValue:z,shouldShowPlaceholder:Se,currentPlaceholder:Ce,mouseEnterEventName:Ee,needStatusIcon:M,showClose:B,iconComponent:j,iconReverse:X,validateState:se,validateIcon:te,showNewOption:Ae,updateOptions:Re,collapseTagSize:ne,setSelected:Be,selectDisabled:R,emptyText:ue,handleCompositionStart:b,handleCompositionUpdate:w,handleCompositionEnd:S,onOptionCreate:Et,onOptionDestroy:Rt,handleMenuEnter:sn,focus:sr,blur:lr,handleClearClick:zn,handleClickOutside:ys,handleEsc:Pn,toggleMenu:Ur,selectOption:zs,getValueKey:bs,navigateOptions:ur,dropdownMenuVisible:le,showTagList:Ji,collapseTagList:Bn,popupScroll:na,tagStyle:ea,collapseTagStyle:ta,popperRef:ft,inputRef:d,tooltipRef:l,tagTooltipRef:c,prefixRef:f,suffixRef:h,selectRef:a,wrapperRef:E,selectionRef:u,scrollbarRef:y,menuRef:p,tagMenuRef:g,collapseItemRef:v}};var MQ=ee({name:"ElOptions",setup(t,{slots:e}){const n=rt(dc);let r=[];return()=>{var s,o;const i=(s=e.default)==null?void 0:s.call(e),a=[];function u(l){Ke(l)&&l.forEach(c=>{var d,f,h,p;const g=(d=(c==null?void 0:c.type)||{})==null?void 0:d.name;g==="ElOptionGroup"?u(!ht(c.children)&&!Ke(c.children)&&vt((f=c.children)==null?void 0:f.default)?(h=c.children)==null?void 0:h.default():c.children):g==="ElOption"?a.push((p=c.props)==null?void 0:p.value):Ke(c.children)&&u(c.children)})}return i.length&&u((o=i[0])==null?void 0:o.children),Lr(a,r)||(r=a,n&&(n.states.optionValues=a)),i}}});const NQ=qe({name:String,id:String,modelValue:{type:me([Array,String,Number,Boolean,Object]),default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:pr,effect:{type:me(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:me(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:dr.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:_n,default:Yi},fitInputWidth:Boolean,suffixIcon:{type:_n,default:fi},tagType:{...Ui.type,default:"info"},tagEffect:{...Ui.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:me(String),values:Xi,default:"bottom-start"},fallbackPlacements:{type:me(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:dr.appendTo,...oc,...Vr(["ariaLabel"])});$t+"",Yt+"",NI.scroll;const hx="ElSelect",FQ=ee({name:hx,componentName:hx,components:{ElSelectMenu:DQ,ElOption:G1,ElOptions:MQ,ElTag:co,ElScrollbar:hi,ElTooltip:wr,ElIcon:lt},directives:{ClickOutside:Hi},props:NQ,emits:[$t,Yt,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(t,{emit:e}){const n=P(()=>{const{modelValue:u,multiple:l}=t,c=l?[]:void 0;return Ke(u)?l?u:c:l?c:u}),r=Ft({...$r(t),modelValue:n}),s=OQ(r,e),{calculatorRef:o,inputStyle:i}=z1();Qt(dc,Ft({props:r,states:s.states,selectRef:s.selectRef,optionsArray:s.optionsArray,setSelected:s.setSelected,handleOptionSelect:s.handleOptionSelect,onOptionCreate:s.onOptionCreate,onOptionDestroy:s.onOptionDestroy}));const a=P(()=>t.multiple?s.states.selected.map(u=>u.currentLabel):s.states.selectedLabel);return{...s,modelValue:n,selectedLabel:a,calculatorRef:o,inputStyle:i}}});function BQ(t,e){const n=qt("el-tag"),r=qt("el-tooltip"),s=qt("el-icon"),o=qt("el-option"),i=qt("el-options"),a=qt("el-scrollbar"),u=qt("el-select-menu"),l=_m("click-outside");return At((L(),G("div",{ref:"selectRef",class:U([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),[Wc(t.mouseEnterEventName)]:c=>t.states.inputHovering=!0,onMouseleave:c=>t.states.inputHovering=!1},[A(r,{ref:"tooltipRef",visible:t.dropdownMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,"append-to":t.appendTo,"show-arrow":t.showArrow,offset:t.offset,onBeforeShow:t.handleMenuEnter,onHide:c=>t.states.isBeforeHide=!1},{default:O(()=>{var c;return[F("div",{ref:"wrapperRef",class:U([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:St(t.toggleMenu,["prevent"])},[t.$slots.prefix?(L(),G("div",{key:0,ref:"prefixRef",class:U(t.nsSelect.e("prefix"))},[ve(t.$slots,"prefix")],2)):ce("v-if",!0),F("div",{ref:"selectionRef",class:U([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.states.selected.length)])},[t.multiple?ve(t.$slots,"tag",{key:0},()=>[(L(!0),G(tt,null,It(t.showTagList,d=>(L(),G("div",{key:t.getValueKey(d),class:U(t.nsSelect.e("selected-item"))},[A(n,{closable:!t.selectDisabled&&!d.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:dt(t.tagStyle),onClose:f=>t.deleteTag(f,d)},{default:O(()=>[F("span",{class:U(t.nsSelect.e("tags-text"))},[ve(t.$slots,"label",{label:d.currentLabel,value:d.value},()=>[xe(ge(d.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.states.selected.length>t.maxCollapseTags?(L(),ye(r,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:O(()=>[F("div",{ref:"collapseItemRef",class:U(t.nsSelect.e("selected-item"))},[A(n,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:dt(t.collapseTagStyle)},{default:O(()=>[F("span",{class:U(t.nsSelect.e("tags-text"))}," + "+ge(t.states.selected.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:O(()=>[F("div",{ref:"tagMenuRef",class:U(t.nsSelect.e("selection"))},[(L(!0),G(tt,null,It(t.collapseTagList,d=>(L(),G("div",{key:t.getValueKey(d),class:U(t.nsSelect.e("selected-item"))},[A(n,{class:"in-tooltip",closable:!t.selectDisabled&&!d.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:f=>t.deleteTag(f,d)},{default:O(()=>[F("span",{class:U(t.nsSelect.e("tags-text"))},[ve(t.$slots,"label",{label:d.currentLabel,value:d.value},()=>[xe(ge(d.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):ce("v-if",!0)]):ce("v-if",!0),F("div",{class:U([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[At(F("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":d=>t.states.inputValue=d,type:"text",name:t.name,class:U([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:dt(t.inputStyle),tabindex:t.tabindex,role:"combobox",readonly:!t.filterable,spellcheck:"false","aria-activedescendant":((c=t.hoverOption)==null?void 0:c.id)||"","aria-controls":t.contentId,"aria-expanded":t.dropdownMenuVisible,"aria-label":t.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[Sn(St(d=>t.navigateOptions("next"),["stop","prevent"]),["down"]),Sn(St(d=>t.navigateOptions("prev"),["stop","prevent"]),["up"]),Sn(St(t.handleEsc,["stop","prevent"]),["esc"]),Sn(St(t.selectOption,["stop","prevent"]),["enter"]),Sn(St(t.deletePrevTag,["stop"]),["delete"])],onCompositionstart:t.handleCompositionStart,onCompositionupdate:t.handleCompositionUpdate,onCompositionend:t.handleCompositionEnd,onInput:t.onInput,onClick:St(t.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[si,t.states.inputValue]]),t.filterable?(L(),G("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:U(t.nsSelect.e("input-calculator")),textContent:ge(t.states.inputValue)},null,10,["textContent"])):ce("v-if",!0)],2),t.shouldShowPlaceholder?(L(),G("div",{key:1,class:U([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?ve(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},()=>[F("span",null,ge(t.currentPlaceholder),1)]):(L(),G("span",{key:1},ge(t.currentPlaceholder),1))],2)):ce("v-if",!0)],2),F("div",{ref:"suffixRef",class:U(t.nsSelect.e("suffix"))},[t.iconComponent&&!t.showClose?(L(),ye(s,{key:0,class:U([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:O(()=>[(L(),ye(Wt(t.iconComponent)))]),_:1},8,["class"])):ce("v-if",!0),t.showClose&&t.clearIcon?(L(),ye(s,{key:1,class:U([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.nsSelect.e("clear")]),onClick:t.handleClearClick},{default:O(()=>[(L(),ye(Wt(t.clearIcon)))]),_:1},8,["class","onClick"])):ce("v-if",!0),t.validateState&&t.validateIcon&&t.needStatusIcon?(L(),ye(s,{key:2,class:U([t.nsInput.e("icon"),t.nsInput.e("validateIcon"),t.nsInput.is("loading",t.validateState==="validating")])},{default:O(()=>[(L(),ye(Wt(t.validateIcon)))]),_:1},8,["class"])):ce("v-if",!0)],2)],10,["onClick"])]}),content:O(()=>[A(u,{ref:"menuRef"},{default:O(()=>[t.$slots.header?(L(),G("div",{key:0,class:U(t.nsSelect.be("dropdown","header")),onClick:St(()=>{},["stop"])},[ve(t.$slots,"header")],10,["onClick"])):ce("v-if",!0),At(A(a,{id:t.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:U([t.nsSelect.is("empty",t.filteredOptionsCount===0)]),role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical",onScroll:t.popupScroll},{default:O(()=>[t.showNewOption?(L(),ye(o,{key:0,value:t.states.inputValue,created:!0},null,8,["value"])):ce("v-if",!0),A(i,null,{default:O(()=>[ve(t.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[nn,t.states.options.size>0&&!t.loading]]),t.$slots.loading&&t.loading?(L(),G("div",{key:1,class:U(t.nsSelect.be("dropdown","loading"))},[ve(t.$slots,"loading")],2)):t.loading||t.filteredOptionsCount===0?(L(),G("div",{key:2,class:U(t.nsSelect.be("dropdown","empty"))},[ve(t.$slots,"empty",{},()=>[F("span",null,ge(t.emptyText),1)])],2)):ce("v-if",!0),t.$slots.footer?(L(),G("div",{key:3,class:U(t.nsSelect.be("dropdown","footer")),onClick:St(()=>{},["stop"])},[ve(t.$slots,"footer")],10,["onClick"])):ce("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[l,t.handleClickOutside,t.popperRef]])}var VQ=Ye(FQ,[["render",BQ],["__file","select.vue"]]);const UQ=ee({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(t){const e=Ne("select"),n=q(),r=Gt(),s=q([]);Qt(YR,Ft({...$r(t)}));const o=P(()=>s.value.some(l=>l.visible===!0)),i=l=>{var c;return l.type.name==="ElOption"&&!!((c=l.component)!=null&&c.proxy)},a=l=>{const c=Jr(l),d=[];return c.forEach(f=>{var h;Mn(f)&&(i(f)?d.push(f.component.proxy):Ke(f.children)&&f.children.length?d.push(...a(f.children)):(h=f.component)!=null&&h.subTree&&d.push(...a(f.component.subTree)))}),d},u=()=>{s.value=a(r.subTree)};return xt(()=>{u()}),pI(n,u,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:o,ns:e}}});function HQ(t,e,n,r,s,o){return At((L(),G("ul",{ref:"groupRef",class:U(t.ns.be("group","wrap"))},[F("li",{class:U(t.ns.be("group","title"))},ge(t.label),3),F("li",null,[F("ul",{class:U(t.ns.b("group"))},[ve(t.$slots,"default")],2)])],2)),[[nn,t.visible]])}var XR=Ye(UQ,[["render",HQ],["__file","option-group.vue"]]);const fo=Bt(VQ,{Option:G1,OptionGroup:XR}),ji=Xn(G1),jQ=Xn(XR),q1=()=>rt(qR,{}),KQ=qe({pageSize:{type:Number,required:!0},pageSizes:{type:me(Array),default:()=>Yn([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:di},appendSizeTo:String}),zQ=ee({name:"ElPaginationSizes"}),WQ=ee({...zQ,props:KQ,emits:["page-size-change"],setup(t,{emit:e}){const n=t,{t:r}=un(),s=Ne("pagination"),o=q1(),i=q(n.pageSize);Pe(()=>n.pageSizes,(l,c)=>{if(!Lr(l,c)&&Ke(l)){const d=l.includes(n.pageSize)?n.pageSize:n.pageSizes[0];e("page-size-change",d)}}),Pe(()=>n.pageSize,l=>{i.value=l});const a=P(()=>n.pageSizes);function u(l){var c;l!==i.value&&(i.value=l,(c=o.handleSizeChange)==null||c.call(o,Number(l)))}return(l,c)=>(L(),G("span",{class:U(m(s).e("sizes"))},[A(m(fo),{"model-value":i.value,disabled:l.disabled,"popper-class":l.popperClass,size:l.size,teleported:l.teleported,"validate-event":!1,"append-to":l.appendSizeTo,onChange:u},{default:O(()=>[(L(!0),G(tt,null,It(m(a),d=>(L(),ye(m(ji),{key:d,value:d,label:d+m(r)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported","append-to"])],2))}});var GQ=Ye(WQ,[["__file","sizes.vue"]]);const qQ=qe({size:{type:String,values:di}}),YQ=ee({name:"ElPaginationJumper"}),XQ=ee({...YQ,props:qQ,setup(t){const{t:e}=un(),n=Ne("pagination"),{pageCount:r,disabled:s,currentPage:o,changeEvent:i}=q1(),a=q(),u=P(()=>{var d;return(d=a.value)!=null?d:o==null?void 0:o.value});function l(d){a.value=d?+d:""}function c(d){d=Math.trunc(+d),i==null||i(d),a.value=void 0}return(d,f)=>(L(),G("span",{class:U(m(n).e("jump")),disabled:m(s)},[F("span",{class:U([m(n).e("goto")])},ge(m(e)("el.pagination.goto")),3),A(m(ir),{size:d.size,class:U([m(n).e("editor"),m(n).is("in-pagination")]),min:1,max:m(r),disabled:m(s),"model-value":m(u),"validate-event":!1,"aria-label":m(e)("el.pagination.page"),type:"number","onUpdate:modelValue":l,onChange:c},null,8,["size","class","max","disabled","model-value","aria-label"]),F("span",{class:U([m(n).e("classifier")])},ge(m(e)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var QQ=Ye(XQ,[["__file","jumper.vue"]]);const ZQ=qe({total:{type:Number,default:1e3}}),JQ=ee({name:"ElPaginationTotal"}),eZ=ee({...JQ,props:ZQ,setup(t){const{t:e}=un(),n=Ne("pagination"),{disabled:r}=q1();return(s,o)=>(L(),G("span",{class:U(m(n).e("total")),disabled:m(r)},ge(m(e)("el.pagination.total",{total:s.total})),11,["disabled"]))}});var tZ=Ye(eZ,[["__file","total.vue"]]);const nZ=qe({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),rZ=ee({name:"ElPaginationPager"}),sZ=ee({...rZ,props:nZ,emits:[Yt],setup(t,{emit:e}){const n=t,r=Ne("pager"),s=Ne("icon"),{t:o}=un(),i=q(!1),a=q(!1),u=q(!1),l=q(!1),c=q(!1),d=q(!1),f=P(()=>{const w=n.pagerCount,S=(w-1)/2,E=Number(n.currentPage),T=Number(n.pageCount);let I=!1,k=!1;T>w&&(E>w-S&&(I=!0),E<T-S&&(k=!0));const C=[];if(I&&!k){const N=T-(w-2);for(let D=N;D<T;D++)C.push(D)}else if(!I&&k)for(let N=2;N<w;N++)C.push(N);else if(I&&k){const N=Math.floor(w/2)-1;for(let D=E-N;D<=E+N;D++)C.push(D)}else for(let N=2;N<T;N++)C.push(N);return C}),h=P(()=>["more","btn-quickprev",s.b(),r.is("disabled",n.disabled)]),p=P(()=>["more","btn-quicknext",s.b(),r.is("disabled",n.disabled)]),g=P(()=>n.disabled?-1:0);Fr(()=>{const w=(n.pagerCount-1)/2;i.value=!1,a.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-w&&(i.value=!0),n.currentPage<n.pageCount-w&&(a.value=!0))});function v(w=!1){n.disabled||(w?u.value=!0:l.value=!0)}function y(w=!1){w?c.value=!0:d.value=!0}function _(w){const S=w.target;if(S.tagName.toLowerCase()==="li"&&Array.from(S.classList).includes("number")){const E=Number(S.textContent);E!==n.currentPage&&e(Yt,E)}else S.tagName.toLowerCase()==="li"&&Array.from(S.classList).includes("more")&&b(w)}function b(w){const S=w.target;if(S.tagName.toLowerCase()==="ul"||n.disabled)return;let E=Number(S.textContent);const T=n.pageCount,I=n.currentPage,k=n.pagerCount-2;S.className.includes("more")&&(S.className.includes("quickprev")?E=I-k:S.className.includes("quicknext")&&(E=I+k)),Number.isNaN(+E)||(E<1&&(E=1),E>T&&(E=T)),E!==I&&e(Yt,E)}return(w,S)=>(L(),G("ul",{class:U(m(r).b()),onClick:b,onKeyup:Sn(_,["enter"])},[w.pageCount>0?(L(),G("li",{key:0,class:U([[m(r).is("active",w.currentPage===1),m(r).is("disabled",w.disabled)],"number"]),"aria-current":w.currentPage===1,"aria-label":m(o)("el.pagination.currentPage",{pager:1}),tabindex:m(g)}," 1 ",10,["aria-current","aria-label","tabindex"])):ce("v-if",!0),i.value?(L(),G("li",{key:1,class:U(m(h)),tabindex:m(g),"aria-label":m(o)("el.pagination.prevPages",{pager:w.pagerCount-2}),onMouseenter:E=>v(!0),onMouseleave:E=>u.value=!1,onFocus:E=>y(!0),onBlur:E=>c.value=!1},[(u.value||c.value)&&!w.disabled?(L(),ye(m(Da),{key:0})):(L(),ye(m(x0),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):ce("v-if",!0),(L(!0),G(tt,null,It(m(f),E=>(L(),G("li",{key:E,class:U([[m(r).is("active",w.currentPage===E),m(r).is("disabled",w.disabled)],"number"]),"aria-current":w.currentPage===E,"aria-label":m(o)("el.pagination.currentPage",{pager:E}),tabindex:m(g)},ge(E),11,["aria-current","aria-label","tabindex"]))),128)),a.value?(L(),G("li",{key:2,class:U(m(p)),tabindex:m(g),"aria-label":m(o)("el.pagination.nextPages",{pager:w.pagerCount-2}),onMouseenter:E=>v(),onMouseleave:E=>l.value=!1,onFocus:E=>y(),onBlur:E=>d.value=!1},[(l.value||d.value)&&!w.disabled?(L(),ye(m(Oa),{key:0})):(L(),ye(m(x0),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):ce("v-if",!0),w.pageCount>1?(L(),G("li",{key:3,class:U([[m(r).is("active",w.currentPage===w.pageCount),m(r).is("disabled",w.disabled)],"number"]),"aria-current":w.currentPage===w.pageCount,"aria-label":m(o)("el.pagination.currentPage",{pager:w.pageCount}),tabindex:m(g)},ge(w.pageCount),11,["aria-current","aria-label","tabindex"])):ce("v-if",!0)],42,["onKeyup"]))}});var oZ=Ye(sZ,[["__file","pager.vue"]]);const os=t=>typeof t!="number",iZ=qe({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>bt(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:me(Array),default:()=>Yn([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:_n,default:()=>Pa},nextText:{type:String,default:""},nextIcon:{type:_n,default:()=>ps},teleported:{type:Boolean,default:!0},small:Boolean,size:pr,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),aZ={"update:current-page":t=>bt(t),"update:page-size":t=>bt(t),"size-change":t=>bt(t),change:(t,e)=>bt(t)&&bt(e),"current-change":t=>bt(t),"prev-click":t=>bt(t),"next-click":t=>bt(t)},px="ElPagination";var lZ=ee({name:px,props:iZ,emits:aZ,setup(t,{emit:e,slots:n}){const{t:r}=un(),s=Ne("pagination"),o=Gt().vnode.props||{},i=_I(),a=P(()=>{var S;return t.small?"small":(S=t.size)!=null?S:i.value});Fi({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},P(()=>!!t.small));const u="onUpdate:currentPage"in o||"onUpdate:current-page"in o||"onCurrentChange"in o,l="onUpdate:pageSize"in o||"onUpdate:page-size"in o||"onSizeChange"in o,c=P(()=>{if(os(t.total)&&os(t.pageCount)||!os(t.currentPage)&&!u)return!1;if(t.layout.includes("sizes")){if(os(t.pageCount)){if(!os(t.total)&&!os(t.pageSize)&&!l)return!1}else if(!l)return!1}return!0}),d=q(os(t.defaultPageSize)?10:t.defaultPageSize),f=q(os(t.defaultCurrentPage)?1:t.defaultCurrentPage),h=P({get(){return os(t.pageSize)?d.value:t.pageSize},set(S){os(t.pageSize)&&(d.value=S),l&&(e("update:page-size",S),e("size-change",S))}}),p=P(()=>{let S=0;return os(t.pageCount)?os(t.total)||(S=Math.max(1,Math.ceil(t.total/h.value))):S=t.pageCount,S}),g=P({get(){return os(t.currentPage)?f.value:t.currentPage},set(S){let E=S;S<1?E=1:S>p.value&&(E=p.value),os(t.currentPage)&&(f.value=E),u&&(e("update:current-page",E),e("current-change",E))}});Pe(p,S=>{g.value>S&&(g.value=S)}),Pe([g,h],S=>{e(Yt,...S)},{flush:"post"});function v(S){g.value=S}function y(S){h.value=S;const E=p.value;g.value>E&&(g.value=E)}function _(){t.disabled||(g.value-=1,e("prev-click",g.value))}function b(){t.disabled||(g.value+=1,e("next-click",g.value))}function w(S,E){S&&(S.props||(S.props={}),S.props.class=[S.props.class,E].join(" "))}return Qt(qR,{pageCount:p,disabled:P(()=>t.disabled),currentPage:g,changeEvent:v,handleSizeChange:y}),()=>{var S,E;if(!c.value)return r("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&p.value<=1)return null;const T=[],I=[],k=_t("div",{class:s.e("rightwrapper")},I),C={prev:_t(EQ,{disabled:t.disabled,currentPage:g.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:_}),jumper:_t(QQ,{size:a.value}),pager:_t(oZ,{currentPage:g.value,pageCount:p.value,pagerCount:t.pagerCount,onChange:v,disabled:t.disabled}),next:_t(kQ,{disabled:t.disabled,currentPage:g.value,pageCount:p.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:b}),sizes:_t(GQ,{pageSize:h.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,teleported:t.teleported,size:a.value,appendSizeTo:t.appendSizeTo}),slot:(E=(S=n==null?void 0:n.default)==null?void 0:S.call(n))!=null?E:null,total:_t(tZ,{total:os(t.total)?0:t.total})},N=t.layout.split(",").map(W=>W.trim());let D=!1;return N.forEach(W=>{if(W==="->"){D=!0;return}D?I.push(C[W]):T.push(C[W])}),w(T[0],s.is("first")),w(T[T.length-1],s.is("last")),D&&I.length>0&&(w(I[0],s.is("first")),w(I[I.length-1],s.is("last")),T.push(k)),_t("div",{class:[s.b(),s.is("background",t.background),s.m(a.value)]},T)}}});const fc=Bt(lZ),uZ=qe({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:C0,default:"primary"},cancelButtonType:{type:String,values:C0,default:"text"},icon:{type:_n,default:()=>S9},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:dr.teleported,persistent:dr.persistent,width:{type:[String,Number],default:150}}),cZ={confirm:t=>t instanceof MouseEvent,cancel:t=>t instanceof MouseEvent},dZ=ee({name:"ElPopconfirm"}),fZ=ee({...dZ,props:uZ,emits:cZ,setup(t,{emit:e}){const n=t,{t:r}=un(),s=Ne("popconfirm"),o=q(),i=()=>{var f,h;(h=(f=o.value)==null?void 0:f.onClose)==null||h.call(f)},a=P(()=>({width:Zn(n.width)})),u=f=>{e("confirm",f),i()},l=f=>{e("cancel",f),i()},c=P(()=>n.confirmButtonText||r("el.popconfirm.confirmButtonText")),d=P(()=>n.cancelButtonText||r("el.popconfirm.cancelButtonText"));return(f,h)=>(L(),ye(m(wr),Xt({ref_key:"tooltipRef",ref:o,trigger:"click",effect:"light"},f.$attrs,{"popper-class":`${m(s).namespace.value}-popover`,"popper-style":m(a),teleported:f.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":f.hideAfter,persistent:f.persistent}),{content:O(()=>[F("div",{class:U(m(s).b())},[F("div",{class:U(m(s).e("main"))},[!f.hideIcon&&f.icon?(L(),ye(m(lt),{key:0,class:U(m(s).e("icon")),style:dt({color:f.iconColor})},{default:O(()=>[(L(),ye(Wt(f.icon)))]),_:1},8,["class","style"])):ce("v-if",!0),xe(" "+ge(f.title),1)],2),F("div",{class:U(m(s).e("action"))},[ve(f.$slots,"actions",{confirm:u,cancel:l},()=>[A(m(Nn),{size:"small",type:f.cancelButtonType==="text"?"":f.cancelButtonType,text:f.cancelButtonType==="text",onClick:l},{default:O(()=>[xe(ge(m(d)),1)]),_:1},8,["type","text"]),A(m(Nn),{size:"small",type:f.confirmButtonType==="text"?"":f.confirmButtonType,text:f.confirmButtonType==="text",onClick:u},{default:O(()=>[xe(ge(m(c)),1)]),_:1},8,["type","text"])])],2)],2)]),default:O(()=>[f.$slots.reference?ve(f.$slots,"reference",{key:0}):ce("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var hZ=Ye(fZ,[["__file","popconfirm.vue"]]);const pZ=Bt(hZ),mZ=qe({trigger:yu.trigger,triggerKeys:yu.triggerKeys,placement:Hh.placement,disabled:yu.disabled,visible:dr.visible,transition:dr.transition,popperOptions:Hh.popperOptions,tabindex:Hh.tabindex,content:dr.content,popperStyle:dr.popperStyle,popperClass:dr.popperClass,enterable:{...dr.enterable,default:!0},effect:{...dr.effect,default:"light"},teleported:dr.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),gZ={"update:visible":t=>En(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},vZ="onUpdate:visible",yZ=ee({name:"ElPopover"}),bZ=ee({...yZ,props:mZ,emits:gZ,setup(t,{expose:e,emit:n}){const r=t,s=P(()=>r[vZ]),o=Ne("popover"),i=q(),a=P(()=>{var v;return(v=m(i))==null?void 0:v.popperRef}),u=P(()=>[{width:Zn(r.width)},r.popperStyle]),l=P(()=>[o.b(),r.popperClass,{[o.m("plain")]:!!r.content}]),c=P(()=>r.transition===`${o.namespace.value}-fade-in-linear`),d=()=>{var v;(v=i.value)==null||v.hide()},f=()=>{n("before-enter")},h=()=>{n("before-leave")},p=()=>{n("after-enter")},g=()=>{n("update:visible",!1),n("after-leave")};return e({popperRef:a,hide:d}),(v,y)=>(L(),ye(m(wr),Xt({ref_key:"tooltipRef",ref:i},v.$attrs,{trigger:v.trigger,"trigger-keys":v.triggerKeys,placement:v.placement,disabled:v.disabled,visible:v.visible,transition:v.transition,"popper-options":v.popperOptions,tabindex:v.tabindex,content:v.content,offset:v.offset,"show-after":v.showAfter,"hide-after":v.hideAfter,"auto-close":v.autoClose,"show-arrow":v.showArrow,"aria-label":v.title,effect:v.effect,enterable:v.enterable,"popper-class":m(l),"popper-style":m(u),teleported:v.teleported,persistent:v.persistent,"gpu-acceleration":m(c),"onUpdate:visible":m(s),onBeforeShow:f,onBeforeHide:h,onShow:p,onHide:g}),{content:O(()=>[v.title?(L(),G("div",{key:0,class:U(m(o).e("title")),role:"title"},ge(v.title),3)):ce("v-if",!0),ve(v.$slots,"default",{},()=>[xe(ge(v.content),1)])]),default:O(()=>[v.$slots.reference?ve(v.$slots,"reference",{key:0}):ce("v-if",!0)]),_:3},16,["trigger","trigger-keys","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var wZ=Ye(bZ,[["__file","popover.vue"]]);const mx=(t,e)=>{const n=e.arg||e.value,r=n==null?void 0:n.popperRef;r&&(r.triggerRef=t)};var _Z={mounted(t,e){mx(t,e)},updated(t,e){mx(t,e)}};const SZ="popover",QR=oV(_Z,SZ),EZ=Bt(wZ,{directive:QR}),xZ=qe({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:me(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:me([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:me(Function),default:t=>`${t}%`}}),TZ=ee({name:"ElProgress"}),CZ=ee({...TZ,props:xZ,setup(t){const e=t,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=Ne("progress"),s=P(()=>{const b={width:`${e.percentage}%`,animationDuration:`${e.duration}s`},w=_(e.percentage);return w.includes("gradient")?b.background=w:b.backgroundColor=w,b}),o=P(()=>(e.strokeWidth/e.width*100).toFixed(1)),i=P(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(o.value)/2}`,10):0),a=P(()=>{const b=i.value,w=e.type==="dashboard";return`
          M 50 50
          m 0 ${w?"":"-"}${b}
          a ${b} ${b} 0 1 1 0 ${w?"-":""}${b*2}
          a ${b} ${b} 0 1 1 0 ${w?"":"-"}${b*2}
          `}),u=P(()=>2*Math.PI*i.value),l=P(()=>e.type==="dashboard"?.75:1),c=P(()=>`${-1*u.value*(1-l.value)/2}px`),d=P(()=>({strokeDasharray:`${u.value*l.value}px, ${u.value}px`,strokeDashoffset:c.value})),f=P(()=>({strokeDasharray:`${u.value*l.value*(e.percentage/100)}px, ${u.value}px`,strokeDashoffset:c.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),h=P(()=>{let b;return e.color?b=_(e.percentage):b=n[e.status]||n.default,b}),p=P(()=>e.status==="warning"?hf:e.type==="line"?e.status==="success"?Yb:Yi:e.status==="success"?df:io),g=P(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),v=P(()=>e.format(e.percentage));function y(b){const w=100/b.length;return b.map((E,T)=>ht(E)?{color:E,percentage:(T+1)*w}:E).sort((E,T)=>E.percentage-T.percentage)}const _=b=>{var w;const{color:S}=e;if(vt(S))return S(b);if(ht(S))return S;{const E=y(S);for(const T of E)if(T.percentage>b)return T.color;return(w=E[E.length-1])==null?void 0:w.color}};return(b,w)=>(L(),G("div",{class:U([m(r).b(),m(r).m(b.type),m(r).is(b.status),{[m(r).m("without-text")]:!b.showText,[m(r).m("text-inside")]:b.textInside}]),role:"progressbar","aria-valuenow":b.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[b.type==="line"?(L(),G("div",{key:0,class:U(m(r).b("bar"))},[F("div",{class:U(m(r).be("bar","outer")),style:dt({height:`${b.strokeWidth}px`})},[F("div",{class:U([m(r).be("bar","inner"),{[m(r).bem("bar","inner","indeterminate")]:b.indeterminate},{[m(r).bem("bar","inner","striped")]:b.striped},{[m(r).bem("bar","inner","striped-flow")]:b.stripedFlow}]),style:dt(m(s))},[(b.showText||b.$slots.default)&&b.textInside?(L(),G("div",{key:0,class:U(m(r).be("bar","innerText"))},[ve(b.$slots,"default",{percentage:b.percentage},()=>[F("span",null,ge(m(v)),1)])],2)):ce("v-if",!0)],6)],6)],2)):(L(),G("div",{key:1,class:U(m(r).b("circle")),style:dt({height:`${b.width}px`,width:`${b.width}px`})},[(L(),G("svg",{viewBox:"0 0 100 100"},[F("path",{class:U(m(r).be("circle","track")),d:m(a),stroke:`var(${m(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":b.strokeLinecap,"stroke-width":m(o),fill:"none",style:dt(m(d))},null,14,["d","stroke","stroke-linecap","stroke-width"]),F("path",{class:U(m(r).be("circle","path")),d:m(a),stroke:m(h),fill:"none",opacity:b.percentage?1:0,"stroke-linecap":b.strokeLinecap,"stroke-width":m(o),style:dt(m(f))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(b.showText||b.$slots.default)&&!b.textInside?(L(),G("div",{key:2,class:U(m(r).e("text")),style:dt({fontSize:`${m(g)}px`})},[ve(b.$slots,"default",{percentage:b.percentage},()=>[b.status?(L(),ye(m(lt),{key:1},{default:O(()=>[(L(),ye(Wt(m(p))))]),_:1})):(L(),G("span",{key:0},ge(m(v)),1))])],6)):ce("v-if",!0)],10,["aria-valuenow"]))}});var kZ=Ye(CZ,[["__file","progress.vue"]]);const ZR=Bt(kZ),IZ=qe({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:me([Array,Object]),default:()=>Yn(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:me([Array,Object]),default:()=>[th,th,th]},voidIcon:{type:_n,default:()=>D9},disabledVoidIcon:{type:_n,default:()=>th},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:me(Array),default:()=>Yn(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:pr,clearable:Boolean,...Vr(["ariaLabel"])}),AZ={[Yt]:t=>bt(t),[$t]:t=>bt(t)},RZ=ee({name:"ElRate"}),LZ=ee({...RZ,props:IZ,emits:AZ,setup(t,{expose:e,emit:n}){const r=t;function s(R,z){const M=X=>Kt(X),B=Object.keys(z).map(X=>+X).filter(X=>{const se=z[X];return(M(se)?se.excluded:!1)?R<X:R<=X}).sort((X,se)=>X-se),j=z[B[0]];return M(j)&&j.value||j}const o=rt(Ml,void 0),i=rt(ai,void 0),a=fr(),u=Ne("rate"),{inputId:l,isLabeledByFormItem:c}=po(r,{formItemContext:i}),d=q(r.modelValue),f=q(-1),h=q(!0),p=P(()=>[u.b(),u.m(a.value)]),g=P(()=>r.disabled||(o==null?void 0:o.disabled)),v=P(()=>u.cssVarBlock({"void-color":r.voidColor,"disabled-void-color":r.disabledVoidColor,"fill-color":w.value})),y=P(()=>{let R="";return r.showScore?R=r.scoreTemplate.replace(/\{\s*value\s*\}/,g.value?`${r.modelValue}`:`${d.value}`):r.showText&&(R=r.texts[Math.ceil(d.value)-1]),R}),_=P(()=>r.modelValue*100-Math.floor(r.modelValue)*100),b=P(()=>Ke(r.colors)?{[r.lowThreshold]:r.colors[0],[r.highThreshold]:{value:r.colors[1],excluded:!0},[r.max]:r.colors[2]}:r.colors),w=P(()=>{const R=s(d.value,b.value);return Kt(R)?"":R}),S=P(()=>{let R="";return g.value?R=`${_.value}%`:r.allowHalf&&(R="50%"),{color:w.value,width:R}}),E=P(()=>{let R=Ke(r.icons)?[...r.icons]:{...r.icons};return R=Ni(R),Ke(R)?{[r.lowThreshold]:R[0],[r.highThreshold]:{value:R[1],excluded:!0},[r.max]:R[2]}:R}),T=P(()=>s(r.modelValue,E.value)),I=P(()=>g.value?ht(r.disabledVoidIcon)?r.disabledVoidIcon:Ni(r.disabledVoidIcon):ht(r.voidIcon)?r.voidIcon:Ni(r.voidIcon)),k=P(()=>s(d.value,E.value));function C(R){const z=g.value&&_.value>0&&R-1<r.modelValue&&R>r.modelValue,M=r.allowHalf&&h.value&&R-.5<=d.value&&R>d.value;return z||M}function N(R){r.clearable&&R===r.modelValue&&(R=0),n($t,R),r.modelValue!==R&&n(Yt,R)}function D(R){g.value||(r.allowHalf&&h.value?N(d.value):N(R))}function W(R){if(g.value)return;let z=d.value;const M=R.code;return M===ot.up||M===ot.right?(r.allowHalf?z+=.5:z+=1,R.stopPropagation(),R.preventDefault()):(M===ot.left||M===ot.down)&&(r.allowHalf?z-=.5:z-=1,R.stopPropagation(),R.preventDefault()),z=z<0?0:z,z=z>r.max?r.max:z,n($t,z),n(Yt,z),z}function H(R,z){if(!g.value){if(r.allowHalf&&z){let M=z.target;Ts(M,u.e("item"))&&(M=M.querySelector(`.${u.e("icon")}`)),(M.clientWidth===0||Ts(M,u.e("decimal")))&&(M=M.parentNode),h.value=z.offsetX*2<=M.clientWidth,d.value=h.value?R-.5:R}else d.value=R;f.value=R}}function V(){g.value||(r.allowHalf&&(h.value=r.modelValue!==Math.floor(r.modelValue)),d.value=r.modelValue,f.value=-1)}return Pe(()=>r.modelValue,R=>{d.value=R,h.value=r.modelValue!==Math.floor(r.modelValue)}),r.modelValue||n($t,0),e({setCurrentValue:H,resetCurrentValue:V}),(R,z)=>{var M;return L(),G("div",{id:m(l),class:U([m(p),m(u).is("disabled",m(g))]),role:"slider","aria-label":m(c)?void 0:R.ariaLabel||"rating","aria-labelledby":m(c)?(M=m(i))==null?void 0:M.labelId:void 0,"aria-valuenow":d.value,"aria-valuetext":m(y)||void 0,"aria-valuemin":"0","aria-valuemax":R.max,tabindex:"0",style:dt(m(v)),onKeydown:W},[(L(!0),G(tt,null,It(R.max,(B,j)=>(L(),G("span",{key:j,class:U(m(u).e("item")),onMousemove:X=>H(B,X),onMouseleave:V,onClick:X=>D(B)},[A(m(lt),{class:U([m(u).e("icon"),{hover:f.value===B},m(u).is("active",B<=d.value)])},{default:O(()=>[C(B)?ce("v-if",!0):(L(),G(tt,{key:0},[At((L(),ye(Wt(m(k)),null,null,512)),[[nn,B<=d.value]]),At((L(),ye(Wt(m(I)),null,null,512)),[[nn,!(B<=d.value)]])],64)),C(B)?(L(),G(tt,{key:1},[(L(),ye(Wt(m(I)),{class:U([m(u).em("decimal","box")])},null,8,["class"])),A(m(lt),{style:dt(m(S)),class:U([m(u).e("icon"),m(u).e("decimal")])},{default:O(()=>[(L(),ye(Wt(m(T))))]),_:1},8,["style","class"])],64)):ce("v-if",!0)]),_:2},1032,["class"])],42,["onMousemove","onClick"]))),128)),R.showText||R.showScore?(L(),G("span",{key:0,class:U(m(u).e("text")),style:dt({color:R.textColor})},ge(m(y)),7)):ce("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});var $Z=Ye(LZ,[["__file","rate.vue"]]);const PZ=Bt($Z),iu={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},gx={[iu.success]:AV,[iu.warning]:hf,[iu.error]:Xb,[iu.info]:Zb},DZ=qe({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),OZ=ee({name:"ElResult"}),MZ=ee({...OZ,props:DZ,setup(t){const e=t,n=Ne("result"),r=P(()=>{const s=e.icon,o=s&&iu[s]?iu[s]:"icon-info",i=gx[o]||gx["icon-info"];return{class:o,component:i}});return(s,o)=>(L(),G("div",{class:U(m(n).b())},[F("div",{class:U(m(n).e("icon"))},[ve(s.$slots,"icon",{},()=>[m(r).component?(L(),ye(Wt(m(r).component),{key:0,class:U(m(r).class)},null,8,["class"])):ce("v-if",!0)])],2),s.title||s.$slots.title?(L(),G("div",{key:0,class:U(m(n).e("title"))},[ve(s.$slots,"title",{},()=>[F("p",null,ge(s.title),1)])],2)):ce("v-if",!0),s.subTitle||s.$slots["sub-title"]?(L(),G("div",{key:1,class:U(m(n).e("subtitle"))},[ve(s.$slots,"sub-title",{},()=>[F("p",null,ge(s.subTitle),1)])],2)):ce("v-if",!0),s.$slots.extra?(L(),G("div",{key:2,class:U(m(n).e("extra"))},[ve(s.$slots,"extra")],2)):ce("v-if",!0)],2))}});var NZ=Ye(MZ,[["__file","result.vue"]]);const FZ=Bt(NZ),BZ=["start","center","end","space-around","space-between","space-evenly"],VZ=["top","middle","bottom"],UZ=qe({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:BZ,default:"start"},align:{type:String,values:VZ}}),HZ=ee({name:"ElRow"}),jZ=ee({...HZ,props:UZ,setup(t){const e=t,n=Ne("row"),r=P(()=>e.gutter);Qt(jA,{gutter:r});const s=P(()=>{const i={};return e.gutter&&(i.marginRight=i.marginLeft=`-${e.gutter/2}px`),i}),o=P(()=>[n.b(),n.is(`justify-${e.justify}`,e.justify!=="start"),n.is(`align-${e.align}`,!!e.align)]);return(i,a)=>(L(),ye(Wt(i.tag),{class:U(m(o)),style:dt(m(s))},{default:O(()=>[ve(i.$slots,"default")]),_:3},8,["class","style"]))}});var KZ=Ye(jZ,[["__file","row.vue"]]);const JR=Bt(KZ),zZ=ee({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:Ne("select")}}});function WZ(t,e,n,r,s,o){return L(),G("div",{class:U(t.ns.be("group","title")),style:dt({...t.style,lineHeight:`${t.height}px`})},ge(t.item.label),7)}var GZ=Ye(zZ,[["render",WZ],["__file","group-item.vue"]]);function qZ(t,{emit:e}){return{hoverItem:()=>{t.disabled||e("hover",t.index)},selectOptionClick:()=>{t.disabled||e("select",t.item,t.index)}}}const eL={label:"label",value:"value",disabled:"disabled",options:"options"};function Ym(t){const e=P(()=>({...eL,...t.props}));return{aliasProps:e,getLabel:i=>or(i,e.value.label),getValue:i=>or(i,e.value.value),getDisabled:i=>or(i,e.value.disabled),getOptions:i=>or(i,e.value.options)}}const YZ=qe({allowCreate:Boolean,autocomplete:{type:me(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:_n,default:Yi},effect:{type:me(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:me([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:me(Array),required:!0},placeholder:{type:String},teleported:dr.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:me(Object),default:()=>({})},remote:Boolean,size:pr,props:{type:me(Object),default:()=>eL},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},showArrow:{type:Boolean,default:!0},placement:{type:me(String),values:Xi,default:"bottom-start"},fallbackPlacements:{type:me(Array),default:["bottom-start","top-start","right","left"]},tagType:{...Ui.type,default:"info"},tagEffect:{...Ui.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:dr.appendTo,fitInputWidth:{type:[Boolean,Number],default:!0,validator(t){return En(t)||bt(t)}},suffixIcon:{type:_n,default:fi},...oc,...Vr(["ariaLabel"])}),XZ=qe({data:Array,disabled:Boolean,hovering:Boolean,item:{type:me(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),QZ={[$t]:t=>!0,[Yt]:t=>!0,"remove-tag":t=>!0,"visible-change":t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0},ZZ={hover:t=>bt(t),select:(t,e)=>!0},Y1=Symbol("ElSelectV2Injection"),JZ=ee({props:XZ,emits:ZZ,setup(t,{emit:e}){const n=rt(Y1),r=Ne("select"),{hoverItem:s,selectOptionClick:o}=qZ(t,{emit:e}),{getLabel:i}=Ym(n.props);return{ns:r,hoverItem:s,selectOptionClick:o,getLabel:i}}});function eJ(t,e,n,r,s,o){return L(),G("li",{"aria-selected":t.selected,style:dt(t.style),class:U([t.ns.be("dropdown","item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),t.ns.is("hovering",t.hovering)]),onMousemove:t.hoverItem,onClick:St(t.selectOptionClick,["stop"])},[ve(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[F("span",null,ge(t.getLabel(t.item)),1)])],46,["aria-selected","onMousemove","onClick"])}var tJ=Ye(JZ,[["render",eJ],["__file","option-item.vue"]]),vx=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function nJ(t,e){return!!(t===e||vx(t)&&vx(e))}function rJ(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!nJ(t[n],e[n]))return!1;return!0}function sJ(t,e){e===void 0&&(e=rJ);var n=null;function r(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;var i=t.apply(this,s);return n={lastResult:i,lastArgs:s,lastThis:this},i}return r.clear=function(){n=null},r}const tL=()=>{const e=Gt().proxy.$props;return P(()=>{const n=(r,s,o)=>({});return e.perfMode?Am(n):sJ(n)})},q0=50,Op="itemRendered",Mp="scroll",au="forward",Np="backward",eo="auto",Xm="smart",Pd="start",Qo="center",Dd="end",Vu="horizontal",X1="vertical",oJ="ltr",wu="rtl",Od="negative",Q1="positive-ascending",Z1="positive-descending",iJ={[Vu]:"left",[X1]:"top"},aJ=20,lJ={[Vu]:"deltaX",[X1]:"deltaY"},uJ=({atEndEdge:t,atStartEdge:e,layout:n},r)=>{let s,o=0;const i=u=>u<0&&e.value||u>0&&t.value;return{hasReachedEdge:i,onWheel:u=>{Tl(s);const l=u[lJ[n.value]];i(o)&&i(o+l)||(o+=l,Bm()||u.preventDefault(),s=$a(()=>{r(o),o=0}))}}},Y0=Do({type:me([Number,Function]),required:!0}),X0=Do({type:Number}),Q0=Do({type:Number,default:2}),cJ=Do({type:String,values:["ltr","rtl"],default:"ltr"}),Z0=Do({type:Number,default:0}),Fp=Do({type:Number,required:!0}),nL=Do({type:String,values:["horizontal","vertical"],default:X1}),rL=qe({className:{type:String,default:""},containerElement:{type:me([String,Object]),default:"div"},data:{type:me(Array),default:()=>Yn([])},direction:cJ,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:me([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),sL=qe({cache:Q0,estimatedItemSize:X0,layout:nL,initScrollOffset:Z0,total:Fp,itemSize:Y0,...rL}),J0={type:Number,default:6},oL={type:Number,default:0},iL={type:Number,default:2},gl=qe({columnCache:Q0,columnWidth:Y0,estimatedColumnWidth:X0,estimatedRowHeight:X0,initScrollLeft:Z0,initScrollTop:Z0,itemKey:{type:me(Function),default:({columnIndex:t,rowIndex:e})=>`${e}:${t}`},rowCache:Q0,rowHeight:Y0,totalColumn:Fp,totalRow:Fp,hScrollbarSize:J0,vScrollbarSize:J0,scrollbarStartGap:oL,scrollbarEndGap:iL,role:String,...rL}),aL=qe({alwaysOn:Boolean,class:String,layout:nL,total:Fp,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:J0,startGap:oL,endGap:iL,visible:Boolean}),ul=(t,e)=>t<e?au:Np,Md=t=>t===oJ||t===wu||t===Vu,yx=t=>t===wu;let Gl=null;function Bp(t=!1){if(Gl===null||t){const e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const r=document.createElement("div"),s=r.style;return s.width="100px",s.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?Gl=Z1:(e.scrollLeft=1,e.scrollLeft===0?Gl=Od:Gl=Q1),document.body.removeChild(e),Gl}return Gl}function dJ({move:t,size:e,bar:n},r){const s={},o=`translate${n.axis}(${t}px)`;return s[n.size]=e,s.transform=o,r==="horizontal"?s.height="100%":s.width="100%",s}const ey=ee({name:"ElVirtualScrollBar",props:aL,emits:["scroll","start-move","stop-move"],setup(t,{emit:e}){const n=P(()=>t.startGap+t.endGap),r=Ne("virtual-scrollbar"),s=Ne("scrollbar"),o=q(),i=q();let a=null,u=null;const l=Ft({isDragging:!1,traveled:0}),c=P(()=>MI[t.layout]),d=P(()=>t.clientSize-m(n)),f=P(()=>({position:"absolute",width:`${Vu===t.layout?d.value:t.scrollbarSize}px`,height:`${Vu===t.layout?t.scrollbarSize:d.value}px`,[iJ[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),h=P(()=>{const E=t.ratio,T=t.clientSize;if(E>=100)return Number.POSITIVE_INFINITY;if(E>=50)return E*T/100;const I=T/3;return Math.floor(Math.min(Math.max(E*T,aJ),I))}),p=P(()=>{if(!Number.isFinite(h.value))return{display:"none"};const E=`${h.value}px`;return dJ({bar:c.value,size:E,move:l.traveled},t.layout)}),g=P(()=>Math.floor(t.clientSize-h.value-m(n))),v=()=>{window.addEventListener("mousemove",w),window.addEventListener("mouseup",b);const E=m(i);E&&(u=document.onselectstart,document.onselectstart=()=>!1,E.addEventListener("touchmove",w,{passive:!0}),E.addEventListener("touchend",b))},y=()=>{window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",b),document.onselectstart=u,u=null;const E=m(i);E&&(E.removeEventListener("touchmove",w),E.removeEventListener("touchend",b))},_=E=>{E.stopImmediatePropagation(),!(E.ctrlKey||[1,2].includes(E.button))&&(l.isDragging=!0,l[c.value.axis]=E.currentTarget[c.value.offset]-(E[c.value.client]-E.currentTarget.getBoundingClientRect()[c.value.direction]),e("start-move"),v())},b=()=>{l.isDragging=!1,l[c.value.axis]=0,e("stop-move"),y()},w=E=>{const{isDragging:T}=l;if(!T||!i.value||!o.value)return;const I=l[c.value.axis];if(!I)return;Tl(a);const k=(o.value.getBoundingClientRect()[c.value.direction]-E[c.value.client])*-1,C=i.value[c.value.offset]-I,N=k-C;a=$a(()=>{l.traveled=Math.max(t.startGap,Math.min(N,g.value)),e("scroll",N,g.value)})},S=E=>{const T=Math.abs(E.target.getBoundingClientRect()[c.value.direction]-E[c.value.client]),I=i.value[c.value.offset]/2,k=T-I;l.traveled=Math.max(0,Math.min(k,g.value)),e("scroll",k,g.value)};return Pe(()=>t.scrollFrom,E=>{l.isDragging||(l.traveled=Math.ceil(E*g.value))}),In(()=>{y()}),()=>_t("div",{role:"presentation",ref:o,class:[r.b(),t.class,(t.alwaysOn||l.isDragging)&&"always-on"],style:f.value,onMousedown:St(S,["stop","prevent"]),onTouchstartPrevent:_},_t("div",{ref:i,class:s.e("thumb"),style:p.value,onMousedown:_},[]))}}),lL=({name:t,getOffset:e,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:s,getStartIndexForOffset:o,getStopIndexForStartIndex:i,initCache:a,clearCache:u,validateProps:l})=>ee({name:t??"ElVirtualList",props:sL,emits:[Op,Mp],setup(c,{emit:d,expose:f}){l(c);const h=Gt(),p=Ne("vl"),g=q(a(c,h)),v=tL(),y=q(),_=q(),b=q(),w=q({isScrolling:!1,scrollDir:"forward",scrollOffset:bt(c.initScrollOffset)?c.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:c.scrollbarAlwaysOn}),S=P(()=>{const{total:te,cache:ie}=c,{isScrolling:fe,scrollDir:ue,scrollOffset:J}=m(w);if(te===0)return[0,0,0,0];const de=o(c,J,m(g)),ae=i(c,de,J,m(g)),Ae=!fe||ue===Np?Math.max(1,ie):1,Re=!fe||ue===au?Math.max(1,ie):1;return[Math.max(0,de-Ae),Math.max(0,Math.min(te-1,ae+Re)),de,ae]}),E=P(()=>s(c,m(g))),T=P(()=>Md(c.layout)),I=P(()=>[{position:"relative",[`overflow-${T.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:c.direction,height:bt(c.height)?`${c.height}px`:c.height,width:bt(c.width)?`${c.width}px`:c.width},c.style]),k=P(()=>{const te=m(E),ie=m(T);return{height:ie?"100%":`${te}px`,pointerEvents:m(w).isScrolling?"none":void 0,width:ie?`${te}px`:"100%"}}),C=P(()=>T.value?c.width:c.height),{onWheel:N}=uJ({atStartEdge:P(()=>w.value.scrollOffset<=0),atEndEdge:P(()=>w.value.scrollOffset>=E.value),layout:P(()=>c.layout)},te=>{var ie,fe;(fe=(ie=b.value).onMouseUp)==null||fe.call(ie),z(Math.min(w.value.scrollOffset+te,E.value-C.value))});xn(y,"wheel",N,{passive:!1});const D=()=>{const{total:te}=c;if(te>0){const[J,de,ae,Ae]=m(S);d(Op,J,de,ae,Ae)}const{scrollDir:ie,scrollOffset:fe,updateRequested:ue}=m(w);d(Mp,ie,fe,ue)},W=te=>{const{clientHeight:ie,scrollHeight:fe,scrollTop:ue}=te.currentTarget,J=m(w);if(J.scrollOffset===ue)return;const de=Math.max(0,Math.min(ue,fe-ie));w.value={...J,isScrolling:!0,scrollDir:ul(J.scrollOffset,de),scrollOffset:de,updateRequested:!1},pt(j)},H=te=>{const{clientWidth:ie,scrollLeft:fe,scrollWidth:ue}=te.currentTarget,J=m(w);if(J.scrollOffset===fe)return;const{direction:de}=c;let ae=fe;if(de===wu)switch(Bp()){case Od:{ae=-fe;break}case Z1:{ae=ue-ie-fe;break}}ae=Math.max(0,Math.min(ae,ue-ie)),w.value={...J,isScrolling:!0,scrollDir:ul(J.scrollOffset,ae),scrollOffset:ae,updateRequested:!1},pt(j)},V=te=>{m(T)?H(te):W(te),D()},R=(te,ie)=>{const fe=(E.value-C.value)/ie*te;z(Math.min(E.value-C.value,fe))},z=te=>{te=Math.max(te,0),te!==m(w).scrollOffset&&(w.value={...m(w),scrollOffset:te,scrollDir:ul(m(w).scrollOffset,te),updateRequested:!0},pt(j))},M=(te,ie=eo)=>{const{scrollOffset:fe}=m(w);te=Math.max(0,Math.min(te,c.total-1)),z(e(c,te,ie,fe,m(g)))},B=te=>{const{direction:ie,itemSize:fe,layout:ue}=c,J=v.value(u&&fe,u&&ue,u&&ie);let de;if(dn(J,String(te)))de=J[te];else{const ae=r(c,te,m(g)),Ae=n(c,te,m(g)),Re=m(T),pe=ie===wu,ne=Re?ae:0;J[te]=de={position:"absolute",left:pe?void 0:`${ne}px`,right:pe?`${ne}px`:void 0,top:Re?0:`${ae}px`,height:Re?"100%":`${Ae}px`,width:Re?`${Ae}px`:"100%"}}return de},j=()=>{w.value.isScrolling=!1,pt(()=>{v.value(-1,null,null)})},X=()=>{const te=y.value;te&&(te.scrollTop=0)};xt(()=>{if(!an)return;const{initScrollOffset:te}=c,ie=m(y);bt(te)&&ie&&(m(T)?ie.scrollLeft=te:ie.scrollTop=te),D()}),$o(()=>{const{direction:te,layout:ie}=c,{scrollOffset:fe,updateRequested:ue}=m(w),J=m(y);if(ue&&J)if(ie===Vu)if(te===wu)switch(Bp()){case Od:{J.scrollLeft=-fe;break}case Q1:{J.scrollLeft=fe;break}default:{const{clientWidth:de,scrollWidth:ae}=J;J.scrollLeft=ae-de-fe;break}}else J.scrollLeft=fe;else J.scrollTop=fe}),bb(()=>{m(y).scrollTop=m(w).scrollOffset});const se={ns:p,clientSize:C,estimatedTotalSize:E,windowStyle:I,windowRef:y,innerRef:_,innerStyle:k,itemsToRender:S,scrollbarRef:b,states:w,getItemStyle:B,onScroll:V,onScrollbarScroll:R,onWheel:N,scrollTo:z,scrollToItem:M,resetScrollTop:X};return f({windowRef:y,innerRef:_,getItemStyleCache:v,scrollTo:z,scrollToItem:M,resetScrollTop:X,states:w}),se},render(c){var d;const{$slots:f,className:h,clientSize:p,containerElement:g,data:v,getItemStyle:y,innerElement:_,itemsToRender:b,innerStyle:w,layout:S,total:E,onScroll:T,onScrollbarScroll:I,states:k,useIsScrolling:C,windowStyle:N,ns:D}=c,[W,H]=b,V=Wt(g),R=Wt(_),z=[];if(E>0)for(let X=W;X<=H;X++)z.push(_t(tt,{key:X},(d=f.default)==null?void 0:d.call(f,{data:v,index:X,isScrolling:C?k.isScrolling:void 0,style:y(X)})));const M=[_t(R,{style:w,ref:"innerRef"},ht(R)?z:{default:()=>z})],B=_t(ey,{ref:"scrollbarRef",clientSize:p,layout:S,onScroll:I,ratio:p*100/this.estimatedTotalSize,scrollFrom:k.scrollOffset/(this.estimatedTotalSize-p),total:E}),j=_t(V,{class:[D.e("window"),h],style:N,onScroll:T,ref:"windowRef",key:0},ht(V)?[M]:{default:()=>[M]});return _t("div",{key:0,class:[D.e("wrapper"),k.scrollbarAlwaysOn?"always-on":""]},[j,B])}}),uL=lL({name:"ElFixedSizeList",getItemOffset:({itemSize:t},e)=>e*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:e})=>e*t,getOffset:({height:t,total:e,itemSize:n,layout:r,width:s},o,i,a)=>{const u=Md(r)?s:t,l=Math.max(0,e*n-u),c=Math.min(l,o*n),d=Math.max(0,(o+1)*n-u);switch(i===Xm&&(a>=d-u&&a<=c+u?i=eo:i=Qo),i){case Pd:return c;case Dd:return d;case Qo:{const f=Math.round(d+(c-d)/2);return f<Math.ceil(u/2)?0:f>l+Math.floor(u/2)?l:f}case eo:default:return a>=d&&a<=c?a:a<d?d:c}},getStartIndexForOffset:({total:t,itemSize:e},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getStopIndexForStartIndex:({height:t,total:e,itemSize:n,layout:r,width:s},o,i)=>{const a=o*n,u=Md(r)?s:t,l=Math.ceil((u+i-a)/n);return Math.max(0,Math.min(e-1,o+l-1))},initCache(){},clearCache:!0,validateProps(){}}),lu=(t,e,n)=>{const{itemSize:r}=t,{items:s,lastVisitedIndex:o}=n;if(e>o){let i=0;if(o>=0){const a=s[o];i=a.offset+a.size}for(let a=o+1;a<=e;a++){const u=r(a);s[a]={offset:i,size:u},i+=u}n.lastVisitedIndex=e}return s[e]},fJ=(t,e,n)=>{const{items:r,lastVisitedIndex:s}=e;return(s>0?r[s].offset:0)>=n?cL(t,e,0,s,n):hJ(t,e,Math.max(0,s),n)},cL=(t,e,n,r,s)=>{for(;n<=r;){const o=n+Math.floor((r-n)/2),i=lu(t,o,e).offset;if(i===s)return o;i<s?n=o+1:i>s&&(r=o-1)}return Math.max(0,n-1)},hJ=(t,e,n,r)=>{const{total:s}=t;let o=1;for(;n<s&&lu(t,n,e).offset<r;)n+=o,o*=2;return cL(t,e,Math.floor(n/2),Math.min(n,s-1),r)},bx=({total:t},{items:e,estimatedItemSize:n,lastVisitedIndex:r})=>{let s=0;if(r>=t&&(r=t-1),r>=0){const a=e[r];s=a.offset+a.size}const i=(t-r-1)*n;return s+i},pJ=lL({name:"ElDynamicSizeList",getItemOffset:(t,e,n)=>lu(t,e,n).offset,getItemSize:(t,e,{items:n})=>n[e].size,getEstimatedTotalSize:bx,getOffset:(t,e,n,r,s)=>{const{height:o,layout:i,width:a}=t,u=Md(i)?a:o,l=lu(t,e,s),c=bx(t,s),d=Math.max(0,Math.min(c-u,l.offset)),f=Math.max(0,l.offset-u+l.size);switch(n===Xm&&(r>=f-u&&r<=d+u?n=eo:n=Qo),n){case Pd:return d;case Dd:return f;case Qo:return Math.round(f+(d-f)/2);case eo:default:return r>=f&&r<=d?r:r<f?f:d}},getStartIndexForOffset:(t,e,n)=>fJ(t,n,e),getStopIndexForStartIndex:(t,e,n,r)=>{const{height:s,total:o,layout:i,width:a}=t,u=Md(i)?a:s,l=lu(t,e,r),c=n+u;let d=l.offset+l.size,f=e;for(;f<o-1&&d<c;)f++,d+=lu(t,f,r).size;return f},initCache({estimatedItemSize:t=q0},e){const n={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(r,s=!0)=>{var o,i;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,r-1),(o=e.exposed)==null||o.getItemStyleCache(-1),s&&((i=e.proxy)==null||i.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:t})=>{}}),mJ={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var gJ=ee({name:"ElSelectDropdown",props:mJ,setup(t,{slots:e,expose:n}){const r=rt(Y1),s=Ne("select"),{getLabel:o,getValue:i,getDisabled:a}=Ym(r.props),u=q([]),l=q(),c=P(()=>t.data.length);Pe(()=>c.value,()=>{var N,D;(D=(N=r.tooltipRef.value).updatePopper)==null||D.call(N)});const d=P(()=>ln(r.props.estimatedOptionHeight)),f=P(()=>d.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:N=>u.value[N]}),h=(N=[],D)=>{const{props:{valueKey:W}}=r;return Kt(D)?N&&N.some(H=>An(or(H,W))===or(D,W)):N.includes(D)},p=(N,D)=>{if(Kt(D)){const{valueKey:W}=r.props;return or(N,W)===or(D,W)}else return N===D},g=(N,D)=>r.props.multiple?h(N,i(D)):p(N,i(D)),v=(N,D)=>{const{disabled:W,multiple:H,multipleLimit:V}=r.props;return W||!D&&(H?V>0&&N.length>=V:!1)},y=N=>t.hoveringIndex===N;n({listRef:l,isSized:d,isItemDisabled:v,isItemHovering:y,isItemSelected:g,scrollToItem:N=>{const D=l.value;D&&D.scrollToItem(N)},resetScrollTop:()=>{const N=l.value;N&&N.resetScrollTop()}});const S=N=>{const{index:D,data:W,style:H}=N,V=m(d),{itemSize:R,estimatedSize:z}=m(f),{modelValue:M}=r.props,{onSelect:B,onHover:j}=r,X=W[D];if(X.type==="Group")return A(GZ,{item:X,style:H,height:V?R:z},null);const se=g(M,X),te=v(M,se),ie=y(D);return A(tJ,Xt(N,{selected:se,disabled:a(X)||te,created:!!X.created,hovering:ie,item:X,onSelect:B,onHover:j}),{default:fe=>{var ue;return((ue=e.default)==null?void 0:ue.call(e,fe))||A("span",null,[o(X)])}})},{onKeyboardNavigate:E,onKeyboardSelect:T}=r,I=()=>{E("forward")},k=()=>{E("backward")},C=N=>{const{code:D}=N,{tab:W,esc:H,down:V,up:R,enter:z,numpadEnter:M}=ot;switch([H,V,R,z,M].includes(D)&&(N.preventDefault(),N.stopPropagation()),D){case W:case H:break;case V:I();break;case R:k();break;case z:case M:T();break}};return()=>{var N,D,W,H;const{data:V,width:R}=t,{height:z,multiple:M,scrollbarAlwaysOn:B}=r.props,j=P(()=>kp?!0:B),X=m(d)?uL:pJ;return A("div",{class:[s.b("dropdown"),s.is("multiple",M)],style:{width:`${R}px`}},[(N=e.header)==null?void 0:N.call(e),((D=e.loading)==null?void 0:D.call(e))||((W=e.empty)==null?void 0:W.call(e))||A(X,Xt({ref:l},m(f),{className:s.be("dropdown","list"),scrollbarAlwaysOn:j.value,data:V,height:z,width:R,total:V.length,onKeydown:C}),{default:se=>A(S,se,null)}),(H=e.footer)==null?void 0:H.call(e)])}}});function vJ(t,e){const{aliasProps:n,getLabel:r,getValue:s}=Ym(t),o=q(0),i=q(),a=P(()=>t.allowCreate&&t.filterable);function u(h){const p=g=>r(g)===h;return t.options&&t.options.some(p)||e.createdOptions.some(p)}function l(h){a.value&&(t.multiple&&h.created?o.value++:i.value=h)}function c(h){if(a.value)if(h&&h.length>0){if(u(h))return;const p={[n.value.value]:h,[n.value.label]:h,created:!0,[n.value.disabled]:!1};e.createdOptions.length>=o.value?e.createdOptions[o.value]=p:e.createdOptions.push(p)}else if(t.multiple)e.createdOptions.length=o.value;else{const p=i.value;e.createdOptions.length=0,p&&p.created&&e.createdOptions.push(p)}}function d(h){if(!a.value||!h||!h.created||h.created&&t.reserveKeyword&&e.inputValue===r(h))return;const p=e.createdOptions.findIndex(g=>s(g)===s(h));~p&&(e.createdOptions.splice(p,1),o.value--)}function f(){a.value&&(e.createdOptions.length=0,o.value=0)}return{createNewOption:c,removeNewOption:d,selectNewOption:l,clearAllNewOption:f}}const yJ=(t,e)=>{const{t:n}=un(),r=Ne("select"),s=Ne("input"),{form:o,formItem:i}=Kr(),{inputId:a}=po(t,{formItemContext:i}),{aliasProps:u,getLabel:l,getValue:c,getDisabled:d,getOptions:f}=Ym(t),{valueOnClear:h,isEmptyValue:p}=Pm(t),g=Ft({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),v=q(-1),y=q(),_=q(),b=q(),w=q(),S=q(),E=q(),T=q(),I=q(),k=q(),C=q(),{isComposing:N,handleCompositionStart:D,handleCompositionEnd:W,handleCompositionUpdate:H}=mf({afterComposition:Je=>mr(Je)}),{wrapperRef:V,isFocused:R,handleBlur:z}=Ka(S,{beforeFocus(){return se.value},afterFocus(){t.automaticDropdown&&!X.value&&(X.value=!0,g.menuVisibleOnFocus=!0)},beforeBlur(Je){var yt,Zt;return((yt=b.value)==null?void 0:yt.isFocusInsideContent(Je))||((Zt=w.value)==null?void 0:Zt.isFocusInsideContent(Je))},afterBlur(){var Je;X.value=!1,g.menuVisibleOnFocus=!1,t.validateEvent&&((Je=i==null?void 0:i.validate)==null||Je.call(i,"blur").catch(yt=>void 0))}}),M=P(()=>ne("")),B=P(()=>t.loading?!1:t.options.length>0||g.createdOptions.length>0),j=q([]),X=q(!1),se=P(()=>t.disabled||(o==null?void 0:o.disabled)),te=P(()=>{var Je;return(Je=o==null?void 0:o.statusIcon)!=null?Je:!1}),ie=P(()=>{const Je=j.value.length*t.itemHeight;return Je>t.height?t.height:Je}),fe=P(()=>t.multiple?Ke(t.modelValue)&&t.modelValue.length>0:!p(t.modelValue)),ue=P(()=>t.clearable&&!se.value&&g.inputHovering&&fe.value),J=P(()=>t.remote&&t.filterable?"":t.suffixIcon),de=P(()=>J.value&&r.is("reverse",X.value)),ae=P(()=>(i==null?void 0:i.validateState)||""),Ae=P(()=>{if(ae.value)return Fm[ae.value]}),Re=P(()=>t.remote?300:0),pe=P(()=>t.loading?t.loadingText||n("el.select.loading"):t.remote&&!g.inputValue&&!B.value?!1:t.filterable&&g.inputValue&&B.value&&j.value.length===0?t.noMatchText||n("el.select.noMatch"):B.value?null:t.noDataText||n("el.select.noData")),ne=Je=>{const yt=new RegExp(x1(Je),"i"),Zt=t.filterable&&vt(t.filterMethod),rn=t.filterable&&t.remote&&vt(t.remoteMethod),Sr=Er=>Zt||rn?!0:Je?yt.test(l(Er)||""):!0;return t.loading?[]:[...g.createdOptions,...t.options].reduce((Er,Ws)=>{const go=f(Ws);if(Ke(go)){const ra=go.filter(Sr);ra.length>0&&Er.push({label:l(Ws),type:"Group"},...ra)}else(t.remote||Sr(Ws))&&Er.push(Ws);return Er},[])},le=()=>{j.value=ne(g.inputValue)},Se=P(()=>{const Je=new Map;return M.value.forEach((yt,Zt)=>{Je.set(zn(c(yt)),{option:yt,index:Zt})}),Je}),Ce=P(()=>{const Je=new Map;return j.value.forEach((yt,Zt)=>{Je.set(zn(c(yt)),{option:yt,index:Zt})}),Je}),Ee=P(()=>j.value.every(Je=>d(Je))),we=fr(),Le=P(()=>we.value==="small"?"small":"default"),Be=()=>{var Je;if(bt(t.fitInputWidth)){v.value=t.fitInputWidth;return}const yt=((Je=y.value)==null?void 0:Je.offsetWidth)||200;!t.fitInputWidth&&B.value?pt(()=>{v.value=Math.max(yt,Ue())}):v.value=yt},Ue=()=>{var Je,yt;const rn=document.createElement("canvas").getContext("2d"),Sr=r.be("dropdown","item"),Ws=(((yt=(Je=I.value)==null?void 0:Je.listRef)==null?void 0:yt.innerRef)||document).querySelector(`.${Sr}`);if(Ws===null||rn===null)return 0;const go=getComputedStyle(Ws),ra=Number.parseFloat(go.paddingLeft)+Number.parseFloat(go.paddingRight);return rn.font=`bold ${go.font.replace(new RegExp(`\\b${go.fontWeight}\\b`),"")}`,j.value.reduce((Af,Bl)=>{const Rf=rn.measureText(l(Bl));return Math.max(Rf.width,Af)},0)+ra},je=()=>{if(!_.value)return 0;const Je=window.getComputedStyle(_.value);return Number.parseFloat(Je.gap||"6px")},at=P(()=>{const Je=je();return{maxWidth:`${C.value&&t.maxCollapseTags===1?g.selectionWidth-g.collapseItemWidth-Je:g.selectionWidth}px`}}),Ie=P(()=>({maxWidth:`${g.selectionWidth}px`})),Ze=P(()=>Ke(t.modelValue)?t.modelValue.length===0&&!g.inputValue:t.filterable?!g.inputValue:!0),mt=P(()=>{var Je;const yt=(Je=t.placeholder)!=null?Je:n("el.select.placeholder");return t.multiple||!fe.value?yt:g.selectedLabel}),Pt=P(()=>{var Je,yt;return(yt=(Je=b.value)==null?void 0:Je.popperRef)==null?void 0:yt.contentRef}),Vt=P(()=>{if(t.multiple){const Je=t.modelValue.length;if(t.modelValue.length>0&&Ce.value.has(t.modelValue[Je-1])){const{index:yt}=Ce.value.get(t.modelValue[Je-1]);return yt}}else if(!p(t.modelValue)&&Ce.value.has(t.modelValue)){const{index:Je}=Ce.value.get(t.modelValue);return Je}return-1}),Ht=P({get(){return X.value&&pe.value!==!1},set(Je){X.value=Je}}),Jt=P(()=>t.multiple?t.collapseTags?g.cachedOptions.slice(0,t.maxCollapseTags):g.cachedOptions:[]),fn=P(()=>t.multiple?t.collapseTags?g.cachedOptions.slice(t.maxCollapseTags):[]:[]),{createNewOption:wt,removeNewOption:Mt,selectNewOption:he,clearAllNewOption:_e}=vJ(t,g),re=()=>{se.value||(g.menuVisibleOnFocus?g.menuVisibleOnFocus=!1:X.value=!X.value)},$e=()=>{g.inputValue.length>0&&!X.value&&(X.value=!0),wt(g.inputValue),Rt(g.inputValue)},Et=As($e,Re.value),Rt=Je=>{g.previousQuery===Je||N.value||(g.previousQuery=Je,t.filterable&&vt(t.filterMethod)?t.filterMethod(Je):t.filterable&&t.remote&&vt(t.remoteMethod)&&t.remoteMethod(Je),t.defaultFirstOption&&(t.filterable||t.remote)&&j.value.length?pt(ft):pt(Vn))},ft=()=>{const Je=j.value.filter(rn=>!rn.disabled&&rn.type!=="Group"),yt=Je.find(rn=>rn.created),Zt=Je[0];g.hoveringIndex=lr(j.value,yt||Zt)},sn=Je=>{Lr(t.modelValue,Je)||e(Yt,Je)},sr=Je=>{e($t,Je),sn(Je),g.previousValue=t.multiple?String(Je):Je,pt(()=>{if(t.multiple&&Ke(t.modelValue)){const yt=t.modelValue.map(Zt=>Wr(Zt));Lr(g.cachedOptions,yt)||(g.cachedOptions=yt)}else yi(!0)})},lr=(Je=[],yt)=>{if(!Kt(yt))return Je.indexOf(yt);const Zt=t.valueKey;let rn=-1;return Je.some((Sr,Er)=>or(Sr,Zt)===or(yt,Zt)?(rn=Er,!0):!1),rn},zn=Je=>Kt(Je)?or(Je,t.valueKey):Je,ys=()=>{Be()},Pn=()=>{g.selectionWidth=_.value.getBoundingClientRect().width},Ur=()=>{g.collapseItemWidth=C.value.getBoundingClientRect().width},zs=()=>{var Je,yt;(yt=(Je=b.value)==null?void 0:Je.updatePopper)==null||yt.call(Je)},bs=()=>{var Je,yt;(yt=(Je=w.value)==null?void 0:Je.updatePopper)==null||yt.call(Je)},Zi=Je=>{if(t.multiple){let yt=t.modelValue.slice();const Zt=lr(yt,c(Je));Zt>-1?(yt=[...yt.slice(0,Zt),...yt.slice(Zt+1)],g.cachedOptions.splice(Zt,1),Mt(Je)):(t.multipleLimit<=0||yt.length<t.multipleLimit)&&(yt=[...yt,c(Je)],g.cachedOptions.push(Je),he(Je)),sr(yt),Je.created&&Rt(""),t.filterable&&!t.reserveKeyword&&(g.inputValue="")}else g.selectedLabel=l(Je),sr(c(Je)),X.value=!1,he(Je),Je.created||_e();Bn()},Ji=(Je,yt)=>{let Zt=t.modelValue.slice();const rn=lr(Zt,c(yt));rn>-1&&!se.value&&(Zt=[...t.modelValue.slice(0,rn),...t.modelValue.slice(rn+1)],g.cachedOptions.splice(rn,1),sr(Zt),e("remove-tag",c(yt)),Mt(yt)),Je.stopPropagation(),Bn()},Bn=()=>{var Je;(Je=S.value)==null||Je.focus()},ur=()=>{var Je;if(X.value){X.value=!1,pt(()=>{var yt;return(yt=S.value)==null?void 0:yt.blur()});return}(Je=S.value)==null||Je.blur()},vc=()=>{g.inputValue.length>0?g.inputValue="":X.value=!1},ea=Je=>aI(Je,yt=>!g.cachedOptions.some(Zt=>c(Zt)===yt&&d(Zt))),ta=Je=>{if(t.multiple&&Je.code!==ot.delete&&g.inputValue.length===0){Je.preventDefault();const yt=t.modelValue.slice(),Zt=ea(yt);if(Zt<0)return;const rn=yt[Zt];yt.splice(Zt,1);const Sr=g.cachedOptions[Zt];g.cachedOptions.splice(Zt,1),Mt(Sr),sr(yt),e("remove-tag",rn)}},na=()=>{let Je;Ke(t.modelValue)?Je=[]:Je=h.value,g.selectedLabel="",X.value=!1,sr(Je),e("clear"),_e(),Bn()},et=(Je,yt=void 0)=>{const Zt=j.value;if(!["forward","backward"].includes(Je)||se.value||Zt.length<=0||Ee.value||N.value)return;if(!X.value)return re();ln(yt)&&(yt=g.hoveringIndex);let rn=-1;Je==="forward"?(rn=yt+1,rn>=Zt.length&&(rn=0)):Je==="backward"&&(rn=yt-1,(rn<0||rn>=Zt.length)&&(rn=Zt.length-1));const Sr=Zt[rn];if(d(Sr)||Sr.type==="Group")return et(Je,rn);g.hoveringIndex=rn,mo(rn)},kt=()=>{if(X.value)~g.hoveringIndex&&j.value[g.hoveringIndex]&&Zi(j.value[g.hoveringIndex]);else return re()},cn=Je=>{g.hoveringIndex=Je??-1},Vn=()=>{t.multiple?g.hoveringIndex=j.value.findIndex(Je=>t.modelValue.some(yt=>zn(yt)===zn(Je))):g.hoveringIndex=j.value.findIndex(Je=>zn(Je)===zn(t.modelValue))},mr=Je=>{if(g.inputValue=Je.target.value,t.remote)Et();else return $e()},Fo=Je=>{if(X.value=!1,R.value){const yt=new FocusEvent("focus",Je);z(yt)}},kr=()=>(g.isBeforeHide=!1,pt(()=>{~Vt.value&&mo(g.hoveringIndex)})),mo=Je=>{I.value.scrollToItem(Je)},Wr=(Je,yt)=>{const Zt=zn(Je);if(Se.value.has(Zt)){const{option:rn}=Se.value.get(Zt);return rn}if(yt&&yt.length){const rn=yt.find(Sr=>zn(c(Sr))===Zt);if(rn)return rn}return{[u.value.value]:Je,[u.value.label]:Je}},yi=(Je=!1)=>{if(t.multiple)if(t.modelValue.length>0){const yt=g.cachedOptions.slice();g.cachedOptions.length=0,g.previousValue=t.modelValue.toString();for(const Zt of t.modelValue){const rn=Wr(Zt,yt);g.cachedOptions.push(rn)}}else g.cachedOptions=[],g.previousValue=void 0;else if(fe.value){g.previousValue=t.modelValue;const yt=j.value,Zt=yt.findIndex(rn=>zn(c(rn))===zn(t.modelValue));~Zt?g.selectedLabel=l(yt[Zt]):(!g.selectedLabel||Je)&&(g.selectedLabel=zn(t.modelValue))}else g.selectedLabel="",g.previousValue=void 0;_e(),Be()};return Pe(()=>t.fitInputWidth,()=>{Be()}),Pe(X,Je=>{Je?(t.persistent||Be(),Rt("")):(g.inputValue="",g.previousQuery=null,g.isBeforeHide=!0,wt("")),e("visible-change",Je)}),Pe(()=>t.modelValue,(Je,yt)=>{var Zt;(!Je||Ke(Je)&&Je.length===0||t.multiple&&!Lr(Je.toString(),g.previousValue)||!t.multiple&&zn(Je)!==zn(g.previousValue))&&yi(!0),!Lr(Je,yt)&&t.validateEvent&&((Zt=i==null?void 0:i.validate)==null||Zt.call(i,"change").catch(Sr=>void 0))},{deep:!0}),Pe(()=>t.options,()=>{const Je=S.value;(!Je||Je&&document.activeElement!==Je)&&yi()},{deep:!0,flush:"post"}),Pe(()=>j.value,()=>(Be(),I.value&&pt(I.value.resetScrollTop))),Fr(()=>{g.isBeforeHide||le()}),Fr(()=>{const{valueKey:Je,options:yt}=t,Zt=new Map;for(const rn of yt){const Sr=c(rn);let Er=Sr;if(Kt(Er)&&(Er=or(Sr,Je)),Zt.get(Er))break;Zt.set(Er,!0)}}),xt(()=>{yi()}),qn(y,ys),qn(_,Pn),qn(I,zs),qn(V,zs),qn(k,bs),qn(C,Ur),{inputId:a,collapseTagSize:Le,currentPlaceholder:mt,expanded:X,emptyText:pe,popupHeight:ie,debounce:Re,allOptions:M,filteredOptions:j,iconComponent:J,iconReverse:de,tagStyle:at,collapseTagStyle:Ie,popperSize:v,dropdownMenuVisible:Ht,hasModelValue:fe,shouldShowPlaceholder:Ze,selectDisabled:se,selectSize:we,needStatusIcon:te,showClearBtn:ue,states:g,isFocused:R,nsSelect:r,nsInput:s,inputRef:S,menuRef:I,tagMenuRef:k,tooltipRef:b,tagTooltipRef:w,selectRef:y,wrapperRef:V,selectionRef:_,prefixRef:E,suffixRef:T,collapseItemRef:C,popperRef:Pt,validateState:ae,validateIcon:Ae,showTagList:Jt,collapseTagList:fn,debouncedOnInputChange:Et,deleteTag:Ji,getLabel:l,getValue:c,getDisabled:d,getValueKey:zn,handleClear:na,handleClickOutside:Fo,handleDel:ta,handleEsc:vc,focus:Bn,blur:ur,handleMenuEnter:kr,handleResize:ys,resetSelectionWidth:Pn,updateTooltip:zs,updateTagTooltip:bs,updateOptions:le,toggleMenu:re,scrollTo:mo,onInput:mr,onKeyboardNavigate:et,onKeyboardSelect:kt,onSelect:Zi,onHover:cn,handleCompositionStart:D,handleCompositionEnd:W,handleCompositionUpdate:H}},bJ=ee({name:"ElSelectV2",components:{ElSelectMenu:gJ,ElTag:co,ElTooltip:wr,ElIcon:lt},directives:{ClickOutside:Hi},props:YZ,emits:QZ,setup(t,{emit:e}){const n=P(()=>{const{modelValue:a,multiple:u}=t,l=u?[]:void 0;return Ke(a)?u?a:l:u?l:a}),r=yJ(Ft({...$r(t),modelValue:n}),e),{calculatorRef:s,inputStyle:o}=z1();Qt(Y1,{props:Ft({...$r(t),height:r.popupHeight,modelValue:n}),expanded:r.expanded,tooltipRef:r.tooltipRef,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect});const i=P(()=>t.multiple?r.states.cachedOptions.map(a=>a.label):r.states.selectedLabel);return{...r,modelValue:n,selectedLabel:i,calculatorRef:s,inputStyle:o}}});function wJ(t,e,n,r,s,o){const i=qt("el-tag"),a=qt("el-tooltip"),u=qt("el-icon"),l=qt("el-select-menu"),c=_m("click-outside");return At((L(),G("div",{ref:"selectRef",class:U([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:d=>t.states.inputHovering=!0,onMouseleave:d=>t.states.inputHovering=!1},[A(a,{ref:"tooltipRef",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,placement:t.placement,pure:"",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,"append-to":t.appendTo,"show-arrow":t.showArrow,offset:t.offset,onBeforeShow:t.handleMenuEnter,onHide:d=>t.states.isBeforeHide=!1},{default:O(()=>[F("div",{ref:"wrapperRef",class:U([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:St(t.toggleMenu,["prevent"])},[t.$slots.prefix?(L(),G("div",{key:0,ref:"prefixRef",class:U(t.nsSelect.e("prefix"))},[ve(t.$slots,"prefix")],2)):ce("v-if",!0),F("div",{ref:"selectionRef",class:U([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.modelValue.length)])},[t.multiple?ve(t.$slots,"tag",{key:0},()=>[(L(!0),G(tt,null,It(t.showTagList,d=>(L(),G("div",{key:t.getValueKey(t.getValue(d)),class:U(t.nsSelect.e("selected-item"))},[A(i,{closable:!t.selectDisabled&&!t.getDisabled(d),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:dt(t.tagStyle),onClose:f=>t.deleteTag(f,d)},{default:O(()=>[F("span",{class:U(t.nsSelect.e("tags-text"))},[ve(t.$slots,"label",{label:t.getLabel(d),value:t.getValue(d)},()=>[xe(ge(t.getLabel(d)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.modelValue.length>t.maxCollapseTags?(L(),ye(a,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:O(()=>[F("div",{ref:"collapseItemRef",class:U(t.nsSelect.e("selected-item"))},[A(i,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,style:dt(t.collapseTagStyle),"disable-transitions":""},{default:O(()=>[F("span",{class:U(t.nsSelect.e("tags-text"))}," + "+ge(t.modelValue.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:O(()=>[F("div",{ref:"tagMenuRef",class:U(t.nsSelect.e("selection"))},[(L(!0),G(tt,null,It(t.collapseTagList,d=>(L(),G("div",{key:t.getValueKey(t.getValue(d)),class:U(t.nsSelect.e("selected-item"))},[A(i,{class:"in-tooltip",closable:!t.selectDisabled&&!t.getDisabled(d),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:f=>t.deleteTag(f,d)},{default:O(()=>[F("span",{class:U(t.nsSelect.e("tags-text"))},[ve(t.$slots,"label",{label:t.getLabel(d),value:t.getValue(d)},()=>[xe(ge(t.getLabel(d)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):ce("v-if",!0)]):ce("v-if",!0),F("div",{class:U([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[At(F("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":d=>t.states.inputValue=d,style:dt(t.inputStyle),autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-label":t.ariaLabel,class:U([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,onInput:t.onInput,onCompositionstart:t.handleCompositionStart,onCompositionupdate:t.handleCompositionUpdate,onCompositionend:t.handleCompositionEnd,onKeydown:[Sn(St(d=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),Sn(St(d=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),Sn(St(t.onKeyboardSelect,["stop","prevent"]),["enter"]),Sn(St(t.handleEsc,["stop","prevent"]),["esc"]),Sn(St(t.handleDel,["stop"]),["delete"])],onClick:St(t.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","tabindex","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[si,t.states.inputValue]]),t.filterable?(L(),G("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:U(t.nsSelect.e("input-calculator")),textContent:ge(t.states.inputValue)},null,10,["textContent"])):ce("v-if",!0)],2),t.shouldShowPlaceholder?(L(),G("div",{key:1,class:U([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?ve(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},()=>[F("span",null,ge(t.currentPlaceholder),1)]):(L(),G("span",{key:1},ge(t.currentPlaceholder),1))],2)):ce("v-if",!0)],2),F("div",{ref:"suffixRef",class:U(t.nsSelect.e("suffix"))},[t.iconComponent?At((L(),ye(u,{key:0,class:U([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:O(()=>[(L(),ye(Wt(t.iconComponent)))]),_:1},8,["class"])),[[nn,!t.showClearBtn]]):ce("v-if",!0),t.showClearBtn&&t.clearIcon?(L(),ye(u,{key:1,class:U([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.nsSelect.e("clear")]),onClick:St(t.handleClear,["prevent","stop"])},{default:O(()=>[(L(),ye(Wt(t.clearIcon)))]),_:1},8,["class","onClick"])):ce("v-if",!0),t.validateState&&t.validateIcon&&t.needStatusIcon?(L(),ye(u,{key:2,class:U([t.nsInput.e("icon"),t.nsInput.e("validateIcon"),t.nsInput.is("loading",t.validateState==="validating")])},{default:O(()=>[(L(),ye(Wt(t.validateIcon)))]),_:1},8,["class"])):ce("v-if",!0)],2)],10,["onClick"])]),content:O(()=>[A(l,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},js({default:O(d=>[ve(t.$slots,"default",Os(ri(d)))]),_:2},[t.$slots.header?{name:"header",fn:O(()=>[F("div",{class:U(t.nsSelect.be("dropdown","header"))},[ve(t.$slots,"header")],2)])}:void 0,t.$slots.loading&&t.loading?{name:"loading",fn:O(()=>[F("div",{class:U(t.nsSelect.be("dropdown","loading"))},[ve(t.$slots,"loading")],2)])}:t.loading||t.filteredOptions.length===0?{name:"empty",fn:O(()=>[F("div",{class:U(t.nsSelect.be("dropdown","empty"))},[ve(t.$slots,"empty",{},()=>[F("span",null,ge(t.emptyText),1)])],2)])}:void 0,t.$slots.footer?{name:"footer",fn:O(()=>[F("div",{class:U(t.nsSelect.be("dropdown","footer"))},[ve(t.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[c,t.handleClickOutside,t.popperRef]])}var _J=Ye(bJ,[["render",wJ],["__file","select.vue"]]);const dL=Bt(_J),SJ=qe({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:me([Number,Object])}}),EJ=qe({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),xJ=ee({name:"ElSkeletonItem"}),TJ=ee({...xJ,props:EJ,setup(t){const e=Ne("skeleton");return(n,r)=>(L(),G("div",{class:U([m(e).e("item"),m(e).e(n.variant)])},[n.variant==="image"?(L(),ye(m(y9),{key:0})):ce("v-if",!0)],2))}});var Vp=Ye(TJ,[["__file","skeleton-item.vue"]]);const CJ=(t,e=0)=>{if(e===0)return t;const n=Kt(e)&&!!e.initVal,r=q(n);let s=null;const o=a=>{if(ln(a)){r.value=t.value;return}s&&clearTimeout(s),s=setTimeout(()=>{r.value=t.value},a)},i=a=>{a==="leading"?bt(e)?o(e):o(e.leading):Kt(e)?o(e.trailing):r.value=!1};return xt(()=>i("leading")),Pe(()=>t.value,a=>{i(a?"leading":"trailing")}),r},kJ=ee({name:"ElSkeleton"}),IJ=ee({...kJ,props:SJ,setup(t,{expose:e}){const n=t,r=Ne("skeleton"),s=CJ(wn(n,"loading"),n.throttle);return e({uiLoading:s}),(o,i)=>m(s)?(L(),G("div",Xt({key:0,class:[m(r).b(),m(r).is("animated",o.animated)]},o.$attrs),[(L(!0),G(tt,null,It(o.count,a=>(L(),G(tt,{key:a},[m(s)?ve(o.$slots,"template",{key:a},()=>[A(Vp,{class:U(m(r).is("first")),variant:"p"},null,8,["class"]),(L(!0),G(tt,null,It(o.rows,u=>(L(),ye(Vp,{key:u,class:U([m(r).e("paragraph"),m(r).is("last",u===o.rows&&o.rows>1)]),variant:"p"},null,8,["class"]))),128))]):ce("v-if",!0)],64))),128))],16)):ve(o.$slots,"default",Os(Xt({key:1},o.$attrs)))}});var AJ=Ye(IJ,[["__file","skeleton.vue"]]);const RJ=Bt(AJ,{SkeletonItem:Vp}),LJ=Xn(Vp),fL=Symbol("sliderContextKey"),$J=qe({modelValue:{type:me([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:pr,inputSize:pr,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:me(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:me(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Xi,default:"top"},marks:{type:me(Object)},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...Vr(["ariaLabel"])}),vv=t=>bt(t)||Ke(t)&&t.every(bt),PJ={[$t]:vv,[yr]:vv,[Yt]:vv},DJ=qe({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Xi,default:"top"}}),OJ={[$t]:t=>bt(t)},MJ=(t,e,n)=>{const r=q(),s=q(!1),o=P(()=>e.value instanceof Function),i=P(()=>o.value&&e.value(t.modelValue)||t.modelValue),a=As(()=>{n.value&&(s.value=!0)},50),u=As(()=>{n.value&&(s.value=!1)},50);return{tooltip:r,tooltipVisible:s,formatValue:i,displayTooltip:a,hideTooltip:u}},NJ=(t,e,n)=>{const{disabled:r,min:s,max:o,step:i,showTooltip:a,persistent:u,precision:l,sliderSize:c,formatTooltip:d,emitChange:f,resetSize:h,updateDragging:p}=rt(fL),{tooltip:g,tooltipVisible:v,formatValue:y,displayTooltip:_,hideTooltip:b}=MJ(t,d,a),w=q(),S=P(()=>`${(t.modelValue-s.value)/(o.value-s.value)*100}%`),E=P(()=>t.vertical?{bottom:S.value}:{left:S.value}),T=()=>{e.hovering=!0,_()},I=()=>{e.hovering=!1,e.dragging||b()},k=te=>{r.value||(te.preventDefault(),B(te),window.addEventListener("mousemove",j),window.addEventListener("touchmove",j),window.addEventListener("mouseup",X),window.addEventListener("touchend",X),window.addEventListener("contextmenu",X),w.value.focus())},C=te=>{r.value||(e.newPosition=Number.parseFloat(S.value)+te/(o.value-s.value)*100,se(e.newPosition),f())},N=()=>{C(-i.value)},D=()=>{C(i.value)},W=()=>{C(-i.value*4)},H=()=>{C(i.value*4)},V=()=>{r.value||(se(0),f())},R=()=>{r.value||(se(100),f())},z=te=>{let ie=!0;switch(te.code){case ot.left:case ot.down:N();break;case ot.right:case ot.up:D();break;case ot.home:V();break;case ot.end:R();break;case ot.pageDown:W();break;case ot.pageUp:H();break;default:ie=!1;break}ie&&te.preventDefault()},M=te=>{let ie,fe;return te.type.startsWith("touch")?(fe=te.touches[0].clientY,ie=te.touches[0].clientX):(fe=te.clientY,ie=te.clientX),{clientX:ie,clientY:fe}},B=te=>{e.dragging=!0,e.isClick=!0;const{clientX:ie,clientY:fe}=M(te);t.vertical?e.startY=fe:e.startX=ie,e.startPosition=Number.parseFloat(S.value),e.newPosition=e.startPosition},j=te=>{if(e.dragging){e.isClick=!1,_(),h();let ie;const{clientX:fe,clientY:ue}=M(te);t.vertical?(e.currentY=ue,ie=(e.startY-e.currentY)/c.value*100):(e.currentX=fe,ie=(e.currentX-e.startX)/c.value*100),e.newPosition=e.startPosition+ie,se(e.newPosition)}},X=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||b(),e.isClick||se(e.newPosition),f()},0),window.removeEventListener("mousemove",j),window.removeEventListener("touchmove",j),window.removeEventListener("mouseup",X),window.removeEventListener("touchend",X),window.removeEventListener("contextmenu",X))},se=async te=>{if(te===null||Number.isNaN(+te))return;te<0?te=0:te>100&&(te=100);const ie=100/((o.value-s.value)/i.value);let ue=Math.round(te/ie)*ie*(o.value-s.value)*.01+s.value;ue=Number.parseFloat(ue.toFixed(l.value)),ue!==t.modelValue&&n($t,ue),!e.dragging&&t.modelValue!==e.oldValue&&(e.oldValue=t.modelValue),await pt(),e.dragging&&_(),g.value.updatePopper()};return Pe(()=>e.dragging,te=>{p(te)}),xn(w,"touchstart",k,{passive:!1}),{disabled:r,button:w,tooltip:g,tooltipVisible:v,showTooltip:a,persistent:u,wrapperStyle:E,formatValue:y,handleMouseEnter:T,handleMouseLeave:I,onButtonDown:k,onKeyDown:z,setPosition:se}},FJ=ee({name:"ElSliderButton"}),BJ=ee({...FJ,props:DJ,emits:OJ,setup(t,{expose:e,emit:n}){const r=t,s=Ne("slider"),o=Ft({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),i=P(()=>c.value?d.value:!1),{disabled:a,button:u,tooltip:l,showTooltip:c,persistent:d,tooltipVisible:f,wrapperStyle:h,formatValue:p,handleMouseEnter:g,handleMouseLeave:v,onButtonDown:y,onKeyDown:_,setPosition:b}=NJ(r,o,n),{hovering:w,dragging:S}=$r(o);return e({onButtonDown:y,onKeyDown:_,setPosition:b,hovering:w,dragging:S}),(E,T)=>(L(),G("div",{ref_key:"button",ref:u,class:U([m(s).e("button-wrapper"),{hover:m(w),dragging:m(S)}]),style:dt(m(h)),tabindex:m(a)?-1:0,onMouseenter:m(g),onMouseleave:m(v),onMousedown:m(y),onFocus:m(g),onBlur:m(v),onKeydown:m(_)},[A(m(wr),{ref_key:"tooltip",ref:l,visible:m(f),placement:E.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":E.tooltipClass,disabled:!m(c),persistent:m(i)},{content:O(()=>[F("span",null,ge(m(p)),1)]),default:O(()=>[F("div",{class:U([m(s).e("button"),{hover:m(w),dragging:m(S)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var wx=Ye(BJ,[["__file","button.vue"]]);const VJ=qe({mark:{type:me([String,Object]),default:void 0}});var UJ=ee({name:"ElSliderMarker",props:VJ,setup(t){const e=Ne("slider"),n=P(()=>ht(t.mark)?t.mark:t.mark.label),r=P(()=>ht(t.mark)?void 0:t.mark.style);return()=>_t("div",{class:e.e("marks-text"),style:r.value},n.value)}});const HJ=(t,e,n)=>{const{form:r,formItem:s}=Kr(),o=On(),i=q(),a=q(),u={firstButton:i,secondButton:a},l=P(()=>t.disabled||(r==null?void 0:r.disabled)||!1),c=P(()=>Math.min(e.firstValue,e.secondValue)),d=P(()=>Math.max(e.firstValue,e.secondValue)),f=P(()=>t.range?`${100*(d.value-c.value)/(t.max-t.min)}%`:`${100*(e.firstValue-t.min)/(t.max-t.min)}%`),h=P(()=>t.range?`${100*(c.value-t.min)/(t.max-t.min)}%`:"0%"),p=P(()=>t.vertical?{height:t.height}:{}),g=P(()=>t.vertical?{height:f.value,bottom:h.value}:{width:f.value,left:h.value}),v=()=>{o.value&&(e.sliderSize=o.value[`client${t.vertical?"Height":"Width"}`])},y=D=>{const W=t.min+D*(t.max-t.min)/100;if(!t.range)return i;let H;return Math.abs(c.value-W)<Math.abs(d.value-W)?H=e.firstValue<e.secondValue?"firstButton":"secondButton":H=e.firstValue>e.secondValue?"firstButton":"secondButton",u[H]},_=D=>{const W=y(D);return W.value.setPosition(D),W},b=D=>{e.firstValue=D??t.min,S(t.range?[c.value,d.value]:D??t.min)},w=D=>{e.secondValue=D,t.range&&S([c.value,d.value])},S=D=>{n($t,D),n(yr,D)},E=async()=>{await pt(),n(Yt,t.range?[c.value,d.value]:t.modelValue)},T=D=>{var W,H,V,R,z,M;if(l.value||e.dragging)return;v();let B=0;if(t.vertical){const j=(V=(H=(W=D.touches)==null?void 0:W.item(0))==null?void 0:H.clientY)!=null?V:D.clientY;B=(o.value.getBoundingClientRect().bottom-j)/e.sliderSize*100}else{const j=(M=(z=(R=D.touches)==null?void 0:R.item(0))==null?void 0:z.clientX)!=null?M:D.clientX,X=o.value.getBoundingClientRect().left;B=(j-X)/e.sliderSize*100}if(!(B<0||B>100))return _(B)};return{elFormItem:s,slider:o,firstButton:i,secondButton:a,sliderDisabled:l,minValue:c,maxValue:d,runwayStyle:p,barStyle:g,resetSize:v,setPosition:_,emitChange:E,onSliderWrapperPrevent:D=>{var W,H;((W=u.firstButton.value)!=null&&W.dragging||(H=u.secondButton.value)!=null&&H.dragging)&&D.preventDefault()},onSliderClick:D=>{T(D)&&E()},onSliderDown:async D=>{const W=T(D);W&&(await pt(),W.value.onButtonDown(D))},onSliderMarkerDown:D=>{if(l.value||e.dragging)return;_(D)&&E()},setFirstValue:b,setSecondValue:w}},jJ=(t,e,n,r)=>({stops:P(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const i=(t.max-t.min)/t.step,a=100*t.step/(t.max-t.min),u=Array.from({length:i-1}).map((l,c)=>(c+1)*a);return t.range?u.filter(l=>l<100*(n.value-t.min)/(t.max-t.min)||l>100*(r.value-t.min)/(t.max-t.min)):u.filter(l=>l>100*(e.firstValue-t.min)/(t.max-t.min))}),getStopStyle:i=>t.vertical?{bottom:`${i}%`}:{left:`${i}%`}}),KJ=t=>P(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=t.max&&n>=t.min).map(n=>({point:n,position:(n-t.min)*100/(t.max-t.min),mark:t.marks[n]})):[]),zJ=(t,e,n,r,s,o)=>{const i=l=>{s($t,l),s(yr,l)},a=()=>t.range?![n.value,r.value].every((l,c)=>l===e.oldValue[c]):t.modelValue!==e.oldValue,u=()=>{var l,c;t.min>t.max&&hr("Slider","min should not be greater than max.");const d=t.modelValue;t.range&&Ke(d)?d[1]<t.min?i([t.min,t.min]):d[0]>t.max?i([t.max,t.max]):d[0]<t.min?i([t.min,d[1]]):d[1]>t.max?i([d[0],t.max]):(e.firstValue=d[0],e.secondValue=d[1],a()&&(t.validateEvent&&((l=o==null?void 0:o.validate)==null||l.call(o,"change").catch(f=>void 0)),e.oldValue=d.slice())):!t.range&&bt(d)&&!Number.isNaN(d)&&(d<t.min?i(t.min):d>t.max?i(t.max):(e.firstValue=d,a()&&(t.validateEvent&&((c=o==null?void 0:o.validate)==null||c.call(o,"change").catch(f=>void 0)),e.oldValue=d)))};u(),Pe(()=>e.dragging,l=>{l||u()}),Pe(()=>t.modelValue,(l,c)=>{e.dragging||Ke(l)&&Ke(c)&&l.every((d,f)=>d===c[f])&&e.firstValue===l[0]&&e.secondValue===l[1]||u()},{deep:!0}),Pe(()=>[t.min,t.max],()=>{u()})},WJ=(t,e,n)=>{const r=q();return xt(async()=>{t.range?(Ke(t.modelValue)?(e.firstValue=Math.max(t.min,t.modelValue[0]),e.secondValue=Math.min(t.max,t.modelValue[1])):(e.firstValue=t.min,e.secondValue=t.max),e.oldValue=[e.firstValue,e.secondValue]):(!bt(t.modelValue)||Number.isNaN(t.modelValue)?e.firstValue=t.min:e.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),e.oldValue=e.firstValue),xn(window,"resize",n),await pt(),n()}),{sliderWrapper:r}},GJ=ee({name:"ElSlider"}),qJ=ee({...GJ,props:$J,emits:PJ,setup(t,{expose:e,emit:n}){const r=t,s=Ne("slider"),{t:o}=un(),i=Ft({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:a,slider:u,firstButton:l,secondButton:c,sliderDisabled:d,minValue:f,maxValue:h,runwayStyle:p,barStyle:g,resetSize:v,emitChange:y,onSliderWrapperPrevent:_,onSliderClick:b,onSliderDown:w,onSliderMarkerDown:S,setFirstValue:E,setSecondValue:T}=HJ(r,i,n),{stops:I,getStopStyle:k}=jJ(r,i,f,h),{inputId:C,isLabeledByFormItem:N}=po(r,{formItemContext:a}),D=fr(),W=P(()=>r.inputSize||D.value),H=P(()=>r.ariaLabel||o("el.slider.defaultLabel",{min:r.min,max:r.max})),V=P(()=>r.range?r.rangeStartLabel||o("el.slider.defaultRangeStartLabel"):H.value),R=P(()=>r.formatValueText?r.formatValueText(te.value):`${te.value}`),z=P(()=>r.rangeEndLabel||o("el.slider.defaultRangeEndLabel")),M=P(()=>r.formatValueText?r.formatValueText(ie.value):`${ie.value}`),B=P(()=>[s.b(),s.m(D.value),s.is("vertical",r.vertical),{[s.m("with-input")]:r.showInput}]),j=KJ(r);zJ(r,i,f,h,n,a);const X=P(()=>{const J=[r.min,r.max,r.step].map(de=>{const ae=`${de}`.split(".")[1];return ae?ae.length:0});return Math.max.apply(null,J)}),{sliderWrapper:se}=WJ(r,i,v),{firstValue:te,secondValue:ie,sliderSize:fe}=$r(i),ue=J=>{i.dragging=J};return xn(se,"touchstart",_,{passive:!1}),xn(se,"touchmove",_,{passive:!1}),Qt(fL,{...$r(r),sliderSize:fe,disabled:d,precision:X,emitChange:y,resetSize:v,updateDragging:ue}),e({onSliderClick:b}),(J,de)=>{var ae,Ae;return L(),G("div",{id:J.range?m(C):void 0,ref_key:"sliderWrapper",ref:se,class:U(m(B)),role:J.range?"group":void 0,"aria-label":J.range&&!m(N)?m(H):void 0,"aria-labelledby":J.range&&m(N)?(ae=m(a))==null?void 0:ae.labelId:void 0},[F("div",{ref_key:"slider",ref:u,class:U([m(s).e("runway"),{"show-input":J.showInput&&!J.range},m(s).is("disabled",m(d))]),style:dt(m(p)),onMousedown:m(w),onTouchstartPassive:m(w)},[F("div",{class:U(m(s).e("bar")),style:dt(m(g))},null,6),A(wx,{id:J.range?void 0:m(C),ref_key:"firstButton",ref:l,"model-value":m(te),vertical:J.vertical,"tooltip-class":J.tooltipClass,placement:J.placement,role:"slider","aria-label":J.range||!m(N)?m(V):void 0,"aria-labelledby":!J.range&&m(N)?(Ae=m(a))==null?void 0:Ae.labelId:void 0,"aria-valuemin":J.min,"aria-valuemax":J.range?m(ie):J.max,"aria-valuenow":m(te),"aria-valuetext":m(R),"aria-orientation":J.vertical?"vertical":"horizontal","aria-disabled":m(d),"onUpdate:modelValue":m(E)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),J.range?(L(),ye(wx,{key:0,ref_key:"secondButton",ref:c,"model-value":m(ie),vertical:J.vertical,"tooltip-class":J.tooltipClass,placement:J.placement,role:"slider","aria-label":m(z),"aria-valuemin":m(te),"aria-valuemax":J.max,"aria-valuenow":m(ie),"aria-valuetext":m(M),"aria-orientation":J.vertical?"vertical":"horizontal","aria-disabled":m(d),"onUpdate:modelValue":m(T)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):ce("v-if",!0),J.showStops?(L(),G("div",{key:1},[(L(!0),G(tt,null,It(m(I),(Re,pe)=>(L(),G("div",{key:pe,class:U(m(s).e("stop")),style:dt(m(k)(Re))},null,6))),128))])):ce("v-if",!0),m(j).length>0?(L(),G(tt,{key:2},[F("div",null,[(L(!0),G(tt,null,It(m(j),(Re,pe)=>(L(),G("div",{key:pe,style:dt(m(k)(Re.position)),class:U([m(s).e("stop"),m(s).e("marks-stop")])},null,6))),128))]),F("div",{class:U(m(s).e("marks"))},[(L(!0),G(tt,null,It(m(j),(Re,pe)=>(L(),ye(m(UJ),{key:pe,mark:Re.mark,style:dt(m(k)(Re.position)),onMousedown:St(ne=>m(S)(Re.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):ce("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),J.showInput&&!J.range?(L(),ye(m(wf),{key:0,ref:"input","model-value":m(te),class:U(m(s).e("input")),step:J.step,disabled:m(d),controls:J.showInputControls,min:J.min,max:J.max,precision:m(X),debounce:J.debounce,size:m(W),"onUpdate:modelValue":m(E),onChange:m(y)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):ce("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var YJ=Ye(qJ,[["__file","slider.vue"]]);const XJ=Bt(YJ),QJ=qe({prefixCls:{type:String}}),_x=ee({name:"ElSpaceItem",props:QJ,setup(t,{slots:e}){const n=Ne("space"),r=P(()=>`${t.prefixCls||n.b()}__item`);return()=>_t("div",{class:r.value},ve(e,"default"))}}),Sx={small:8,default:12,large:16};function ZJ(t){const e=Ne("space"),n=P(()=>[e.b(),e.m(t.direction),t.class]),r=q(0),s=q(0),o=P(()=>{const a=t.wrap||t.fill?{flexWrap:"wrap"}:{},u={alignItems:t.alignment},l={rowGap:`${s.value}px`,columnGap:`${r.value}px`};return[a,u,l,t.style]}),i=P(()=>t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{});return Fr(()=>{const{size:a="small",wrap:u,direction:l,fill:c}=t;if(Ke(a)){const[d=0,f=0]=a;r.value=d,s.value=f}else{let d;bt(a)?d=a:d=Sx[a||"small"]||Sx.small,(u||c)&&l==="horizontal"?r.value=s.value=d:l==="horizontal"?(r.value=d,s.value=0):(s.value=d,r.value=0)}}),{classes:n,containerStyle:o,itemStyle:i}}const JJ=qe({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:me([String,Object,Array]),default:""},style:{type:me([String,Array,Object]),default:""},alignment:{type:me(String),default:"center"},prefixCls:{type:String},spacer:{type:me([Object,String,Number,Array]),default:null,validator:t=>Mn(t)||bt(t)||ht(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:di,validator:t=>bt(t)||Ke(t)&&t.length===2&&t.every(bt)}}),eee=ee({name:"ElSpace",props:JJ,setup(t,{slots:e}){const{classes:n,containerStyle:r,itemStyle:s}=ZJ(t);function o(i,a="",u=[]){const{prefixCls:l}=t;return i.forEach((c,d)=>{R0(c)?Ke(c.children)&&c.children.forEach((f,h)=>{R0(f)&&Ke(f.children)?o(f.children,`${a+h}-`,u):u.push(A(_x,{style:s.value,prefixCls:l,key:`nested-${a+h}`},{default:()=>[f]},Xs.PROPS|Xs.STYLE,["style","prefixCls"]))}):wK(c)&&u.push(A(_x,{style:s.value,prefixCls:l,key:`LoopKey${a+d}`},{default:()=>[c]},Xs.PROPS|Xs.STYLE,["style","prefixCls"]))}),u}return()=>{var i;const{spacer:a,direction:u}=t,l=ve(e,"default",{key:0},()=>[]);if(((i=l.children)!=null?i:[]).length===0)return null;if(Ke(l.children)){let c=o(l.children);if(a){const d=c.length-1;c=c.reduce((f,h,p)=>{const g=[...f,h];return p!==d&&g.push(A("span",{style:[s.value,u==="vertical"?"width: 100%":null],key:p},[Mn(a)?a:xe(a,Xs.TEXT)],Xs.STYLE)),g},[])}return A("div",{class:n.value,style:r.value},c,Xs.STYLE|Xs.CLASS)}return l.children}}}),tee=Bt(eee),nee=qe({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:me([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:me([String,Object,Array])}}),ree=ee({name:"ElStatistic"}),see=ee({...ree,props:nee,setup(t,{expose:e}){const n=t,r=Ne("statistic"),s=P(()=>{const{value:o,formatter:i,precision:a,decimalSeparator:u,groupSeparator:l}=n;if(vt(i))return i(o);if(!bt(o)||Number.isNaN(o))return o;let[c,d=""]=String(o).split(".");return d=d.padEnd(a,"0").slice(0,a>0?a:0),c=c.replace(/\B(?=(\d{3})+(?!\d))/g,l),[c,d].join(d?u:"")});return e({displayValue:s}),(o,i)=>(L(),G("div",{class:U(m(r).b())},[o.$slots.title||o.title?(L(),G("div",{key:0,class:U(m(r).e("head"))},[ve(o.$slots,"title",{},()=>[xe(ge(o.title),1)])],2)):ce("v-if",!0),F("div",{class:U(m(r).e("content"))},[o.$slots.prefix||o.prefix?(L(),G("div",{key:0,class:U(m(r).e("prefix"))},[ve(o.$slots,"prefix",{},()=>[F("span",null,ge(o.prefix),1)])],2)):ce("v-if",!0),F("span",{class:U(m(r).e("number")),style:dt(o.valueStyle)},ge(m(s)),7),o.$slots.suffix||o.suffix?(L(),G("div",{key:1,class:U(m(r).e("suffix"))},[ve(o.$slots,"suffix",{},()=>[F("span",null,ge(o.suffix),1)])],2)):ce("v-if",!0)],2)],2))}});var oee=Ye(see,[["__file","statistic.vue"]]);const hL=Bt(oee),iee=qe({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:me([Number,Object]),default:0},valueStyle:{type:me([String,Object,Array])}}),aee={finish:()=>!0,[Yt]:t=>bt(t)},lee=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],Ex=t=>bt(t)?new Date(t).getTime():t.valueOf(),xx=(t,e)=>{let n=t;const r=/\[([^\]]*)]/g;return lee.reduce((o,[i,a])=>{const u=new RegExp(`${i}+(?![^\\[\\]]*\\])`,"g");if(u.test(o)){const l=Math.floor(n/a);return n-=l*a,o.replace(u,c=>String(l).padStart(c.length,"0"))}return o},e).replace(r,"$1")},uee=ee({name:"ElCountdown"}),cee=ee({...uee,props:iee,emits:aee,setup(t,{expose:e,emit:n}){const r=t;let s;const o=q(0),i=P(()=>xx(o.value,r.format)),a=c=>xx(c,r.format),u=()=>{s&&(Tl(s),s=void 0)},l=()=>{const c=Ex(r.value),d=()=>{let f=c-Date.now();n(Yt,f),f<=0?(f=0,u(),n("finish")):s=$a(d),o.value=f};s=$a(d)};return xt(()=>{o.value=Ex(r.value)-Date.now(),Pe(()=>[r.value,r.format],()=>{u(),l()},{immediate:!0})}),In(()=>{u()}),e({displayValue:i}),(c,d)=>(L(),ye(m(hL),{value:o.value,title:c.title,prefix:c.prefix,suffix:c.suffix,"value-style":c.valueStyle,formatter:a},js({_:2},[It(c.$slots,(f,h)=>({name:h,fn:O(()=>[ve(c.$slots,h)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var dee=Ye(cee,[["__file","countdown.vue"]]);const fee=Bt(dee),hee=qe({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),pee={[Yt]:(t,e)=>[t,e].every(bt)},mee=ee({name:"ElSteps"}),gee=ee({...mee,props:hee,emits:pee,setup(t,{emit:e}){const n=t,r=Ne("steps"),{children:s,addChild:o,removeChild:i}=_1(Gt(),"ElStep");return Pe(s,()=>{s.value.forEach((a,u)=>{a.setIndex(u)})}),Qt("ElSteps",{props:n,steps:s,addStep:o,removeStep:i}),Pe(()=>n.active,(a,u)=>{e(Yt,a,u)}),(a,u)=>(L(),G("div",{class:U([m(r).b(),m(r).m(a.simple?"simple":a.direction)])},[ve(a.$slots,"default")],2))}});var vee=Ye(gee,[["__file","steps.vue"]]);const yee=qe({title:{type:String,default:""},icon:{type:_n},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),bee=ee({name:"ElStep"}),wee=ee({...bee,props:yee,setup(t){const e=t,n=Ne("step"),r=q(-1),s=q({}),o=q(""),i=rt("ElSteps"),a=Gt();xt(()=>{Pe([()=>i.props.active,()=>i.props.processStatus,()=>i.props.finishStatus],([E])=>{w(E)},{immediate:!0})}),In(()=>{i.removeStep(S.uid)});const u=P(()=>e.status||o.value),l=P(()=>{const E=i.steps.value[r.value-1];return E?E.currentStatus:"wait"}),c=P(()=>i.props.alignCenter),d=P(()=>i.props.direction==="vertical"),f=P(()=>i.props.simple),h=P(()=>i.steps.value.length),p=P(()=>{var E;return((E=i.steps.value[h.value-1])==null?void 0:E.uid)===(a==null?void 0:a.uid)}),g=P(()=>f.value?"":i.props.space),v=P(()=>[n.b(),n.is(f.value?"simple":i.props.direction),n.is("flex",p.value&&!g.value&&!c.value),n.is("center",c.value&&!d.value&&!f.value)]),y=P(()=>{const E={flexBasis:bt(g.value)?`${g.value}px`:g.value?g.value:`${100/(h.value-(c.value?0:1))}%`};return d.value||p.value&&(E.maxWidth=`${100/h.value}%`),E}),_=E=>{r.value=E},b=E=>{const T=E==="wait",I={transitionDelay:`${T?"-":""}${150*r.value}ms`},k=E===i.props.processStatus||T?0:100;I.borderWidth=k&&!f.value?"1px":0,I[i.props.direction==="vertical"?"height":"width"]=`${k}%`,s.value=I},w=E=>{E>r.value?o.value=i.props.finishStatus:E===r.value&&l.value!=="error"?o.value=i.props.processStatus:o.value="wait";const T=i.steps.value[r.value-1];T&&T.calcProgress(o.value)},S=Ft({uid:a.uid,currentStatus:u,setIndex:_,calcProgress:b});return i.addStep(S),(E,T)=>(L(),G("div",{style:dt(m(y)),class:U(m(v))},[ce(" icon & line "),F("div",{class:U([m(n).e("head"),m(n).is(m(u))])},[m(f)?ce("v-if",!0):(L(),G("div",{key:0,class:U(m(n).e("line"))},[F("i",{class:U(m(n).e("line-inner")),style:dt(s.value)},null,6)],2)),F("div",{class:U([m(n).e("icon"),m(n).is(E.icon||E.$slots.icon?"icon":"text")])},[ve(E.$slots,"icon",{},()=>[E.icon?(L(),ye(m(lt),{key:0,class:U(m(n).e("icon-inner"))},{default:O(()=>[(L(),ye(Wt(E.icon)))]),_:1},8,["class"])):m(u)==="success"?(L(),ye(m(lt),{key:1,class:U([m(n).e("icon-inner"),m(n).is("status")])},{default:O(()=>[A(m(df))]),_:1},8,["class"])):m(u)==="error"?(L(),ye(m(lt),{key:2,class:U([m(n).e("icon-inner"),m(n).is("status")])},{default:O(()=>[A(m(io))]),_:1},8,["class"])):m(f)?ce("v-if",!0):(L(),G("div",{key:3,class:U(m(n).e("icon-inner"))},ge(r.value+1),3))])],2)],2),ce(" title & description "),F("div",{class:U(m(n).e("main"))},[F("div",{class:U([m(n).e("title"),m(n).is(m(u))])},[ve(E.$slots,"title",{},()=>[xe(ge(E.title),1)])],2),m(f)?(L(),G("div",{key:0,class:U(m(n).e("arrow"))},null,2)):(L(),G("div",{key:1,class:U([m(n).e("description"),m(n).is(m(u))])},[ve(E.$slots,"description",{},()=>[xe(ge(E.description),1)])],2))],2)],6))}});var pL=Ye(wee,[["__file","item.vue"]]);const _ee=Bt(vee,{Step:pL}),See=Xn(pL),mL=t=>["",...di].includes(t),Eee=qe({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:mL},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:_n},activeActionIcon:{type:_n},activeIcon:{type:_n},inactiveIcon:{type:_n},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:me(Function)},id:String,tabindex:{type:[String,Number]},...Vr(["ariaLabel"])}),xee={[$t]:t=>En(t)||ht(t)||bt(t),[Yt]:t=>En(t)||ht(t)||bt(t),[yr]:t=>En(t)||ht(t)||bt(t)},gL="ElSwitch",Tee=ee({name:gL}),Cee=ee({...Tee,props:Eee,emits:xee,setup(t,{expose:e,emit:n}){const r=t,{formItem:s}=Kr(),o=fr(),i=Ne("switch"),{inputId:a}=po(r,{formItemContext:s}),u=zr(P(()=>r.loading)),l=q(r.modelValue!==!1),c=q(),d=q(),f=P(()=>[i.b(),i.m(o.value),i.is("disabled",u.value),i.is("checked",y.value)]),h=P(()=>[i.e("label"),i.em("label","left"),i.is("active",!y.value)]),p=P(()=>[i.e("label"),i.em("label","right"),i.is("active",y.value)]),g=P(()=>({width:Zn(r.width)}));Pe(()=>r.modelValue,()=>{l.value=!0});const v=P(()=>l.value?r.modelValue:!1),y=P(()=>v.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(v.value)||(n($t,r.inactiveValue),n(Yt,r.inactiveValue),n(yr,r.inactiveValue)),Pe(y,S=>{var E;c.value.checked=S,r.validateEvent&&((E=s==null?void 0:s.validate)==null||E.call(s,"change").catch(T=>void 0))});const _=()=>{const S=y.value?r.inactiveValue:r.activeValue;n($t,S),n(Yt,S),n(yr,S),pt(()=>{c.value.checked=y.value})},b=()=>{if(u.value)return;const{beforeChange:S}=r;if(!S){_();return}const E=S();[dd(E),En(E)].includes(!0)||hr(gL,"beforeChange must return type `Promise<boolean>` or `boolean`"),dd(E)?E.then(I=>{I&&_()}).catch(I=>{}):E&&_()},w=()=>{var S,E;(E=(S=c.value)==null?void 0:S.focus)==null||E.call(S)};return xt(()=>{c.value.checked=y.value}),e({focus:w,checked:y}),(S,E)=>(L(),G("div",{class:U(m(f)),onClick:St(b,["prevent"])},[F("input",{id:m(a),ref_key:"input",ref:c,class:U(m(i).e("input")),type:"checkbox",role:"switch","aria-checked":m(y),"aria-disabled":m(u),"aria-label":S.ariaLabel,name:S.name,"true-value":S.activeValue,"false-value":S.inactiveValue,disabled:m(u),tabindex:S.tabindex,onChange:_,onKeydown:Sn(b,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!S.inlinePrompt&&(S.inactiveIcon||S.inactiveText)?(L(),G("span",{key:0,class:U(m(h))},[S.inactiveIcon?(L(),ye(m(lt),{key:0},{default:O(()=>[(L(),ye(Wt(S.inactiveIcon)))]),_:1})):ce("v-if",!0),!S.inactiveIcon&&S.inactiveText?(L(),G("span",{key:1,"aria-hidden":m(y)},ge(S.inactiveText),9,["aria-hidden"])):ce("v-if",!0)],2)):ce("v-if",!0),F("span",{ref_key:"core",ref:d,class:U(m(i).e("core")),style:dt(m(g))},[S.inlinePrompt?(L(),G("div",{key:0,class:U(m(i).e("inner"))},[S.activeIcon||S.inactiveIcon?(L(),ye(m(lt),{key:0,class:U(m(i).is("icon"))},{default:O(()=>[(L(),ye(Wt(m(y)?S.activeIcon:S.inactiveIcon)))]),_:1},8,["class"])):S.activeText||S.inactiveText?(L(),G("span",{key:1,class:U(m(i).is("text")),"aria-hidden":!m(y)},ge(m(y)?S.activeText:S.inactiveText),11,["aria-hidden"])):ce("v-if",!0)],2)):ce("v-if",!0),F("div",{class:U(m(i).e("action"))},[S.loading?(L(),ye(m(lt),{key:0,class:U(m(i).is("loading"))},{default:O(()=>[A(m(ii))]),_:1},8,["class"])):m(y)?ve(S.$slots,"active-action",{key:1},()=>[S.activeActionIcon?(L(),ye(m(lt),{key:0},{default:O(()=>[(L(),ye(Wt(S.activeActionIcon)))]),_:1})):ce("v-if",!0)]):m(y)?ce("v-if",!0):ve(S.$slots,"inactive-action",{key:2},()=>[S.inactiveActionIcon?(L(),ye(m(lt),{key:0},{default:O(()=>[(L(),ye(Wt(S.inactiveActionIcon)))]),_:1})):ce("v-if",!0)])],2)],6),!S.inlinePrompt&&(S.activeIcon||S.activeText)?(L(),G("span",{key:1,class:U(m(p))},[S.activeIcon?(L(),ye(m(lt),{key:0},{default:O(()=>[(L(),ye(Wt(S.activeIcon)))]),_:1})):ce("v-if",!0),!S.activeIcon&&S.activeText?(L(),G("span",{key:1,"aria-hidden":!m(y)},ge(S.activeText),9,["aria-hidden"])):ce("v-if",!0)],2)):ce("v-if",!0)],10,["onClick"]))}});var kee=Ye(Cee,[["__file","switch.vue"]]);const _f=Bt(kee),yv=function(t){var e;return(e=t.target)==null?void 0:e.closest("td")},Iee=function(t,e,n,r,s){if(!e&&!r&&(!s||Ke(s)&&!s.length))return t;ht(n)?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const o=r?null:function(a,u){return s?(Ke(s)||(s=[s]),s.map(l=>ht(l)?or(a,l):l(a,u,t))):(e!=="$key"&&Kt(a)&&"$value"in a&&(a=a.$value),[Kt(a)?or(a,e):a])},i=function(a,u){if(r)return r(a.value,u.value);for(let l=0,c=a.key.length;l<c;l++){if(a.key[l]<u.key[l])return-1;if(a.key[l]>u.key[l])return 1}return 0};return t.map((a,u)=>({value:a,index:u,key:o?o(a,u):null})).sort((a,u)=>{let l=i(a,u);return l||(l=a.index-u.index),l*+n}).map(a=>a.value)},vL=function(t,e){let n=null;return t.columns.forEach(r=>{r.id===e&&(n=r)}),n},Aee=function(t,e){let n=null;for(let r=0;r<t.columns.length;r++){const s=t.columns[r];if(s.columnKey===e){n=s;break}}return n||hr("ElTable",`No column matching with column-key: ${e}`),n},Tx=function(t,e,n){const r=(e.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?vL(t,r[0]):null},es=(t,e)=>{if(!t)throw new Error("Row is required when get row identity");if(ht(e)){if(!e.includes("."))return`${t[e]}`;const n=e.split(".");let r=t;for(const s of n)r=r[s];return`${r}`}else if(vt(e))return e.call(null,t)},_u=function(t,e,n=!1,r="children"){const s=t||[],o={};return s.forEach((i,a)=>{if(o[es(i,e)]={row:i,index:a},n){const u=i[r];Ke(u)&&Object.assign(o,_u(u,e,!0,r))}}),o};function Ree(t,e){const n={};let r;for(r in t)n[r]=t[r];for(r in e)if(dn(e,r)){const s=e[r];ln(s)||(n[r]=s)}return n}function J1(t){return t===""||ln(t)||(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function yL(t){return t===""||ln(t)||(t=J1(t),Number.isNaN(t)&&(t=80)),t}function Lee(t){return bt(t)?t:ht(t)?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function $ee(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Up(t,e,n,r,s,o){let i=o??0,a=!1;const u=t.indexOf(e),l=u!==-1,c=s==null?void 0:s.call(null,e,i),d=h=>{h==="add"?t.push(e):t.splice(u,1),a=!0},f=h=>{let p=0;const g=(r==null?void 0:r.children)&&h[r.children];return g&&Ke(g)&&(p+=g.length,g.forEach(v=>{p+=f(v)})),p};return(!s||c)&&(En(n)?n&&!l?d("add"):!n&&l&&d("remove"):d(l?"remove":"add")),!(r!=null&&r.checkStrictly)&&(r!=null&&r.children)&&Ke(e[r.children])&&e[r.children].forEach(h=>{const p=Up(t,h,n??!l,r,s,i+1);i+=f(h)+1,p&&(a=p)}),a}function Pee(t,e,n="children",r="hasChildren"){const s=i=>!(Ke(i)&&i.length);function o(i,a,u){e(i,a,u),a.forEach(l=>{if(l[r]){e(l,null,u+1);return}const c=l[n];s(c)||o(l,c,u+1)})}t.forEach(i=>{if(i[r]){e(i,null,0);return}const a=i[n];s(a)||o(i,a,0)})}const Dee=(t,e,n,r)=>{const s={strategy:"fixed",...t.popperOptions},o=vt(r.tooltipFormatter)?r.tooltipFormatter({row:n,column:r,cellValue:ed(n,r.property).value}):void 0;return Mn(o)?{slotContent:o,content:null,...t,popperOptions:s}:{slotContent:null,content:o??e,...t,popperOptions:s}};let Es=null;function Oee(t,e,n,r,s,o){const i=Dee(t,e,n,r),a={...i,slotContent:void 0};if((Es==null?void 0:Es.trigger)===s){const h=Es.vm.component;uI(h.props,a),i.slotContent&&(h.slots.content=()=>[i.slotContent]);return}Es==null||Es();const u=o==null?void 0:o.refs.tableWrapper,l=u==null?void 0:u.dataset.prefix,c=A(wr,{virtualTriggering:!0,virtualRef:s,appendTo:u,placement:"top",transition:"none",offset:0,hideAfter:0,...a},i.slotContent?{content:()=>i.slotContent}:void 0);c.appContext={...o.appContext,...o};const d=document.createElement("div");Ra(c,d),c.component.exposed.onOpen();const f=u==null?void 0:u.querySelector(`.${l}-scrollbar__wrap`);Es=()=>{Ra(null,d),f==null||f.removeEventListener("scroll",Es),Es=null},Es.trigger=s,Es.vm=c,f==null||f.addEventListener("scroll",Es)}function bL(t){return t.children?F5(t.children,bL):[t]}function Cx(t,e){return t+e.colSpan}const wL=(t,e,n,r)=>{let s=0,o=t;const i=n.states.columns.value;if(r){const u=bL(r[t]);s=i.slice(0,i.indexOf(u[0])).reduce(Cx,0),o=s+u.reduce(Cx,0)-1}else s=t;let a;switch(e){case"left":o<n.states.fixedLeafColumnsLength.value&&(a="left");break;case"right":s>=i.length-n.states.rightFixedLeafColumnsLength.value&&(a="right");break;default:o<n.states.fixedLeafColumnsLength.value?a="left":s>=i.length-n.states.rightFixedLeafColumnsLength.value&&(a="right")}return a?{direction:a,start:s,after:o}:{}},ew=(t,e,n,r,s,o=0)=>{const i=[],{direction:a,start:u,after:l}=wL(e,n,r,s);if(a){const c=a==="left";i.push(`${t}-fixed-column--${a}`),c&&l+o===r.states.fixedLeafColumnsLength.value-1?i.push("is-last-column"):!c&&u-o===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&i.push("is-first-column")}return i};function kx(t,e){return t+(uf(e.realWidth)||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const tw=(t,e,n,r)=>{const{direction:s,start:o=0,after:i=0}=wL(t,e,n,r);if(!s)return;const a={},u=s==="left",l=n.states.columns.value;return u?a.left=l.slice(0,o).reduce(kx,0):a.right=l.slice(i+1).reverse().reduce(kx,0),a},Uu=(t,e)=>{t&&(Number.isNaN(t[e])||(t[e]=`${t[e]}px`))};function Mee(t){const e=Gt(),n=q(!1),r=q([]);return{updateExpandRows:()=>{const u=t.data.value||[],l=t.rowKey.value;if(n.value)r.value=u.slice();else if(l){const c=_u(r.value,l);r.value=u.reduce((d,f)=>{const h=es(f,l);return c[h]&&d.push(f),d},[])}else r.value=[]},toggleRowExpansion:(u,l)=>{Up(r.value,u,l)&&e.emit("expand-change",u,r.value.slice())},setExpandRowKeys:u=>{e.store.assertRowKey();const l=t.data.value||[],c=t.rowKey.value,d=_u(l,c);r.value=u.reduce((f,h)=>{const p=d[h];return p&&f.push(p.row),f},[])},isRowExpanded:u=>{const l=t.rowKey.value;return l?!!_u(r.value,l)[es(u,l)]:r.value.includes(u)},states:{expandRows:r,defaultExpandAll:n}}}function Nee(t){const e=Gt(),n=q(null),r=q(null),s=l=>{e.store.assertRowKey(),n.value=l,i(l)},o=()=>{n.value=null},i=l=>{const{data:c,rowKey:d}=t;let f=null;d.value&&(f=(m(c)||[]).find(h=>es(h,d.value)===l)),r.value=f,e.emit("current-change",r.value,null)};return{setCurrentRowKey:s,restoreCurrentRowKey:o,setCurrentRowByKey:i,updateCurrentRow:l=>{const c=r.value;if(l&&l!==c){r.value=l,e.emit("current-change",r.value,c);return}!l&&c&&(r.value=null,e.emit("current-change",null,c))},updateCurrentRowData:()=>{const l=t.rowKey.value,c=t.data.value||[],d=r.value;if(!c.includes(d)&&d){if(l){const f=es(d,l);i(f)}else r.value=null;uf(r.value)&&e.emit("current-change",null,d)}else n.value&&(i(n.value),o())},states:{_currentRowKey:n,currentRow:r}}}function Fee(t){const e=q([]),n=q({}),r=q(16),s=q(!1),o=q({}),i=q("hasChildren"),a=q("children"),u=q(!1),l=Gt(),c=P(()=>{if(!t.rowKey.value)return{};const w=t.data.value||[];return f(w)}),d=P(()=>{const w=t.rowKey.value,S=Object.keys(o.value),E={};return S.length&&S.forEach(T=>{if(o.value[T].length){const I={children:[]};o.value[T].forEach(k=>{const C=es(k,w);I.children.push(C),k[i.value]&&!E[C]&&(E[C]={children:[]})}),E[T]=I}}),E}),f=w=>{const S=t.rowKey.value,E={};return Pee(w,(T,I,k)=>{const C=es(T,S);Ke(I)?E[C]={children:I.map(N=>es(N,S)),level:k}:s.value&&(E[C]={children:[],lazy:!0,level:k})},a.value,i.value),E},h=(w=!1,S=(E=>(E=l.store)==null?void 0:E.states.defaultExpandAll.value)())=>{var E;const T=c.value,I=d.value,k=Object.keys(T),C={};if(k.length){const N=m(n),D=[],W=(V,R)=>{if(w)return e.value?S||e.value.includes(R):!!(S||V!=null&&V.expanded);{const z=S||e.value&&e.value.includes(R);return!!(V!=null&&V.expanded||z)}};k.forEach(V=>{const R=N[V],z={...T[V]};if(z.expanded=W(R,V),z.lazy){const{loaded:M=!1,loading:B=!1}=R||{};z.loaded=!!M,z.loading=!!B,D.push(V)}C[V]=z});const H=Object.keys(I);s.value&&H.length&&D.length&&H.forEach(V=>{const R=N[V],z=I[V].children;if(D.includes(V)){if(C[V].children.length!==0)throw new Error("[ElTable]children must be an empty array.");C[V].children=z}else{const{loaded:M=!1,loading:B=!1}=R||{};C[V]={lazy:!0,loaded:!!M,loading:!!B,expanded:W(R,V),children:z,level:""}}})}n.value=C,(E=l.store)==null||E.updateTableScrollY()};Pe(()=>e.value,()=>{h(!0)}),Pe(()=>c.value,()=>{h()}),Pe(()=>d.value,()=>{h()});const p=w=>{e.value=w,h()},g=w=>s.value&&w&&"loaded"in w&&!w.loaded,v=(w,S)=>{l.store.assertRowKey();const E=t.rowKey.value,T=es(w,E),I=T&&n.value[T];if(T&&I&&"expanded"in I){const k=I.expanded;S=ln(S)?!I.expanded:S,n.value[T].expanded=S,k!==S&&l.emit("expand-change",w,S),g(I)&&_(w,T,I),l.store.updateTableScrollY()}},y=w=>{l.store.assertRowKey();const S=t.rowKey.value,E=es(w,S),T=n.value[E];g(T)?_(w,E,T):v(w,void 0)},_=(w,S,E)=>{const{load:T}=l.props;T&&!n.value[S].loaded&&(n.value[S].loading=!0,T(w,E,I=>{if(!Ke(I))throw new TypeError("[ElTable] data must be an array");n.value[S].loading=!1,n.value[S].loaded=!0,n.value[S].expanded=!0,I.length&&(o.value[S]=I),l.emit("expand-change",w,!0)}))};return{loadData:_,loadOrToggle:y,toggleTreeExpansion:v,updateTreeExpandKeys:p,updateTreeData:h,updateKeyChildren:(w,S)=>{const{lazy:E,rowKey:T}=l.props;if(E){if(!T)throw new Error("[Table] rowKey is required in updateKeyChild");o.value[w]&&(o.value[w]=S)}},normalize:f,states:{expandRowKeys:e,treeData:n,indent:r,lazy:s,lazyTreeNodeMap:o,lazyColumnIdentifier:i,childrenColumnName:a,checkStrictly:u}}}const Bee=(t,e)=>{const n=e.sortingColumn;return!n||ht(n.sortable)?t:Iee(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy)},Kh=t=>{const e=[];return t.forEach(n=>{n.children&&n.children.length>0?e.push.apply(e,Kh(n.children)):e.push(n)}),e};function Vee(){var t;const e=Gt(),{size:n}=$r((t=e.proxy)==null?void 0:t.$props),r=q(null),s=q([]),o=q([]),i=q(!1),a=q([]),u=q([]),l=q([]),c=q([]),d=q([]),f=q([]),h=q([]),p=q([]),g=[],v=q(0),y=q(0),_=q(0),b=q(!1),w=q([]),S=q(!1),E=q(!1),T=q(null),I=q({}),k=q(null),C=q(null),N=q(null),D=q(null),W=q(null),H=P(()=>r.value?_u(w.value,r.value):void 0);Pe(s,()=>{var wt;e.state&&(M(!1),e.props.tableLayout==="auto"&&((wt=e.refs.tableHeaderRef)==null||wt.updateFixedColumnStyle()))},{deep:!0});const V=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},R=wt=>{var Mt;(Mt=wt.children)==null||Mt.forEach(he=>{he.fixed=wt.fixed,R(he)})},z=()=>{var wt,Mt;a.value.forEach(Rt=>{R(Rt)}),c.value=a.value.filter(Rt=>Rt.type!=="selection"&&[!0,"left"].includes(Rt.fixed));let he;if(((Mt=(wt=a.value)==null?void 0:wt[0])==null?void 0:Mt.type)==="selection"){const Rt=a.value[0];he=[!0,"left"].includes(Rt.fixed)||c.value.length&&Rt.fixed!=="right",he&&c.value.unshift(Rt)}d.value=a.value.filter(Rt=>Rt.fixed==="right");const _e=a.value.filter(Rt=>(he?Rt.type!=="selection":!0)&&!Rt.fixed);u.value=[].concat(c.value).concat(_e).concat(d.value);const re=Kh(_e),$e=Kh(c.value),Et=Kh(d.value);v.value=re.length,y.value=$e.length,_.value=Et.length,l.value=[].concat($e).concat(re).concat(Et),i.value=c.value.length>0||d.value.length>0},M=(wt,Mt=!1)=>{wt&&z(),Mt?e.state.doLayout():e.state.debouncedUpdateLayout()},B=wt=>H.value?!!H.value[es(wt,r.value)]:w.value.includes(wt),j=()=>{b.value=!1;const wt=w.value;w.value=[],wt.length&&e.emit("selection-change",[])},X=()=>{var wt,Mt;let he;if(r.value){he=[];const _e=(Mt=(wt=e==null?void 0:e.store)==null?void 0:wt.states)==null?void 0:Mt.childrenColumnName.value,re=_u(s.value,r.value,!0,_e);for(const $e in H.value)dn(H.value,$e)&&!re[$e]&&he.push(H.value[$e].row)}else he=w.value.filter(_e=>!s.value.includes(_e));if(he.length){const _e=w.value.filter(re=>!he.includes(re));w.value=_e,e.emit("selection-change",_e.slice())}},se=()=>(w.value||[]).slice(),te=(wt,Mt,he=!0,_e=!1)=>{var re,$e,Et,Rt;const ft={children:($e=(re=e==null?void 0:e.store)==null?void 0:re.states)==null?void 0:$e.childrenColumnName.value,checkStrictly:(Rt=(Et=e==null?void 0:e.store)==null?void 0:Et.states)==null?void 0:Rt.checkStrictly.value};if(Up(w.value,wt,Mt,ft,_e?void 0:T.value,s.value.indexOf(wt))){const sr=(w.value||[]).slice();he&&e.emit("select",sr,wt),e.emit("selection-change",sr)}},ie=()=>{var wt,Mt;const he=E.value?!b.value:!(b.value||w.value.length);b.value=he;let _e=!1,re=0;const $e=(Mt=(wt=e==null?void 0:e.store)==null?void 0:wt.states)==null?void 0:Mt.rowKey.value,{childrenColumnName:Et}=e.store.states,Rt={children:Et.value,checkStrictly:!1};s.value.forEach((ft,sn)=>{const sr=sn+re;Up(w.value,ft,he,Rt,T.value,sr)&&(_e=!0),re+=J(es(ft,$e))}),_e&&e.emit("selection-change",w.value?w.value.slice():[]),e.emit("select-all",(w.value||[]).slice())},fe=()=>{s.value.forEach(wt=>{const Mt=es(wt,r.value),he=H.value[Mt];he&&(w.value[he.index]=wt)})},ue=()=>{var wt;if(((wt=s.value)==null?void 0:wt.length)===0){b.value=!1;return}const{childrenColumnName:Mt}=e.store.states;let he=0,_e=0;const re=Et=>{var Rt;for(const ft of Et){const sn=T.value&&T.value.call(null,ft,he);if(B(ft))_e++;else if(!T.value||sn)return!1;if(he++,(Rt=ft[Mt.value])!=null&&Rt.length&&!re(ft[Mt.value]))return!1}return!0},$e=re(s.value||[]);b.value=_e===0?!1:$e},J=wt=>{var Mt;if(!e||!e.store)return 0;const{treeData:he}=e.store.states;let _e=0;const re=(Mt=he.value[wt])==null?void 0:Mt.children;return re&&(_e+=re.length,re.forEach($e=>{_e+=J($e)})),_e},de=(wt,Mt)=>{Ke(wt)||(wt=[wt]);const he={};return wt.forEach(_e=>{I.value[_e.id]=Mt,he[_e.columnKey||_e.id]=Mt}),he},ae=(wt,Mt,he)=>{C.value&&C.value!==wt&&(C.value.order=null),C.value=wt,N.value=Mt,D.value=he},Ae=()=>{let wt=m(o);Object.keys(I.value).forEach(Mt=>{const he=I.value[Mt];if(!he||he.length===0)return;const _e=vL({columns:l.value},Mt);_e&&_e.filterMethod&&(wt=wt.filter(re=>he.some($e=>_e.filterMethod.call(null,$e,re,_e))))}),k.value=wt},Re=()=>{s.value=Bee(k.value,{sortingColumn:C.value,sortProp:N.value,sortOrder:D.value})},pe=(wt=void 0)=>{wt&&wt.filter||Ae(),Re()},ne=wt=>{const{tableHeaderRef:Mt}=e.refs;if(!Mt)return;const he=Object.assign({},Mt.filterPanels),_e=Object.keys(he);if(_e.length)if(ht(wt)&&(wt=[wt]),Ke(wt)){const re=wt.map($e=>Aee({columns:l.value},$e));_e.forEach($e=>{const Et=re.find(Rt=>Rt.id===$e);Et&&(Et.filteredValue=[])}),e.store.commit("filterChange",{column:re,values:[],silent:!0,multi:!0})}else _e.forEach(re=>{const $e=l.value.find(Et=>Et.id===re);$e&&($e.filteredValue=[])}),I.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},le=()=>{C.value&&(ae(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Se,toggleRowExpansion:Ce,updateExpandRows:Ee,states:we,isRowExpanded:Le}=Mee({data:s,rowKey:r}),{updateTreeExpandKeys:Be,toggleTreeExpansion:Ue,updateTreeData:je,updateKeyChildren:at,loadOrToggle:Ie,states:Ze}=Fee({data:s,rowKey:r}),{updateCurrentRowData:mt,updateCurrentRow:Pt,setCurrentRowKey:Vt,states:Ht}=Nee({data:s,rowKey:r});return{assertRowKey:V,updateColumns:z,scheduleLayout:M,isSelected:B,clearSelection:j,cleanSelection:X,getSelectionRows:se,toggleRowSelection:te,_toggleAllSelection:ie,toggleAllSelection:null,updateSelectionByRowKey:fe,updateAllSelected:ue,updateFilters:de,updateCurrentRow:Pt,updateSort:ae,execFilter:Ae,execSort:Re,execQuery:pe,clearFilter:ne,clearSort:le,toggleRowExpansion:Ce,setExpandRowKeysAdapter:wt=>{Se(wt),Be(wt)},setCurrentRowKey:Vt,toggleRowExpansionAdapter:(wt,Mt)=>{l.value.some(({type:_e})=>_e==="expand")?Ce(wt,Mt):Ue(wt,Mt)},isRowExpanded:Le,updateExpandRows:Ee,updateCurrentRowData:mt,loadOrToggle:Ie,updateTreeData:je,updateKeyChildren:at,states:{tableSize:n,rowKey:r,data:s,_data:o,isComplex:i,_columns:a,originColumns:u,columns:l,fixedColumns:c,rightFixedColumns:d,leafColumns:f,fixedLeafColumns:h,rightFixedLeafColumns:p,updateOrderFns:g,leafColumnsLength:v,fixedLeafColumnsLength:y,rightFixedLeafColumnsLength:_,isAllSelected:b,selection:w,reserveSelection:S,selectOnIndeterminate:E,selectable:T,filters:I,filteredData:k,sortingColumn:C,sortProp:N,sortOrder:D,hoverRow:W,...we,...Ze,...Ht}}}function ty(t,e){return t.map(n=>{var r;return n.id===e.id?e:((r=n.children)!=null&&r.length&&(n.children=ty(n.children,e)),n)})}function ny(t){t.forEach(e=>{var n,r;e.no=(n=e.getColumnIndex)==null?void 0:n.call(e),(r=e.children)!=null&&r.length&&ny(e.children)}),t.sort((e,n)=>e.no-n.no)}function Uee(){const t=Gt(),e=Vee();return{ns:Ne("table"),...e,mutations:{setData(i,a){const u=m(i._data)!==a;i.data.value=a,i._data.value=a,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),m(i.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):u?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(i,a,u,l){const c=m(i._columns);let d=[];u?(u&&!u.children&&(u.children=[]),u.children.push(a),d=ty(c,u)):(c.push(a),d=c),ny(d),i._columns.value=d,i.updateOrderFns.push(l),a.type==="selection"&&(i.selectable.value=a.selectable,i.reserveSelection.value=a.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},updateColumnOrder(i,a){var u;((u=a.getColumnIndex)==null?void 0:u.call(a))!==a.no&&(ny(i._columns.value),t.$ready&&t.store.updateColumns())},removeColumn(i,a,u,l){const c=m(i._columns)||[];if(u)u.children.splice(u.children.findIndex(f=>f.id===a.id),1),pt(()=>{var f;((f=u.children)==null?void 0:f.length)===0&&delete u.children}),i._columns.value=ty(c,u);else{const f=c.indexOf(a);f>-1&&(c.splice(f,1),i._columns.value=c)}const d=i.updateOrderFns.indexOf(l);d>-1&&i.updateOrderFns.splice(d,1),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(i,a){const{prop:u,order:l,init:c}=a;if(u){const d=m(i.columns).find(f=>f.property===u);d&&(d.order=l,t.store.updateSort(d,u,l),t.store.commit("changeSortCondition",{init:c}))}},changeSortCondition(i,a){const{sortingColumn:u,sortProp:l,sortOrder:c}=i,d=m(u),f=m(l),h=m(c);uf(h)&&(i.sortingColumn.value=null,i.sortProp.value=null);const p={filter:!0};t.store.execQuery(p),(!a||!(a.silent||a.init))&&t.emit("sort-change",{column:d,prop:f,order:h}),t.store.updateTableScrollY()},filterChange(i,a){const{column:u,values:l,silent:c}=a,d=t.store.updateFilters(u,l);t.store.execQuery(),c||t.emit("filter-change",d),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(i,a){t.store.toggleRowSelection(a),t.store.updateAllSelected()},setHoverRow(i,a){i.hoverRow.value=a},setCurrentRow(i,a){t.store.updateCurrentRow(a)}},commit:function(i,...a){const u=t.store.mutations;if(u[i])u[i].apply(t,[t.store.states].concat(a));else throw new Error(`Action not found: ${i}`)},updateTableScrollY:function(){pt(()=>t.layout.updateScrollY.apply(t.layout))}}}const od={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function Hee(t,e){if(!t)throw new Error("Table is required.");const n=Uee();return n.toggleAllSelection=As(n._toggleAllSelection,10),Object.keys(od).forEach(r=>{_L(SL(e,r),r,n)}),jee(n,e),n}function jee(t,e){Object.keys(od).forEach(n=>{Pe(()=>SL(e,n),r=>{_L(r,n,t)})})}function _L(t,e,n){let r=t,s=od[e];Kt(od[e])&&(s=s.key,r=r||od[e].default),n.states[s].value=r}function SL(t,e){if(e.includes(".")){const n=e.split(".");let r=t;return n.forEach(s=>{r=r[s]}),r}else return t[e]}class Kee{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=q(null),this.scrollX=q(!1),this.scrollY=q(!1),this.bodyWidth=q(null),this.fixedWidth=q(null),this.rightFixedWidth=q(null),this.gutterWidth=0;for(const n in e)dn(e,n)&&(Dn(this[n])?this[n].value=e[n]:this[n]=e[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){const e=this.height.value;if(uf(e))return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let r=!0;const s=this.scrollY.value;return r=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=r,s!==r}return!1}setHeight(e,n="height"){if(!an)return;const r=this.table.vnode.el;if(e=Lee(e),this.height.value=Number(e),!r&&(e||e===0))return pt(()=>this.setHeight(e,n));bt(e)?(r.style[n]=`${e}px`,this.updateElsHeight()):ht(e)&&(r.style[n]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?e.push.apply(e,r.columns):e.push(r)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let n=e;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!an)return;const e=this.fit,n=this.table.vnode.el.clientWidth;let r=0;const s=this.getFlattenColumns(),o=s.filter(u=>!bt(u.width));if(s.forEach(u=>{bt(u.width)&&u.realWidth&&(u.realWidth=null)}),o.length>0&&e){if(s.forEach(u=>{r+=Number(u.width||u.minWidth||80)}),r<=n){this.scrollX.value=!1;const u=n-r;if(o.length===1)o[0].realWidth=Number(o[0].minWidth||80)+u;else{const l=o.reduce((f,h)=>f+Number(h.minWidth||80),0),c=u/l;let d=0;o.forEach((f,h)=>{if(h===0)return;const p=Math.floor(Number(f.minWidth||80)*c);d+=p,f.realWidth=Number(f.minWidth||80)+p}),o[0].realWidth=Number(o[0].minWidth||80)+u-d}}else this.scrollX.value=!0,o.forEach(u=>{u.realWidth=Number(u.minWidth)});this.bodyWidth.value=Math.max(r,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else s.forEach(u=>{!u.width&&!u.minWidth?u.realWidth=80:u.realWidth=Number(u.width||u.minWidth),r+=u.realWidth}),this.scrollX.value=r>n,this.bodyWidth.value=r;const i=this.store.states.fixedColumns.value;if(i.length>0){let u=0;i.forEach(l=>{u+=Number(l.realWidth||l.width)}),this.fixedWidth.value=u}const a=this.store.states.rightFixedColumns.value;if(a.length>0){let u=0;a.forEach(l=>{u+=Number(l.realWidth||l.width)}),this.rightFixedWidth.value=u}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const n=this.observers.indexOf(e);n!==-1&&this.observers.splice(n,1)}notifyObservers(e){this.observers.forEach(r=>{var s,o;switch(e){case"columns":(s=r.state)==null||s.onColumnsChange(this);break;case"scrollable":(o=r.state)==null||o.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:zee}=uo,Wee=ee({name:"ElTableFilterPanel",components:{ElCheckbox:uo,ElCheckboxGroup:zee,ElScrollbar:hi,ElTooltip:wr,ElIcon:lt,ArrowDown:fi,ArrowUp:Mm},directives:{ClickOutside:Hi},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:dr.appendTo},setup(t){const e=Gt(),{t:n}=un(),r=Ne("table-filter"),s=e==null?void 0:e.parent;s.filterPanels.value[t.column.id]||(s.filterPanels.value[t.column.id]=e);const o=q(!1),i=q(null),a=P(()=>t.column&&t.column.filters),u=P(()=>t.column.filterClassName?`${r.b()} ${t.column.filterClassName}`:r.b()),l=P({get:()=>{var S;return(((S=t.column)==null?void 0:S.filteredValue)||[])[0]},set:S=>{c.value&&(ro(S)?c.value.splice(0,1):c.value.splice(0,1,S))}}),c=P({get(){return t.column?t.column.filteredValue||[]:[]},set(S){t.column&&t.upDataColumn("filteredValue",S)}}),d=P(()=>t.column?t.column.filterMultiple:!0),f=S=>S.value===l.value,h=()=>{o.value=!1},p=S=>{S.stopPropagation(),o.value=!o.value},g=()=>{o.value=!1},v=()=>{b(c.value),h()},y=()=>{c.value=[],b(c.value),h()},_=S=>{l.value=S,ro(S)?b([]):b(c.value),h()},b=S=>{t.store.commit("filterChange",{column:t.column,values:S}),t.store.updateAllSelected()};Pe(o,S=>{t.column&&t.upDataColumn("filterOpened",S)},{immediate:!0});const w=P(()=>{var S,E;return(E=(S=i.value)==null?void 0:S.popperRef)==null?void 0:E.contentRef});return{tooltipVisible:o,multiple:d,filterClassName:u,filteredValue:c,filterValue:l,filters:a,handleConfirm:v,handleReset:y,handleSelect:_,isPropAbsent:ro,isActive:f,t:n,ns:r,showFilterPanel:p,hideFilterPanel:g,popperPaneRef:w,tooltip:i}}});function Gee(t,e,n,r,s,o){const i=qt("el-checkbox"),a=qt("el-checkbox-group"),u=qt("el-scrollbar"),l=qt("arrow-up"),c=qt("arrow-down"),d=qt("el-icon"),f=qt("el-tooltip"),h=_m("click-outside");return L(),ye(f,{ref:"tooltip",visible:t.tooltipVisible,offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":t.filterClassName,persistent:"","append-to":t.appendTo},{content:O(()=>[t.multiple?(L(),G("div",{key:0},[F("div",{class:U(t.ns.e("content"))},[A(u,{"wrap-class":t.ns.e("wrap")},{default:O(()=>[A(a,{modelValue:t.filteredValue,"onUpdate:modelValue":p=>t.filteredValue=p,class:U(t.ns.e("checkbox-group"))},{default:O(()=>[(L(!0),G(tt,null,It(t.filters,p=>(L(),ye(i,{key:p.value,value:p.value},{default:O(()=>[xe(ge(p.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),F("div",{class:U(t.ns.e("bottom"))},[F("button",{class:U({[t.ns.is("disabled")]:t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:t.handleConfirm},ge(t.t("el.table.confirmFilter")),11,["disabled","onClick"]),F("button",{type:"button",onClick:t.handleReset},ge(t.t("el.table.resetFilter")),9,["onClick"])],2)])):(L(),G("ul",{key:1,class:U(t.ns.e("list"))},[F("li",{class:U([t.ns.e("list-item"),{[t.ns.is("active")]:t.isPropAbsent(t.filterValue)}]),onClick:p=>t.handleSelect(null)},ge(t.t("el.table.clearFilter")),11,["onClick"]),(L(!0),G(tt,null,It(t.filters,p=>(L(),G("li",{key:p.value,class:U([t.ns.e("list-item"),t.ns.is("active",t.isActive(p))]),label:p.value,onClick:g=>t.handleSelect(p.value)},ge(p.text),11,["label","onClick"]))),128))],2))]),default:O(()=>[At((L(),G("span",{class:U([`${t.ns.namespace.value}-table__column-filter-trigger`,`${t.ns.namespace.value}-none-outline`]),onClick:t.showFilterPanel},[A(d,null,{default:O(()=>[ve(t.$slots,"filter-icon",{},()=>[t.column.filterOpened?(L(),ye(l,{key:0})):(L(),ye(c,{key:1}))])]),_:3})],10,["onClick"])),[[h,t.hideFilterPanel,t.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var qee=Ye(Wee,[["render",Gee],["__file","filter-panel.vue"]]);function nw(t){const e=Gt();Ll(()=>{n.value.addObserver(e)}),xt(()=>{r(n.value),s(n.value)}),$o(()=>{r(n.value),s(n.value)}),Ha(()=>{n.value.removeObserver(e)});const n=P(()=>{const o=t.layout;if(!o)throw new Error("Can not find table layout.");return o}),r=o=>{var i;const a=((i=t.vnode.el)==null?void 0:i.querySelectorAll("colgroup > col"))||[];if(!a.length)return;const u=o.getFlattenColumns(),l={};u.forEach(c=>{l[c.id]=c});for(let c=0,d=a.length;c<d;c++){const f=a[c],h=f.getAttribute("name"),p=l[h];p&&f.setAttribute("width",p.realWidth||p.width)}},s=o=>{var i,a;const u=((i=t.vnode.el)==null?void 0:i.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let c=0,d=u.length;c<d;c++)u[c].setAttribute("width",o.scrollY.value?o.gutterWidth:"0");const l=((a=t.vnode.el)==null?void 0:a.querySelectorAll("th.gutter"))||[];for(let c=0,d=l.length;c<d;c++){const f=l[c];f.style.width=o.scrollY.value?`${o.gutterWidth}px`:"0",f.style.display=o.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:s}}const Mo=Symbol("ElTable");function Yee(t,e){const n=Gt(),r=rt(Mo),s=g=>{g.stopPropagation()},o=(g,v)=>{!v.filters&&v.sortable?p(g,v,!1):v.filterable&&!v.sortable&&s(g),r==null||r.emit("header-click",v,g)},i=(g,v)=>{r==null||r.emit("header-contextmenu",v,g)},a=q(null),u=q(!1),l=q({}),c=(g,v)=>{if(an&&!(v.children&&v.children.length>0)&&a.value&&t.border){u.value=!0;const y=r;e("set-drag-visible",!0);const b=(y==null?void 0:y.vnode.el).getBoundingClientRect().left,w=n.vnode.el.querySelector(`th.${v.id}`),S=w.getBoundingClientRect(),E=S.left-b+30;Js(w,"noclick"),l.value={startMouseLeft:g.clientX,startLeft:S.right-b,startColumnLeft:S.left-b,tableLeft:b};const T=y==null?void 0:y.refs.resizeProxy;T.style.left=`${l.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const I=C=>{const N=C.clientX-l.value.startMouseLeft,D=l.value.startLeft+N;T.style.left=`${Math.max(E,D)}px`},k=()=>{if(u.value){const{startColumnLeft:C,startLeft:N}=l.value,W=Number.parseInt(T.style.left,10)-C;v.width=v.realWidth=W,y==null||y.emit("header-dragend",v.width,N-C,v,g),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",u.value=!1,a.value=null,l.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",k),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{ns(w,"noclick")},0)};document.addEventListener("mousemove",I),document.addEventListener("mouseup",k)}},d=(g,v)=>{var y;if(v.children&&v.children.length>0)return;const _=g.target;if(!hs(_))return;const b=_==null?void 0:_.closest("th");if(!(!v||!v.resizable||!b)&&!u.value&&t.border){const w=b.getBoundingClientRect(),S=document.body.style,E=((y=b.parentNode)==null?void 0:y.lastElementChild)===b,T=t.allowDragLastColumn||!E;w.width>12&&w.right-g.clientX<8&&T?(S.cursor="col-resize",Ts(b,"is-sortable")&&(b.style.cursor="col-resize"),a.value=v):u.value||(S.cursor="",Ts(b,"is-sortable")&&(b.style.cursor="pointer"),a.value=null)}},f=()=>{an&&(document.body.style.cursor="")},h=({order:g,sortOrders:v})=>{if(g==="")return v[0];const y=v.indexOf(g||null);return v[y>v.length-2?0:y+1]},p=(g,v,y)=>{var _;g.stopPropagation();const b=v.order===y?null:y||h(v),w=(_=g.target)==null?void 0:_.closest("th");if(w&&Ts(w,"noclick")){ns(w,"noclick");return}if(!v.sortable)return;const S=g.currentTarget;if(["ascending","descending"].some(C=>Ts(S,C)&&!v.sortOrders.includes(C)))return;const E=t.store.states;let T=E.sortProp.value,I;const k=E.sortingColumn.value;(k!==v||k===v&&uf(k.order))&&(k&&(k.order=null),E.sortingColumn.value=v,T=v.property),b?I=v.order=b:I=v.order=null,E.sortProp.value=T,E.sortOrder.value=I,r==null||r.store.commit("changeSortCondition")};return{handleHeaderClick:o,handleHeaderContextMenu:i,handleMouseDown:c,handleMouseMove:d,handleMouseOut:f,handleSortClick:p,handleFilterClick:s}}function Xee(t){const e=rt(Mo),n=Ne("table");return{getHeaderRowStyle:a=>{const u=e==null?void 0:e.props.headerRowStyle;return vt(u)?u.call(null,{rowIndex:a}):u},getHeaderRowClass:a=>{const u=[],l=e==null?void 0:e.props.headerRowClassName;return ht(l)?u.push(l):vt(l)&&u.push(l.call(null,{rowIndex:a})),u.join(" ")},getHeaderCellStyle:(a,u,l,c)=>{var d;let f=(d=e==null?void 0:e.props.headerCellStyle)!=null?d:{};vt(f)&&(f=f.call(null,{rowIndex:a,columnIndex:u,row:l,column:c}));const h=tw(u,c.fixed,t.store,l);return Uu(h,"left"),Uu(h,"right"),Object.assign({},f,h)},getHeaderCellClass:(a,u,l,c)=>{const d=ew(n.b(),u,c.fixed,t.store,l),f=[c.id,c.order,c.headerAlign,c.className,c.labelClassName,...d];c.children||f.push("is-leaf"),c.sortable&&f.push("is-sortable");const h=e==null?void 0:e.props.headerCellClassName;return ht(h)?f.push(h):vt(h)&&f.push(h.call(null,{rowIndex:a,columnIndex:u,row:l,column:c})),f.push(n.e("cell")),f.filter(p=>!!p).join(" ")}}}const EL=t=>{const e=[];return t.forEach(n=>{n.children?(e.push(n),e.push.apply(e,EL(n.children))):e.push(n)}),e},xL=t=>{let e=1;const n=(o,i)=>{if(i&&(o.level=i.level+1,e<o.level&&(e=o.level)),o.children){let a=0;o.children.forEach(u=>{n(u,o),a+=u.colSpan}),o.colSpan=a}else o.colSpan=1};t.forEach(o=>{o.level=1,n(o,void 0)});const r=[];for(let o=0;o<e;o++)r.push([]);return EL(t).forEach(o=>{o.children?(o.rowSpan=1,o.children.forEach(i=>i.isSubColumn=!0)):o.rowSpan=e-o.level+1,r[o.level-1].push(o)}),r};function Qee(t){const e=rt(Mo),n=P(()=>xL(t.store.states.originColumns.value));return{isGroup:P(()=>{const o=n.value.length>1;return o&&e&&(e.state.isGroup.value=!0),o}),toggleAllSelection:o=>{o.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:n}}var Zee=ee({name:"ElTableHeader",components:{ElCheckbox:uo},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String},allowDragLastColumn:{type:Boolean}},setup(t,{emit:e}){const n=Gt(),r=rt(Mo),s=Ne("table"),o=q({}),{onColumnsChange:i,onScrollableChange:a}=nw(r),u=(r==null?void 0:r.props.tableLayout)==="auto",l=Ft(new Map),c=q(),d=()=>{setTimeout(()=>{l.size>0&&(l.forEach((C,N)=>{const D=c.value.querySelector(`.${N.replace(/\s/g,".")}`);if(D){const W=D.getBoundingClientRect().width;C.width=W}}),l.clear())})};Pe(l,d),xt(async()=>{await pt(),await pt();const{prop:C,order:N}=t.defaultSort;r==null||r.store.commit("sort",{prop:C,order:N,init:!0}),d()});const{handleHeaderClick:f,handleHeaderContextMenu:h,handleMouseDown:p,handleMouseMove:g,handleMouseOut:v,handleSortClick:y,handleFilterClick:_}=Yee(t,e),{getHeaderRowStyle:b,getHeaderRowClass:w,getHeaderCellStyle:S,getHeaderCellClass:E}=Xee(t),{isGroup:T,toggleAllSelection:I,columnRows:k}=Qee(t);return n.state={onColumnsChange:i,onScrollableChange:a},n.filterPanels=o,{ns:s,filterPanels:o,onColumnsChange:i,onScrollableChange:a,columnRows:k,getHeaderRowClass:w,getHeaderRowStyle:b,getHeaderCellClass:E,getHeaderCellStyle:S,handleHeaderClick:f,handleHeaderContextMenu:h,handleMouseDown:p,handleMouseMove:g,handleMouseOut:v,handleSortClick:y,handleFilterClick:_,isGroup:T,toggleAllSelection:I,saveIndexSelection:l,isTableLayoutAuto:u,theadRef:c,updateFixedColumnStyle:d}},render(){const{ns:t,isGroup:e,columnRows:n,getHeaderCellStyle:r,getHeaderCellClass:s,getHeaderRowClass:o,getHeaderRowStyle:i,handleHeaderClick:a,handleHeaderContextMenu:u,handleMouseDown:l,handleMouseMove:c,handleSortClick:d,handleMouseOut:f,store:h,$parent:p,saveIndexSelection:g,isTableLayoutAuto:v}=this;let y=1;return _t("thead",{ref:"theadRef",class:{[t.is("group")]:e}},n.map((_,b)=>_t("tr",{class:o(b),key:b,style:i(b)},_.map((w,S)=>{w.rowSpan>y&&(y=w.rowSpan);const E=s(b,S,_,w);return v&&w.fixed&&g.set(E,w),_t("th",{class:E,colspan:w.colSpan,key:`${w.id}-thead`,rowspan:w.rowSpan,style:r(b,S,_,w),onClick:T=>{T.currentTarget.classList.contains("noclick")||a(T,w)},onContextmenu:T=>u(T,w),onMousedown:T=>l(T,w),onMousemove:T=>c(T,w),onMouseout:f},[_t("div",{class:["cell",w.filteredValue&&w.filteredValue.length>0?"highlight":""]},[w.renderHeader?w.renderHeader({column:w,$index:S,store:h,_self:p}):w.label,w.sortable&&_t("span",{onClick:T=>d(T,w),class:"caret-wrapper"},[_t("i",{onClick:T=>d(T,w,"ascending"),class:"sort-caret ascending"}),_t("i",{onClick:T=>d(T,w,"descending"),class:"sort-caret descending"})]),w.filterable&&_t(qee,{store:h,placement:w.filterPlacement||"bottom-start",appendTo:p.appendFilterPanelTo,column:w,upDataColumn:(T,I)=>{w[T]=I}},{"filter-icon":()=>w.renderFilterIcon?w.renderFilterIcon({filterOpened:w.filterOpened}):null})])])}))))}});function bv(t,e,n=.03){return t-e>n}function Jee(t){const e=rt(Mo),n=q(""),r=q(_t("div")),s=(p,g,v)=>{var y;const _=e,b=yv(p);let w;const S=(y=_==null?void 0:_.vnode.el)==null?void 0:y.dataset.prefix;b&&(w=Tx({columns:t.store.states.columns.value},b,S),w&&(_==null||_.emit(`cell-${v}`,g,w,b,p))),_==null||_.emit(`row-${v}`,g,w,p)},o=(p,g)=>{s(p,g,"dblclick")},i=(p,g)=>{t.store.commit("setCurrentRow",g),s(p,g,"click")},a=(p,g)=>{s(p,g,"contextmenu")},u=As(p=>{t.store.commit("setHoverRow",p)},30),l=As(()=>{t.store.commit("setHoverRow",null)},30),c=p=>{const g=window.getComputedStyle(p,null),v=Number.parseInt(g.paddingLeft,10)||0,y=Number.parseInt(g.paddingRight,10)||0,_=Number.parseInt(g.paddingTop,10)||0,b=Number.parseInt(g.paddingBottom,10)||0;return{left:v,right:y,top:_,bottom:b}},d=(p,g,v)=>{let y=g.target.parentNode;for(;p>1&&(y=y==null?void 0:y.nextSibling,!(!y||y.nodeName!=="TR"));)v(y,"hover-row hover-fixed-row"),p--};return{handleDoubleClick:o,handleClick:i,handleContextMenu:a,handleMouseEnter:u,handleMouseLeave:l,handleCellMouseEnter:(p,g,v)=>{var y,_,b;const w=e,S=yv(p),E=(y=w==null?void 0:w.vnode.el)==null?void 0:y.dataset.prefix;let T;if(S){T=Tx({columns:t.store.states.columns.value},S,E),S.rowSpan>1&&d(S.rowSpan,p,Js);const j=w.hoverState={cell:S,column:T,row:g};w==null||w.emit("cell-mouse-enter",j.row,j.column,j.cell,p)}if(!v)return;const I=p.target.querySelector(".cell");if(!(Ts(I,`${E}-tooltip`)&&I.childNodes.length))return;const k=document.createRange();k.setStart(I,0),k.setEnd(I,I.childNodes.length);const{width:C,height:N}=k.getBoundingClientRect(),{width:D,height:W}=I.getBoundingClientRect(),{top:H,left:V,right:R,bottom:z}=c(I),M=V+R,B=H+z;bv(C+M,D)||bv(N+B,W)||bv(I.scrollWidth,D)?Oee(v,S.innerText||S.textContent,g,T,S,w):((_=Es)==null?void 0:_.trigger)===S&&((b=Es)==null||b())},handleCellMouseLeave:p=>{const g=yv(p);if(!g)return;g.rowSpan>1&&d(g.rowSpan,p,ns);const v=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",v==null?void 0:v.row,v==null?void 0:v.column,v==null?void 0:v.cell,p)},tooltipContent:n,tooltipTrigger:r}}function ete(t){const e=rt(Mo),n=Ne("table");return{getRowStyle:(l,c)=>{const d=e==null?void 0:e.props.rowStyle;return vt(d)?d.call(null,{row:l,rowIndex:c}):d||null},getRowClass:(l,c)=>{const d=[n.e("row")];e!=null&&e.props.highlightCurrentRow&&l===t.store.states.currentRow.value&&d.push("current-row"),t.stripe&&c%2===1&&d.push(n.em("row","striped"));const f=e==null?void 0:e.props.rowClassName;return ht(f)?d.push(f):vt(f)&&d.push(f.call(null,{row:l,rowIndex:c})),d},getCellStyle:(l,c,d,f)=>{const h=e==null?void 0:e.props.cellStyle;let p=h??{};vt(h)&&(p=h.call(null,{rowIndex:l,columnIndex:c,row:d,column:f}));const g=tw(c,t==null?void 0:t.fixed,t.store);return Uu(g,"left"),Uu(g,"right"),Object.assign({},p,g)},getCellClass:(l,c,d,f,h)=>{const p=ew(n.b(),c,t==null?void 0:t.fixed,t.store,void 0,h),g=[f.id,f.align,f.className,...p],v=e==null?void 0:e.props.cellClassName;return ht(v)?g.push(v):vt(v)&&g.push(v.call(null,{rowIndex:l,columnIndex:c,row:d,column:f})),g.push(n.e("cell")),g.filter(y=>!!y).join(" ")},getSpan:(l,c,d,f)=>{let h=1,p=1;const g=e==null?void 0:e.props.spanMethod;if(vt(g)){const v=g({row:l,column:c,rowIndex:d,columnIndex:f});Ke(v)?(h=v[0],p=v[1]):Kt(v)&&(h=v.rowspan,p=v.colspan)}return{rowspan:h,colspan:p}},getColspanRealWidth:(l,c,d)=>{if(c<1)return l[d].realWidth;const f=l.map(({realWidth:h,width:p})=>h||p).slice(d,d+c);return Number(f.reduce((h,p)=>Number(h)+Number(p),-1))}}}const tte=ee({name:"TableTdWrapper"}),nte=ee({...tte,props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(t){return(e,n)=>(L(),G("td",{colspan:t.colspan,rowspan:t.rowspan},[ve(e.$slots,"default")],8,["colspan","rowspan"]))}});var rte=Ye(nte,[["__file","td-wrapper.vue"]]);function ste(t){const e=rt(Mo),n=Ne("table"),{handleDoubleClick:r,handleClick:s,handleContextMenu:o,handleMouseEnter:i,handleMouseLeave:a,handleCellMouseEnter:u,handleCellMouseLeave:l,tooltipContent:c,tooltipTrigger:d}=Jee(t),{getRowStyle:f,getRowClass:h,getCellStyle:p,getCellClass:g,getSpan:v,getColspanRealWidth:y}=ete(t),_=P(()=>t.store.states.columns.value.findIndex(({type:T})=>T==="default")),b=(T,I)=>{const k=e.props.rowKey;return k?es(T,k):I},w=(T,I,k,C=!1)=>{const{tooltipEffect:N,tooltipOptions:D,store:W}=t,{indent:H,columns:V}=W.states,R=h(T,I);let z=!0;return k&&(R.push(n.em("row",`level-${k.level}`)),z=k.display),_t("tr",{style:[z?null:{display:"none"},f(T,I)],class:R,key:b(T,I),onDblclick:B=>r(B,T),onClick:B=>s(B,T),onContextmenu:B=>o(B,T),onMouseenter:()=>i(I),onMouseleave:a},V.value.map((B,j)=>{const{rowspan:X,colspan:se}=v(T,B,I,j);if(!X||!se)return null;const te=Object.assign({},B);te.realWidth=y(V.value,se,j);const ie={store:t.store,_self:t.context||e,column:te,row:T,$index:I,cellIndex:j,expanded:C};j===_.value&&k&&(ie.treeNode={indent:k.level*H.value,level:k.level},En(k.expanded)&&(ie.treeNode.expanded=k.expanded,"loading"in k&&(ie.treeNode.loading=k.loading),"noLazyChildren"in k&&(ie.treeNode.noLazyChildren=k.noLazyChildren)));const fe=`${b(T,I)},${j}`,ue=te.columnKey||te.rawColumnKey||"",J=B.showOverflowTooltip&&uI({effect:N},D,B.showOverflowTooltip);return _t(rte,{style:p(I,j,T,B),class:g(I,j,T,B,se-1),key:`${ue}${fe}`,rowspan:X,colspan:se,onMouseenter:de=>u(de,T,J),onMouseleave:l},{default:()=>S(j,B,ie)})}))},S=(T,I,k)=>I.renderCell(k);return{wrappedRowRender:(T,I)=>{const k=t.store,{isRowExpanded:C,assertRowKey:N}=k,{treeData:D,lazyTreeNodeMap:W,childrenColumnName:H,rowKey:V}=k.states,R=k.states.columns.value;if(R.some(({type:M})=>M==="expand")){const M=C(T),B=w(T,I,void 0,M),j=e.renderExpanded;if(!j)return console.error("[Element Error]renderExpanded is required."),B;const X=[[B]];return(e.props.preserveExpandedContent||M)&&X[0].push(_t("tr",{key:`expanded-row__${B.key}`,style:{display:M?"":"none"}},[_t("td",{colspan:R.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[j({row:T,$index:I,store:k,expanded:M})])])),X}else if(Object.keys(D.value).length){N();const M=es(T,V.value);let B=D.value[M],j=null;B&&(j={expanded:B.expanded,level:B.level,display:!0},En(B.lazy)&&(En(B.loaded)&&B.loaded&&(j.noLazyChildren=!(B.children&&B.children.length)),j.loading=B.loading));const X=[w(T,I,j)];if(B){let se=0;const te=(fe,ue)=>{fe&&fe.length&&ue&&fe.forEach(J=>{const de={display:ue.display&&ue.expanded,level:ue.level+1,expanded:!1,noLazyChildren:!1,loading:!1},ae=es(J,V.value);if(ro(ae))throw new Error("For nested data item, row-key is required.");if(B={...D.value[ae]},B&&(de.expanded=B.expanded,B.level=B.level||de.level,B.display=!!(B.expanded&&de.display),En(B.lazy)&&(En(B.loaded)&&B.loaded&&(de.noLazyChildren=!(B.children&&B.children.length)),de.loading=B.loading)),se++,X.push(w(J,I+se,de)),B){const Ae=W.value[ae]||J[H.value];te(Ae,B)}})};B.display=!0;const ie=W.value[M]||T[H.value];te(ie,B)}return X}else return w(T,I,void 0)},tooltipContent:c,tooltipTrigger:d}}const ote={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var ite=ee({name:"ElTableBody",props:ote,setup(t){const e=Gt(),n=rt(Mo),r=Ne("table"),{wrappedRowRender:s,tooltipContent:o,tooltipTrigger:i}=ste(t),{onColumnsChange:a,onScrollableChange:u}=nw(n),l=[];return Pe(t.store.states.hoverRow,(c,d)=>{var f;const h=e==null?void 0:e.vnode.el,p=Array.from((h==null?void 0:h.children)||[]).filter(y=>y==null?void 0:y.classList.contains(`${r.e("row")}`));let g=c;const v=(f=p[g])==null?void 0:f.childNodes;if(v!=null&&v.length){let y=0;Array.from(v).reduce((b,w,S)=>{var E,T;return((E=v[S])==null?void 0:E.colSpan)>1&&(y=(T=v[S])==null?void 0:T.colSpan),w.nodeName!=="TD"&&y===0&&b.push(S),y>0&&y--,b},[]).forEach(b=>{var w;for(g=c;g>0;){const S=(w=p[g-1])==null?void 0:w.childNodes;if(S[b]&&S[b].nodeName==="TD"&&S[b].rowSpan>1){Js(S[b],"hover-cell"),l.push(S[b]);break}g--}})}else l.forEach(y=>ns(y,"hover-cell")),l.length=0;!t.store.states.isComplex.value||!an||$a(()=>{const y=p[d],_=p[c];y&&!y.classList.contains("hover-fixed-row")&&ns(y,"hover-row"),_&&Js(_,"hover-row")})}),Ha(()=>{var c;(c=Es)==null||c()}),{ns:r,onColumnsChange:a,onScrollableChange:u,wrappedRowRender:s,tooltipContent:o,tooltipTrigger:i}},render(){const{wrappedRowRender:t,store:e}=this,n=e.states.data.value||[];return _t("tbody",{tabIndex:-1},[n.reduce((r,s)=>r.concat(t(s,r.length)),[])])}});function ate(){const t=rt(Mo),e=t==null?void 0:t.store,n=P(()=>e.states.fixedLeafColumnsLength.value),r=P(()=>e.states.rightFixedColumns.value.length),s=P(()=>e.states.columns.value.length),o=P(()=>e.states.fixedColumns.value.length),i=P(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:r,columnsCount:s,leftFixedCount:o,rightFixedCount:i,columns:e.states.columns}}function lte(t){const{columns:e}=ate(),n=Ne("table");return{getCellClasses:(o,i)=>{const a=o[i],u=[n.e("cell"),a.id,a.align,a.labelClassName,...ew(n.b(),i,a.fixed,t.store)];return a.className&&u.push(a.className),a.children||u.push(n.is("leaf")),u},getCellStyles:(o,i)=>{const a=tw(i,o.fixed,t.store);return Uu(a,"left"),Uu(a,"right"),a},columns:e}}var ute=ee({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const e=rt(Mo),n=Ne("table"),{getCellClasses:r,getCellStyles:s,columns:o}=lte(t),{onScrollableChange:i,onColumnsChange:a}=nw(e);return{ns:n,onScrollableChange:i,onColumnsChange:a,getCellClasses:r,getCellStyles:s,columns:o}},render(){const{columns:t,getCellStyles:e,getCellClasses:n,summaryMethod:r,sumText:s}=this,o=this.store.states.data.value;let i=[];return r?i=r({columns:t,data:o}):t.forEach((a,u)=>{if(u===0){i[u]=s;return}const l=o.map(h=>Number(h[a.property])),c=[];let d=!0;l.forEach(h=>{if(!Number.isNaN(+h)){d=!1;const p=`${h}`.split(".")[1];c.push(p?p.length:0)}});const f=Math.max.apply(null,c);d?i[u]="":i[u]=l.reduce((h,p)=>{const g=Number(p);return Number.isNaN(+g)?h:Number.parseFloat((h+p).toFixed(Math.min(f,20)))},0)}),_t(_t("tfoot",[_t("tr",{},[...t.map((a,u)=>_t("td",{key:u,colspan:a.colSpan,rowspan:a.rowSpan,class:n(t,u),style:e(a,u)},[_t("div",{class:["cell",a.labelClassName]},[i[u]])]))])]))}});function cte(t){return{setCurrentRow:d=>{t.commit("setCurrentRow",d)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(d,f,h=!0)=>{t.toggleRowSelection(d,f,!1,h),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:d=>{t.clearFilter(d)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(d,f)=>{t.toggleRowExpansionAdapter(d,f)},clearSort:()=>{t.clearSort()},sort:(d,f)=>{t.commit("sort",{prop:d,order:f})},updateKeyChildren:(d,f)=>{t.updateKeyChildren(d,f)}}}function dte(t,e,n,r){const s=q(!1),o=q(null),i=q(!1),a=M=>{i.value=M},u=q({width:null,height:null,headerHeight:null}),l=q(!1),c={display:"inline-block",verticalAlign:"middle"},d=q(),f=q(0),h=q(0),p=q(0),g=q(0),v=q(0);Fr(()=>{e.setHeight(t.height)}),Fr(()=>{e.setMaxHeight(t.maxHeight)}),Pe(()=>[t.currentRowKey,n.states.rowKey],([M,B])=>{!m(B)||!m(M)||n.setCurrentRowKey(`${M}`)},{immediate:!0}),Pe(()=>t.data,M=>{r.store.commit("setData",M)},{immediate:!0,deep:!0}),Fr(()=>{t.expandRowKeys&&n.setExpandRowKeysAdapter(t.expandRowKeys)});const y=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},_=(M,B)=>{const{pixelX:j,pixelY:X}=B;Math.abs(j)>=Math.abs(X)&&(r.refs.bodyWrapper.scrollLeft+=B.pixelX/5)},b=P(()=>t.height||t.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),w=P(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),S=()=>{b.value&&e.updateElsHeight(),e.updateColumnsWidth(),!(typeof window>"u")&&requestAnimationFrame(k)};xt(async()=>{await pt(),n.updateColumns(),C(),requestAnimationFrame(S);const M=r.vnode.el,B=r.refs.headerWrapper;t.flexible&&M&&M.parentElement&&(M.parentElement.style.minWidth="0"),u.value={width:d.value=M.offsetWidth,height:M.offsetHeight,headerHeight:t.showHeader&&B?B.offsetHeight:null},n.states.columns.value.forEach(j=>{j.filteredValue&&j.filteredValue.length&&r.store.commit("filterChange",{column:j,values:j.filteredValue,silent:!0})}),r.$ready=!0});const E=(M,B)=>{if(!M)return;const j=Array.from(M.classList).filter(X=>!X.startsWith("is-scrolling-"));j.push(e.scrollX.value?B:"is-scrolling-none"),M.className=j.join(" ")},T=M=>{const{tableWrapper:B}=r.refs;E(B,M)},I=M=>{const{tableWrapper:B}=r.refs;return!!(B&&B.classList.contains(M))},k=function(){if(!r.refs.scrollBarRef)return;if(!e.scrollX.value){const fe="is-scrolling-none";I(fe)||T(fe);return}const M=r.refs.scrollBarRef.wrapRef;if(!M)return;const{scrollLeft:B,offsetWidth:j,scrollWidth:X}=M,{headerWrapper:se,footerWrapper:te}=r.refs;se&&(se.scrollLeft=B),te&&(te.scrollLeft=B);const ie=X-j-1;B>=ie?T("is-scrolling-right"):T(B===0?"is-scrolling-left":"is-scrolling-middle")},C=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&xn(r.refs.scrollBarRef.wrapRef,"scroll",k,{passive:!0}),t.fit?qn(r.vnode.el,N):xn(window,"resize",N),qn(r.refs.bodyWrapper,()=>{var M,B;N(),(B=(M=r.refs)==null?void 0:M.scrollBarRef)==null||B.update()}))},N=()=>{var M,B,j,X;const se=r.vnode.el;if(!r.$ready||!se)return;let te=!1;const{width:ie,height:fe,headerHeight:ue}=u.value,J=d.value=se.offsetWidth;ie!==J&&(te=!0);const de=se.offsetHeight;(t.height||b.value)&&fe!==de&&(te=!0);const ae=t.tableLayout==="fixed"?r.refs.headerWrapper:(M=r.refs.tableHeaderRef)==null?void 0:M.$el;t.showHeader&&(ae==null?void 0:ae.offsetHeight)!==ue&&(te=!0),f.value=((B=r.refs.tableWrapper)==null?void 0:B.scrollHeight)||0,p.value=(ae==null?void 0:ae.scrollHeight)||0,g.value=((j=r.refs.footerWrapper)==null?void 0:j.offsetHeight)||0,v.value=((X=r.refs.appendWrapper)==null?void 0:X.offsetHeight)||0,h.value=f.value-p.value-g.value-v.value,te&&(u.value={width:J,height:de,headerHeight:t.showHeader&&(ae==null?void 0:ae.offsetHeight)||0},S())},D=fr(),W=P(()=>{const{bodyWidth:M,scrollY:B,gutterWidth:j}=e;return M.value?`${M.value-(B.value?j:0)}px`:""}),H=P(()=>t.maxHeight?"fixed":t.tableLayout),V=P(()=>{if(t.data&&t.data.length)return null;let M="100%";t.height&&h.value&&(M=`${h.value}px`);const B=d.value;return{width:B?`${B}px`:"",height:M}}),R=P(()=>t.height?{height:"100%"}:t.maxHeight?Number.isNaN(Number(t.maxHeight))?{maxHeight:`calc(${t.maxHeight} - ${p.value+g.value}px)`}:{maxHeight:`${t.maxHeight-p.value-g.value}px`}:{});return{isHidden:s,renderExpanded:o,setDragVisible:a,isGroup:l,handleMouseLeave:y,handleHeaderFooterMousewheel:_,tableSize:D,emptyBlockStyle:V,handleFixedMousewheel:(M,B)=>{const j=r.refs.bodyWrapper;if(Math.abs(B.spinY)>0){const X=j.scrollTop;B.pixelY<0&&X!==0&&M.preventDefault(),B.pixelY>0&&j.scrollHeight-j.clientHeight>X&&M.preventDefault(),j.scrollTop+=Math.ceil(B.pixelY/5)}else j.scrollLeft+=Math.ceil(B.pixelX/5)},resizeProxyVisible:i,bodyWidth:W,resizeState:u,doLayout:S,tableBodyStyles:w,tableLayout:H,scrollbarViewStyle:c,scrollbarStyle:R}}function fte(t){const e=q(),n=()=>{const s=t.vnode.el.querySelector(".hidden-columns"),o={childList:!0,subtree:!0},i=t.store.states.updateOrderFns;e.value=new MutationObserver(()=>{i.forEach(a=>a())}),e.value.observe(s,o)};xt(()=>{n()}),Ha(()=>{var r;(r=e.value)==null||r.disconnect()})}var hte={data:{type:Array,default:()=>[]},size:pr,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],tooltipFormatter:Function,appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0},allowDragLastColumn:{type:Boolean,default:!0},preserveExpandedContent:{type:Boolean,default:!1}};function TL(t){const e=t.tableLayout==="auto";let n=t.columns||[];e&&n.every(({width:s})=>ln(s))&&(n=[]);const r=s=>{const o={key:`${t.tableLayout}_${s.id}`,style:{},name:void 0};return e?o.style={width:`${s.width}px`}:o.name=s.id,o};return _t("colgroup",{},n.map(s=>_t("col",r(s))))}TL.props=["columns","tableLayout"];const pte=()=>{const t=q(),e=(o,i)=>{const a=t.value;a&&a.scrollTo(o,i)},n=(o,i)=>{const a=t.value;a&&bt(i)&&["Top","Left"].includes(o)&&a[`setScroll${o}`](i)};return{scrollBarRef:t,scrollTo:e,setScrollTop:o=>n("Top",o),setScrollLeft:o=>n("Left",o)}};var Ix=!1,ol,ry,sy,zh,Wh,CL,Gh,oy,iy,ay,kL,ly,uy,IL,AL;function _s(){if(!Ix){Ix=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(ly=/\b(iPhone|iP[ao]d)/.exec(t),uy=/\b(iP[ao]d)/.exec(t),ay=/Android/i.exec(t),IL=/FBAN\/\w+;/i.exec(t),AL=/Mobile/i.exec(t),kL=!!/Win64/.exec(t),e){ol=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,ol&&document&&document.documentMode&&(ol=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);CL=r?parseFloat(r[1])+4:ol,ry=e[2]?parseFloat(e[2]):NaN,sy=e[3]?parseFloat(e[3]):NaN,zh=e[4]?parseFloat(e[4]):NaN,zh?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),Wh=e&&e[1]?parseFloat(e[1]):NaN):Wh=NaN}else ol=ry=sy=Wh=zh=NaN;if(n){if(n[1]){var s=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);Gh=s?parseFloat(s[1].replace("_",".")):!0}else Gh=!1;oy=!!n[2],iy=!!n[3]}else Gh=oy=iy=!1}}var cy={ie:function(){return _s()||ol},ieCompatibilityMode:function(){return _s()||CL>ol},ie64:function(){return cy.ie()&&kL},firefox:function(){return _s()||ry},opera:function(){return _s()||sy},webkit:function(){return _s()||zh},safari:function(){return cy.webkit()},chrome:function(){return _s()||Wh},windows:function(){return _s()||oy},osx:function(){return _s()||Gh},linux:function(){return _s()||iy},iphone:function(){return _s()||ly},mobile:function(){return _s()||ly||uy||ay||AL},nativeApp:function(){return _s()||IL},android:function(){return _s()||ay},ipad:function(){return _s()||uy}},mte=cy,ph=!!(typeof window<"u"&&window.document&&window.document.createElement),gte={canUseDOM:ph,canUseWorkers:typeof Worker<"u",canUseEventListeners:ph&&!!(window.addEventListener||window.attachEvent),canUseViewport:ph&&!!window.screen,isInWorker:!ph},RL=gte,LL;RL.canUseDOM&&(LL=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function vte(t,e){if(!RL.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var s=document.createElement("div");s.setAttribute(n,"return;"),r=typeof s[n]=="function"}return!r&&LL&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var yte=vte,Ax=10,Rx=40,Lx=800;function $L(t){var e=0,n=0,r=0,s=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*Ax,s=n*Ax,"deltaY"in t&&(s=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||s)&&t.deltaMode&&(t.deltaMode==1?(r*=Rx,s*=Rx):(r*=Lx,s*=Lx)),r&&!e&&(e=r<1?-1:1),s&&!n&&(n=s<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:s}}$L.getEventType=function(){return mte.firefox()?"DOMMouseScroll":yte("wheel")?"wheel":"mousewheel"};var bte=$L;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const wte=function(t,e){if(t&&t.addEventListener){const n=function(r){const s=bte(r);e&&Reflect.apply(e,this,[r,s])};t.addEventListener("wheel",n,{passive:!0})}},_te={beforeMount(t,e){wte(t,e.value)}};let Ste=1;const Ete=ee({name:"ElTable",directives:{Mousewheel:_te},components:{TableHeader:Zee,TableBody:ite,TableFooter:ute,ElScrollbar:hi,hColgroup:TL},props:hte,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(t){const{t:e}=un(),n=Ne("table"),r=Gt();Qt(Mo,r);const s=Hee(r,t);r.store=s;const o=new Kee({store:r.store,table:r,fit:t.fit,showHeader:t.showHeader});r.layout=o;const i=P(()=>(s.states.data.value||[]).length===0),{setCurrentRow:a,getSelectionRows:u,toggleRowSelection:l,clearSelection:c,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:h,clearSort:p,sort:g,updateKeyChildren:v}=cte(s),{isHidden:y,renderExpanded:_,setDragVisible:b,isGroup:w,handleMouseLeave:S,handleHeaderFooterMousewheel:E,tableSize:T,emptyBlockStyle:I,handleFixedMousewheel:k,resizeProxyVisible:C,bodyWidth:N,resizeState:D,doLayout:W,tableBodyStyles:H,tableLayout:V,scrollbarViewStyle:R,scrollbarStyle:z}=dte(t,o,s,r),{scrollBarRef:M,scrollTo:B,setScrollLeft:j,setScrollTop:X}=pte(),se=As(W,50),te=`${n.namespace.value}-table_${Ste++}`;r.tableId=te,r.state={isGroup:w,resizeState:D,doLayout:W,debouncedUpdateLayout:se};const ie=P(()=>{var J;return(J=t.sumText)!=null?J:e("el.table.sumText")}),fe=P(()=>{var J;return(J=t.emptyText)!=null?J:e("el.table.emptyText")}),ue=P(()=>xL(s.states.originColumns.value)[0]);return fte(r),In(()=>{se.cancel()}),{ns:n,layout:o,store:s,columns:ue,handleHeaderFooterMousewheel:E,handleMouseLeave:S,tableId:te,tableSize:T,isHidden:y,isEmpty:i,renderExpanded:_,resizeProxyVisible:C,resizeState:D,isGroup:w,bodyWidth:N,tableBodyStyles:H,emptyBlockStyle:I,debouncedUpdateLayout:se,handleFixedMousewheel:k,setCurrentRow:a,getSelectionRows:u,toggleRowSelection:l,clearSelection:c,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:h,clearSort:p,doLayout:W,sort:g,updateKeyChildren:v,t:e,setDragVisible:b,context:r,computedSumText:ie,computedEmptyText:fe,tableLayout:V,scrollbarViewStyle:R,scrollbarStyle:z,scrollBarRef:M,scrollTo:B,setScrollLeft:j,setScrollTop:X,allowDragLastColumn:t.allowDragLastColumn}}});function xte(t,e,n,r,s,o){const i=qt("hColgroup"),a=qt("table-header"),u=qt("table-body"),l=qt("table-footer"),c=qt("el-scrollbar"),d=_m("mousewheel");return L(),G("div",{ref:"tableWrapper",class:U([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:dt(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:t.handleMouseLeave},[F("div",{class:U(t.ns.e("inner-wrapper"))},[F("div",{ref:"hiddenColumns",class:"hidden-columns"},[ve(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?At((L(),G("div",{key:0,ref:"headerWrapper",class:U(t.ns.e("header-wrapper"))},[F("table",{ref:"tableHeader",class:U(t.ns.e("header")),style:dt(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[A(i,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),A(a,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,"allow-drag-last-column":t.allowDragLastColumn,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","allow-drag-last-column","onSetDragVisible"])],6)],2)),[[d,t.handleHeaderFooterMousewheel]]):ce("v-if",!0),F("div",{ref:"bodyWrapper",class:U(t.ns.e("body-wrapper"))},[A(c,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn,tabindex:t.scrollbarTabindex,onScroll:f=>t.$emit("scroll",f)},{default:O(()=>[F("table",{ref:"tableBody",class:U(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:dt({width:t.bodyWidth,tableLayout:t.tableLayout})},[A(i,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(L(),ye(a,{key:0,ref:"tableHeaderRef",class:U(t.ns.e("body-header")),border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,onSetDragVisible:t.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):ce("v-if",!0),A(u,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"tooltip-options":t.tooltipOptions,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),t.showSummary&&t.tableLayout==="auto"?(L(),ye(l,{key:1,class:U(t.ns.e("body-footer")),border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):ce("v-if",!0)],6),t.isEmpty?(L(),G("div",{key:0,ref:"emptyBlock",style:dt(t.emptyBlockStyle),class:U(t.ns.e("empty-block"))},[F("span",{class:U(t.ns.e("empty-text"))},[ve(t.$slots,"empty",{},()=>[xe(ge(t.computedEmptyText),1)])],2)],6)):ce("v-if",!0),t.$slots.append?(L(),G("div",{key:1,ref:"appendWrapper",class:U(t.ns.e("append-wrapper"))},[ve(t.$slots,"append")],2)):ce("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","onScroll"])],2),t.showSummary&&t.tableLayout==="fixed"?At((L(),G("div",{key:1,ref:"footerWrapper",class:U(t.ns.e("footer-wrapper"))},[F("table",{class:U(t.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:dt(t.tableBodyStyles)},[A(i,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),A(l,{border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[nn,!t.isEmpty],[d,t.handleHeaderFooterMousewheel]]):ce("v-if",!0),t.border||t.isGroup?(L(),G("div",{key:2,class:U(t.ns.e("border-left-patch"))},null,2)):ce("v-if",!0)],2),At(F("div",{ref:"resizeProxy",class:U(t.ns.e("column-resize-proxy"))},null,2),[[nn,t.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var Tte=Ye(Ete,[["render",xte],["__file","table.vue"]]);const Cte={selection:"table-column--selection",expand:"table__expand-column"},kte={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},Ite=t=>Cte[t]||"",Ate={selection:{renderHeader({store:t,column:e}){function n(){return t.states.data.value&&t.states.data.value.length===0}return _t(uo,{disabled:n(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value,ariaLabel:e.label})},renderCell({row:t,column:e,store:n,$index:r}){return _t(uo,{disabled:e.selectable?!e.selectable.call(null,t,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",t)},onClick:s=>s.stopPropagation(),modelValue:n.isSelected(t),ariaLabel:e.label})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:e}){let n=e+1;const r=t.index;return bt(r)?n=e+r:vt(r)&&(n=r(e)),_t("div",{},[n])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({row:t,store:e,expanded:n}){const{ns:r}=e,s=[r.e("expand-icon")];return n&&s.push(r.em("expand-icon","expanded")),_t("div",{class:s,onClick:function(i){i.stopPropagation(),e.toggleRowExpansion(t)}},{default:()=>[_t(lt,null,{default:()=>[_t(ps)]})]})},sortable:!1,resizable:!1}};function Rte({row:t,column:e,$index:n}){var r;const s=e.property,o=s&&ed(t,s).value;return e&&e.formatter?e.formatter(t,e,o,n):((r=o==null?void 0:o.toString)==null?void 0:r.call(o))||""}function Lte({row:t,treeNode:e,store:n},r=!1){const{ns:s}=n;if(!e)return r?[_t("span",{class:s.e("placeholder")})]:null;const o=[],i=function(a){a.stopPropagation(),!e.loading&&n.loadOrToggle(t)};if(e.indent&&o.push(_t("span",{class:s.e("indent"),style:{"padding-left":`${e.indent}px`}})),En(e.expanded)&&!e.noLazyChildren){const a=[s.e("expand-icon"),e.expanded?s.em("expand-icon","expanded"):""];let u=ps;e.loading&&(u=ii),o.push(_t("div",{class:a,onClick:i},{default:()=>[_t(lt,{class:{[s.is("loading")]:e.loading}},{default:()=>[_t(u)]})]}))}else o.push(_t("span",{class:s.e("placeholder")}));return o}function $x(t,e){return t.reduce((n,r)=>(n[r]=r,n),e)}function $te(t,e){const n=Gt();return{registerComplexWatchers:()=>{const o=["fixed"],i={realWidth:"width",realMinWidth:"minWidth"},a=$x(o,i);Object.keys(a).forEach(u=>{const l=i[u];dn(e,l)&&Pe(()=>e[l],c=>{let d=c;l==="width"&&u==="realWidth"&&(d=J1(c)),l==="minWidth"&&u==="realMinWidth"&&(d=yL(c)),n.columnConfig.value[l]=d,n.columnConfig.value[u]=d;const f=l==="fixed";t.value.store.scheduleLayout(f)})})},registerNormalWatchers:()=>{const o=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip","tooltipFormatter"],i={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},a=$x(o,i);Object.keys(a).forEach(u=>{const l=i[u];dn(e,l)&&Pe(()=>e[l],c=>{n.columnConfig.value[u]=c})})}}}function Pte(t,e,n){const r=Gt(),s=q(""),o=q(!1),i=q(),a=q(),u=Ne("table");Fr(()=>{i.value=t.align?`is-${t.align}`:null,i.value}),Fr(()=>{a.value=t.headerAlign?`is-${t.headerAlign}`:i.value,a.value});const l=P(()=>{let w=r.vnode.vParent||r.parent;for(;w&&!w.tableId&&!w.columnId;)w=w.vnode.vParent||w.parent;return w}),c=P(()=>{const{store:w}=r.parent;if(!w)return!1;const{treeData:S}=w.states,E=S.value;return E&&Object.keys(E).length>0}),d=q(J1(t.width)),f=q(yL(t.minWidth)),h=w=>(d.value&&(w.width=d.value),f.value&&(w.minWidth=f.value),!d.value&&f.value&&(w.width=void 0),w.minWidth||(w.minWidth=80),w.realWidth=Number(ln(w.width)?w.minWidth:w.width),w),p=w=>{const S=w.type,E=Ate[S]||{};Object.keys(E).forEach(I=>{const k=E[I];I!=="className"&&!ln(k)&&(w[I]=k)});const T=Ite(S);if(T){const I=`${m(u.namespace)}-${T}`;w.className=w.className?`${w.className} ${I}`:I}return w},g=w=>{Ke(w)?w.forEach(E=>S(E)):S(w);function S(E){var T;((T=E==null?void 0:E.type)==null?void 0:T.name)==="ElTableColumn"&&(E.vParent=r)}};return{columnId:s,realAlign:i,isSubColumn:o,realHeaderAlign:a,columnOrTableParent:l,setColumnWidth:h,setColumnForcedProps:p,setColumnRenders:w=>{t.renderHeader||w.type!=="selection"&&(w.renderHeader=E=>(r.columnConfig.value.label,ve(e,"header",E,()=>[w.label]))),e["filter-icon"]&&(w.renderFilterIcon=E=>ve(e,"filter-icon",E));let S=w.renderCell;return w.type==="expand"?(w.renderCell=E=>_t("div",{class:"cell"},[S(E)]),n.value.renderExpanded=E=>e.default?e.default(E):e.default):(S=S||Rte,w.renderCell=E=>{let T=null;if(e.default){const W=e.default(E);T=W.some(H=>H.type!==Rr)?W:S(E)}else T=S(E);const{columns:I}=n.value.store.states,k=I.value.findIndex(W=>W.type==="default"),C=c.value&&E.cellIndex===k,N=Lte(E,C),D={class:"cell",style:{}};return w.showOverflowTooltip&&(D.class=`${D.class} ${m(u.namespace)}-tooltip`,D.style={width:`${(E.column.realWidth||Number(E.column.width))-1}px`}),g(T),_t("div",D,[N,T])}),w},getPropsData:(...w)=>w.reduce((S,E)=>(Ke(E)&&E.forEach(T=>{S[T]=t[T]}),S),{}),getColumnElIndex:(w,S)=>Array.prototype.indexOf.call(w,S),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var Dte={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},tooltipFormatter:Function,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(e=>["ascending","descending",null].includes(e))}};let Ote=1;var PL=ee({name:"ElTableColumn",components:{ElCheckbox:uo},props:Dte,setup(t,{slots:e}){const n=Gt(),r=q({}),s=P(()=>{let b=n.parent;for(;b&&!b.tableId;)b=b.parent;return b}),{registerNormalWatchers:o,registerComplexWatchers:i}=$te(s,t),{columnId:a,isSubColumn:u,realHeaderAlign:l,columnOrTableParent:c,setColumnWidth:d,setColumnForcedProps:f,setColumnRenders:h,getPropsData:p,getColumnElIndex:g,realAlign:v,updateColumnOrder:y}=Pte(t,e,s),_=c.value;a.value=`${_.tableId||_.columnId}_column_${Ote++}`,Ll(()=>{u.value=s.value!==_;const b=t.type||"default",w=t.sortable===""?!0:t.sortable,S=b==="selection"?!1:ln(t.showOverflowTooltip)?_.props.showOverflowTooltip:t.showOverflowTooltip,E=ln(t.tooltipFormatter)?_.props.tooltipFormatter:t.tooltipFormatter,T={...kte[b],id:a.value,type:b,property:t.prop||t.property,align:v,headerAlign:l,showOverflowTooltip:S,tooltipFormatter:E,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:w,index:t.index,rawColumnKey:n.vnode.key};let D=p(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);D=Ree(T,D),D=$ee(h,d,f)(D),r.value=D,o(),i()}),xt(()=>{var b;const w=c.value,S=u.value?w.vnode.el.children:(b=w.refs.hiddenColumns)==null?void 0:b.children,E=()=>g(S||[],n.vnode.el);r.value.getColumnIndex=E,E()>-1&&s.value.store.commit("insertColumn",r.value,u.value?w.columnConfig.value:null,y)}),In(()=>{const b=r.value.getColumnIndex;(b?b():-1)>-1&&s.value.store.commit("removeColumn",r.value,u.value?_.columnConfig.value:null,y)}),n.columnId=a.value,n.columnConfig=r},render(){var t,e,n;try{const r=(e=(t=this.$slots).default)==null?void 0:e.call(t,{row:{},column:{},$index:-1}),s=[];if(Ke(r))for(const i of r)((n=i.type)==null?void 0:n.name)==="ElTableColumn"||i.shapeFlag&2?s.push(i):i.type===tt&&Ke(i.children)&&i.children.forEach(a=>{(a==null?void 0:a.patchFlag)!==1024&&!ht(a==null?void 0:a.children)&&s.push(a)});return _t("div",s)}catch{return _t("div",[])}}});const Nl=Bt(Tte,{TableColumn:PL}),Fl=Xn(PL);var Nd=(t=>(t.ASC="asc",t.DESC="desc",t))(Nd||{}),Fd=(t=>(t.CENTER="center",t.RIGHT="right",t))(Fd||{}),DL=(t=>(t.LEFT="left",t.RIGHT="right",t))(DL||{});const dy={asc:"desc",desc:"asc"},Bd=Symbol("placeholder"),Mte=(t,e,n)=>{var r;const s={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:t.flexGrow||0,flexShrink:t.flexShrink||1}};n||(s.flexShrink=1);const o={...(r=t.style)!=null?r:{},...s,flexBasis:"auto",width:t.width};return e||(t.maxWidth&&(o.maxWidth=t.maxWidth),t.minWidth&&(o.minWidth=t.minWidth)),o};function Nte(t,e,n){const r=P(()=>m(e).map((v,y)=>{var _,b;return{...v,key:(b=(_=v.key)!=null?_:v.dataKey)!=null?b:y}})),s=P(()=>m(r).filter(v=>!v.hidden)),o=P(()=>m(s).filter(v=>v.fixed==="left"||v.fixed===!0)),i=P(()=>m(s).filter(v=>v.fixed==="right")),a=P(()=>m(s).filter(v=>!v.fixed)),u=P(()=>{const v=[];return m(o).forEach(y=>{v.push({...y,placeholderSign:Bd})}),m(a).forEach(y=>{v.push(y)}),m(i).forEach(y=>{v.push({...y,placeholderSign:Bd})}),v}),l=P(()=>m(o).length||m(i).length),c=P(()=>m(r).reduce((v,y)=>(v[y.key]=Mte(y,m(n),t.fixed),v),{})),d=P(()=>m(s).reduce((v,y)=>v+y.width,0)),f=v=>m(r).find(y=>y.key===v),h=v=>m(c)[v],p=(v,y)=>{v.width=y};function g(v){var y;const{key:_}=v.currentTarget.dataset;if(!_)return;const{sortState:b,sortBy:w}=t;let S=Nd.ASC;Kt(b)?S=dy[b[_]]:S=dy[w.order],(y=t.onColumnSort)==null||y.call(t,{column:f(_),key:_,order:S})}return{columns:r,columnsStyles:c,columnsTotalWidth:d,fixedColumnsOnLeft:o,fixedColumnsOnRight:i,hasFixedColumns:l,mainColumns:u,normalColumns:a,visibleColumns:s,getColumn:f,getColumnStyle:h,updateColumnWidth:p,onColumnSorted:g}}const Fte=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,onMaybeEndReached:s})=>{const o=q({scrollLeft:0,scrollTop:0});function i(h){var p,g,v;const{scrollTop:y}=h;(p=e.value)==null||p.scrollTo(h),(g=n.value)==null||g.scrollToTop(y),(v=r.value)==null||v.scrollToTop(y)}function a(h){o.value=h,i(h)}function u(h){o.value.scrollTop=h,i(m(o))}function l(h){var p,g;o.value.scrollLeft=h,(g=(p=e.value)==null?void 0:p.scrollTo)==null||g.call(p,m(o))}function c(h){var p;a(h),(p=t.onScroll)==null||p.call(t,h)}function d({scrollTop:h}){const{scrollTop:p}=m(o);h!==p&&u(h)}function f(h,p="auto"){var g;(g=e.value)==null||g.scrollToRow(h,p)}return Pe(()=>m(o).scrollTop,(h,p)=>{h>p&&s()}),{scrollPos:o,scrollTo:a,scrollToLeft:l,scrollToTop:u,scrollToRow:f,onScroll:c,onVerticalScroll:d}},Bte=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,tableInstance:s,ns:o,isScrolling:i})=>{const a=Gt(),{emit:u}=a,l=On(!1),c=q(t.defaultExpandedRowKeys||[]),d=q(-1),f=On(null),h=q({}),p=q({}),g=On({}),v=On({}),y=On({}),_=P(()=>bt(t.estimatedRowHeight));function b(C){var N;(N=t.onRowsRendered)==null||N.call(t,C),C.rowCacheEnd>m(d)&&(d.value=C.rowCacheEnd)}function w({hovered:C,rowKey:N}){if(i.value)return;s.vnode.el.querySelectorAll(`[rowkey="${String(N)}"]`).forEach(H=>{C?H.classList.add(o.is("hovered")):H.classList.remove(o.is("hovered"))})}function S({expanded:C,rowData:N,rowIndex:D,rowKey:W}){var H,V;const R=[...m(c)],z=R.indexOf(W);C?z===-1&&R.push(W):z>-1&&R.splice(z,1),c.value=R,u("update:expandedRowKeys",R),(H=t.onRowExpand)==null||H.call(t,{expanded:C,rowData:N,rowIndex:D,rowKey:W}),(V=t.onExpandedRowsChange)==null||V.call(t,R)}const E=As(()=>{var C,N,D,W;l.value=!0,h.value={...m(h),...m(p)},T(m(f),!1),p.value={},f.value=null,(C=e.value)==null||C.forceUpdate(),(N=n.value)==null||N.forceUpdate(),(D=r.value)==null||D.forceUpdate(),(W=a.proxy)==null||W.$forceUpdate(),l.value=!1},0);function T(C,N=!1){m(_)&&[e,n,r].forEach(D=>{const W=m(D);W&&W.resetAfterRowIndex(C,N)})}function I(C,N,D){const W=m(f);(W===null||W>D)&&(f.value=D),p.value[C]=N}function k({rowKey:C,height:N,rowIndex:D},W){W?W===DL.RIGHT?y.value[C]=N:g.value[C]=N:v.value[C]=N;const H=Math.max(...[g,y,v].map(V=>V.value[C]||0));m(h)[C]!==H&&(I(C,H,D),E())}return{expandedRowKeys:c,lastRenderedRowIndex:d,isDynamic:_,isResetting:l,rowHeights:h,resetAfterIndex:T,onRowExpanded:S,onRowHovered:w,onRowsRendered:b,onRowHeightChange:k}},Vte=(t,{expandedRowKeys:e,lastRenderedRowIndex:n,resetAfterIndex:r})=>{const s=q({}),o=P(()=>{const a={},{data:u,rowKey:l}=t,c=m(e);if(!c||!c.length)return u;const d=[],f=new Set;c.forEach(p=>f.add(p));let h=u.slice();for(h.forEach(p=>a[p[l]]=0);h.length>0;){const p=h.shift();d.push(p),f.has(p[l])&&Ke(p.children)&&p.children.length>0&&(h=[...p.children,...h],p.children.forEach(g=>a[g[l]]=a[p[l]]+1))}return s.value=a,d}),i=P(()=>{const{data:a,expandColumnKey:u}=t;return u?m(o):a});return Pe(i,(a,u)=>{a!==u&&(n.value=-1,r(0,!0))}),{data:i,depthMap:s}},Ute=(t,e)=>t+e,qh=t=>Ke(t)?t.reduce(Ute,0):t,Cl=(t,e,n={})=>vt(t)?t(e):t??n,Ta=t=>(["width","maxWidth","minWidth","height"].forEach(e=>{t[e]=Zn(t[e])}),t),OL=t=>Mn(t)?e=>_t(t,e):t,Hte=(t,{columnsTotalWidth:e,rowsHeight:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:s})=>{const o=P(()=>{const{fixed:_,width:b,vScrollbarSize:w}=t,S=b-w;return _?Math.max(Math.round(m(e)),S):S}),i=P(()=>m(o)+t.vScrollbarSize),a=P(()=>{const{height:_=0,maxHeight:b=0,footerHeight:w,hScrollbarSize:S}=t;if(b>0){const E=m(h),T=m(n),k=m(f)+E+T+S;return Math.min(k,b-w)}return _-w}),u=P(()=>{const{maxHeight:_}=t,b=m(a);if(bt(_)&&_>0)return b;const w=m(n)+m(f)+m(h);return Math.min(b,w)}),l=_=>_.width,c=P(()=>qh(m(r).map(l))),d=P(()=>qh(m(s).map(l))),f=P(()=>qh(t.headerHeight)),h=P(()=>{var _;return(((_=t.fixedData)==null?void 0:_.length)||0)*t.rowHeight}),p=P(()=>m(a)-m(f)-m(h)),g=P(()=>{const{style:_={},height:b,width:w}=t;return Ta({..._,height:b,width:w})}),v=P(()=>Ta({height:t.footerHeight})),y=P(()=>({top:Zn(m(f)),bottom:Zn(t.footerHeight),width:Zn(t.width)}));return{bodyWidth:o,fixedTableHeight:u,mainTableHeight:a,leftTableWidth:c,rightTableWidth:d,headerWidth:i,windowHeight:p,footerHeight:v,emptyStyle:y,rootStyle:g,headerHeight:f}};function jte(t){const e=q(),n=q(),r=q(),{columns:s,columnsStyles:o,columnsTotalWidth:i,fixedColumnsOnLeft:a,fixedColumnsOnRight:u,hasFixedColumns:l,mainColumns:c,onColumnSorted:d}=Nte(t,wn(t,"columns"),wn(t,"fixed")),{scrollTo:f,scrollToLeft:h,scrollToTop:p,scrollToRow:g,onScroll:v,onVerticalScroll:y,scrollPos:_}=Fte(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,onMaybeEndReached:le}),b=Ne("table-v2"),w=Gt(),S=On(!1),{expandedRowKeys:E,lastRenderedRowIndex:T,isDynamic:I,isResetting:k,rowHeights:C,resetAfterIndex:N,onRowExpanded:D,onRowHeightChange:W,onRowHovered:H,onRowsRendered:V}=Bte(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,tableInstance:w,ns:b,isScrolling:S}),{data:R,depthMap:z}=Vte(t,{expandedRowKeys:E,lastRenderedRowIndex:T,resetAfterIndex:N}),M=P(()=>{const{estimatedRowHeight:Se,rowHeight:Ce}=t,Ee=m(R);return bt(Se)?Object.values(m(C)).reduce((we,Le)=>we+Le,0):Ee.length*Ce}),{bodyWidth:B,fixedTableHeight:j,mainTableHeight:X,leftTableWidth:se,rightTableWidth:te,headerWidth:ie,windowHeight:fe,footerHeight:ue,emptyStyle:J,rootStyle:de,headerHeight:ae}=Hte(t,{columnsTotalWidth:i,fixedColumnsOnLeft:a,fixedColumnsOnRight:u,rowsHeight:M}),Ae=q(),Re=P(()=>{const Se=m(R).length===0;return Ke(t.fixedData)?t.fixedData.length===0&&Se:Se});function pe(Se){const{estimatedRowHeight:Ce,rowHeight:Ee,rowKey:we}=t;return Ce?m(C)[m(R)[Se][we]]||Ce:Ee}const ne=q(!1);function le(){const{onEndReached:Se}=t;if(!Se)return;const{scrollTop:Ce}=m(_),Ee=m(M),we=m(fe),Le=Ee-(Ce+we)+t.hScrollbarSize;!ne.value&&m(T)>=0&&Ee<=Ce+m(X)-m(ae)?(ne.value=!0,Se(Le)):ne.value=!1}return Pe(()=>m(M),()=>ne.value=!1),Pe(()=>t.expandedRowKeys,Se=>E.value=Se,{deep:!0}),{columns:s,containerRef:Ae,mainTableRef:e,leftTableRef:n,rightTableRef:r,isDynamic:I,isResetting:k,isScrolling:S,hasFixedColumns:l,columnsStyles:o,columnsTotalWidth:i,data:R,expandedRowKeys:E,depthMap:z,fixedColumnsOnLeft:a,fixedColumnsOnRight:u,mainColumns:c,bodyWidth:B,emptyStyle:J,rootStyle:de,headerWidth:ie,footerHeight:ue,mainTableHeight:X,fixedTableHeight:j,leftTableWidth:se,rightTableWidth:te,showEmpty:Re,getRowHeight:pe,onColumnSorted:d,onRowHovered:H,onRowExpanded:D,onRowsRendered:V,onRowHeightChange:W,scrollTo:f,scrollToLeft:h,scrollToTop:p,scrollToRow:g,onScroll:v,onVerticalScroll:y}}const rw=Symbol("tableV2"),ML=String,Sf={type:me(Array),required:!0},sw={type:me(Array)},NL={...sw,required:!0},Kte=String,Px={type:me(Array),default:()=>Yn([])},il={type:Number,required:!0},FL={type:me([String,Number,Symbol]),default:"id"},Dx={type:me(Object)},cl=qe({class:String,columns:Sf,columnsStyles:{type:me(Object),required:!0},depth:Number,expandColumnKey:Kte,estimatedRowHeight:{...gl.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:me(Function)},onRowHover:{type:me(Function)},onRowHeightChange:{type:me(Function)},rowData:{type:me(Object),required:!0},rowEventHandlers:{type:me(Object)},rowIndex:{type:Number,required:!0},rowKey:FL,style:{type:me(Object)}}),wv={type:Number,required:!0},ow=qe({class:String,columns:Sf,fixedHeaderData:{type:me(Array)},headerData:{type:me(Array),required:!0},headerHeight:{type:me([Number,Array]),default:50},rowWidth:wv,rowHeight:{type:Number,default:50},height:wv,width:wv}),Yh=qe({columns:Sf,data:NL,fixedData:sw,estimatedRowHeight:cl.estimatedRowHeight,width:il,height:il,headerWidth:il,headerHeight:ow.headerHeight,bodyWidth:il,rowHeight:il,cache:sL.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:gl.scrollbarAlwaysOn,scrollbarStartGap:gl.scrollbarStartGap,scrollbarEndGap:gl.scrollbarEndGap,class:ML,style:Dx,containerStyle:Dx,getRowHeight:{type:me(Function),required:!0},rowKey:cl.rowKey,onRowsRendered:{type:me(Function)},onScroll:{type:me(Function)}}),zte=qe({cache:Yh.cache,estimatedRowHeight:cl.estimatedRowHeight,rowKey:FL,headerClass:{type:me([String,Function])},headerProps:{type:me([Object,Function])},headerCellProps:{type:me([Object,Function])},headerHeight:ow.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:me([String,Function])},rowProps:{type:me([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:me([Object,Function])},columns:Sf,data:NL,dataGetter:{type:me(Function)},fixedData:sw,expandColumnKey:cl.expandColumnKey,expandedRowKeys:Px,defaultExpandedRowKeys:Px,class:ML,fixed:Boolean,style:{type:me(Object)},width:il,height:il,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:gl.hScrollbarSize,vScrollbarSize:gl.vScrollbarSize,scrollbarAlwaysOn:aL.alwaysOn,sortBy:{type:me(Object),default:()=>({})},sortState:{type:me(Object),default:void 0},onColumnSort:{type:me(Function)},onExpandedRowsChange:{type:me(Function)},onEndReached:{type:me(Function)},onRowExpand:cl.onRowExpand,onScroll:Yh.onScroll,onRowsRendered:Yh.onRowsRendered,rowEventHandlers:cl.rowEventHandlers}),Wte="ElTableV2Header",Gte=ee({name:Wte,props:ow,setup(t,{slots:e,expose:n}){const r=Ne("table-v2"),s=rt("tableV2GridScrollLeft"),o=q(),i=P(()=>Ta({width:t.width,height:t.height})),a=P(()=>Ta({width:t.rowWidth,height:t.height})),u=P(()=>Jr(m(t.headerHeight))),l=f=>{const h=m(o);pt(()=>{h!=null&&h.scroll&&h.scroll({left:f})})},c=()=>{const f=r.e("fixed-header-row"),{columns:h,fixedHeaderData:p,rowHeight:g}=t;return p==null?void 0:p.map((v,y)=>{var _;const b=Ta({height:g,width:"100%"});return(_=e.fixed)==null?void 0:_.call(e,{class:f,columns:h,rowData:v,rowIndex:-(y+1),style:b})})},d=()=>{const f=r.e("dynamic-header-row"),{columns:h}=t;return m(u).map((p,g)=>{var v;const y=Ta({width:"100%",height:p});return(v=e.dynamic)==null?void 0:v.call(e,{class:f,columns:h,headerIndex:g,style:y})})};return $o(()=>{s!=null&&s.value&&l(s.value)}),n({scrollToLeft:l}),()=>{if(!(t.height<=0))return A("div",{ref:o,class:t.class,style:m(i),role:"rowgroup"},[A("div",{style:m(a),class:r.e("header")},[d(),c()])])}}});var qte=Gte;const Yte=({atXEndEdge:t,atXStartEdge:e,atYEndEdge:n,atYStartEdge:r},s)=>{let o=null,i=0,a=0;const u=(c,d)=>{const f=c<=0&&e.value||c>=0&&t.value,h=d<=0&&r.value||d>=0&&n.value;return f&&h};return{hasReachedEdge:u,onWheel:c=>{Tl(o);let d=c.deltaX,f=c.deltaY;Math.abs(d)>Math.abs(f)?f=0:d=0,c.shiftKey&&f!==0&&(d=f,f=0),!(u(i,a)&&u(i+d,a+f))&&(i+=d,a+=f,c.preventDefault(),o=$a(()=>{s(i,a),i=0,a=0}))}}},BL=({name:t,clearCache:e,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:s,getEstimatedTotalHeight:o,getEstimatedTotalWidth:i,getColumnOffset:a,getRowOffset:u,getRowPosition:l,getRowStartIndexForOffset:c,getRowStopIndexForStartIndex:d,initCache:f,injectToInstance:h,validateProps:p})=>ee({name:t??"ElVirtualList",props:gl,emits:[Op,Mp],setup(g,{emit:v,expose:y,slots:_}){const b=Ne("vl");p(g);const w=Gt(),S=q(f(g,w));h==null||h(w,S);const E=q(),T=q(),I=q(),k=q(null),C=q({isScrolling:!1,scrollLeft:bt(g.initScrollLeft)?g.initScrollLeft:0,scrollTop:bt(g.initScrollTop)?g.initScrollTop:0,updateRequested:!1,xAxisScrollDir:au,yAxisScrollDir:au}),N=tL(),D=P(()=>Number.parseInt(`${g.height}`,10)),W=P(()=>Number.parseInt(`${g.width}`,10)),H=P(()=>{const{totalColumn:Ee,totalRow:we,columnCache:Le}=g,{isScrolling:Be,xAxisScrollDir:Ue,scrollLeft:je}=m(C);if(Ee===0||we===0)return[0,0,0,0];const at=r(g,je,m(S)),Ie=s(g,at,je,m(S)),Ze=!Be||Ue===Np?Math.max(1,Le):1,mt=!Be||Ue===au?Math.max(1,Le):1;return[Math.max(0,at-Ze),Math.max(0,Math.min(Ee-1,Ie+mt)),at,Ie]}),V=P(()=>{const{totalColumn:Ee,totalRow:we,rowCache:Le}=g,{isScrolling:Be,yAxisScrollDir:Ue,scrollTop:je}=m(C);if(Ee===0||we===0)return[0,0,0,0];const at=c(g,je,m(S)),Ie=d(g,at,je,m(S)),Ze=!Be||Ue===Np?Math.max(1,Le):1,mt=!Be||Ue===au?Math.max(1,Le):1;return[Math.max(0,at-Ze),Math.max(0,Math.min(we-1,Ie+mt)),at,Ie]}),R=P(()=>o(g,m(S))),z=P(()=>i(g,m(S))),M=P(()=>{var Ee;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:g.direction,height:bt(g.height)?`${g.height}px`:g.height,width:bt(g.width)?`${g.width}px`:g.width},(Ee=g.style)!=null?Ee:{}]}),B=P(()=>{const Ee=`${m(z)}px`;return{height:`${m(R)}px`,pointerEvents:m(C).isScrolling?"none":void 0,width:Ee}}),j=()=>{const{totalColumn:Ee,totalRow:we}=g;if(Ee>0&&we>0){const[Ie,Ze,mt,Pt]=m(H),[Vt,Ht,Jt,fn]=m(V);v(Op,{columnCacheStart:Ie,columnCacheEnd:Ze,rowCacheStart:Vt,rowCacheEnd:Ht,columnVisibleStart:mt,columnVisibleEnd:Pt,rowVisibleStart:Jt,rowVisibleEnd:fn})}const{scrollLeft:Le,scrollTop:Be,updateRequested:Ue,xAxisScrollDir:je,yAxisScrollDir:at}=m(C);v(Mp,{xAxisScrollDir:je,scrollLeft:Le,yAxisScrollDir:at,scrollTop:Be,updateRequested:Ue})},X=Ee=>{const{clientHeight:we,clientWidth:Le,scrollHeight:Be,scrollLeft:Ue,scrollTop:je,scrollWidth:at}=Ee.currentTarget,Ie=m(C);if(Ie.scrollTop===je&&Ie.scrollLeft===Ue)return;let Ze=Ue;if(yx(g.direction))switch(Bp()){case Od:Ze=-Ue;break;case Z1:Ze=at-Le-Ue;break}C.value={...Ie,isScrolling:!0,scrollLeft:Ze,scrollTop:Math.max(0,Math.min(je,Be-we)),updateRequested:!0,xAxisScrollDir:ul(Ie.scrollLeft,Ze),yAxisScrollDir:ul(Ie.scrollTop,je)},pt(()=>de()),ae(),j()},se=(Ee,we)=>{const Le=m(D),Be=(R.value-Le)/we*Ee;fe({scrollTop:Math.min(R.value-Le,Be)})},te=(Ee,we)=>{const Le=m(W),Be=(z.value-Le)/we*Ee;fe({scrollLeft:Math.min(z.value-Le,Be)})},{onWheel:ie}=Yte({atXStartEdge:P(()=>C.value.scrollLeft<=0),atXEndEdge:P(()=>C.value.scrollLeft>=z.value-m(W)),atYStartEdge:P(()=>C.value.scrollTop<=0),atYEndEdge:P(()=>C.value.scrollTop>=R.value-m(D))},(Ee,we)=>{var Le,Be,Ue,je;(Be=(Le=T.value)==null?void 0:Le.onMouseUp)==null||Be.call(Le),(je=(Ue=I.value)==null?void 0:Ue.onMouseUp)==null||je.call(Ue);const at=m(W),Ie=m(D);fe({scrollLeft:Math.min(C.value.scrollLeft+Ee,z.value-at),scrollTop:Math.min(C.value.scrollTop+we,R.value-Ie)})});xn(E,"wheel",ie,{passive:!1});const fe=({scrollLeft:Ee=C.value.scrollLeft,scrollTop:we=C.value.scrollTop})=>{Ee=Math.max(Ee,0),we=Math.max(we,0);const Le=m(C);we===Le.scrollTop&&Ee===Le.scrollLeft||(C.value={...Le,xAxisScrollDir:ul(Le.scrollLeft,Ee),yAxisScrollDir:ul(Le.scrollTop,we),scrollLeft:Ee,scrollTop:we,updateRequested:!0},pt(()=>de()),ae(),j())},ue=(Ee=0,we=0,Le=eo)=>{const Be=m(C);we=Math.max(0,Math.min(we,g.totalColumn-1)),Ee=Math.max(0,Math.min(Ee,g.totalRow-1));const Ue=CI(b.namespace.value),je=m(S),at=o(g,je),Ie=i(g,je);fe({scrollLeft:a(g,we,Le,Be.scrollLeft,je,Ie>g.width?Ue:0),scrollTop:u(g,Ee,Le,Be.scrollTop,je,at>g.height?Ue:0)})},J=(Ee,we)=>{const{columnWidth:Le,direction:Be,rowHeight:Ue}=g,je=N.value(e&&Le,e&&Ue,e&&Be),at=`${Ee},${we}`;if(dn(je,at))return je[at];{const[,Ie]=n(g,we,m(S)),Ze=m(S),mt=yx(Be),[Pt,Vt]=l(g,Ee,Ze),[Ht]=n(g,we,Ze);return je[at]={position:"absolute",left:mt?void 0:`${Ie}px`,right:mt?`${Ie}px`:void 0,top:`${Vt}px`,height:`${Pt}px`,width:`${Ht}px`},je[at]}},de=()=>{C.value.isScrolling=!1,pt(()=>{N.value(-1,null,null)})};xt(()=>{if(!an)return;const{initScrollLeft:Ee,initScrollTop:we}=g,Le=m(E);Le&&(bt(Ee)&&(Le.scrollLeft=Ee),bt(we)&&(Le.scrollTop=we)),j()});const ae=()=>{const{direction:Ee}=g,{scrollLeft:we,scrollTop:Le,updateRequested:Be}=m(C),Ue=m(E);if(Be&&Ue){if(Ee===wu)switch(Bp()){case Od:{Ue.scrollLeft=-we;break}case Q1:{Ue.scrollLeft=we;break}default:{const{clientWidth:je,scrollWidth:at}=Ue;Ue.scrollLeft=at-je-we;break}}else Ue.scrollLeft=Math.max(0,we);Ue.scrollTop=Math.max(0,Le)}},{resetAfterColumnIndex:Ae,resetAfterRowIndex:Re,resetAfter:pe}=w.proxy;y({windowRef:E,innerRef:k,getItemStyleCache:N,scrollTo:fe,scrollToItem:ue,states:C,resetAfterColumnIndex:Ae,resetAfterRowIndex:Re,resetAfter:pe});const ne=()=>{const{scrollbarAlwaysOn:Ee,scrollbarStartGap:we,scrollbarEndGap:Le,totalColumn:Be,totalRow:Ue}=g,je=m(W),at=m(D),Ie=m(z),Ze=m(R),{scrollLeft:mt,scrollTop:Pt}=m(C),Vt=_t(ey,{ref:T,alwaysOn:Ee,startGap:we,endGap:Le,class:b.e("horizontal"),clientSize:je,layout:"horizontal",onScroll:te,ratio:je*100/Ie,scrollFrom:mt/(Ie-je),total:Ue,visible:!0}),Ht=_t(ey,{ref:I,alwaysOn:Ee,startGap:we,endGap:Le,class:b.e("vertical"),clientSize:at,layout:"vertical",onScroll:se,ratio:at*100/Ze,scrollFrom:Pt/(Ze-at),total:Be,visible:!0});return{horizontalScrollbar:Vt,verticalScrollbar:Ht}},le=()=>{var Ee;const[we,Le]=m(H),[Be,Ue]=m(V),{data:je,totalColumn:at,totalRow:Ie,useIsScrolling:Ze,itemKey:mt}=g,Pt=[];if(Ie>0&&at>0)for(let Vt=Be;Vt<=Ue;Vt++)for(let Ht=we;Ht<=Le;Ht++){const Jt=mt({columnIndex:Ht,data:je,rowIndex:Vt});Pt.push(_t(tt,{key:Jt},(Ee=_.default)==null?void 0:Ee.call(_,{columnIndex:Ht,data:je,isScrolling:Ze?m(C).isScrolling:void 0,style:J(Vt,Ht),rowIndex:Vt})))}return Pt},Se=()=>{const Ee=Wt(g.innerElement),we=le();return[_t(Ee,{style:m(B),ref:k},ht(Ee)?we:{default:()=>we})]};return()=>{const Ee=Wt(g.containerElement),{horizontalScrollbar:we,verticalScrollbar:Le}=ne(),Be=Se();return _t("div",{key:0,class:b.e("wrapper"),role:g.role},[_t(Ee,{class:g.className,style:m(M),onScroll:X,ref:E},ht(Ee)?Be:{default:()=>Be}),we,Le])}}}),{max:Hp,min:VL,floor:UL}=Math,Xte={column:"columnWidth",row:"rowHeight"},fy={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},Ai=(t,e,n,r)=>{const[s,o,i]=[n[r],t[Xte[r]],n[fy[r]]];if(e>i){let a=0;if(i>=0){const u=s[i];a=u.offset+u.size}for(let u=i+1;u<=e;u++){const l=o(u);s[u]={offset:a,size:l},a+=l}n[fy[r]]=e}return s[e]},HL=(t,e,n,r,s,o)=>{for(;n<=r;){const i=n+UL((r-n)/2),a=Ai(t,i,e,o).offset;if(a===s)return i;a<s?n=i+1:r=i-1}return Hp(0,n-1)},Qte=(t,e,n,r,s)=>{const o=s==="column"?t.totalColumn:t.totalRow;let i=1;for(;n<o&&Ai(t,n,e,s).offset<r;)n+=i,i*=2;return HL(t,e,UL(n/2),VL(n,o-1),r,s)},Ox=(t,e,n,r)=>{const[s,o]=[e[r],e[fy[r]]];return(o>0?s[o].offset:0)>=n?HL(t,e,0,o,n,r):Qte(t,e,Hp(0,o),n,r)},jL=({totalRow:t},{estimatedRowHeight:e,lastVisitedRowIndex:n,row:r})=>{let s=0;if(n>=t&&(n=t-1),n>=0){const a=r[n];s=a.offset+a.size}const i=(t-n-1)*e;return s+i},KL=({totalColumn:t},{column:e,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let s=0;if(r>t&&(r=t-1),r>=0){const a=e[r];s=a.offset+a.size}const i=(t-r-1)*n;return s+i},Zte={column:KL,row:jL},Mx=(t,e,n,r,s,o,i)=>{const[a,u]=[o==="row"?t.height:t.width,Zte[o]],l=Ai(t,e,s,o),c=u(t,s),d=Hp(0,VL(c-a,l.offset)),f=Hp(0,l.offset-a+i+l.size);switch(n===Xm&&(r>=f-a&&r<=d+a?n=eo:n=Qo),n){case Pd:return d;case Dd:return f;case Qo:return Math.round(f+(d-f)/2);case eo:default:return r>=f&&r<=d?r:f>d||r<f?f:d}},Jte=BL({name:"ElDynamicSizeGrid",getColumnPosition:(t,e,n)=>{const r=Ai(t,e,n,"column");return[r.size,r.offset]},getRowPosition:(t,e,n)=>{const r=Ai(t,e,n,"row");return[r.size,r.offset]},getColumnOffset:(t,e,n,r,s,o)=>Mx(t,e,n,r,s,"column",o),getRowOffset:(t,e,n,r,s,o)=>Mx(t,e,n,r,s,"row",o),getColumnStartIndexForOffset:(t,e,n)=>Ox(t,n,e,"column"),getColumnStopIndexForStartIndex:(t,e,n,r)=>{const s=Ai(t,e,r,"column"),o=n+t.width;let i=s.offset+s.size,a=e;for(;a<t.totalColumn-1&&i<o;)a++,i+=Ai(t,e,r,"column").size;return a},getEstimatedTotalHeight:jL,getEstimatedTotalWidth:KL,getRowStartIndexForOffset:(t,e,n)=>Ox(t,n,e,"row"),getRowStopIndexForStartIndex:(t,e,n,r)=>{const{totalRow:s,height:o}=t,i=Ai(t,e,r,"row"),a=n+o;let u=i.size+i.offset,l=e;for(;l<s-1&&u<a;)l++,u+=Ai(t,l,r,"row").size;return l},injectToInstance:(t,e)=>{const n=({columnIndex:o,rowIndex:i},a)=>{var u,l;a=ln(a)?!0:a,bt(o)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,o-1)),bt(i)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,i-1)),(u=t.exposed)==null||u.getItemStyleCache.value(-1,null,null),a&&((l=t.proxy)==null||l.$forceUpdate())},r=(o,i)=>{n({columnIndex:o},i)},s=(o,i)=>{n({rowIndex:o},i)};Object.assign(t.proxy,{resetAfterColumnIndex:r,resetAfterRowIndex:s,resetAfter:n})},initCache:({estimatedColumnWidth:t=q0,estimatedRowHeight:e=q0})=>({column:{},estimatedColumnWidth:t,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:t,rowHeight:e})=>{}}),ene=BL({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:t},e)=>[t,e*t],getRowPosition:({rowHeight:t},e)=>[t,e*t],getEstimatedTotalHeight:({totalRow:t,rowHeight:e})=>e*t,getEstimatedTotalWidth:({totalColumn:t,columnWidth:e})=>e*t,getColumnOffset:({totalColumn:t,columnWidth:e,width:n},r,s,o,i,a)=>{n=Number(n);const u=Math.max(0,t*e-n),l=Math.min(u,r*e),c=Math.max(0,r*e-n+a+e);switch(s==="smart"&&(o>=c-n&&o<=l+n?s=eo:s=Qo),s){case Pd:return l;case Dd:return c;case Qo:{const d=Math.round(c+(l-c)/2);return d<Math.ceil(n/2)?0:d>u+Math.floor(n/2)?u:d}case eo:default:return o>=c&&o<=l?o:c>l||o<c?c:l}},getRowOffset:({rowHeight:t,height:e,totalRow:n},r,s,o,i,a)=>{e=Number(e);const u=Math.max(0,n*t-e),l=Math.min(u,r*t),c=Math.max(0,r*t-e+a+t);switch(s===Xm&&(o>=c-e&&o<=l+e?s=eo:s=Qo),s){case Pd:return l;case Dd:return c;case Qo:{const d=Math.round(c+(l-c)/2);return d<Math.ceil(e/2)?0:d>u+Math.floor(e/2)?u:d}case eo:default:return o>=c&&o<=l?o:c>l||o<c?c:l}},getColumnStartIndexForOffset:({columnWidth:t,totalColumn:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getColumnStopIndexForStartIndex:({columnWidth:t,totalColumn:e,width:n},r,s)=>{const o=r*t,i=Math.ceil((n+s-o)/t);return Math.max(0,Math.min(e-1,r+i-1))},getRowStartIndexForOffset:({rowHeight:t,totalRow:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getRowStopIndexForStartIndex:({rowHeight:t,totalRow:e,height:n},r,s)=>{const o=r*t,i=Math.ceil((n+s-o)/t);return Math.max(0,Math.min(e-1,r+i-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:t,rowHeight:e})=>{}}),tne="ElTableV2Grid",nne=t=>{const e=q(),n=q(),r=q(0),s=P(()=>{const{data:v,rowHeight:y,estimatedRowHeight:_}=t;if(!_)return v.length*y}),o=P(()=>{const{fixedData:v,rowHeight:y}=t;return((v==null?void 0:v.length)||0)*y}),i=P(()=>qh(t.headerHeight)),a=P(()=>{const{height:v}=t;return Math.max(0,v-m(i)-m(o))}),u=P(()=>m(i)+m(o)>0),l=({data:v,rowIndex:y})=>v[y][t.rowKey];function c({rowCacheStart:v,rowCacheEnd:y,rowVisibleStart:_,rowVisibleEnd:b}){var w;(w=t.onRowsRendered)==null||w.call(t,{rowCacheStart:v,rowCacheEnd:y,rowVisibleStart:_,rowVisibleEnd:b})}function d(v,y){var _;(_=n.value)==null||_.resetAfterRowIndex(v,y)}function f(v,y){const _=m(e),b=m(n);Kt(v)?(_==null||_.scrollToLeft(v.scrollLeft),r.value=v.scrollLeft,b==null||b.scrollTo(v)):(_==null||_.scrollToLeft(v),r.value=v,b==null||b.scrollTo({scrollLeft:v,scrollTop:y}))}function h(v){var y;(y=m(n))==null||y.scrollTo({scrollTop:v})}function p(v,y){var _;(_=m(n))==null||_.scrollToItem(v,1,y)}function g(){var v,y;(v=m(n))==null||v.$forceUpdate(),(y=m(e))==null||y.$forceUpdate()}return Pe(()=>t.bodyWidth,()=>{var v;bt(t.estimatedRowHeight)&&((v=n.value)==null||v.resetAfter({columnIndex:0},!1))}),{bodyRef:n,forceUpdate:g,fixedRowHeight:o,gridHeight:a,hasHeader:u,headerHeight:i,headerRef:e,totalHeight:s,itemKey:l,onItemRendered:c,resetAfterRowIndex:d,scrollTo:f,scrollToTop:h,scrollToRow:p,scrollLeft:r}},rne=ee({name:tne,props:Yh,setup(t,{slots:e,expose:n}){const{ns:r}=rt(rw),{bodyRef:s,fixedRowHeight:o,gridHeight:i,hasHeader:a,headerRef:u,headerHeight:l,totalHeight:c,forceUpdate:d,itemKey:f,onItemRendered:h,resetAfterRowIndex:p,scrollTo:g,scrollToTop:v,scrollToRow:y,scrollLeft:_}=nne(t);Qt("tableV2GridScrollLeft",_),n({forceUpdate:d,totalHeight:c,scrollTo:g,scrollToTop:v,scrollToRow:y,resetAfterRowIndex:p});const b=()=>t.bodyWidth;return()=>{const{cache:w,columns:S,data:E,fixedData:T,useIsScrolling:I,scrollbarAlwaysOn:k,scrollbarEndGap:C,scrollbarStartGap:N,style:D,rowHeight:W,bodyWidth:H,estimatedRowHeight:V,headerWidth:R,height:z,width:M,getRowHeight:B,onScroll:j}=t,X=bt(V),se=X?Jte:ene,te=m(l);return A("div",{role:"table",class:[r.e("table"),t.class],style:D},[A(se,{ref:s,data:E,useIsScrolling:I,itemKey:f,columnCache:0,columnWidth:X?b:H,totalColumn:1,totalRow:E.length,rowCache:w,rowHeight:X?B:W,width:M,height:m(i),class:r.e("body"),role:"rowgroup",scrollbarStartGap:N,scrollbarEndGap:C,scrollbarAlwaysOn:k,onScroll:j,onItemRendered:h,perfMode:!1},{default:ie=>{var fe;const ue=E[ie.rowIndex];return(fe=e.row)==null?void 0:fe.call(e,{...ie,columns:S,rowData:ue})}}),m(a)&&A(qte,{ref:u,class:r.e("header-wrapper"),columns:S,headerData:E,headerHeight:t.headerHeight,fixedHeaderData:T,rowWidth:R,rowHeight:W,width:M,height:Math.min(te+m(o),z)},{dynamic:e.header,fixed:e.row})])}}});var iw=rne;function sne(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Mn(t)}const one=(t,{slots:e})=>{const{mainTableRef:n,...r}=t;return A(iw,Xt({ref:n},r),sne(e)?e:{default:()=>[e]})};var ine=one;function ane(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Mn(t)}const lne=(t,{slots:e})=>{if(!t.columns.length)return;const{leftTableRef:n,...r}=t;return A(iw,Xt({ref:n},r),ane(e)?e:{default:()=>[e]})};var une=lne;function cne(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Mn(t)}const dne=(t,{slots:e})=>{if(!t.columns.length)return;const{rightTableRef:n,...r}=t;return A(iw,Xt({ref:n},r),cne(e)?e:{default:()=>[e]})};var fne=dne;const hne=t=>{const{isScrolling:e}=rt(rw),n=q(!1),r=q(),s=P(()=>bt(t.estimatedRowHeight)&&t.rowIndex>=0),o=(u=!1)=>{const l=m(r);if(!l)return;const{columns:c,onRowHeightChange:d,rowKey:f,rowIndex:h,style:p}=t,{height:g}=l.getBoundingClientRect();n.value=!0,pt(()=>{if(u||g!==Number.parseInt(p.height)){const v=c[0],y=(v==null?void 0:v.placeholderSign)===Bd;d==null||d({rowKey:f,height:g,rowIndex:h},v&&!y&&v.fixed)}})},i=P(()=>{const{rowData:u,rowIndex:l,rowKey:c,onRowHover:d}=t,f=t.rowEventHandlers||{},h={};return Object.entries(f).forEach(([p,g])=>{vt(g)&&(h[p]=v=>{g({event:v,rowData:u,rowIndex:l,rowKey:c})})}),d&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:p,hovered:g})=>{const v=h[p];h[p]=y=>{d({event:y,hovered:g,rowData:u,rowIndex:l,rowKey:c}),v==null||v(y)}}),h}),a=u=>{const{onRowExpand:l,rowData:c,rowIndex:d,rowKey:f}=t;l==null||l({expanded:u,rowData:c,rowIndex:d,rowKey:f})};return xt(()=>{m(s)&&o(!0)}),{isScrolling:e,measurable:s,measured:n,rowRef:r,eventHandlers:i,onExpand:a}},pne="ElTableV2TableRow",mne=ee({name:pne,props:cl,setup(t,{expose:e,slots:n,attrs:r}){const{eventHandlers:s,isScrolling:o,measurable:i,measured:a,rowRef:u,onExpand:l}=hne(t);return e({onExpand:l}),()=>{const{columns:c,columnsStyles:d,expandColumnKey:f,depth:h,rowData:p,rowIndex:g,style:v}=t;let y=c.map((_,b)=>{const w=Ke(p.children)&&p.children.length>0&&_.key===f;return n.cell({column:_,columns:c,columnIndex:b,depth:h,style:d[_.key],rowData:p,rowIndex:g,isScrolling:m(o),expandIconProps:w?{rowData:p,rowIndex:g,onExpand:l}:void 0})});if(n.row&&(y=n.row({cells:y.map(_=>Ke(_)&&_.length===1?_[0]:_),style:v,columns:c,depth:h,rowData:p,rowIndex:g,isScrolling:m(o)})),m(i)){const{height:_,...b}=v||{},w=m(a);return A("div",Xt({ref:u,class:t.class,style:w?v:b,role:"row"},r,m(s)),[y])}return A("div",Xt(r,{ref:u,class:t.class,style:v,role:"row"},m(s)),[y])}}});var gne=mne;function vne(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Mn(t)}const yne=(t,{slots:e})=>{const{columns:n,columnsStyles:r,depthMap:s,expandColumnKey:o,expandedRowKeys:i,estimatedRowHeight:a,hasFixedColumns:u,rowData:l,rowIndex:c,style:d,isScrolling:f,rowProps:h,rowClass:p,rowKey:g,rowEventHandlers:v,ns:y,onRowHovered:_,onRowExpanded:b}=t,w=Cl(p,{columns:n,rowData:l,rowIndex:c},""),S=Cl(h,{columns:n,rowData:l,rowIndex:c}),E=l[g],T=s[E]||0,I=!!o,k=c<0,C=[y.e("row"),w,{[y.e(`row-depth-${T}`)]:I&&c>=0,[y.is("expanded")]:I&&i.includes(E),[y.is("fixed")]:!T&&k,[y.is("customized")]:!!e.row}],N=u?_:void 0,D={...S,columns:n,columnsStyles:r,class:C,depth:T,expandColumnKey:o,estimatedRowHeight:k?void 0:a,isScrolling:f,rowIndex:c,rowData:l,rowKey:E,rowEventHandlers:v,style:d};return A(gne,Xt(D,{onRowExpand:b,onMouseenter:V=>{N==null||N({hovered:!0,rowKey:E,event:V,rowData:l,rowIndex:c})},onMouseleave:V=>{N==null||N({hovered:!1,rowKey:E,event:V,rowData:l,rowIndex:c})},rowkey:E}),vne(e)?e:{default:()=>[e]})};var bne=yne;const aw=(t,{slots:e})=>{var n;const{cellData:r,style:s}=t,o=((n=r==null?void 0:r.toString)==null?void 0:n.call(r))||"",i=ve(e,"default",t,()=>[o]);return A("div",{class:t.class,title:o,style:s},[i])};aw.displayName="ElTableV2Cell";aw.inheritAttrs=!1;var wne=aw;const _ne=t=>{const{expanded:e,expandable:n,onExpand:r,style:s,size:o}=t,i={onClick:n?()=>r(!e):void 0,class:t.class};return A(lt,Xt(i,{size:o,style:s}),{default:()=>[A(ps,null,null)]})};var Sne=_ne;const zL=({columns:t,column:e,columnIndex:n,depth:r,expandIconProps:s,isScrolling:o,rowData:i,rowIndex:a,style:u,expandedRowKeys:l,ns:c,cellProps:d,expandColumnKey:f,indentSize:h,iconSize:p,rowKey:g},{slots:v})=>{const y=Ta(u);if(e.placeholderSign===Bd)return A("div",{class:c.em("row-cell","placeholder"),style:y},null);const{cellRenderer:_,dataKey:b,dataGetter:w}=e,S=vt(w)?w({columns:t,column:e,columnIndex:n,rowData:i,rowIndex:a}):or(i,b??""),E=Cl(d,{cellData:S,columns:t,column:e,columnIndex:n,rowIndex:a,rowData:i}),T={class:c.e("cell-text"),columns:t,column:e,columnIndex:n,cellData:S,isScrolling:o,rowData:i,rowIndex:a},I=OL(_),k=I?I(T):ve(v,"default",T,()=>[A(wne,T,null)]),C=[c.e("row-cell"),e.class,e.align===Fd.CENTER&&c.is("align-center"),e.align===Fd.RIGHT&&c.is("align-right")],N=a>=0&&f&&e.key===f,D=a>=0&&l.includes(i[g]);let W;const H=`margin-inline-start: ${r*h}px;`;return N&&(Kt(s)?W=A(Sne,Xt(s,{class:[c.e("expand-icon"),c.is("expanded",D)],size:p,expanded:D,style:H,expandable:!0}),null):W=A("div",{style:[H,`width: ${p}px; height: ${p}px;`].join(" ")},null)),A("div",Xt({class:C,style:y},E,{role:"cell"}),[W,k])};zL.inheritAttrs=!1;var Nx=zL;const Ene=qe({class:String,columns:Sf,columnsStyles:{type:me(Object),required:!0},headerIndex:Number,style:{type:me(Object)}}),xne=ee({name:"ElTableV2HeaderRow",props:Ene,setup(t,{slots:e}){return()=>{const{columns:n,columnsStyles:r,headerIndex:s,style:o}=t;let i=n.map((a,u)=>e.cell({columns:n,column:a,columnIndex:u,headerIndex:s,style:r[a.key]}));return e.header&&(i=e.header({cells:i.map(a=>Ke(a)&&a.length===1?a[0]:a),columns:n,headerIndex:s})),A("div",{class:t.class,style:o,role:"row"},[i])}}});var Tne=xne;function Cne(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Mn(t)}const kne=({columns:t,columnsStyles:e,headerIndex:n,style:r,headerClass:s,headerProps:o,ns:i},{slots:a})=>{const u={columns:t,headerIndex:n},l=[i.e("header-row"),Cl(s,u,""),{[i.is("customized")]:!!a.header}],c={...Cl(o,u),columnsStyles:e,class:l,columns:t,headerIndex:n,style:r};return A(Tne,c,Cne(a)?a:{default:()=>[a]})};var Ine=kne;const lw=(t,{slots:e})=>ve(e,"default",t,()=>{var n,r;return[A("div",{class:t.class,title:(n=t.column)==null?void 0:n.title},[(r=t.column)==null?void 0:r.title])]});lw.displayName="ElTableV2HeaderCell";lw.inheritAttrs=!1;var Ane=lw;const Rne=t=>{const{sortOrder:e}=t;return A(lt,{size:14,class:t.class},{default:()=>[e===Nd.ASC?A(L9,null,null):A(A9,null,null)]})};var Lne=Rne;const $ne=(t,{slots:e})=>{const{column:n,ns:r,style:s,onColumnSorted:o}=t,i=Ta(s);if(n.placeholderSign===Bd)return A("div",{class:r.em("header-row-cell","placeholder"),style:i},null);const{headerCellRenderer:a,headerClass:u,sortable:l}=n,c={...t,class:r.e("header-cell-text")},d=OL(a),f=d?d(c):ve(e,"default",c,()=>[A(Ane,c,null)]),{sortBy:h,sortState:p,headerCellProps:g}=t;let v,y;if(p){const w=p[n.key];v=!!dy[w],y=v?w:Nd.ASC}else v=n.key===h.key,y=v?h.order:Nd.ASC;const _=[r.e("header-cell"),Cl(u,t,""),n.align===Fd.CENTER&&r.is("align-center"),n.align===Fd.RIGHT&&r.is("align-right"),l&&r.is("sortable")],b={...Cl(g,t),onClick:n.sortable?o:void 0,class:_,style:i,"data-key":n.key};return A("div",Xt(b,{role:"columnheader"}),[f,l&&A(Lne,{class:[r.e("sort-icon"),v&&r.is("sorting")],sortOrder:y},null)])};var Fx=$ne;const WL=(t,{slots:e})=>{var n;return A("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};WL.displayName="ElTableV2Footer";var Pne=WL;const GL=(t,{slots:e})=>{const n=ve(e,"default",{},()=>[A(cc,null,null)]);return A("div",{class:t.class,style:t.style},[n])};GL.displayName="ElTableV2Empty";var Dne=GL;const qL=(t,{slots:e})=>{var n;return A("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};qL.displayName="ElTableV2Overlay";var One=qL;function Dc(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Mn(t)}const Mne="ElTableV2",Nne=ee({name:Mne,props:zte,setup(t,{slots:e,expose:n}){const r=Ne("table-v2"),{columnsStyles:s,fixedColumnsOnLeft:o,fixedColumnsOnRight:i,mainColumns:a,mainTableHeight:u,fixedTableHeight:l,leftTableWidth:c,rightTableWidth:d,data:f,depthMap:h,expandedRowKeys:p,hasFixedColumns:g,mainTableRef:v,leftTableRef:y,rightTableRef:_,isDynamic:b,isResetting:w,isScrolling:S,bodyWidth:E,emptyStyle:T,rootStyle:I,headerWidth:k,footerHeight:C,showEmpty:N,scrollTo:D,scrollToLeft:W,scrollToTop:H,scrollToRow:V,getRowHeight:R,onColumnSorted:z,onRowHeightChange:M,onRowHovered:B,onRowExpanded:j,onRowsRendered:X,onScroll:se,onVerticalScroll:te}=jte(t);return n({scrollTo:D,scrollToLeft:W,scrollToTop:H,scrollToRow:V}),Qt(rw,{ns:r,isResetting:w,isScrolling:S}),()=>{const{cache:ie,cellProps:fe,estimatedRowHeight:ue,expandColumnKey:J,fixedData:de,headerHeight:ae,headerClass:Ae,headerProps:Re,headerCellProps:pe,sortBy:ne,sortState:le,rowHeight:Se,rowClass:Ce,rowEventHandlers:Ee,rowKey:we,rowProps:Le,scrollbarAlwaysOn:Be,indentSize:Ue,iconSize:je,useIsScrolling:at,vScrollbarSize:Ie,width:Ze}=t,mt=m(f),Pt={cache:ie,class:r.e("main"),columns:m(a),data:mt,fixedData:de,estimatedRowHeight:ue,bodyWidth:m(E)+Ie,headerHeight:ae,headerWidth:m(k),height:m(u),mainTableRef:v,rowKey:we,rowHeight:Se,scrollbarAlwaysOn:Be,scrollbarStartGap:2,scrollbarEndGap:Ie,useIsScrolling:at,width:Ze,getRowHeight:R,onRowsRendered:X,onScroll:se},Vt=m(c),Ht=m(l),Jt={cache:ie,class:r.e("left"),columns:m(o),data:mt,fixedData:de,estimatedRowHeight:ue,leftTableRef:y,rowHeight:Se,bodyWidth:Vt,headerWidth:Vt,headerHeight:ae,height:Ht,rowKey:we,scrollbarAlwaysOn:Be,scrollbarStartGap:2,scrollbarEndGap:Ie,useIsScrolling:at,width:Vt,getRowHeight:R,onScroll:te},wt=m(d)+Ie,Mt={cache:ie,class:r.e("right"),columns:m(i),data:mt,fixedData:de,estimatedRowHeight:ue,rightTableRef:_,rowHeight:Se,bodyWidth:wt,headerWidth:wt,headerHeight:ae,height:Ht,rowKey:we,scrollbarAlwaysOn:Be,scrollbarStartGap:2,scrollbarEndGap:Ie,width:wt,style:`--${m(r.namespace)}-table-scrollbar-size: ${Ie}px`,useIsScrolling:at,getRowHeight:R,onScroll:te},he=m(s),_e={ns:r,depthMap:m(h),columnsStyles:he,expandColumnKey:J,expandedRowKeys:m(p),estimatedRowHeight:ue,hasFixedColumns:m(g),rowProps:Le,rowClass:Ce,rowKey:we,rowEventHandlers:Ee,onRowHovered:B,onRowExpanded:j,onRowHeightChange:M},re={cellProps:fe,expandColumnKey:J,indentSize:Ue,iconSize:je,rowKey:we,expandedRowKeys:m(p),ns:r},$e={ns:r,headerClass:Ae,headerProps:Re,columnsStyles:he},Et={ns:r,sortBy:ne,sortState:le,headerCellProps:pe,onColumnSorted:z},Rt={row:sr=>A(bne,Xt(sr,_e),{row:e.row,cell:lr=>{let zn;return e.cell?A(Nx,Xt(lr,re,{style:he[lr.column.key]}),Dc(zn=e.cell(lr))?zn:{default:()=>[zn]}):A(Nx,Xt(lr,re,{style:he[lr.column.key]}),null)}}),header:sr=>A(Ine,Xt(sr,$e),{header:e.header,cell:lr=>{let zn;return e["header-cell"]?A(Fx,Xt(lr,Et,{style:he[lr.column.key]}),Dc(zn=e["header-cell"](lr))?zn:{default:()=>[zn]}):A(Fx,Xt(lr,Et,{style:he[lr.column.key]}),null)}})},ft=[t.class,r.b(),r.e("root"),{[r.is("dynamic")]:m(b)}],sn={class:r.e("footer"),style:m(C)};return A("div",{class:ft,style:m(I)},[A(ine,Pt,Dc(Rt)?Rt:{default:()=>[Rt]}),A(une,Jt,Dc(Rt)?Rt:{default:()=>[Rt]}),A(fne,Mt,Dc(Rt)?Rt:{default:()=>[Rt]}),e.footer&&A(Pne,sn,{default:e.footer}),m(N)&&A(Dne,{class:r.e("empty"),style:m(T)},{default:e.empty}),e.overlay&&A(One,{class:r.e("overlay")},{default:e.overlay})])}}});var Fne=Nne;const Bne=qe({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:me(Function)}}),Vne=t=>{const e=q(),n=q(0),r=q(0);let s;return xt(()=>{s=qn(e,([o])=>{const{width:i,height:a}=o.contentRect,{paddingLeft:u,paddingRight:l,paddingTop:c,paddingBottom:d}=getComputedStyle(o.target),f=Number.parseInt(u)||0,h=Number.parseInt(l)||0,p=Number.parseInt(c)||0,g=Number.parseInt(d)||0;n.value=i-f-h,r.value=a-p-g}).stop}),In(()=>{s==null||s()}),Pe([n,r],([o,i])=>{var a;(a=t.onResize)==null||a.call(t,{width:o,height:i})}),{sizer:e,width:n,height:r}},Une=ee({name:"ElAutoResizer",props:Bne,setup(t,{slots:e}){const n=Ne("auto-resizer"),{height:r,width:s,sizer:o}=Vne(t),i={width:"100%",height:"100%"};return()=>{var a;return A("div",{ref:o,class:n.b(),style:i},[(a=e.default)==null?void 0:a.call(e,{height:r.value,width:s.value})])}}});var Hne=Une;const jne=Bt(Fne),Kne=Bt(Hne),Qm=Symbol("tabsRootContextKey"),zne=qe({tabs:{type:me(Array),default:()=>Yn([])}}),YL="ElTabBar",Wne=ee({name:YL}),Gne=ee({...Wne,props:zne,setup(t,{expose:e}){const n=t,r=Gt(),s=rt(Qm);s||hr(YL,"<el-tabs><el-tab-bar /></el-tabs>");const o=Ne("tabs"),i=q(),a=q(),u=()=>{let h=0,p=0;const g=["top","bottom"].includes(s.props.tabPosition)?"width":"height",v=g==="width"?"x":"y",y=v==="x"?"left":"top";return n.tabs.every(_=>{var b,w;const S=(w=(b=r.parent)==null?void 0:b.refs)==null?void 0:w[`tab-${_.uid}`];if(!S)return!1;if(!_.active)return!0;h=S[`offset${Xo(y)}`],p=S[`client${Xo(g)}`];const E=window.getComputedStyle(S);return g==="width"&&(p-=Number.parseFloat(E.paddingLeft)+Number.parseFloat(E.paddingRight),h+=Number.parseFloat(E.paddingLeft)),!1}),{[g]:`${p}px`,transform:`translate${Xo(v)}(${h}px)`}},l=()=>a.value=u(),c=[],d=()=>{var h;c.forEach(g=>g.stop()),c.length=0;const p=(h=r.parent)==null?void 0:h.refs;if(p){for(const g in p)if(g.startsWith("tab-")){const v=p[g];v&&c.push(qn(v,l))}}};Pe(()=>n.tabs,async()=>{await pt(),l(),d()},{immediate:!0});const f=qn(i,()=>l());return In(()=>{c.forEach(h=>h.stop()),c.length=0,f.stop()}),e({ref:i,update:l}),(h,p)=>(L(),G("div",{ref_key:"barRef",ref:i,class:U([m(o).e("active-bar"),m(o).is(m(s).props.tabPosition)]),style:dt(a.value)},null,6))}});var qne=Ye(Gne,[["__file","tab-bar.vue"]]);const Yne=qe({panes:{type:me(Array),default:()=>Yn([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Xne={tabClick:(t,e,n)=>n instanceof Event,tabRemove:(t,e)=>e instanceof Event},Bx="ElTabNav",Qne=ee({name:Bx,props:Yne,emits:Xne,setup(t,{expose:e,emit:n}){const r=rt(Qm);r||hr(Bx,"<el-tabs><tab-nav /></el-tabs>");const s=Ne("tabs"),o=kB(),i=BB(),a=q(),u=q(),l=q(),c=q(),d=q(!1),f=q(0),h=q(!1),p=q(!0),g=P(()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height"),v=P(()=>({transform:`translate${g.value==="width"?"X":"Y"}(-${f.value}px)`})),y=()=>{if(!a.value)return;const I=a.value[`offset${Xo(g.value)}`],k=f.value;if(!k)return;const C=k>I?k-I:0;f.value=C},_=()=>{if(!a.value||!u.value)return;const I=u.value[`offset${Xo(g.value)}`],k=a.value[`offset${Xo(g.value)}`],C=f.value;if(I-C<=k)return;const N=I-C>k*2?C+k:I-k;f.value=N},b=async()=>{const I=u.value;if(!d.value||!l.value||!a.value||!I)return;await pt();const k=l.value.querySelector(".is-active");if(!k)return;const C=a.value,N=["top","bottom"].includes(r.props.tabPosition),D=k.getBoundingClientRect(),W=C.getBoundingClientRect(),H=N?I.offsetWidth-W.width:I.offsetHeight-W.height,V=f.value;let R=V;N?(D.left<W.left&&(R=V-(W.left-D.left)),D.right>W.right&&(R=V+D.right-W.right)):(D.top<W.top&&(R=V-(W.top-D.top)),D.bottom>W.bottom&&(R=V+(D.bottom-W.bottom))),R=Math.max(R,0),f.value=Math.min(R,H)},w=()=>{var I;if(!u.value||!a.value)return;t.stretch&&((I=c.value)==null||I.update());const k=u.value[`offset${Xo(g.value)}`],C=a.value[`offset${Xo(g.value)}`],N=f.value;C<k?(d.value=d.value||{},d.value.prev=N,d.value.next=N+C<k,k-N<C&&(f.value=k-C)):(d.value=!1,N>0&&(f.value=0))},S=I=>{let k=0;switch(I.code){case ot.left:case ot.up:k=-1;break;case ot.right:case ot.down:k=1;break;default:return}const C=Array.from(I.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let D=C.indexOf(I.target)+k;D<0?D=C.length-1:D>=C.length&&(D=0),C[D].focus({preventScroll:!0}),C[D].click(),E()},E=()=>{p.value&&(h.value=!0)},T=()=>h.value=!1;return Pe(o,I=>{I==="hidden"?p.value=!1:I==="visible"&&setTimeout(()=>p.value=!0,50)}),Pe(i,I=>{I?setTimeout(()=>p.value=!0,50):p.value=!1}),qn(l,w),xt(()=>setTimeout(()=>b(),0)),$o(()=>w()),e({scrollToActiveTab:b,removeFocus:T}),()=>{const I=d.value?[A("span",{class:[s.e("nav-prev"),s.is("disabled",!d.value.prev)],onClick:y},[A(lt,null,{default:()=>[A(Pa,null,null)]})]),A("span",{class:[s.e("nav-next"),s.is("disabled",!d.value.next)],onClick:_},[A(lt,null,{default:()=>[A(ps,null,null)]})])]:null,k=t.panes.map((C,N)=>{var D,W,H,V;const R=C.uid,z=C.props.disabled,M=(W=(D=C.props.name)!=null?D:C.index)!=null?W:`${N}`,B=!z&&(C.isClosable||t.editable);C.index=`${N}`;const j=B?A(lt,{class:"is-icon-close",onClick:te=>n("tabRemove",C,te)},{default:()=>[A(io,null,null)]}):null,X=((V=(H=C.slots).label)==null?void 0:V.call(H))||C.props.label,se=!z&&C.active?0:-1;return A("div",{ref:`tab-${R}`,class:[s.e("item"),s.is(r.props.tabPosition),s.is("active",C.active),s.is("disabled",z),s.is("closable",B),s.is("focus",h.value)],id:`tab-${M}`,key:`tab-${R}`,"aria-controls":`pane-${M}`,role:"tab","aria-selected":C.active,tabindex:se,onFocus:()=>E(),onBlur:()=>T(),onClick:te=>{T(),n("tabClick",C,M,te)},onKeydown:te=>{B&&(te.code===ot.delete||te.code===ot.backspace)&&n("tabRemove",C,te)}},[X,j])});return A("div",{ref:l,class:[s.e("nav-wrap"),s.is("scrollable",!!d.value),s.is(r.props.tabPosition)]},[I,A("div",{class:s.e("nav-scroll"),ref:a},[A("div",{class:[s.e("nav"),s.is(r.props.tabPosition),s.is("stretch",t.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:u,style:v.value,role:"tablist",onKeydown:S},[t.type?null:A(qne,{ref:c,tabs:[...t.panes]},null),k])])])}}}),Zne=qe({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:me(Function),default:()=>!0},stretch:Boolean}),_v=t=>ht(t)||bt(t),Jne={[$t]:t=>_v(t),tabClick:(t,e)=>e instanceof Event,tabChange:t=>_v(t),edit:(t,e)=>["remove","add"].includes(e),tabRemove:t=>_v(t),tabAdd:()=>!0},ere=ee({name:"ElTabs",props:Zne,emits:Jne,setup(t,{emit:e,slots:n,expose:r}){var s;const o=Ne("tabs"),i=P(()=>["left","right"].includes(t.tabPosition)),{children:a,addChild:u,removeChild:l}=_1(Gt(),"ElTabPane"),c=q(),d=q((s=t.modelValue)!=null?s:"0"),f=async(y,_=!1)=>{var b,w;if(!(d.value===y||ln(y)))try{let S;if(t.beforeLeave){const E=t.beforeLeave(y,d.value);S=E instanceof Promise?await E:E}else S=!0;S!==!1&&(d.value=y,_&&(e($t,y),e("tabChange",y)),(w=(b=c.value)==null?void 0:b.removeFocus)==null||w.call(b))}catch{}},h=(y,_,b)=>{y.props.disabled||(e("tabClick",y,b),f(_,!0))},p=(y,_)=>{y.props.disabled||ln(y.props.name)||(_.stopPropagation(),e("edit",y.props.name,"remove"),e("tabRemove",y.props.name))},g=()=>{e("edit",void 0,"add"),e("tabAdd")};Pe(()=>t.modelValue,y=>f(y)),Pe(d,async()=>{var y;await pt(),(y=c.value)==null||y.scrollToActiveTab()}),Qt(Qm,{props:t,currentName:d,registerPane:y=>{a.value.push(y)},sortPane:u,unregisterPane:l}),r({currentName:d});const v=({render:y})=>y();return()=>{const y=n["add-icon"],_=t.editable||t.addable?A("div",{class:[o.e("new-tab"),i.value&&o.e("new-tab-vertical")],tabindex:"0",onClick:g,onKeydown:S=>{[ot.enter,ot.numpadEnter].includes(S.code)&&g()}},[y?ve(n,"add-icon"):A(lt,{class:o.is("icon-plus")},{default:()=>[A(Jb,null,null)]})]):null,b=A("div",{class:[o.e("header"),i.value&&o.e("header-vertical"),o.is(t.tabPosition)]},[A(v,{render:()=>{const S=a.value.some(E=>E.slots.label);return A(Qne,{ref:c,currentName:d.value,editable:t.editable,type:t.type,panes:a.value,stretch:t.stretch,onTabClick:h,onTabRemove:p},{$stable:!S})}},null),_]),w=A("div",{class:o.e("content")},[ve(n,"default")]);return A("div",{class:[o.b(),o.m(t.tabPosition),{[o.m("card")]:t.type==="card",[o.m("border-card")]:t.type==="border-card"}]},[w,b])}}});var tre=ere;const nre=qe({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),XL="ElTabPane",rre=ee({name:XL}),sre=ee({...rre,props:nre,setup(t){const e=t,n=Gt(),r=_r(),s=rt(Qm);s||hr(XL,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const o=Ne("tab-pane"),i=q(),a=P(()=>e.closable||s.props.closable),u=Cp(()=>{var h;return s.currentName.value===((h=e.name)!=null?h:i.value)}),l=q(u.value),c=P(()=>{var h;return(h=e.name)!=null?h:i.value}),d=Cp(()=>!e.lazy||l.value||u.value);Pe(u,h=>{h&&(l.value=!0)});const f=Ft({uid:n.uid,slots:r,props:e,paneName:c,active:u,index:i,isClosable:a});return s.registerPane(f),xt(()=>{s.sortPane(f)}),Ha(()=>{s.unregisterPane(f.uid)}),(h,p)=>m(d)?At((L(),G("div",{key:0,id:`pane-${m(c)}`,class:U(m(o).b()),role:"tabpanel","aria-hidden":!m(u),"aria-labelledby":`tab-${m(c)}`},[ve(h.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[nn,m(u)]]):ce("v-if",!0)}});var QL=Ye(sre,[["__file","tab-pane.vue"]]);const ore=Bt(tre,{TabPane:QL}),ire=Xn(QL),are=qe({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:di,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),lre=ee({name:"ElText"}),ure=ee({...lre,props:are,setup(t){const e=t,n=q(),r=fr(),s=Ne("text"),o=P(()=>[s.b(),s.m(e.type),s.m(r.value),s.is("truncated",e.truncated),s.is("line-clamp",!ln(e.lineClamp))]),i=Wi().title,a=()=>{var u,l,c,d,f;if(i)return;let h=!1;const p=((u=n.value)==null?void 0:u.textContent)||"";if(e.truncated){const g=(l=n.value)==null?void 0:l.offsetWidth,v=(c=n.value)==null?void 0:c.scrollWidth;g&&v&&v>g&&(h=!0)}else if(!ln(e.lineClamp)){const g=(d=n.value)==null?void 0:d.offsetHeight,v=(f=n.value)==null?void 0:f.scrollHeight;g&&v&&v>g&&(h=!0)}h?n.value.setAttribute("title",p):n.value.removeAttribute("title")};return xt(a),$o(a),(u,l)=>(L(),ye(Wt(u.tag),{ref_key:"textRef",ref:n,class:U(m(o)),style:dt({"-webkit-line-clamp":u.lineClamp})},{default:O(()=>[ve(u.$slots,"default")]),_:3},8,["class","style"]))}});var cre=Ye(ure,[["__file","text.vue"]]);const uw=Bt(cre),dre=qe({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:me(String),default:"light"},clearable:{type:Boolean,default:!0},size:pr,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,includeEndTime:{type:Boolean,default:!1},name:String,prefixIcon:{type:me([String,Object]),default:()=>Qb},clearIcon:{type:me([String,Object]),default:()=>Yi},...oc}),Di=t=>{const e=(t||"").split(":");if(e.length>=2){let n=Number.parseInt(e[0],10);const r=Number.parseInt(e[1],10),s=t.toUpperCase();return s.includes("AM")&&n===12?n=0:s.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:r}}return null},Sv=(t,e)=>{const n=Di(t);if(!n)return-1;const r=Di(e);if(!r)return-1;const s=n.minutes+n.hours*60,o=r.minutes+r.hours*60;return s===o?0:s>o?1:-1},Vx=t=>`${t}`.padStart(2,"0"),ru=t=>`${Vx(t.hours)}:${Vx(t.minutes)}`,fre=(t,e)=>{const n=Di(t);if(!n)return"";const r=Di(e);if(!r)return"";const s={hours:n.hours,minutes:n.minutes};return s.minutes+=r.minutes,s.hours+=r.hours,s.hours+=Math.floor(s.minutes/60),s.minutes=s.minutes%60,ru(s)},hre=ee({name:"ElTimeSelect"}),pre=ee({...hre,props:dre,emits:[Yt,"blur","focus","clear",$t],setup(t,{expose:e}){const n=t;Nt.extend(A1);const{Option:r}=fo,s=Ne("input"),o=q(),i=zr(),{lang:a}=un(),u=P(()=>n.modelValue),l=P(()=>{const y=Di(n.start);return y?ru(y):null}),c=P(()=>{const y=Di(n.end);return y?ru(y):null}),d=P(()=>{const y=Di(n.step);return y?ru(y):null}),f=P(()=>{const y=Di(n.minTime||"");return y?ru(y):null}),h=P(()=>{const y=Di(n.maxTime||"");return y?ru(y):null}),p=P(()=>{var y;const _=[],b=(w,S)=>{_.push({value:w,disabled:Sv(S,f.value||"-1:-1")<=0||Sv(S,h.value||"100:100")>=0})};if(n.start&&n.end&&n.step){let w=l.value,S;for(;w&&c.value&&Sv(w,c.value)<=0;)S=Nt(w,"HH:mm").locale(a.value).format(n.format),b(S,w),w=fre(w,d.value);if(n.includeEndTime&&c.value&&((y=_[_.length-1])==null?void 0:y.value)!==c.value){const E=Nt(c.value,"HH:mm").locale(a.value).format(n.format);b(E,c.value)}}return _});return e({blur:()=>{var y,_;(_=(y=o.value)==null?void 0:y.blur)==null||_.call(y)},focus:()=>{var y,_;(_=(y=o.value)==null?void 0:y.focus)==null||_.call(y)}}),(y,_)=>(L(),ye(m(fo),{ref_key:"select",ref:o,"model-value":m(u),disabled:m(i),clearable:y.clearable,"clear-icon":y.clearIcon,size:y.size,effect:y.effect,placeholder:y.placeholder,"default-first-option":"",filterable:y.editable,"empty-values":y.emptyValues,"value-on-clear":y.valueOnClear,"onUpdate:modelValue":b=>y.$emit(m($t),b),onChange:b=>y.$emit(m(Yt),b),onBlur:b=>y.$emit("blur",b),onFocus:b=>y.$emit("focus",b),onClear:()=>y.$emit("clear")},{prefix:O(()=>[y.prefixIcon?(L(),ye(m(lt),{key:0,class:U(m(s).e("prefix-icon"))},{default:O(()=>[(L(),ye(Wt(y.prefixIcon)))]),_:1},8,["class"])):ce("v-if",!0)]),default:O(()=>[(L(!0),G(tt,null,It(m(p),b=>(L(),ye(m(r),{key:b.value,label:b.value,value:b.value,disabled:b.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var mre=Ye(pre,[["__file","time-select.vue"]]);const gre=Bt(mre),vre=ee({name:"ElTimeline",setup(t,{slots:e}){const n=Ne("timeline");return Qt("timeline",e),()=>_t("ul",{class:[n.b()]},[ve(e,"default")])}}),yre=qe({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:_n},hollow:Boolean}),bre=ee({name:"ElTimelineItem"}),wre=ee({...bre,props:yre,setup(t){const e=t,n=Ne("timeline-item"),r=P(()=>[n.e("node"),n.em("node",e.size||""),n.em("node",e.type||""),n.is("hollow",e.hollow)]);return(s,o)=>(L(),G("li",{class:U([m(n).b(),{[m(n).e("center")]:s.center}])},[F("div",{class:U(m(n).e("tail"))},null,2),s.$slots.dot?ce("v-if",!0):(L(),G("div",{key:0,class:U(m(r)),style:dt({backgroundColor:s.color})},[s.icon?(L(),ye(m(lt),{key:0,class:U(m(n).e("icon"))},{default:O(()=>[(L(),ye(Wt(s.icon)))]),_:1},8,["class"])):ce("v-if",!0)],6)),s.$slots.dot?(L(),G("div",{key:1,class:U(m(n).e("dot"))},[ve(s.$slots,"dot")],2)):ce("v-if",!0),F("div",{class:U(m(n).e("wrapper"))},[!s.hideTimestamp&&s.placement==="top"?(L(),G("div",{key:0,class:U([m(n).e("timestamp"),m(n).is("top")])},ge(s.timestamp),3)):ce("v-if",!0),F("div",{class:U(m(n).e("content"))},[ve(s.$slots,"default")],2),!s.hideTimestamp&&s.placement==="bottom"?(L(),G("div",{key:1,class:U([m(n).e("timestamp"),m(n).is("bottom")])},ge(s.timestamp),3)):ce("v-if",!0)],2)],2))}});var ZL=Ye(wre,[["__file","timeline-item.vue"]]);const _re=Bt(vre,{TimelineItem:ZL}),Sre=Xn(ZL),JL=qe({nowrap:Boolean});var e$=(t=>(t.top="top",t.bottom="bottom",t.left="left",t.right="right",t))(e$||{});const Ere=Object.values(e$),cw=qe({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:me(Object),default:null}}),xre=qe({side:{type:me(String),values:Ere,required:!0}}),Tre=["absolute","fixed"],Cre=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],dw=qe({arrowPadding:{type:me(Number),default:5},effect:{type:me(String),default:"light"},contentClass:String,placement:{type:me(String),values:Cre,default:"bottom"},reference:{type:me(Object),default:null},offset:{type:Number,default:8},strategy:{type:me(String),values:Tre,default:"absolute"},showArrow:Boolean,...Vr(["ariaLabel"])}),fw=qe({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:me(Function)},"onUpdate:open":{type:me(Function)}}),ql={type:me(Function)},hw=qe({onBlur:ql,onClick:ql,onFocus:ql,onMouseDown:ql,onMouseEnter:ql,onMouseLeave:ql}),kre=qe({...fw,...cw,...hw,...dw,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:me(Object),default:null},teleported:Boolean,to:{type:me(String),default:"body"}}),Zm=Symbol("tooltipV2"),t$=Symbol("tooltipV2Content"),Ev="tooltip_v2.open",Ire=ee({name:"ElTooltipV2Root"}),Are=ee({...Ire,props:fw,setup(t,{expose:e}){const n=t,r=q(n.defaultOpen),s=q(null),o=P({get:()=>ro(n.open)?r.value:n.open,set:v=>{var y;r.value=v,(y=n["onUpdate:open"])==null||y.call(n,v)}}),i=P(()=>bt(n.delayDuration)&&n.delayDuration>0),{start:a,stop:u}=xl(()=>{o.value=!0},P(()=>n.delayDuration),{immediate:!1}),l=Ne("tooltip-v2"),c=Br(),d=()=>{u(),o.value=!0},f=()=>{m(i)?a():d()},h=d,p=()=>{u(),o.value=!1};return Pe(o,v=>{var y;v&&(document.dispatchEvent(new CustomEvent(Ev)),h()),(y=n.onOpenChange)==null||y.call(n,v)}),xt(()=>{document.addEventListener(Ev,p)}),In(()=>{u(),document.removeEventListener(Ev,p)}),Qt(Zm,{contentId:c,triggerRef:s,ns:l,onClose:p,onDelayOpen:f,onOpen:h}),e({onOpen:h,onClose:p}),(v,y)=>ve(v.$slots,"default",{open:m(o)})}});var Rre=Ye(Are,[["__file","root.vue"]]);const Lre=ee({name:"ElTooltipV2Arrow"}),$re=ee({...Lre,props:{...cw,...xre},setup(t){const e=t,{ns:n}=rt(Zm),{arrowRef:r}=rt(t$),s=P(()=>{const{style:o,width:i,height:a}=e,u=n.namespace.value;return{[`--${u}-tooltip-v2-arrow-width`]:`${i}px`,[`--${u}-tooltip-v2-arrow-height`]:`${a}px`,[`--${u}-tooltip-v2-arrow-border-width`]:`${i/2}px`,[`--${u}-tooltip-v2-arrow-cover-width`]:i/2-1,...o||{}}});return(o,i)=>(L(),G("span",{ref_key:"arrowRef",ref:r,style:dt(m(s)),class:U(m(n).e("arrow"))},null,6))}});var Ux=Ye($re,[["__file","arrow.vue"]]);const Hu=Math.min,vl=Math.max,jp=Math.round,mh=Math.floor,ni=t=>({x:t,y:t}),Pre={left:"right",right:"left",bottom:"top",top:"bottom"},Dre={start:"end",end:"start"};function hy(t,e,n){return vl(t,Hu(e,n))}function Ef(t,e){return typeof t=="function"?t(e):t}function kl(t){return t.split("-")[0]}function xf(t){return t.split("-")[1]}function n$(t){return t==="x"?"y":"x"}function pw(t){return t==="y"?"height":"width"}function yl(t){return["top","bottom"].includes(kl(t))?"y":"x"}function mw(t){return n$(yl(t))}function Ore(t,e,n){n===void 0&&(n=!1);const r=xf(t),s=mw(t),o=pw(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=Kp(i)),[i,Kp(i)]}function Mre(t){const e=Kp(t);return[py(t),e,py(e)]}function py(t){return t.replace(/start|end/g,e=>Dre[e])}function Nre(t,e,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?o:i;default:return[]}}function Fre(t,e,n,r){const s=xf(t);let o=Nre(kl(t),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(py)))),o}function Kp(t){return t.replace(/left|right|bottom|top/g,e=>Pre[e])}function Bre(t){return{top:0,right:0,bottom:0,left:0,...t}}function r$(t){return typeof t!="number"?Bre(t):{top:t,right:t,bottom:t,left:t}}function zp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Hx(t,e,n){let{reference:r,floating:s}=t;const o=yl(e),i=mw(e),a=pw(i),u=kl(e),l=o==="y",c=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let h;switch(u){case"top":h={x:c,y:r.y-s.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-s.width,y:d};break;default:h={x:r.x,y:r.y}}switch(xf(e)){case"start":h[i]-=f*(n&&l?-1:1);break;case"end":h[i]+=f*(n&&l?-1:1);break}return h}const Vre=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(e));let l=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:c,y:d}=Hx(l,r,u),f=r,h={},p=0;for(let g=0;g<a.length;g++){const{name:v,fn:y}=a[g],{x:_,y:b,data:w,reset:S}=await y({x:c,y:d,initialPlacement:r,placement:f,strategy:s,middlewareData:h,rects:l,platform:i,elements:{reference:t,floating:e}});c=_??c,d=b??d,h={...h,[v]:{...h[v],...w}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(l=S.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:c,y:d}=Hx(l,f,u)),g=-1)}return{x:c,y:d,placement:f,strategy:s,middlewareData:h}};async function gw(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:u}=t,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Ef(e,t),p=r$(h),v=a[f?d==="floating"?"reference":"floating":d],y=zp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:l,rootBoundary:c,strategy:u})),_=d==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),w=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},S=zp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:b,strategy:u}):_);return{top:(y.top-S.top+p.top)/w.y,bottom:(S.bottom-y.bottom+p.bottom)/w.y,left:(y.left-S.left+p.left)/w.x,right:(S.right-y.right+p.right)/w.x}}const Ure=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:u}=e,{element:l,padding:c=0}=Ef(t,e)||{};if(l==null)return{};const d=r$(c),f={x:n,y:r},h=mw(s),p=pw(h),g=await i.getDimensions(l),v=h==="y",y=v?"top":"left",_=v?"bottom":"right",b=v?"clientHeight":"clientWidth",w=o.reference[p]+o.reference[h]-f[h]-o.floating[p],S=f[h]-o.reference[h],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l));let T=E?E[b]:0;(!T||!await(i.isElement==null?void 0:i.isElement(E)))&&(T=a.floating[b]||o.floating[p]);const I=w/2-S/2,k=T/2-g[p]/2-1,C=Hu(d[y],k),N=Hu(d[_],k),D=C,W=T-g[p]-N,H=T/2-g[p]/2+I,V=hy(D,H,W),R=!u.arrow&&xf(s)!=null&&H!==V&&o.reference[p]/2-(H<D?C:N)-g[p]/2<0,z=R?H<D?H-D:H-W:0;return{[h]:f[h]+z,data:{[h]:V,centerOffset:H-V-z,...R&&{alignmentOffset:z}},reset:R}}}),Hre=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:u,elements:l}=e,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=Ef(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=kl(s),_=yl(a),b=kl(a)===a,w=await(u.isRTL==null?void 0:u.isRTL(l.floating)),S=f||(b||!g?[Kp(a)]:Mre(a)),E=p!=="none";!f&&E&&S.push(...Fre(a,g,p,w));const T=[a,...S],I=await gw(e,v),k=[];let C=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&k.push(I[y]),d){const V=Ore(s,i,w);k.push(I[V[0]],I[V[1]])}if(C=[...C,{placement:s,overflows:k}],!k.every(V=>V<=0)){var N,D;const V=(((N=o.flip)==null?void 0:N.index)||0)+1,R=T[V];if(R){var W;const M=d==="alignment"?_!==yl(R):!1,B=((W=C[0])==null?void 0:W.overflows[0])>0;if(!M||B)return{data:{index:V,overflows:C},reset:{placement:R}}}let z=(D=C.filter(M=>M.overflows[0]<=0).sort((M,B)=>M.overflows[1]-B.overflows[1])[0])==null?void 0:D.placement;if(!z)switch(h){case"bestFit":{var H;const M=(H=C.filter(B=>{if(E){const j=yl(B.placement);return j===_||j==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(j=>j>0).reduce((j,X)=>j+X,0)]).sort((B,j)=>B[1]-j[1])[0])==null?void 0:H[0];M&&(z=M);break}case"initialPlacement":z=a;break}if(s!==z)return{reset:{placement:z}}}return{}}}};async function jre(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=kl(n),a=xf(n),u=yl(n)==="y",l=["left","top"].includes(i)?-1:1,c=o&&u?-1:1,d=Ef(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),u?{x:h*c,y:f*l}:{x:f*l,y:h*c}}const Kre=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=e,u=await jre(e,t);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:o+u.y,data:{...u,placement:i}}}}},zre=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:v=>{let{x:y,y:_}=v;return{x:y,y:_}}},...u}=Ef(t,e),l={x:n,y:r},c=await gw(e,u),d=yl(kl(s)),f=n$(d);let h=l[f],p=l[d];if(o){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",_=h+c[v],b=h-c[y];h=hy(_,h,b)}if(i){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",_=p+c[v],b=p-c[y];p=hy(_,p,b)}const g=a.fn({...e,[f]:h,[d]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:o,[d]:i}}}}}};function Jm(){return typeof window<"u"}function hc(t){return s$(t)?(t.nodeName||"").toLowerCase():"#document"}function Vs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function gi(t){var e;return(e=(s$(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function s$(t){return Jm()?t instanceof Node||t instanceof Vs(t).Node:!1}function Ao(t){return Jm()?t instanceof Element||t instanceof Vs(t).Element:!1}function ui(t){return Jm()?t instanceof HTMLElement||t instanceof Vs(t).HTMLElement:!1}function jx(t){return!Jm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vs(t).ShadowRoot}function Tf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ro(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function Wre(t){return["table","td","th"].includes(hc(t))}function eg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function vw(t){const e=yw(),n=Ao(t)?Ro(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Gre(t){let e=Na(t);for(;ui(e)&&!ju(e);){if(vw(e))return e;if(eg(e))return null;e=Na(e)}return null}function yw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ju(t){return["html","body","#document"].includes(hc(t))}function Ro(t){return Vs(t).getComputedStyle(t)}function tg(t){return Ao(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Na(t){if(hc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||jx(t)&&t.host||gi(t);return jx(e)?e.host:e}function o$(t){const e=Na(t);return ju(e)?t.ownerDocument?t.ownerDocument.body:t.body:ui(e)&&Tf(e)?e:o$(e)}function Vd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=o$(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),i=Vs(s);if(o){const a=my(i);return e.concat(i,i.visualViewport||[],Tf(s)?s:[],a&&n?Vd(a):[])}return e.concat(s,Vd(s,[],n))}function my(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function i$(t){const e=Ro(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ui(t),o=s?t.offsetWidth:n,i=s?t.offsetHeight:r,a=jp(n)!==o||jp(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function bw(t){return Ao(t)?t:t.contextElement}function Su(t){const e=bw(t);if(!ui(e))return ni(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=i$(e);let i=(o?jp(n.width):n.width)/r,a=(o?jp(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const qre=ni(0);function a$(t){const e=Vs(t);return!yw()||!e.visualViewport?qre:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Yre(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Vs(t)?!1:e}function Il(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=bw(t);let i=ni(1);e&&(r?Ao(r)&&(i=Su(r)):i=Su(t));const a=Yre(o,n,r)?a$(o):ni(0);let u=(s.left+a.x)/i.x,l=(s.top+a.y)/i.y,c=s.width/i.x,d=s.height/i.y;if(o){const f=Vs(o),h=r&&Ao(r)?Vs(r):r;let p=f,g=my(p);for(;g&&r&&h!==p;){const v=Su(g),y=g.getBoundingClientRect(),_=Ro(g),b=y.left+(g.clientLeft+parseFloat(_.paddingLeft))*v.x,w=y.top+(g.clientTop+parseFloat(_.paddingTop))*v.y;u*=v.x,l*=v.y,c*=v.x,d*=v.y,u+=b,l+=w,p=Vs(g),g=my(p)}}return zp({width:c,height:d,x:u,y:l})}function ww(t,e){const n=tg(t).scrollLeft;return e?e.left+n:Il(gi(t)).left+n}function l$(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:ww(t,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function Xre(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",i=gi(r),a=e?eg(e.floating):!1;if(r===i||a&&o)return n;let u={scrollLeft:0,scrollTop:0},l=ni(1);const c=ni(0),d=ui(r);if((d||!d&&!o)&&((hc(r)!=="body"||Tf(i))&&(u=tg(r)),ui(r))){const h=Il(r);l=Su(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}const f=i&&!d&&!o?l$(i,u,!0):ni(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-u.scrollLeft*l.x+c.x+f.x,y:n.y*l.y-u.scrollTop*l.y+c.y+f.y}}function Qre(t){return Array.from(t.getClientRects())}function Zre(t){const e=gi(t),n=tg(t),r=t.ownerDocument.body,s=vl(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=vl(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+ww(t);const a=-n.scrollTop;return Ro(r).direction==="rtl"&&(i+=vl(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function Jre(t,e){const n=Vs(t),r=gi(t),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,u=0;if(s){o=s.width,i=s.height;const l=yw();(!l||l&&e==="fixed")&&(a=s.offsetLeft,u=s.offsetTop)}return{width:o,height:i,x:a,y:u}}function ese(t,e){const n=Il(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=ui(t)?Su(t):ni(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,u=s*o.x,l=r*o.y;return{width:i,height:a,x:u,y:l}}function Kx(t,e,n){let r;if(e==="viewport")r=Jre(t,n);else if(e==="document")r=Zre(gi(t));else if(Ao(e))r=ese(e,n);else{const s=a$(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return zp(r)}function u$(t,e){const n=Na(t);return n===e||!Ao(n)||ju(n)?!1:Ro(n).position==="fixed"||u$(n,e)}function tse(t,e){const n=e.get(t);if(n)return n;let r=Vd(t,[],!1).filter(a=>Ao(a)&&hc(a)!=="body"),s=null;const o=Ro(t).position==="fixed";let i=o?Na(t):t;for(;Ao(i)&&!ju(i);){const a=Ro(i),u=vw(i);!u&&a.position==="fixed"&&(s=null),(o?!u&&!s:!u&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Tf(i)&&!u&&u$(t,i))?r=r.filter(c=>c!==i):s=a,i=Na(i)}return e.set(t,r),r}function nse(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?eg(e)?[]:tse(e,this._c):[].concat(n),r],a=i[0],u=i.reduce((l,c)=>{const d=Kx(e,c,s);return l.top=vl(d.top,l.top),l.right=Hu(d.right,l.right),l.bottom=Hu(d.bottom,l.bottom),l.left=vl(d.left,l.left),l},Kx(e,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function rse(t){const{width:e,height:n}=i$(t);return{width:e,height:n}}function sse(t,e,n){const r=ui(e),s=gi(e),o=n==="fixed",i=Il(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const u=ni(0);function l(){u.x=ww(s)}if(r||!r&&!o)if((hc(e)!=="body"||Tf(s))&&(a=tg(e)),r){const h=Il(e,!0,o,e);u.x=h.x+e.clientLeft,u.y=h.y+e.clientTop}else s&&l();o&&!r&&s&&l();const c=s&&!r&&!o?l$(s,a):ni(0),d=i.left+a.scrollLeft-u.x-c.x,f=i.top+a.scrollTop-u.y-c.y;return{x:d,y:f,width:i.width,height:i.height}}function xv(t){return Ro(t).position==="static"}function zx(t,e){if(!ui(t)||Ro(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return gi(t)===n&&(n=n.ownerDocument.body),n}function c$(t,e){const n=Vs(t);if(eg(t))return n;if(!ui(t)){let s=Na(t);for(;s&&!ju(s);){if(Ao(s)&&!xv(s))return s;s=Na(s)}return n}let r=zx(t,e);for(;r&&Wre(r)&&xv(r);)r=zx(r,e);return r&&ju(r)&&xv(r)&&!vw(r)?n:r||Gre(t)||n}const ose=async function(t){const e=this.getOffsetParent||c$,n=this.getDimensions,r=await n(t.floating);return{reference:sse(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ise(t){return Ro(t).direction==="rtl"}const ase={convertOffsetParentRelativeRectToViewportRelativeRect:Xre,getDocumentElement:gi,getClippingRect:nse,getOffsetParent:c$,getElementRects:ose,getClientRects:Qre,getDimensions:rse,getScale:Su,isElement:Ao,isRTL:ise};function d$(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function lse(t,e){let n=null,r;const s=gi(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),o();const l=t.getBoundingClientRect(),{left:c,top:d,width:f,height:h}=l;if(a||e(),!f||!h)return;const p=mh(d),g=mh(s.clientWidth-(c+f)),v=mh(s.clientHeight-(d+h)),y=mh(c),b={rootMargin:-p+"px "+-g+"px "+-v+"px "+-y+"px",threshold:vl(0,Hu(1,u))||1};let w=!0;function S(E){const T=E[0].intersectionRatio;if(T!==u){if(!w)return i();T?i(!1,T):r=setTimeout(()=>{i(!1,1e-7)},1e3)}T===1&&!d$(l,t.getBoundingClientRect())&&i(),w=!1}try{n=new IntersectionObserver(S,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,b)}n.observe(t)}return i(!0),o}function use(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,l=bw(t),c=s||o?[...l?Vd(l):[],...Vd(e)]:[];c.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const d=l&&a?lse(l,n):null;let f=-1,h=null;i&&(h=new ResizeObserver(y=>{let[_]=y;_&&_.target===l&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(e)})),n()}),l&&!u&&h.observe(l),h.observe(e));let p,g=u?Il(t):null;u&&v();function v(){const y=Il(t);g&&!d$(g,y)&&n(),g=y,p=requestAnimationFrame(v)}return n(),()=>{var y;c.forEach(_=>{s&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),d==null||d(),(y=h)==null||y.disconnect(),h=null,u&&cancelAnimationFrame(p)}}const cse=gw,f$=Kre,dse=zre,fse=Hre,h$=Ure,p$=(t,e,n)=>{const r=new Map,s={platform:ase,...n},o={...s.platform,_c:r};return Vre(t,e,{...s,platform:o})},hse=qe({style:{type:me([String,Object,Array]),default:()=>({})}}),pse=ee({name:"ElVisuallyHidden"}),mse=ee({...pse,props:hse,setup(t){const e=t,n=P(()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(r,s)=>(L(),G("span",Xt(r.$attrs,{style:m(n)}),[ve(r.$slots,"default")],16))}});var gse=Ye(mse,[["__file","visual-hidden.vue"]]);qe({});const vse=t=>{if(!an)return;if(!t)return t;const e=fs(t);return e||(Dn(t)?e:t)},yse=({middleware:t,placement:e,strategy:n})=>{const r=q(),s=q(),o=q(),i=q(),a=q({}),u={x:o,y:i,placement:e,strategy:n,middlewareData:a},l=async()=>{if(!an)return;const c=vse(r),d=fs(s);if(!c||!d)return;const f=await p$(c,d,{placement:m(e),strategy:m(n),middleware:m(t)});$u(u).forEach(h=>{u[h].value=f[h]})};return xt(()=>{Fr(()=>{l()})}),{...u,update:l,referenceRef:r,contentRef:s}},bse=({arrowRef:t,padding:e})=>({name:"arrow",options:{element:t,padding:e},fn(n){const r=m(t);return r?h$({element:r,padding:e}).fn(n):{}}}),wse=ee({name:"ElTooltipV2Content"}),_se=ee({...wse,props:{...dw,...JL},setup(t){const e=t,{triggerRef:n,contentId:r}=rt(Zm),s=q(e.placement),o=q(e.strategy),i=q(null),{referenceRef:a,contentRef:u,middlewareData:l,x:c,y:d,update:f}=yse({placement:s,strategy:o,middleware:P(()=>{const b=[f$(e.offset)];return e.showArrow&&b.push(bse({arrowRef:i})),b})}),h=sc().nextZIndex(),p=Ne("tooltip-v2"),g=P(()=>s.value.split("-")[0]),v=P(()=>({position:m(o),top:`${m(d)||0}px`,left:`${m(c)||0}px`,zIndex:h})),y=P(()=>{if(!e.showArrow)return{};const{arrow:b}=m(l);return{[`--${p.namespace.value}-tooltip-v2-arrow-x`]:`${b==null?void 0:b.x}px`||"",[`--${p.namespace.value}-tooltip-v2-arrow-y`]:`${b==null?void 0:b.y}px`||""}}),_=P(()=>[p.e("content"),p.is("dark",e.effect==="dark"),p.is(m(o)),e.contentClass]);return Pe(i,()=>f()),Pe(()=>e.placement,b=>s.value=b),xt(()=>{Pe(()=>e.reference||n.value,b=>{a.value=b||void 0},{immediate:!0})}),Qt(t$,{arrowRef:i}),(b,w)=>(L(),G("div",{ref_key:"contentRef",ref:u,style:dt(m(v)),"data-tooltip-v2-root":""},[b.nowrap?ce("v-if",!0):(L(),G("div",{key:0,"data-side":m(g),class:U(m(_))},[ve(b.$slots,"default",{contentStyle:m(v),contentClass:m(_)}),A(m(gse),{id:m(r),role:"tooltip"},{default:O(()=>[b.ariaLabel?(L(),G(tt,{key:0},[xe(ge(b.ariaLabel),1)],64)):ve(b.$slots,"default",{key:1})]),_:3},8,["id"]),ve(b.$slots,"arrow",{style:dt(m(y)),side:m(g)})],10,["data-side"]))],4))}});var Wx=Ye(_se,[["__file","content.vue"]]);const Sse=qe({setRef:{type:me(Function),required:!0},onlyChild:Boolean});var Ese=ee({props:Sse,setup(t,{slots:e}){const n=q(),r=Wm(n,s=>{s?t.setRef(s.nextElementSibling):t.setRef(null)});return()=>{var s;const[o]=((s=e.default)==null?void 0:s.call(e))||[],i=t.onlyChild?SK(o.children):o.children;return A(tt,{ref:r},[i])}}});const xse=ee({name:"ElTooltipV2Trigger"}),Tse=ee({...xse,props:{...JL,...hw},setup(t){const e=t,{onClose:n,onOpen:r,onDelayOpen:s,triggerRef:o,contentId:i}=rt(Zm);let a=!1;const u=_=>{o.value=_},l=()=>{a=!1},c=tr(e.onMouseEnter,s),d=tr(e.onMouseLeave,n),f=tr(e.onMouseDown,()=>{n(),a=!0,document.addEventListener("mouseup",l,{once:!0})}),h=tr(e.onFocus,()=>{a||r()}),p=tr(e.onBlur,n),g=tr(e.onClick,_=>{_.detail===0&&n()}),v={blur:p,click:g,focus:h,mousedown:f,mouseenter:c,mouseleave:d},y=(_,b,w)=>{_&&Object.entries(b).forEach(([S,E])=>{_[w](S,E)})};return Pe(o,(_,b)=>{y(_,v,"addEventListener"),y(b,v,"removeEventListener"),_&&_.setAttribute("aria-describedby",i.value)}),In(()=>{y(o.value,v,"removeEventListener"),document.removeEventListener("mouseup",l)}),(_,b)=>_.nowrap?(L(),ye(m(Ese),{key:0,"set-ref":u,"only-child":""},{default:O(()=>[ve(_.$slots,"default")]),_:3})):(L(),G("button",Xt({key:1,ref_key:"triggerRef",ref:o},_.$attrs),[ve(_.$slots,"default")],16))}});var Cse=Ye(Tse,[["__file","trigger.vue"]]);const kse=ee({name:"ElTooltipV2"}),Ise=ee({...kse,props:kre,setup(t){const n=$r(t),r=Ft(So(n,Object.keys(cw))),s=Ft(So(n,Object.keys(dw))),o=Ft(So(n,Object.keys(fw))),i=Ft(So(n,Object.keys(hw)));return(a,u)=>(L(),ye(Rre,Os(ri(o)),{default:O(({open:l})=>[A(Cse,Xt(i,{nowrap:""}),{default:O(()=>[ve(a.$slots,"trigger")]),_:3},16),A(m(ac),{to:a.to,disabled:!a.teleported},{default:O(()=>[a.fullTransition?(L(),ye(Tr,Os(Xt({key:0},a.transitionProps)),{default:O(()=>[a.alwaysOn||l?(L(),ye(Wx,Os(Xt({key:0},s)),{arrow:O(({style:c,side:d})=>[a.showArrow?(L(),ye(Ux,Xt({key:0},r,{style:c,side:d}),null,16,["style","side"])):ce("v-if",!0)]),default:O(()=>[ve(a.$slots,"default")]),_:3},16)):ce("v-if",!0)]),_:2},1040)):(L(),G(tt,{key:1},[a.alwaysOn||l?(L(),ye(Wx,Os(Xt({key:0},s)),{arrow:O(({style:c,side:d})=>[a.showArrow?(L(),ye(Ux,Xt({key:0},r,{style:c,side:d}),null,16,["style","side"])):ce("v-if",!0)]),default:O(()=>[ve(a.$slots,"default")]),_:3},16)):ce("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}});var Ase=Ye(Ise,[["__file","tooltip.vue"]]);const Rse=Bt(Ase),m$="left-check-change",g$="right-check-change",su=qe({data:{type:me(Array),default:()=>[]},titles:{type:me(Array),default:()=>[]},buttonTexts:{type:me(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:me(Function)},leftDefaultChecked:{type:me(Array),default:()=>[]},rightDefaultChecked:{type:me(Array),default:()=>[]},renderContent:{type:me(Function)},modelValue:{type:me(Array),default:()=>[]},format:{type:me(Object),default:()=>({})},filterable:Boolean,props:{type:me(Object),default:()=>Yn({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),gy=(t,e)=>[t,e].every(Ke)||Ke(t)&&xr(e),Lse={[Yt]:(t,e,n)=>[t,n].every(Ke)&&["left","right"].includes(e),[$t]:t=>Ke(t),[m$]:gy,[g$]:gy},vy="checked-change",$se=qe({data:su.data,optionRender:{type:me(Function)},placeholder:String,title:String,filterable:Boolean,format:su.format,filterMethod:su.filterMethod,defaultChecked:su.leftDefaultChecked,props:su.props}),Pse={[vy]:gy},Cf=t=>{const e={label:"label",key:"key",disabled:"disabled"};return P(()=>({...e,...t.props}))},Dse=(t,e,n)=>{const r=Cf(t),s=P(()=>t.data.filter(c=>vt(t.filterMethod)?t.filterMethod(e.query,c):String(c[r.value.label]||c[r.value.key]).toLowerCase().includes(e.query.toLowerCase()))),o=P(()=>s.value.filter(c=>!c[r.value.disabled])),i=P(()=>{const c=e.checked.length,d=t.data.length,{noChecked:f,hasChecked:h}=t.format;return f&&h?c>0?h.replace(/\${checked}/g,c.toString()).replace(/\${total}/g,d.toString()):f.replace(/\${total}/g,d.toString()):`${c}/${d}`}),a=P(()=>{const c=e.checked.length;return c>0&&c<o.value.length}),u=()=>{const c=o.value.map(d=>d[r.value.key]);e.allChecked=c.length>0&&c.every(d=>e.checked.includes(d))},l=c=>{e.checked=c?o.value.map(d=>d[r.value.key]):[]};return Pe(()=>e.checked,(c,d)=>{if(u(),e.checkChangeByUser){const f=c.concat(d).filter(h=>!c.includes(h)||!d.includes(h));n(vy,c,f)}else n(vy,c),e.checkChangeByUser=!0}),Pe(o,()=>{u()}),Pe(()=>t.data,()=>{const c=[],d=s.value.map(f=>f[r.value.key]);e.checked.forEach(f=>{d.includes(f)&&c.push(f)}),e.checkChangeByUser=!1,e.checked=c}),Pe(()=>t.defaultChecked,(c,d)=>{if(d&&c.length===d.length&&c.every(p=>d.includes(p)))return;const f=[],h=o.value.map(p=>p[r.value.key]);c.forEach(p=>{h.includes(p)&&f.push(p)}),e.checkChangeByUser=!1,e.checked=f},{immediate:!0}),{filteredData:s,checkableData:o,checkedSummary:i,isIndeterminate:a,updateAllChecked:u,handleAllCheckedChange:l}},Ose=ee({name:"ElTransferPanel"}),Mse=ee({...Ose,props:$se,emits:Pse,setup(t,{expose:e,emit:n}){const r=t,s=_r(),o=({option:b})=>b,{t:i}=un(),a=Ne("transfer"),u=Ft({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),l=Cf(r),{filteredData:c,checkedSummary:d,isIndeterminate:f,handleAllCheckedChange:h}=Dse(r,u,n),p=P(()=>!Ds(u.query)&&Ds(c.value)),g=P(()=>!Ds(s.default()[0].children)),{checked:v,allChecked:y,query:_}=$r(u);return e({query:_}),(b,w)=>(L(),G("div",{class:U(m(a).b("panel"))},[F("p",{class:U(m(a).be("panel","header"))},[A(m(uo),{modelValue:m(y),"onUpdate:modelValue":S=>Dn(y)?y.value=S:null,indeterminate:m(f),"validate-event":!1,onChange:m(h)},{default:O(()=>[xe(ge(b.title)+" ",1),F("span",null,ge(m(d)),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),F("div",{class:U([m(a).be("panel","body"),m(a).is("with-footer",m(g))])},[b.filterable?(L(),ye(m(ir),{key:0,modelValue:m(_),"onUpdate:modelValue":S=>Dn(_)?_.value=S:null,class:U(m(a).be("panel","filter")),size:"default",placeholder:b.placeholder,"prefix-icon":m(kd),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):ce("v-if",!0),At(A(m(DA),{modelValue:m(v),"onUpdate:modelValue":S=>Dn(v)?v.value=S:null,"validate-event":!1,class:U([m(a).is("filterable",b.filterable),m(a).be("panel","list")])},{default:O(()=>[(L(!0),G(tt,null,It(m(c),S=>(L(),ye(m(uo),{key:S[m(l).key],class:U(m(a).be("panel","item")),value:S[m(l).key],disabled:S[m(l).disabled],"validate-event":!1},{default:O(()=>{var E;return[A(o,{option:(E=b.optionRender)==null?void 0:E.call(b,S)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[nn,!m(p)&&!m(Ds)(b.data)]]),At(F("div",{class:U(m(a).be("panel","empty"))},[ve(b.$slots,"empty",{},()=>[xe(ge(m(p)?m(i)("el.transfer.noMatch"):m(i)("el.transfer.noData")),1)])],2),[[nn,m(p)||m(Ds)(b.data)]])],2),m(g)?(L(),G("p",{key:0,class:U(m(a).be("panel","footer"))},[ve(b.$slots,"default")],2)):ce("v-if",!0)],2))}});var Gx=Ye(Mse,[["__file","transfer-panel.vue"]]);const Nse=t=>{const e=Cf(t),n=P(()=>t.data.reduce((o,i)=>(o[i[e.value.key]]=i)&&o,{})),r=P(()=>t.data.filter(o=>!t.modelValue.includes(o[e.value.key]))),s=P(()=>t.targetOrder==="original"?t.data.filter(o=>t.modelValue.includes(o[e.value.key])):t.modelValue.reduce((o,i)=>{const a=n.value[i];return a&&o.push(a),o},[]));return{sourceData:r,targetData:s}},Fse=(t,e,n)=>{const r=Cf(t),s=(a,u,l)=>{n($t,a),n(Yt,a,u,l)};return{addToLeft:()=>{const a=t.modelValue.slice();e.rightChecked.forEach(u=>{const l=a.indexOf(u);l>-1&&a.splice(l,1)}),s(a,"left",e.rightChecked)},addToRight:()=>{let a=t.modelValue.slice();const u=t.data.filter(l=>{const c=l[r.value.key];return e.leftChecked.includes(c)&&!t.modelValue.includes(c)}).map(l=>l[r.value.key]);a=t.targetOrder==="unshift"?u.concat(a):a.concat(u),t.targetOrder==="original"&&(a=t.data.filter(l=>a.includes(l[r.value.key])).map(l=>l[r.value.key])),s(a,"right",e.leftChecked)}}},Bse=(t,e)=>({onSourceCheckedChange:(s,o)=>{t.leftChecked=s,o&&e(m$,s,o)},onTargetCheckedChange:(s,o)=>{t.rightChecked=s,o&&e(g$,s,o)}}),Vse=ee({name:"ElTransfer"}),Use=ee({...Vse,props:su,emits:Lse,setup(t,{expose:e,emit:n}){const r=t,s=_r(),{t:o}=un(),i=Ne("transfer"),{formItem:a}=Kr(),u=Ft({leftChecked:[],rightChecked:[]}),l=Cf(r),{sourceData:c,targetData:d}=Nse(r),{onSourceCheckedChange:f,onTargetCheckedChange:h}=Bse(u,n),{addToLeft:p,addToRight:g}=Fse(r,u,n),v=q(),y=q(),_=I=>{switch(I){case"left":v.value.query="";break;case"right":y.value.query="";break}},b=P(()=>r.buttonTexts.length===2),w=P(()=>r.titles[0]||o("el.transfer.titles.0")),S=P(()=>r.titles[1]||o("el.transfer.titles.1")),E=P(()=>r.filterPlaceholder||o("el.transfer.filterPlaceholder"));Pe(()=>r.modelValue,()=>{var I;r.validateEvent&&((I=a==null?void 0:a.validate)==null||I.call(a,"change").catch(k=>void 0))});const T=P(()=>I=>{var k;if(r.renderContent)return r.renderContent(_t,I);const C=(((k=s.default)==null?void 0:k.call(s,{option:I}))||[]).filter(N=>N.type!==Rr);return C.length?C:_t("span",I[l.value.label]||I[l.value.key])});return e({clearQuery:_,leftPanel:v,rightPanel:y}),(I,k)=>(L(),G("div",{class:U(m(i).b())},[A(Gx,{ref_key:"leftPanel",ref:v,data:m(c),"option-render":m(T),placeholder:m(E),title:m(w),filterable:I.filterable,format:I.format,"filter-method":I.filterMethod,"default-checked":I.leftDefaultChecked,props:r.props,onCheckedChange:m(f)},{empty:O(()=>[ve(I.$slots,"left-empty")]),default:O(()=>[ve(I.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),F("div",{class:U(m(i).e("buttons"))},[A(m(Nn),{type:"primary",class:U([m(i).e("button"),m(i).is("with-texts",m(b))]),disabled:m(Ds)(u.rightChecked),onClick:m(p)},{default:O(()=>[A(m(lt),null,{default:O(()=>[A(m(Pa))]),_:1}),m(ln)(I.buttonTexts[0])?ce("v-if",!0):(L(),G("span",{key:0},ge(I.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),A(m(Nn),{type:"primary",class:U([m(i).e("button"),m(i).is("with-texts",m(b))]),disabled:m(Ds)(u.leftChecked),onClick:m(g)},{default:O(()=>[m(ln)(I.buttonTexts[1])?ce("v-if",!0):(L(),G("span",{key:0},ge(I.buttonTexts[1]),1)),A(m(lt),null,{default:O(()=>[A(m(ps))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),A(Gx,{ref_key:"rightPanel",ref:y,data:m(d),"option-render":m(T),placeholder:m(E),filterable:I.filterable,format:I.format,"filter-method":I.filterMethod,title:m(S),"default-checked":I.rightDefaultChecked,props:r.props,onCheckedChange:m(h)},{empty:O(()=>[ve(I.$slots,"right-empty")]),default:O(()=>[ve(I.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var Hse=Ye(Use,[["__file","transfer.vue"]]);const jse=Bt(Hse),Eu="$treeNodeId",qx=function(t,e){!e||e[Eu]||Object.defineProperty(e,Eu,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},_w=(t,e)=>e==null?void 0:e[t||Eu],yy=(t,e,n)=>{const r=t.value.currentNode;n();const s=t.value.currentNode;r!==s&&e("current-change",s?s.data:null,s)},by=t=>{let e=!0,n=!0,r=!0;for(let s=0,o=t.length;s<o;s++){const i=t[s];(i.checked!==!0||i.indeterminate)&&(e=!1,i.disabled||(r=!1)),(i.checked!==!1||i.indeterminate)&&(n=!1)}return{all:e,none:n,allWithoutDisable:r,half:!e&&!n}},Uc=function(t){if(t.childNodes.length===0||t.loading)return;const{all:e,none:n,half:r}=by(t.childNodes);e?(t.checked=!0,t.indeterminate=!1):r?(t.checked=!1,t.indeterminate=!0):n&&(t.checked=!1,t.indeterminate=!1);const s=t.parent;!s||s.level===0||t.store.checkStrictly||Uc(s)},gh=function(t,e){const n=t.store.props,r=t.data||{},s=n[e];if(vt(s))return s(r,t);if(ht(s))return r[s];if(ln(s)){const o=r[e];return ln(o)?"":o}};let Kse=0,wy=class Xh{constructor(e){this.id=Kse++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in e)dn(e,n)&&(this[n]=e[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const n=e.props;if(n&&typeof n.isLeaf<"u"){const o=gh(this,"isLeaf");En(o)&&(this.isLeafByUser=o)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&!this.isLeafByUser&&this.expand(),Ke(this.data)||qx(this,this.data),!this.data)return;const r=e.defaultExpandedKeys,s=e.key;s&&r&&r.includes(this.key)&&this.expand(null,e.autoExpandParent),s&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){Ke(e)||qx(this,e),this.data=e,this.childNodes=[];let n;this.level===0&&Ke(this.data)?n=this.data:n=gh(this,"children")||[];for(let r=0,s=n.length;r<s;r++)this.insertChild({data:n[r]})}get label(){return gh(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return gh(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return e.childNodes[n+1]}return null}get previousSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return n>0?e.childNodes[n-1]:null}return null}contains(e,n=!0){return(this.childNodes||[]).some(r=>r===e||n&&r.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,n,r){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof Xh)){if(!r){const s=this.getChildren(!0);s.includes(e.data)||(ln(n)||n<0?s.push(e.data):s.splice(n,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=Ft(new Xh(e)),e instanceof Xh&&e.initialize()}e.level=this.level+1,ln(n)||n<0?this.childNodes.push(e):this.childNodes.splice(n,0,e),this.updateLeafState()}insertBefore(e,n){let r;n&&(r=this.childNodes.indexOf(n)),this.insertChild(e,r)}insertAfter(e,n){let r;n&&(r=this.childNodes.indexOf(n),r!==-1&&(r+=1)),this.insertChild(e,r)}removeChild(e){const n=this.getChildren()||[],r=n.indexOf(e.data);r>-1&&n.splice(r,1);const s=this.childNodes.indexOf(e);s>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(s,1)),this.updateLeafState()}removeChildByData(e){let n=null;for(let r=0;r<this.childNodes.length;r++)if(this.childNodes[r].data===e){n=this.childNodes[r];break}n&&this.removeChild(n)}expand(e,n){const r=()=>{if(n){let s=this.parent;for(;s.level>0;)s.expanded=!0,s=s.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(s=>{s.canFocus=!0})};this.shouldLoadData()?this.loadData(s=>{Ke(s)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Uc(this),r())}):r()}doCreateChildren(e,n={}){e.forEach(r=>{this.insertChild(Object.assign({data:r},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,n,r,s){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:i,allWithoutDisable:a}=by(this.childNodes);!this.isLeaf&&!i&&a&&(this.checked=!1,e=!1);const u=()=>{if(n){const l=this.childNodes;for(let f=0,h=l.length;f<h;f++){const p=l[f];s=s||e!==!1;const g=p.disabled?p.checked:s;p.setChecked(g,n,!0,s)}const{half:c,all:d}=by(l);d||(this.checked=d,this.indeterminate=c)}};if(this.shouldLoadData()){this.loadData(()=>{u(),Uc(this)},{checked:e!==!1});return}else u()}const o=this.parent;!o||o.level===0||r||Uc(o)}getChildren(e=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const r=this.store.props;let s="children";return r&&(s=r.children||"children"),ln(n[s])&&(n[s]=null),e&&!n[s]&&(n[s]=[]),n[s]}updateChildren(){const e=this.getChildren()||[],n=this.childNodes.map(o=>o.data),r={},s=[];e.forEach((o,i)=>{const a=o[Eu];!!a&&n.findIndex(l=>l[Eu]===a)>=0?r[a]={index:i,data:o}:s.push({index:i,data:o})}),this.store.lazy||n.forEach(o=>{r[o[Eu]]||this.removeChildByData(o)}),s.forEach(({index:o,data:i})=>{this.insertChild({data:i},o)}),this.updateLeafState()}loadData(e,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const r=o=>{this.childNodes=[],this.doCreateChildren(o,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,o)},s=()=>{this.loading=!1};this.store.load(this,r,s)}else e&&e.call(this)}eachNode(e){const n=[this];for(;n.length;){const r=n.shift();n.unshift(...r.childNodes),e(r)}}reInitChecked(){this.store.checkStrictly||Uc(this)}};class zse{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const n in e)dn(e,n)&&(this[n]=e[n]);this.nodesMap={}}initialize(){if(this.root=new wy({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(e){const n=this.filterNodeMethod,r=this.lazy,s=async function(o){const i=o.root?o.root.childNodes:o.childNodes;for(const[a,u]of i.entries())u.visible=n.call(u,e,u.data,u),a%80===0&&a>0&&await pt(),await s(u);if(!o.visible&&i.length){let a=!0;a=!i.some(u=>u.visible),o.root?o.root.visible=a===!1:o.visible=a===!1}e&&o.visible&&!o.isLeaf&&(!r||o.loaded)&&o.expand()};s(this)}setData(e){e!==this.root.data?(this.nodesMap={},this.root.setData(e),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(e){if(e instanceof wy)return e;const n=Kt(e)?_w(this.key,e):e;return this.nodesMap[n]||null}insertBefore(e,n){const r=this.getNode(n);r.parent.insertBefore({data:e},r)}insertAfter(e,n){const r=this.getNode(n);r.parent.insertAfter({data:e},r)}remove(e){const n=this.getNode(e);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(e,n){const r=ro(n)?this.root:this.getNode(n);r&&r.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],n=this.nodesMap;e.forEach(r=>{const s=n[r];s&&s.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const n=this.key;!e||!e.data||(n?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,n=!1){const r=[],s=function(o){(o.root?o.root.childNodes:o.childNodes).forEach(a=>{(a.checked||n&&a.indeterminate)&&(!e||e&&a.isLeaf)&&r.push(a.data),s(a)})};return s(this),r}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const e=[],n=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(o=>{o.indeterminate&&e.push(o.data),n(o)})};return n(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],n=this.nodesMap;for(const r in n)dn(n,r)&&e.push(n[r]);return e}updateChildren(e,n){const r=this.nodesMap[e];if(!r)return;const s=r.childNodes;for(let o=s.length-1;o>=0;o--){const i=s[o];this.remove(i.data)}for(let o=0,i=n.length;o<i;o++){const a=n[o];this.append(a,r.data)}}_setCheckedKeys(e,n=!1,r){const s=this._getAllNodes().sort((u,l)=>u.level-l.level),o=Object.create(null),i=Object.keys(r);s.forEach(u=>u.setChecked(!1,!1));const a=u=>{u.childNodes.forEach(l=>{var c;o[l.data[e]]=!0,(c=l.childNodes)!=null&&c.length&&a(l)})};for(let u=0,l=s.length;u<l;u++){const c=s[u],d=c.data[e].toString();if(!i.includes(d)){c.checked&&!o[d]&&c.setChecked(!1,!1);continue}if(c.childNodes.length&&a(c),c.isLeaf||this.checkStrictly){c.setChecked(!0,!1);continue}if(c.setChecked(!0,!0),n){c.setChecked(!1,!1);const h=function(p){p.childNodes.forEach(v=>{v.isLeaf||v.setChecked(!1,!1),h(v)})};h(c)}}}setCheckedNodes(e,n=!1){const r=this.key,s={};e.forEach(o=>{s[(o||{})[r]]=!0}),this._setCheckedKeys(r,n,s)}setCheckedKeys(e,n=!1){this.defaultCheckedKeys=e;const r=this.key,s={};e.forEach(o=>{s[o]=!0}),this._setCheckedKeys(r,n,s)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(n=>{const r=this.getNode(n);r&&r.expand(null,this.autoExpandParent)})}setChecked(e,n,r){const s=this.getNode(e);s&&s.setChecked(!!n,r)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,n=!0){const r=e[this.key],s=this.nodesMap[r];this.setCurrentNode(s),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,n=!0){if(this.currentNodeKey=e,ro(e)){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const r=this.getNode(e);r&&(this.setCurrentNode(r),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Wse=ee({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const e=Ne("tree"),n=rt("NodeInstance"),r=rt("RootTree");return()=>{const s=t.node,{data:o,store:i}=s;return t.renderContent?t.renderContent(_t,{_self:n,node:s,data:o,store:i}):ve(r.ctx.slots,"default",{node:s,data:o},()=>[_t(uw,{tag:"span",truncated:!0,class:e.be("node","label")},()=>[s.label])])}}});var Gse=Ye(Wse,[["__file","tree-node-content.vue"]]);function v$(t){const e=rt("TreeNodeMap",null),n={treeNodeExpand:r=>{t.node!==r&&t.node.collapse()},children:[]};return e&&e.children.push(n),Qt("TreeNodeMap",n),{broadcastExpanded:r=>{if(t.accordion)for(const s of n.children)s.treeNodeExpand(r)}}}const y$=Symbol("dragEvents");function qse({props:t,ctx:e,el$:n,dropIndicator$:r,store:s}){const o=Ne("tree"),i=q({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Qt(y$,{treeNodeDragStart:({event:c,treeNode:d})=>{if(vt(t.allowDrag)&&!t.allowDrag(d.node))return c.preventDefault(),!1;c.dataTransfer.effectAllowed="move";try{c.dataTransfer.setData("text/plain","")}catch{}i.value.draggingNode=d,e.emit("node-drag-start",d.node,c)},treeNodeDragOver:({event:c,treeNode:d})=>{const f=d,h=i.value.dropNode;h&&h.node.id!==f.node.id&&ns(h.$el,o.is("drop-inner"));const p=i.value.draggingNode;if(!p||!f)return;let g=!0,v=!0,y=!0,_=!0;vt(t.allowDrop)&&(g=t.allowDrop(p.node,f.node,"prev"),_=v=t.allowDrop(p.node,f.node,"inner"),y=t.allowDrop(p.node,f.node,"next")),c.dataTransfer.dropEffect=v||g||y?"move":"none",(g||v||y)&&(h==null?void 0:h.node.id)!==f.node.id&&(h&&e.emit("node-drag-leave",p.node,h.node,c),e.emit("node-drag-enter",p.node,f.node,c)),g||v||y?i.value.dropNode=f:i.value.dropNode=null,f.node.nextSibling===p.node&&(y=!1),f.node.previousSibling===p.node&&(g=!1),f.node.contains(p.node,!1)&&(v=!1),(p.node===f.node||p.node.contains(f.node))&&(g=!1,v=!1,y=!1);const b=f.$el.querySelector(`.${o.be("node","content")}`).getBoundingClientRect(),w=n.value.getBoundingClientRect();let S;const E=g?v?.25:y?.45:1:-1,T=y?v?.75:g?.55:0:1;let I=-9999;const k=c.clientY-b.top;k<b.height*E?S="before":k>b.height*T?S="after":v?S="inner":S="none";const C=f.$el.querySelector(`.${o.be("node","expand-icon")}`).getBoundingClientRect(),N=r.value;S==="before"?I=C.top-w.top:S==="after"&&(I=C.bottom-w.top),N.style.top=`${I}px`,N.style.left=`${C.right-w.left}px`,S==="inner"?Js(f.$el,o.is("drop-inner")):ns(f.$el,o.is("drop-inner")),i.value.showDropIndicator=S==="before"||S==="after",i.value.allowDrop=i.value.showDropIndicator||_,i.value.dropType=S,e.emit("node-drag-over",p.node,f.node,c)},treeNodeDragEnd:c=>{const{draggingNode:d,dropType:f,dropNode:h}=i.value;if(c.preventDefault(),c.dataTransfer&&(c.dataTransfer.dropEffect="move"),d&&h){const p={data:d.node.data};f!=="none"&&d.node.remove(),f==="before"?h.node.parent.insertBefore(p,h.node):f==="after"?h.node.parent.insertAfter(p,h.node):f==="inner"&&h.node.insertChild(p),f!=="none"&&(s.value.registerNode(p),s.value.key&&d.node.eachNode(g=>{var v;(v=s.value.nodesMap[g.data[s.value.key]])==null||v.setChecked(g.checked,!s.value.checkStrictly)})),ns(h.$el,o.is("drop-inner")),e.emit("node-drag-end",d.node,h.node,f,c),f!=="none"&&e.emit("node-drop",d.node,h.node,f,c)}d&&!h&&e.emit("node-drag-end",d.node,null,f,c),i.value.showDropIndicator=!1,i.value.draggingNode=null,i.value.dropNode=null,i.value.allowDrop=!0}}),{dragState:i}}const Yse=ee({name:"ElTreeNode",components:{ElCollapseTransition:yf,ElCheckbox:uo,NodeContent:Gse,ElIcon:lt,Loading:ii},props:{node:{type:wy,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,e){const n=Ne("tree"),{broadcastExpanded:r}=v$(t),s=rt("RootTree"),o=q(!1),i=q(!1),a=q(),u=q(),l=q(),c=rt(y$),d=Gt();Qt("NodeInstance",d),t.node.expanded&&(o.value=!0,i.value=!0);const f=s.props.props.children||"children";Pe(()=>{var k;const C=(k=t.node.data)==null?void 0:k[f];return C&&[...C]},()=>{t.node.updateChildren()}),Pe(()=>t.node.indeterminate,k=>{g(t.node.checked,k)}),Pe(()=>t.node.checked,k=>{g(k,t.node.indeterminate)}),Pe(()=>t.node.childNodes.length,()=>t.node.reInitChecked()),Pe(()=>t.node.expanded,k=>{pt(()=>o.value=k),k&&(i.value=!0)});const h=k=>_w(s.props.nodeKey,k.data),p=k=>{const C=t.props.class;if(!C)return{};let N;if(vt(C)){const{data:D}=k;N=C(D,k)}else N=C;return ht(N)?{[N]:!0}:N},g=(k,C)=>{(a.value!==k||u.value!==C)&&s.ctx.emit("check-change",t.node.data,k,C),a.value=k,u.value=C},v=k=>{yy(s.store,s.ctx.emit,()=>{var C;if((C=s==null?void 0:s.props)==null?void 0:C.nodeKey){const D=h(t.node);s.store.value.setCurrentNodeKey(D)}else s.store.value.setCurrentNode(t.node)}),s.currentNode.value=t.node,s.props.expandOnClickNode&&_(),(s.props.checkOnClickNode||t.node.isLeaf&&s.props.checkOnClickLeaf&&t.showCheckbox)&&!t.node.disabled&&b(!t.node.checked),s.ctx.emit("node-click",t.node.data,t.node,d,k)},y=k=>{var C;(C=s.instance.vnode.props)!=null&&C.onNodeContextmenu&&(k.stopPropagation(),k.preventDefault()),s.ctx.emit("node-contextmenu",k,t.node.data,t.node,d)},_=()=>{t.node.isLeaf||(o.value?(s.ctx.emit("node-collapse",t.node.data,t.node,d),t.node.collapse()):t.node.expand(()=>{e.emit("node-expand",t.node.data,t.node,d)}))},b=k=>{t.node.setChecked(k,!(s!=null&&s.props.checkStrictly)),pt(()=>{const C=s.store.value;s.ctx.emit("check",t.node.data,{checkedNodes:C.getCheckedNodes(),checkedKeys:C.getCheckedKeys(),halfCheckedNodes:C.getHalfCheckedNodes(),halfCheckedKeys:C.getHalfCheckedKeys()})})};return{ns:n,node$:l,tree:s,expanded:o,childNodeRendered:i,oldChecked:a,oldIndeterminate:u,getNodeKey:h,getNodeClass:p,handleSelectChange:g,handleClick:v,handleContextMenu:y,handleExpandIconClick:_,handleCheckChange:b,handleChildNodeExpand:(k,C,N)=>{r(C),s.ctx.emit("node-expand",k,C,N)},handleDragStart:k=>{s.props.draggable&&c.treeNodeDragStart({event:k,treeNode:t})},handleDragOver:k=>{k.preventDefault(),s.props.draggable&&c.treeNodeDragOver({event:k,treeNode:{$el:l.value,node:t.node}})},handleDrop:k=>{k.preventDefault()},handleDragEnd:k=>{s.props.draggable&&c.treeNodeDragEnd(k)},CaretRight:Nm}}});function Xse(t,e,n,r,s,o){const i=qt("el-icon"),a=qt("el-checkbox"),u=qt("loading"),l=qt("node-content"),c=qt("el-tree-node"),d=qt("el-collapse-transition");return At((L(),G("div",{ref:"node$",class:U([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:St(t.handleClick,["stop"]),onContextmenu:t.handleContextMenu,onDragstart:St(t.handleDragStart,["stop"]),onDragover:St(t.handleDragOver,["stop"]),onDragend:St(t.handleDragEnd,["stop"]),onDrop:St(t.handleDrop,["stop"])},[F("div",{class:U(t.ns.be("node","content")),style:dt({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(L(),ye(i,{key:0,class:U([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:St(t.handleExpandIconClick,["stop"])},{default:O(()=>[(L(),ye(Wt(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):ce("v-if",!0),t.showCheckbox?(L(),ye(a,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:St(()=>{},["stop"]),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):ce("v-if",!0),t.node.loading?(L(),ye(i,{key:2,class:U([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:O(()=>[A(u)]),_:1},8,["class"])):ce("v-if",!0),A(l,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),A(d,null,{default:O(()=>[!t.renderAfterExpand||t.childNodeRendered?At((L(),G("div",{key:0,class:U(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded,onClick:St(()=>{},["stop"])},[(L(!0),G(tt,null,It(t.node.childNodes,f=>(L(),ye(c,{key:t.getNodeKey(f),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:f,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded","onClick"])),[[nn,t.expanded]]):ce("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[nn,t.node.visible]])}var Qse=Ye(Yse,[["render",Xse],["__file","tree-node.vue"]]);function Zse({el$:t},e){const n=Ne("tree");xt(()=>{s()}),$o(()=>{Array.from(t.value.querySelectorAll("input[type=checkbox]")).forEach(i=>{i.setAttribute("tabindex","-1")})}),xn(t,"keydown",o=>{const i=o.target;if(!i.className.includes(n.b("node")))return;const a=o.code,u=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),l=u.indexOf(i);let c;if([ot.up,ot.down].includes(a)){if(o.preventDefault(),a===ot.up){c=l===-1?0:l!==0?l-1:u.length-1;const f=c;for(;!e.value.getNode(u[c].dataset.key).canFocus;){if(c--,c===f){c=-1;break}c<0&&(c=u.length-1)}}else{c=l===-1?0:l<u.length-1?l+1:0;const f=c;for(;!e.value.getNode(u[c].dataset.key).canFocus;){if(c++,c===f){c=-1;break}c>=u.length&&(c=0)}}c!==-1&&u[c].focus()}[ot.left,ot.right].includes(a)&&(o.preventDefault(),i.click());const d=i.querySelector('[type="checkbox"]');[ot.enter,ot.numpadEnter,ot.space].includes(a)&&d&&(o.preventDefault(),d.click())});const s=()=>{var o;const i=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));Array.from(t.value.querySelectorAll("input[type=checkbox]")).forEach(l=>{l.setAttribute("tabindex","-1")});const u=t.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(u.length){u[0].setAttribute("tabindex","0");return}(o=i[0])==null||o.setAttribute("tabindex","0")}}const Jse=ee({name:"ElTree",components:{ElTreeNode:Qse},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:_n}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,e){const{t:n}=un(),r=Ne("tree"),s=rt(dc,null),o=q(new zse({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));o.value.initialize();const i=q(o.value.root),a=q(null),u=q(null),l=q(null),{broadcastExpanded:c}=v$(t),{dragState:d}=qse({props:t,ctx:e,el$:u,dropIndicator$:l,store:o});Zse({el$:u},o);const f=P(()=>{const{childNodes:M}=i.value,B=s?s.hasFilteredOptions!==0:!1;return(!M||M.length===0||M.every(({visible:j})=>!j))&&!B});Pe(()=>t.currentNodeKey,M=>{o.value.setCurrentNodeKey(M)}),Pe(()=>t.defaultCheckedKeys,M=>{o.value.setDefaultCheckedKey(M)}),Pe(()=>t.defaultExpandedKeys,M=>{o.value.setDefaultExpandedKeys(M)}),Pe(()=>t.data,M=>{o.value.setData(M)},{deep:!0}),Pe(()=>t.checkStrictly,M=>{o.value.checkStrictly=M});const h=M=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");o.value.filter(M)},p=M=>_w(t.nodeKey,M.data),g=M=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const B=o.value.getNode(M);if(!B)return[];const j=[B.data];let X=B.parent;for(;X&&X!==i.value;)j.push(X.data),X=X.parent;return j.reverse()},v=(M,B)=>o.value.getCheckedNodes(M,B),y=M=>o.value.getCheckedKeys(M),_=()=>{const M=o.value.getCurrentNode();return M?M.data:null},b=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const M=_();return M?M[t.nodeKey]:null},w=(M,B)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");o.value.setCheckedNodes(M,B)},S=(M,B)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");o.value.setCheckedKeys(M,B)},E=(M,B,j)=>{o.value.setChecked(M,B,j)},T=()=>o.value.getHalfCheckedNodes(),I=()=>o.value.getHalfCheckedKeys(),k=(M,B=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");yy(o,e.emit,()=>{c(M),o.value.setUserCurrentNode(M,B)})},C=(M,B=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");yy(o,e.emit,()=>{c(),o.value.setCurrentNodeKey(M,B)})},N=M=>o.value.getNode(M),D=M=>{o.value.remove(M)},W=(M,B)=>{o.value.append(M,B)},H=(M,B)=>{o.value.insertBefore(M,B)},V=(M,B)=>{o.value.insertAfter(M,B)},R=(M,B,j)=>{c(B),e.emit("node-expand",M,B,j)},z=(M,B)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");o.value.updateChildren(M,B)};return Qt("RootTree",{ctx:e,props:t,store:o,root:i,currentNode:a,instance:Gt()}),Qt(ai,void 0),{ns:r,store:o,root:i,currentNode:a,dragState:d,el$:u,dropIndicator$:l,isEmpty:f,filter:h,getNodeKey:p,getNodePath:g,getCheckedNodes:v,getCheckedKeys:y,getCurrentNode:_,getCurrentKey:b,setCheckedNodes:w,setCheckedKeys:S,setChecked:E,getHalfCheckedNodes:T,getHalfCheckedKeys:I,setCurrentNode:k,setCurrentKey:C,t:n,getNode:N,remove:D,append:W,insertBefore:H,insertAfter:V,handleNodeExpand:R,updateKeyChildren:z}}});function eoe(t,e,n,r,s,o){const i=qt("el-tree-node");return L(),G("div",{ref:"el$",class:U([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(L(!0),G(tt,null,It(t.root.childNodes,a=>(L(),ye(i,{key:t.getNodeKey(a),node:a,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(L(),G("div",{key:0,class:U(t.ns.e("empty-block"))},[ve(t.$slots,"empty",{},()=>{var a;return[F("span",{class:U(t.ns.e("empty-text"))},ge((a=t.emptyText)!=null?a:t.t("el.tree.emptyText")),3)]})],2)):ce("v-if",!0),At(F("div",{ref:"dropIndicator$",class:U(t.ns.e("drop-indicator"))},null,2),[[nn,t.dragState.showDropIndicator]])],2)}var toe=Ye(Jse,[["render",eoe],["__file","tree.vue"]]);const Wp=Bt(toe),noe=(t,{attrs:e,emit:n},{select:r,tree:s,key:o})=>{const i=Ne("tree-select");return Pe(()=>t.data,()=>{t.filterable&&pt(()=>{var u,l;(l=s.value)==null||l.filter((u=r.value)==null?void 0:u.states.inputValue)})},{flush:"post"}),{...So($r(t),Object.keys(fo.props)),...e,class:P(()=>e.class),style:P(()=>e.style),"onUpdate:modelValue":u=>n($t,u),valueKey:o,popperClass:P(()=>{const u=[i.e("popper")];return t.popperClass&&u.push(t.popperClass),u.join(" ")}),filterMethod:(u="")=>{var l;t.filterMethod?t.filterMethod(u):t.remoteMethod?t.remoteMethod(u):(l=s.value)==null||l.filter(u)}}},roe=ee({extends:ji,setup(t,e){const n=ji.setup(t,e);delete n.selectOptionClick;const r=Gt().proxy;return pt(()=>{n.select.states.cachedOptions.get(r.value)||n.select.onOptionCreate(r)}),Pe(()=>e.attrs.visible,s=>{pt(()=>{n.states.visible=s})},{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function _y(t){return t||t===0}function Sw(t){return Ke(t)&&t.length}function Yl(t){return Ke(t)?t:_y(t)?[t]:[]}function Qh(t,e,n,r,s){for(let o=0;o<t.length;o++){const i=t[o];if(e(i,o,t,s))return r?r(i,o,t,s):i;{const a=n(i);if(Sw(a)){const u=Qh(a,e,n,r,i);if(u)return u}}}}function Zh(t,e,n,r){for(let s=0;s<t.length;s++){const o=t[s];e(o,s,t,r);const i=n(o);Sw(i)&&Zh(i,e,n,o)}}const soe=(t,{attrs:e,slots:n,emit:r},{select:s,tree:o,key:i})=>{Pe(()=>t.modelValue,()=>{t.showCheckbox&&pt(()=>{const f=o.value;f&&!Lr(f.getCheckedKeys(),Yl(t.modelValue))&&f.setCheckedKeys(Yl(t.modelValue))})},{immediate:!0,deep:!0});const a=P(()=>({value:i.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...t.props})),u=(f,h)=>{var p;const g=a.value[f];return vt(g)?g(h,(p=o.value)==null?void 0:p.getNode(u("value",h))):h[g]},l=Yl(t.modelValue).map(f=>Qh(t.data||[],h=>u("value",h)===f,h=>u("children",h),(h,p,g,v)=>v&&u("value",v))).filter(f=>_y(f)),c=P(()=>{if(!t.renderAfterExpand&&!t.lazy)return[];const f=[];return Zh(t.data.concat(t.cacheData),h=>{const p=u("value",h);f.push({value:p,currentLabel:u("label",h),isDisabled:u("disabled",h)})},h=>u("children",h)),f}),d=()=>{var f;return(f=o.value)==null?void 0:f.getCheckedKeys().filter(h=>{var p;const g=(p=o.value)==null?void 0:p.getNode(h);return!xr(g)&&Ds(g.childNodes)})};return{...So($r(t),Object.keys(Wp.props)),...e,nodeKey:i,expandOnClickNode:P(()=>!t.checkStrictly&&t.expandOnClickNode),defaultExpandedKeys:P(()=>t.defaultExpandedKeys?t.defaultExpandedKeys.concat(l):l),renderContent:(f,{node:h,data:p,store:g})=>f(roe,{value:u("value",p),label:u("label",p),disabled:u("disabled",p),visible:h.visible},t.renderContent?()=>t.renderContent(f,{node:h,data:p,store:g}):n.default?()=>n.default({node:h,data:p,store:g}):void 0),filterNodeMethod:(f,h,p)=>t.filterNodeMethod?t.filterNodeMethod(f,h,p):f?new RegExp(x1(f),"i").test(u("label",h)||""):!0,onNodeClick:(f,h,p)=>{var g,v,y,_;if((g=e.onNodeClick)==null||g.call(e,f,h,p),!(t.showCheckbox&&t.checkOnClickNode)){if(!t.showCheckbox&&(t.checkStrictly||h.isLeaf)){if(!u("disabled",f)){const b=(v=s.value)==null?void 0:v.states.options.get(u("value",f));(y=s.value)==null||y.handleOptionSelect(b)}}else t.expandOnClickNode&&p.proxy.handleExpandIconClick();(_=s.value)==null||_.focus()}},onCheck:(f,h)=>{var p;if(!t.showCheckbox)return;const g=u("value",f),v={};Zh([o.value.store.root],w=>v[w.key]=w,w=>w.childNodes);const y=h.checkedKeys,_=t.multiple?Yl(t.modelValue).filter(w=>!(w in v)&&!y.includes(w)):[],b=_.concat(y);if(t.checkStrictly)r($t,t.multiple?b:b.includes(g)?g:void 0);else if(t.multiple){const w=d();r($t,_.concat(w))}else{const w=Qh([f],T=>!Sw(u("children",T))&&!u("disabled",T),T=>u("children",T)),S=w?u("value",w):void 0,E=_y(t.modelValue)&&!!Qh([f],T=>u("value",T)===t.modelValue,T=>u("children",T));r($t,S===t.modelValue||E?void 0:S)}pt(()=>{var w;const S=Yl(t.modelValue);o.value.setCheckedKeys(S),(w=e.onCheck)==null||w.call(e,f,{checkedKeys:o.value.getCheckedKeys(),checkedNodes:o.value.getCheckedNodes(),halfCheckedKeys:o.value.getHalfCheckedKeys(),halfCheckedNodes:o.value.getHalfCheckedNodes()})}),(p=s.value)==null||p.focus()},onNodeExpand:(f,h,p)=>{var g;(g=e.onNodeExpand)==null||g.call(e,f,h,p),pt(()=>{if(!t.checkStrictly&&t.lazy&&t.multiple&&h.checked){const v={},y=o.value.getCheckedKeys();Zh([o.value.store.root],w=>v[w.key]=w,w=>w.childNodes);const _=Yl(t.modelValue).filter(w=>!(w in v)&&!y.includes(w)),b=d();r($t,_.concat(b))}})},cacheOptions:c}};var ooe=ee({props:{data:{type:Array,default:()=>[]}},setup(t){const e=rt(dc);return Pe(()=>t.data,()=>{var n;t.data.forEach(s=>{e.states.cachedOptions.has(s.value)||e.states.cachedOptions.set(s.value,s)});const r=((n=e.selectRef)==null?void 0:n.querySelectorAll("input"))||[];an&&!Array.from(r).includes(document.activeElement)&&e.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const ioe=ee({name:"ElTreeSelect",inheritAttrs:!1,props:{...fo.props,...Wp.props,cacheData:{type:Array,default:()=>[]}},setup(t,e){const{slots:n,expose:r}=e,s=q(),o=q(),i=P(()=>t.nodeKey||t.valueKey||"value"),a=noe(t,e,{select:s,tree:o,key:i}),{cacheOptions:u,...l}=soe(t,e,{select:s,tree:o,key:i}),c=Ft({});return r(c),xt(()=>{Object.assign(c,{...So(o.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...So(s.value,["focus","blur","selectedLabel"])})}),()=>_t(fo,Ft({...a,ref:d=>s.value=d}),{...n,default:()=>[_t(ooe,{data:u.value}),_t(Wp,Ft({...l,ref:d=>o.value=d}))]})}});var aoe=Ye(ioe,[["__file","tree-select.vue"]]);const loe=Bt(aoe),Ew=Symbol(),uoe={key:-1,level:-1,data:{}};var Hc=(t=>(t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled",t.CLASS="",t))(Hc||{}),Sy=(t=>(t.ADD="add",t.DELETE="delete",t))(Sy||{});const b$={type:Number,default:26},coe=qe({data:{type:me(Array),default:()=>Yn([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:me(Object),default:()=>Yn({children:"children",label:"label",disabled:"disabled",value:"id",class:""})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:me(Array),default:()=>Yn([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:me(Array),default:()=>Yn([])},indent:{type:Number,default:16},itemSize:b$,icon:{type:_n},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},checkOnClickLeaf:{type:Boolean,default:!0},currentNodeKey:{type:me([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:me(Function)},perfMode:{type:Boolean,default:!0}}),doe=qe({node:{type:me(Object),default:()=>Yn(uoe)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:b$}),foe=qe({node:{type:me(Object),required:!0}}),w$="node-click",_$="node-drop",S$="node-expand",E$="node-collapse",x$="current-change",T$="check",C$="check-change",k$="node-contextmenu",hoe={[w$]:(t,e,n)=>t&&e&&n,[_$]:(t,e,n)=>t&&e&&n,[S$]:(t,e)=>t&&e,[E$]:(t,e)=>t&&e,[x$]:(t,e)=>t&&e,[T$]:(t,e)=>t&&e,[C$]:(t,e)=>t&&En(e),[k$]:(t,e,n)=>t&&e&&n},poe={click:(t,e)=>!!(t&&e),drop:(t,e)=>!!(t&&e),toggle:t=>!!t,check:(t,e)=>t&&En(e)};function moe(t,e){const n=q(new Set),r=q(new Set),{emit:s}=Gt();Pe([()=>e.value,()=>t.defaultCheckedKeys],()=>pt(()=>{_(t.defaultCheckedKeys)}),{immediate:!0});const o=()=>{if(!e.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:b,maxLevel:w}=e.value,S=n.value,E=new Set;for(let T=w-1;T>=1;--T){const I=b.get(T);I&&I.forEach(k=>{const C=k.children;if(C){let N=!0,D=!1;for(const W of C){const H=W.key;if(S.has(H))D=!0;else if(E.has(H)){N=!1,D=!0;break}else N=!1}N?S.add(k.key):D?(E.add(k.key),S.delete(k.key)):(S.delete(k.key),E.delete(k.key))}})}r.value=E},i=b=>n.value.has(b.key),a=b=>r.value.has(b.key),u=(b,w,S=!0,E=!0)=>{const T=n.value,I=(k,C)=>{T[C?Sy.ADD:Sy.DELETE](k.key);const N=k.children;!t.checkStrictly&&N&&N.forEach(D=>{D.disabled||I(D,C)})};I(b,w),E&&o(),S&&l(b,w)},l=(b,w)=>{const{checkedNodes:S,checkedKeys:E}=p(),{halfCheckedNodes:T,halfCheckedKeys:I}=g();s(T$,b.data,{checkedKeys:E,checkedNodes:S,halfCheckedKeys:I,halfCheckedNodes:T}),s(C$,b.data,w)};function c(b=!1){return p(b).checkedKeys}function d(b=!1){return p(b).checkedNodes}function f(){return g().halfCheckedKeys}function h(){return g().halfCheckedNodes}function p(b=!1){const w=[],S=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:E}=e.value;n.value.forEach(T=>{const I=E.get(T);I&&(!b||b&&I.isLeaf)&&(S.push(T),w.push(I.data))})}return{checkedKeys:S,checkedNodes:w}}function g(){const b=[],w=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:S}=e.value;r.value.forEach(E=>{const T=S.get(E);T&&(w.push(E),b.push(T.data))})}return{halfCheckedNodes:b,halfCheckedKeys:w}}function v(b){n.value.clear(),r.value.clear(),pt(()=>{_(b)})}function y(b,w){if(e!=null&&e.value&&t.showCheckbox){const S=e.value.treeNodeMap.get(b);S&&u(S,w,!1)}}function _(b){if(e!=null&&e.value){const{treeNodeMap:w}=e.value;if(t.showCheckbox&&w&&(b==null?void 0:b.length)>0){for(const S of b){const E=w.get(S);E&&!i(E)&&u(E,!0,!1,!1)}o()}}}return{updateCheckedKeys:o,toggleCheckbox:u,isChecked:i,isIndeterminate:a,getCheckedKeys:c,getCheckedNodes:d,getHalfCheckedKeys:f,getHalfCheckedNodes:h,setChecked:y,setCheckedKeys:v}}function goe(t,e){const n=q(new Set([])),r=q(new Set([])),s=P(()=>vt(t.filterMethod));function o(a){var u;if(!s.value)return;const l=new Set,c=r.value,d=n.value,f=[],h=((u=e.value)==null?void 0:u.treeNodes)||[],p=t.filterMethod;d.clear();function g(v){v.forEach(y=>{f.push(y),p!=null&&p(a,y.data,y)?f.forEach(b=>{l.add(b.key)}):y.isLeaf&&d.add(y.key);const _=y.children;if(_&&g(_),!y.isLeaf){if(!l.has(y.key))d.add(y.key);else if(_){let b=!0;for(const w of _)if(!d.has(w.key)){b=!1;break}b?c.add(y.key):c.delete(y.key)}}f.pop()})}return g(h),l}function i(a){return r.value.has(a.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:o,isForceHiddenExpandIcon:i}}function voe(t,e){const n=q(new Set(t.defaultExpandedKeys)),r=q(),s=On(),o=q();Pe(()=>t.currentNodeKey,pe=>{r.value=pe},{immediate:!0}),Pe(()=>t.data,pe=>{de(pe)},{immediate:!0});const{isIndeterminate:i,isChecked:a,toggleCheckbox:u,getCheckedKeys:l,getCheckedNodes:c,getHalfCheckedKeys:d,getHalfCheckedNodes:f,setChecked:h,setCheckedKeys:p}=moe(t,s),{doFilter:g,hiddenNodeKeySet:v,isForceHiddenExpandIcon:y}=goe(t,s),_=P(()=>{var pe;return((pe=t.props)==null?void 0:pe.value)||Hc.KEY}),b=P(()=>{var pe;return((pe=t.props)==null?void 0:pe.children)||Hc.CHILDREN}),w=P(()=>{var pe;return((pe=t.props)==null?void 0:pe.disabled)||Hc.DISABLED}),S=P(()=>{var pe;return((pe=t.props)==null?void 0:pe.label)||Hc.LABEL}),E=P(()=>{var pe;const ne=n.value,le=v.value,Se=[],Ce=((pe=s.value)==null?void 0:pe.treeNodes)||[],Ee=[];for(let we=Ce.length-1;we>=0;--we)Ee.push(Ce[we]);for(;Ee.length;){const we=Ee.pop();if(!le.has(we.key)&&(Se.push(we),we.children&&ne.has(we.key)))for(let Le=we.children.length-1;Le>=0;--Le)Ee.push(we.children[Le])}return Se}),T=P(()=>E.value.length>0);function I(pe){const ne=new Map,le=new Map;let Se=1;function Ce(we,Le=1,Be=void 0){var Ue;const je=[];for(const at of we){const Ie=N(at),Ze={level:Le,key:Ie,data:at};Ze.label=W(at),Ze.parent=Be;const mt=C(at);Ze.disabled=D(at),Ze.isLeaf=!mt||mt.length===0,mt&&mt.length&&(Ze.children=Ce(mt,Le+1,Ze)),je.push(Ze),ne.set(Ie,Ze),le.has(Le)||le.set(Le,[]),(Ue=le.get(Le))==null||Ue.push(Ze)}return Le>Se&&(Se=Le),je}const Ee=Ce(pe);return{treeNodeMap:ne,levelTreeNodeMap:le,maxLevel:Se,treeNodes:Ee}}function k(pe){const ne=g(pe);ne&&(n.value=ne)}function C(pe){return pe[b.value]}function N(pe){return pe?pe[_.value]:""}function D(pe){return pe[w.value]}function W(pe){return pe[S.value]}function H(pe){n.value.has(pe.key)?X(pe):j(pe)}function V(pe){const ne=new Set,le=s.value.treeNodeMap;pe.forEach(Se=>{let Ce=le.get(Se);for(;Ce&&!ne.has(Ce.key);)ne.add(Ce.key),Ce=Ce.parent}),n.value=ne}function R(pe,ne){e(w$,pe.data,pe,ne),M(pe),t.expandOnClickNode&&H(pe),t.showCheckbox&&(t.checkOnClickNode||pe.isLeaf&&t.checkOnClickLeaf)&&!pe.disabled&&u(pe,!a(pe),!0)}function z(pe,ne){e(_$,pe.data,pe,ne)}function M(pe){ie(pe)||(r.value=pe.key,e(x$,pe.data,pe))}function B(pe,ne){u(pe,ne)}function j(pe){const ne=n.value;if(s.value&&t.accordion){const{treeNodeMap:le}=s.value;ne.forEach(Se=>{const Ce=le.get(Se);pe&&pe.level===(Ce==null?void 0:Ce.level)&&ne.delete(Se)})}ne.add(pe.key),e(S$,pe.data,pe)}function X(pe){n.value.delete(pe.key),e(E$,pe.data,pe)}function se(pe){return n.value.has(pe.key)}function te(pe){return!!pe.disabled}function ie(pe){const ne=r.value;return ne!==void 0&&ne===pe.key}function fe(){var pe,ne;if(r.value)return(ne=(pe=s.value)==null?void 0:pe.treeNodeMap.get(r.value))==null?void 0:ne.data}function ue(){return r.value}function J(pe){r.value=pe}function de(pe){pt(()=>s.value=I(pe))}function ae(pe){var ne;const le=Kt(pe)?N(pe):pe;return(ne=s.value)==null?void 0:ne.treeNodeMap.get(le)}function Ae(pe,ne="auto"){const le=ae(pe);le&&o.value&&o.value.scrollToItem(E.value.indexOf(le),ne)}function Re(pe){var ne;(ne=o.value)==null||ne.scrollTo(pe)}return{tree:s,flattenTree:E,isNotEmpty:T,listRef:o,getKey:N,getChildren:C,toggleExpand:H,toggleCheckbox:u,isExpanded:se,isChecked:a,isIndeterminate:i,isDisabled:te,isCurrent:ie,isForceHiddenExpandIcon:y,handleNodeClick:R,handleNodeDrop:z,handleNodeCheck:B,getCurrentNode:fe,getCurrentKey:ue,setCurrentKey:J,getCheckedKeys:l,getCheckedNodes:c,getHalfCheckedKeys:d,getHalfCheckedNodes:f,setChecked:h,setCheckedKeys:p,filter:k,setData:de,getNode:ae,expandNode:j,collapseNode:X,setExpandedKeys:V,scrollToNode:Ae,scrollTo:Re}}var yoe=ee({name:"ElTreeNodeContent",props:foe,setup(t){const e=rt(Ew),n=Ne("tree");return()=>{const r=t.node,{data:s}=r;return e!=null&&e.ctx.slots.default?e.ctx.slots.default({node:r,data:s}):_t(uw,{tag:"span",truncated:!0,class:n.be("node","label")},()=>[r==null?void 0:r.label])}}});const boe=ee({name:"ElTreeNode"}),woe=ee({...boe,props:doe,emits:poe,setup(t,{emit:e}){const n=t,r=rt(Ew),s=Ne("tree"),o=P(()=>{var h;return(h=r==null?void 0:r.props.indent)!=null?h:16}),i=P(()=>{var h;return(h=r==null?void 0:r.props.icon)!=null?h:Nm}),a=h=>{const p=r==null?void 0:r.props.props.class;if(!p)return{};let g;if(vt(p)){const{data:v}=h;g=p(v,h)}else g=p;return ht(g)?{[g]:!0}:g},u=h=>{e("click",n.node,h)},l=h=>{e("drop",n.node,h)},c=()=>{e("toggle",n.node)},d=h=>{e("check",n.node,h)},f=h=>{var p,g,v,y;(v=(g=(p=r==null?void 0:r.instance)==null?void 0:p.vnode)==null?void 0:g.props)!=null&&v.onNodeContextmenu&&(h.stopPropagation(),h.preventDefault()),r==null||r.ctx.emit(k$,h,(y=n.node)==null?void 0:y.data,n.node)};return(h,p)=>{var g,v,y;return L(),G("div",{ref:"node$",class:U([m(s).b("node"),m(s).is("expanded",h.expanded),m(s).is("current",h.current),m(s).is("focusable",!h.disabled),m(s).is("checked",!h.disabled&&h.checked),a(h.node)]),role:"treeitem",tabindex:"-1","aria-expanded":h.expanded,"aria-disabled":h.disabled,"aria-checked":h.checked,"data-key":(g=h.node)==null?void 0:g.key,onClick:St(u,["stop"]),onContextmenu:f,onDragover:St(()=>{},["prevent"]),onDragenter:St(()=>{},["prevent"]),onDrop:St(l,["stop"])},[F("div",{class:U(m(s).be("node","content")),style:dt({paddingLeft:`${(h.node.level-1)*m(o)}px`,height:h.itemSize+"px"})},[m(i)?(L(),ye(m(lt),{key:0,class:U([m(s).is("leaf",!!((v=h.node)!=null&&v.isLeaf)),m(s).is("hidden",h.hiddenExpandIcon),{expanded:!((y=h.node)!=null&&y.isLeaf)&&h.expanded},m(s).be("node","expand-icon")]),onClick:St(c,["stop"])},{default:O(()=>[(L(),ye(Wt(m(i))))]),_:1},8,["class","onClick"])):ce("v-if",!0),h.showCheckbox?(L(),ye(m(uo),{key:1,"model-value":h.checked,indeterminate:h.indeterminate,disabled:h.disabled,onChange:d,onClick:St(()=>{},["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):ce("v-if",!0),A(m(yoe),{node:h.node},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick","onDragover","onDragenter","onDrop"])}}});var _oe=Ye(woe,[["__file","tree-node.vue"]]);const Soe=ee({name:"ElTreeV2"}),Eoe=ee({...Soe,props:coe,emits:hoe,setup(t,{expose:e,emit:n}){const r=t,s=_r(),o=P(()=>r.itemSize);Qt(Ew,{ctx:{emit:n,slots:s},props:r,instance:Gt()}),Qt(ai,void 0);const{t:i}=un(),a=Ne("tree"),{flattenTree:u,isNotEmpty:l,listRef:c,toggleExpand:d,isExpanded:f,isIndeterminate:h,isChecked:p,isDisabled:g,isCurrent:v,isForceHiddenExpandIcon:y,handleNodeClick:_,handleNodeDrop:b,handleNodeCheck:w,toggleCheckbox:S,getCurrentNode:E,getCurrentKey:T,setCurrentKey:I,getCheckedKeys:k,getCheckedNodes:C,getHalfCheckedKeys:N,getHalfCheckedNodes:D,setChecked:W,setCheckedKeys:H,filter:V,setData:R,getNode:z,expandNode:M,collapseNode:B,setExpandedKeys:j,scrollToNode:X,scrollTo:se}=voe(r,n);return e({toggleCheckbox:S,getCurrentNode:E,getCurrentKey:T,setCurrentKey:I,getCheckedKeys:k,getCheckedNodes:C,getHalfCheckedKeys:N,getHalfCheckedNodes:D,setChecked:W,setCheckedKeys:H,filter:V,setData:R,getNode:z,expandNode:M,collapseNode:B,setExpandedKeys:j,scrollToNode:X,scrollTo:se}),(te,ie)=>(L(),G("div",{class:U([m(a).b(),{[m(a).m("highlight-current")]:te.highlightCurrent}]),role:"tree"},[m(l)?(L(),ye(m(uL),{key:0,ref_key:"listRef",ref:c,"class-name":m(a).b("virtual-list"),data:m(u),total:m(u).length,height:te.height,"item-size":m(o),"perf-mode":te.perfMode},{default:O(({data:fe,index:ue,style:J})=>[(L(),ye(_oe,{key:fe[ue].key,style:dt(J),node:fe[ue],expanded:m(f)(fe[ue]),"show-checkbox":te.showCheckbox,checked:m(p)(fe[ue]),indeterminate:m(h)(fe[ue]),"item-size":m(o),disabled:m(g)(fe[ue]),current:m(v)(fe[ue]),"hidden-expand-icon":m(y)(fe[ue]),onClick:m(_),onToggle:m(d),onCheck:m(w),onDrop:m(b)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(L(),G("div",{key:1,class:U(m(a).e("empty-block"))},[ve(te.$slots,"empty",{},()=>{var fe;return[F("span",{class:U(m(a).e("empty-text"))},ge((fe=te.emptyText)!=null?fe:m(i)("el.tree.emptyText")),3)]})],2))],2))}});var xoe=Ye(Eoe,[["__file","tree.vue"]]);const Toe=Bt(xoe),I$=Symbol("uploadContextKey"),Coe="ElUpload";class koe extends Error{constructor(e,n,r,s){super(e),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=s}}function Yx(t,e,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${e.method} ${t} ${n.status}`,new koe(r,n.status,e.method,t)}function Ioe(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const Aoe=t=>{typeof XMLHttpRequest>"u"&&hr(Coe,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,n=t.action;e.upload&&e.upload.addEventListener("progress",o=>{const i=o;i.percent=o.total>0?o.loaded/o.total*100:0,t.onProgress(i)});const r=new FormData;if(t.data)for(const[o,i]of Object.entries(t.data))Ke(i)&&i.length?r.append(o,...i):r.append(o,i);r.append(t.filename,t.file,t.file.name),e.addEventListener("error",()=>{t.onError(Yx(n,t,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return t.onError(Yx(n,t,e));t.onSuccess(Ioe(e))}),e.open(t.method,n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const s=t.headers||{};if(s instanceof Headers)s.forEach((o,i)=>e.setRequestHeader(i,o));else for(const[o,i]of Object.entries(s))xr(i)||e.setRequestHeader(o,String(i));return e.send(r),e},A$=["text","picture","picture-card"];let Roe=1;const Ey=()=>Date.now()+Roe++,R$=qe({action:{type:String,default:"#"},headers:{type:me(Object)},method:{type:String,default:"post"},data:{type:me([Object,Function,Promise]),default:()=>Yn({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:me(Array),default:()=>Yn([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:A$,default:"text"},httpRequest:{type:me(Function),default:Aoe},disabled:Boolean,limit:Number}),Loe=qe({...R$,beforeUpload:{type:me(Function),default:bn},beforeRemove:{type:me(Function)},onRemove:{type:me(Function),default:bn},onChange:{type:me(Function),default:bn},onPreview:{type:me(Function),default:bn},onSuccess:{type:me(Function),default:bn},onProgress:{type:me(Function),default:bn},onError:{type:me(Function),default:bn},onExceed:{type:me(Function),default:bn},crossorigin:{type:me(String)}}),$oe=qe({files:{type:me(Array),default:()=>Yn([])},disabled:{type:Boolean,default:!1},handlePreview:{type:me(Function),default:bn},listType:{type:String,values:A$,default:"text"},crossorigin:{type:me(String)}}),Poe={remove:t=>!!t},Doe=ee({name:"ElUploadList"}),Ooe=ee({...Doe,props:$oe,emits:Poe,setup(t,{emit:e}){const n=t,{t:r}=un(),s=Ne("upload"),o=Ne("icon"),i=Ne("list"),a=zr(),u=q(!1),l=P(()=>[s.b("list"),s.bm("list",n.listType),s.is("disabled",n.disabled)]),c=d=>{e("remove",d)};return(d,f)=>(L(),ye(bk,{tag:"ul",class:U(m(l)),name:m(i).b()},{default:O(()=>[(L(!0),G(tt,null,It(d.files,(h,p)=>(L(),G("li",{key:h.uid||h.name,class:U([m(s).be("list","item"),m(s).is(h.status),{focusing:u.value}]),tabindex:"0",onKeydown:Sn(g=>!m(a)&&c(h),["delete"]),onFocus:g=>u.value=!0,onBlur:g=>u.value=!1,onClick:g=>u.value=!1},[ve(d.$slots,"default",{file:h,index:p},()=>[d.listType==="picture"||h.status!=="uploading"&&d.listType==="picture-card"?(L(),G("img",{key:0,class:U(m(s).be("list","item-thumbnail")),src:h.url,crossorigin:d.crossorigin,alt:""},null,10,["src","crossorigin"])):ce("v-if",!0),h.status==="uploading"||d.listType!=="picture-card"?(L(),G("div",{key:1,class:U(m(s).be("list","item-info"))},[F("a",{class:U(m(s).be("list","item-name")),onClick:St(g=>d.handlePreview(h),["prevent"])},[A(m(lt),{class:U(m(o).m("document"))},{default:O(()=>[A(m(KV))]),_:1},8,["class"]),F("span",{class:U(m(s).be("list","item-file-name")),title:h.name},ge(h.name),11,["title"])],10,["onClick"]),h.status==="uploading"?(L(),ye(m(ZR),{key:0,type:d.listType==="picture-card"?"circle":"line","stroke-width":d.listType==="picture-card"?6:2,percentage:Number(h.percentage),style:dt(d.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):ce("v-if",!0)],2)):ce("v-if",!0),F("label",{class:U(m(s).be("list","item-status-label"))},[d.listType==="text"?(L(),ye(m(lt),{key:0,class:U([m(o).m("upload-success"),m(o).m("circle-check")])},{default:O(()=>[A(m(Yb))]),_:1},8,["class"])):["picture-card","picture"].includes(d.listType)?(L(),ye(m(lt),{key:1,class:U([m(o).m("upload-success"),m(o).m("check")])},{default:O(()=>[A(m(df))]),_:1},8,["class"])):ce("v-if",!0)],2),m(a)?ce("v-if",!0):(L(),ye(m(lt),{key:2,class:U(m(o).m("close")),onClick:g=>c(h)},{default:O(()=>[A(m(io))]),_:2},1032,["class","onClick"])),ce(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),ce(" This is a bug which needs to be fixed "),ce(" TODO: Fix the incorrect navigation interaction "),m(a)?ce("v-if",!0):(L(),G("i",{key:3,class:U(m(o).m("close-tip"))},ge(m(r)("el.upload.deleteTip")),3)),d.listType==="picture-card"?(L(),G("span",{key:4,class:U(m(s).be("list","item-actions"))},[F("span",{class:U(m(s).be("list","item-preview")),onClick:g=>d.handlePreview(h)},[A(m(lt),{class:U(m(o).m("zoom-in"))},{default:O(()=>[A(m(n1))]),_:1},8,["class"])],10,["onClick"]),m(a)?ce("v-if",!0):(L(),G("span",{key:0,class:U(m(s).be("list","item-delete")),onClick:g=>c(h)},[A(m(lt),{class:U(m(o).m("delete"))},{default:O(()=>[A(m(Ol))]),_:1},8,["class"])],10,["onClick"]))],2)):ce("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),ve(d.$slots,"append")]),_:3},8,["class","name"]))}});var Xx=Ye(Ooe,[["__file","upload-list.vue"]]);const Moe=qe({disabled:{type:Boolean,default:!1}}),Noe={file:t=>Ke(t)},L$="ElUploadDrag",Foe=ee({name:L$}),Boe=ee({...Foe,props:Moe,emits:Noe,setup(t,{emit:e}){rt(I$)||hr(L$,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=Ne("upload"),s=q(!1),o=zr(),i=u=>{if(o.value)return;s.value=!1,u.stopPropagation();const l=Array.from(u.dataTransfer.files),c=u.dataTransfer.items||[];l.forEach((d,f)=>{var h;const p=c[f],g=(h=p==null?void 0:p.webkitGetAsEntry)==null?void 0:h.call(p);g&&(d.isDirectory=g.isDirectory)}),e("file",l)},a=()=>{o.value||(s.value=!0)};return(u,l)=>(L(),G("div",{class:U([m(r).b("dragger"),m(r).is("dragover",s.value)]),onDrop:St(i,["prevent"]),onDragover:St(a,["prevent"]),onDragleave:St(c=>s.value=!1,["prevent"])},[ve(u.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var Voe=Ye(Boe,[["__file","upload-dragger.vue"]]);const Uoe=qe({...R$,beforeUpload:{type:me(Function),default:bn},onRemove:{type:me(Function),default:bn},onStart:{type:me(Function),default:bn},onSuccess:{type:me(Function),default:bn},onProgress:{type:me(Function),default:bn},onError:{type:me(Function),default:bn},onExceed:{type:me(Function),default:bn}}),Hoe=ee({name:"ElUploadContent",inheritAttrs:!1}),joe=ee({...Hoe,props:Uoe,setup(t,{expose:e}){const n=t,r=Ne("upload"),s=zr(),o=On({}),i=On(),a=g=>{if(g.length===0)return;const{autoUpload:v,limit:y,fileList:_,multiple:b,onStart:w,onExceed:S}=n;if(y&&_.length+g.length>y){S(g,_);return}b||(g=g.slice(0,1));for(const E of g){const T=E;T.uid=Ey(),w(T),v&&u(T)}},u=async g=>{if(i.value.value="",!n.beforeUpload)return c(g);let v,y={};try{const b=n.data,w=n.beforeUpload(g);y=fd(n.data)?Tp(n.data):n.data,v=await w,fd(n.data)&&Lr(b,y)&&(y=Tp(n.data))}catch{v=!1}if(v===!1){n.onRemove(g);return}let _=g;v instanceof Blob&&(v instanceof File?_=v:_=new File([v],g.name,{type:g.type})),c(Object.assign(_,{uid:g.uid}),y)},l=async(g,v)=>vt(g)?g(v):g,c=async(g,v)=>{const{headers:y,data:_,method:b,withCredentials:w,name:S,action:E,onProgress:T,onSuccess:I,onError:k,httpRequest:C}=n;try{v=await l(v??_,g)}catch{n.onRemove(g);return}const{uid:N}=g,D={headers:y||{},withCredentials:w,file:g,data:v,method:b,filename:S,action:E,onProgress:H=>{T(H,g)},onSuccess:H=>{I(H,g),delete o.value[N]},onError:H=>{k(H,g),delete o.value[N]}},W=C(D);o.value[N]=W,W instanceof Promise&&W.then(D.onSuccess,D.onError)},d=g=>{const v=g.target.files;v&&a(Array.from(v))},f=()=>{s.value||(i.value.value="",i.value.click())},h=()=>{f()};return e({abort:g=>{EI(o.value).filter(g?([y])=>String(g.uid)===y:()=>!0).forEach(([y,_])=>{_ instanceof XMLHttpRequest&&_.abort(),delete o.value[y]})},upload:u}),(g,v)=>(L(),G("div",{class:U([m(r).b(),m(r).m(g.listType),m(r).is("drag",g.drag),m(r).is("disabled",m(s))]),tabindex:m(s)?"-1":"0",onClick:f,onKeydown:Sn(St(h,["self"]),["enter","space"])},[g.drag?(L(),ye(Voe,{key:0,disabled:m(s),onFile:a},{default:O(()=>[ve(g.$slots,"default")]),_:3},8,["disabled"])):ve(g.$slots,"default",{key:1}),F("input",{ref_key:"inputRef",ref:i,class:U(m(r).e("input")),name:g.name,disabled:m(s),multiple:g.multiple,accept:g.accept,type:"file",onChange:d,onClick:St(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var Qx=Ye(joe,[["__file","upload-content.vue"]]);const Zx="ElUpload",Jx=t=>{var e;(e=t.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(t.url)},Koe=(t,e)=>{const n=mI(t,"fileList",void 0,{passive:!0}),r=h=>n.value.find(p=>p.uid===h.uid);function s(h){var p;(p=e.value)==null||p.abort(h)}function o(h=["ready","uploading","success","fail"]){n.value=n.value.filter(p=>!h.includes(p.status))}function i(h){n.value=n.value.filter(p=>p.uid!==h.uid)}const a=(h,p)=>{const g=r(p);g&&(console.error(h),g.status="fail",i(g),t.onError(h,g,n.value),t.onChange(g,n.value))},u=(h,p)=>{const g=r(p);g&&(t.onProgress(h,g,n.value),g.status="uploading",g.percentage=Math.round(h.percent))},l=(h,p)=>{const g=r(p);g&&(g.status="success",g.response=h,t.onSuccess(h,g,n.value),t.onChange(g,n.value))},c=h=>{xr(h.uid)&&(h.uid=Ey());const p={name:h.name,percentage:0,status:"ready",size:h.size,raw:h,uid:h.uid};if(t.listType==="picture-card"||t.listType==="picture")try{p.url=URL.createObjectURL(h)}catch(g){g.message,t.onError(g,p,n.value)}n.value=[...n.value,p],t.onChange(p,n.value)},d=async h=>{const p=h instanceof File?r(h):h;p||hr(Zx,"file to be removed not found");const g=v=>{s(v),i(v),t.onRemove(v,n.value),Jx(v)};t.beforeRemove?await t.beforeRemove(p,n.value)!==!1&&g(p):g(p)};function f(){n.value.filter(({status:h})=>h==="ready").forEach(({raw:h})=>{var p;return h&&((p=e.value)==null?void 0:p.upload(h))})}return Pe(()=>t.listType,h=>{h!=="picture-card"&&h!=="picture"||(n.value=n.value.map(p=>{const{raw:g,url:v}=p;if(!v&&g)try{p.url=URL.createObjectURL(g)}catch(y){t.onError(y,p,n.value)}return p}))}),Pe(n,h=>{for(const p of h)p.uid||(p.uid=Ey()),p.status||(p.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:s,clearFiles:o,handleError:a,handleProgress:u,handleStart:c,handleSuccess:l,handleRemove:d,submit:f,revokeFileObjectURL:Jx}},zoe=ee({name:"ElUpload"}),Woe=ee({...zoe,props:Loe,setup(t,{expose:e}){const n=t,r=zr(),s=On(),{abort:o,submit:i,clearFiles:a,uploadFiles:u,handleStart:l,handleError:c,handleRemove:d,handleSuccess:f,handleProgress:h,revokeFileObjectURL:p}=Koe(n,s),g=P(()=>n.listType==="picture-card"),v=P(()=>({...n,fileList:u.value,onStart:l,onProgress:h,onSuccess:f,onError:c,onRemove:d}));return In(()=>{u.value.forEach(p)}),Qt(I$,{accept:wn(n,"accept")}),e({abort:o,submit:i,clearFiles:a,handleStart:l,handleRemove:d}),(y,_)=>(L(),G("div",null,[m(g)&&y.showFileList?(L(),ye(Xx,{key:0,disabled:m(r),"list-type":y.listType,files:m(u),crossorigin:y.crossorigin,"handle-preview":y.onPreview,onRemove:m(d)},js({append:O(()=>[A(Qx,Xt({ref_key:"uploadRef",ref:s},m(v)),{default:O(()=>[y.$slots.trigger?ve(y.$slots,"trigger",{key:0}):ce("v-if",!0),!y.$slots.trigger&&y.$slots.default?ve(y.$slots,"default",{key:1}):ce("v-if",!0)]),_:3},16)]),_:2},[y.$slots.file?{name:"default",fn:O(({file:b,index:w})=>[ve(y.$slots,"file",{file:b,index:w})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):ce("v-if",!0),!m(g)||m(g)&&!y.showFileList?(L(),ye(Qx,Xt({key:1,ref_key:"uploadRef",ref:s},m(v)),{default:O(()=>[y.$slots.trigger?ve(y.$slots,"trigger",{key:0}):ce("v-if",!0),!y.$slots.trigger&&y.$slots.default?ve(y.$slots,"default",{key:1}):ce("v-if",!0)]),_:3},16)):ce("v-if",!0),y.$slots.trigger?ve(y.$slots,"default",{key:2}):ce("v-if",!0),ve(y.$slots,"tip"),!m(g)&&y.showFileList?(L(),ye(Xx,{key:3,disabled:m(r),"list-type":y.listType,files:m(u),crossorigin:y.crossorigin,"handle-preview":y.onPreview,onRemove:m(d)},js({_:2},[y.$slots.file?{name:"default",fn:O(({file:b,index:w})=>[ve(y.$slots,"file",{file:b,index:w})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):ce("v-if",!0)]))}});var Goe=Ye(Woe,[["__file","upload.vue"]]);const ng=Bt(Goe),qoe=qe({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:me([String,Array]),default:"Element Plus"},font:{type:me(Object)},gap:{type:me(Array),default:()=>[100,100]},offset:{type:me(Array)}});function Yoe(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function Xoe(t){return Object.keys(t).map(e=>`${Yoe(e)}: ${t[e]};`).join(" ")}function Qoe(){return window.devicePixelRatio||1}const Zoe=(t,e)=>{let n=!1;return t.removedNodes.length&&e&&(n=Array.from(t.removedNodes).includes(e)),t.type==="attributes"&&t.target===e&&(n=!0),n},$$=3;function Tv(t,e,n=1){const r=document.createElement("canvas"),s=r.getContext("2d"),o=t*n,i=e*n;return r.setAttribute("width",`${o}px`),r.setAttribute("height",`${i}px`),s.save(),[s,r,o,i]}function Joe(){function t(e,n,r,s,o,i,a,u){const[l,c,d,f]=Tv(s,o,r);if(e instanceof HTMLImageElement)l.drawImage(e,0,0,d,f);else{const{color:X,fontSize:se,fontStyle:te,fontWeight:ie,fontFamily:fe,textAlign:ue,textBaseline:J}=i,de=Number(se)*r;l.font=`${te} normal ${ie} ${de}px/${o}px ${fe}`,l.fillStyle=X,l.textAlign=ue,l.textBaseline=J;const ae=Ke(e)?e:[e];ae==null||ae.forEach((Ae,Re)=>{l.fillText(Ae??"",d/2,Re*(de+$$*r))})}const h=Math.PI/180*Number(n),p=Math.max(s,o),[g,v,y]=Tv(p,p,r);g.translate(y/2,y/2),g.rotate(h),d>0&&f>0&&g.drawImage(c,-d/2,-f/2);function _(X,se){const te=X*Math.cos(h)-se*Math.sin(h),ie=X*Math.sin(h)+se*Math.cos(h);return[te,ie]}let b=0,w=0,S=0,E=0;const T=d/2,I=f/2;[[0-T,0-I],[0+T,0-I],[0+T,0+I],[0-T,0+I]].forEach(([X,se])=>{const[te,ie]=_(X,se);b=Math.min(b,te),w=Math.max(w,te),S=Math.min(S,ie),E=Math.max(E,ie)});const C=b+y/2,N=S+y/2,D=w-b,W=E-S,H=a*r,V=u*r,R=(D+H)*2,z=W+V,[M,B]=Tv(R,z);function j(X=0,se=0){M.drawImage(v,C,N,D,W,X,se,D,W)}return j(),j(D+H,-W/2-V/2),j(D+H,+W/2+V/2),[B.toDataURL(),R/r,z/r]}return t}const eie=ee({name:"ElWatermark"}),tie=ee({...eie,props:qoe,setup(t){const e=t,n={position:"relative"},r=P(()=>{var C,N;return(N=(C=e.font)==null?void 0:C.color)!=null?N:"rgba(0,0,0,.15)"}),s=P(()=>{var C,N;return(N=(C=e.font)==null?void 0:C.fontSize)!=null?N:16}),o=P(()=>{var C,N;return(N=(C=e.font)==null?void 0:C.fontWeight)!=null?N:"normal"}),i=P(()=>{var C,N;return(N=(C=e.font)==null?void 0:C.fontStyle)!=null?N:"normal"}),a=P(()=>{var C,N;return(N=(C=e.font)==null?void 0:C.fontFamily)!=null?N:"sans-serif"}),u=P(()=>{var C,N;return(N=(C=e.font)==null?void 0:C.textAlign)!=null?N:"center"}),l=P(()=>{var C,N;return(N=(C=e.font)==null?void 0:C.textBaseline)!=null?N:"hanging"}),c=P(()=>e.gap[0]),d=P(()=>e.gap[1]),f=P(()=>c.value/2),h=P(()=>d.value/2),p=P(()=>{var C,N;return(N=(C=e.offset)==null?void 0:C[0])!=null?N:f.value}),g=P(()=>{var C,N;return(N=(C=e.offset)==null?void 0:C[1])!=null?N:h.value}),v=()=>{const C={zIndex:e.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let N=p.value-f.value,D=g.value-h.value;return N>0&&(C.left=`${N}px`,C.width=`calc(100% - ${N}px)`,N=0),D>0&&(C.top=`${D}px`,C.height=`calc(100% - ${D}px)`,D=0),C.backgroundPosition=`${N}px ${D}px`,C},y=On(null),_=On(),b=q(!1),w=()=>{_.value&&(_.value.remove(),_.value=void 0)},S=(C,N)=>{var D;y.value&&_.value&&(b.value=!0,_.value.setAttribute("style",Xoe({...v(),backgroundImage:`url('${C}')`,backgroundSize:`${Math.floor(N)}px`})),(D=y.value)==null||D.append(_.value),setTimeout(()=>{b.value=!1}))},E=C=>{let N=120,D=64;const{image:W,content:H,width:V,height:R,rotate:z}=e;if(!W&&C.measureText){C.font=`${Number(s.value)}px ${a.value}`;const M=Ke(H)?H:[H];let B=0,j=0;M.forEach(te=>{const{width:ie,fontBoundingBoxAscent:fe,fontBoundingBoxDescent:ue,actualBoundingBoxAscent:J,actualBoundingBoxDescent:de}=C.measureText(te),ae=ln(fe)?J+de:fe+ue;ie>B&&(B=Math.ceil(ie)),ae>j&&(j=Math.ceil(ae))}),N=B,D=j*M.length+(M.length-1)*$$;const X=Math.PI/180*Number(z),se=Math.ceil(Math.abs(Math.sin(X)*D)/2);N+=se}return[V??N,R??D]},T=Joe(),I=()=>{const N=document.createElement("canvas").getContext("2d"),D=e.image,W=e.content,H=e.rotate;if(N){_.value||(_.value=document.createElement("div"));const V=Qoe(),[R,z]=E(N),M=B=>{const[j,X]=T(B||"",H,V,R,z,{color:r.value,fontSize:s.value,fontStyle:i.value,fontWeight:o.value,fontFamily:a.value,textAlign:u.value,textBaseline:l.value},c.value,d.value);S(j,X)};if(D){const B=new Image;B.onload=()=>{M(B)},B.onerror=()=>{M(W)},B.crossOrigin="anonymous",B.referrerPolicy="no-referrer",B.src=D}else M(W)}};return xt(()=>{I()}),Pe(()=>e,()=>{I()},{deep:!0,flush:"post"}),In(()=>{w()}),pI(y,C=>{b.value||C.forEach(N=>{Zoe(N,_.value)&&(w(),I())})},{attributes:!0,subtree:!0,childList:!0}),(C,N)=>(L(),G("div",{ref_key:"containerRef",ref:y,style:dt([n])},[ve(C.$slots,"default")],4))}});var nie=Ye(tie,[["__file","watermark.vue"]]);const rie=Bt(nie),sie=qe({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:me(Object)},targetAreaClickable:{type:Boolean,default:!0}}),oie=(t,e,n,r,s)=>{const o=q(null),i=()=>{let d;return ht(t.value)?d=document.querySelector(t.value):vt(t.value)?d=t.value():d=t.value,d},a=()=>{const d=i();if(!d||!e.value){o.value=null;return}iie(d)||d.scrollIntoView(s.value);const{left:f,top:h,width:p,height:g}=d.getBoundingClientRect();o.value={left:f,top:h,width:p,height:g,radius:0}};xt(()=>{Pe([e,t],()=>{a()},{immediate:!0}),window.addEventListener("resize",a)}),In(()=>{window.removeEventListener("resize",a)});const u=d=>{var f;return(f=Ke(n.value.offset)?n.value.offset[d]:n.value.offset)!=null?f:6},l=P(()=>{var d;if(!o.value)return o.value;const f=u(0),h=u(1),p=((d=n.value)==null?void 0:d.radius)||2;return{left:o.value.left-f,top:o.value.top-h,width:o.value.width+f*2,height:o.value.height+h*2,radius:p}}),c=P(()=>{const d=i();return!r.value||!d||!window.DOMRect?d||void 0:{getBoundingClientRect(){var f,h,p,g;return window.DOMRect.fromRect({width:((f=l.value)==null?void 0:f.width)||0,height:((h=l.value)==null?void 0:h.height)||0,x:((p=l.value)==null?void 0:p.left)||0,y:((g=l.value)==null?void 0:g.top)||0})}}});return{mergedPosInfo:l,triggerTarget:c}},rg=Symbol("ElTour");function iie(t){const e=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:r,right:s,bottom:o,left:i}=t.getBoundingClientRect();return r>=0&&i>=0&&s<=e&&o<=n}const aie=(t,e,n,r,s,o,i,a)=>{const u=q(),l=q(),c=q({}),d={x:u,y:l,placement:r,strategy:s,middlewareData:c},f=P(()=>{const y=[f$(m(o)),fse(),dse(),lie()];return m(a)&&m(n)&&y.push(h$({element:m(n)})),y}),h=async()=>{if(!an)return;const y=m(t),_=m(e);if(!y||!_)return;const b=await p$(y,_,{placement:m(r),strategy:m(s),middleware:m(f)});$u(d).forEach(w=>{d[w].value=b[w]})},p=P(()=>{if(!m(t))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:m(i)};const{overflow:y}=m(c);return{position:m(s),zIndex:m(i),top:m(l)!=null?`${m(l)}px`:"",left:m(u)!=null?`${m(u)}px`:"",maxWidth:y!=null&&y.maxWidth?`${y==null?void 0:y.maxWidth}px`:""}}),g=P(()=>{if(!m(a))return{};const{arrow:y}=m(c);return{left:(y==null?void 0:y.x)!=null?`${y==null?void 0:y.x}px`:"",top:(y==null?void 0:y.y)!=null?`${y==null?void 0:y.y}px`:""}});let v;return xt(()=>{const y=m(t),_=m(e);y&&_&&(v=use(y,_,h)),Fr(()=>{h()})}),In(()=>{v&&v()}),{update:h,contentStyle:p,arrowStyle:g}},lie=()=>({name:"overflow",async fn(t){const e=await cse(t);let n=0;return e.left>0&&(n=e.left),e.right>0&&(n=e.right),{data:{maxWidth:t.rects.floating.width-n}}}}),uie=ee({name:"ElTourMask",inheritAttrs:!1}),cie=ee({...uie,props:sie,setup(t){const e=t,{ns:n}=rt(rg),r=P(()=>{var a,u;return(u=(a=e.pos)==null?void 0:a.radius)!=null?u:2}),s=P(()=>{const a=r.value,u=`a${a},${a} 0 0 1`;return{topRight:`${u} ${a},${a}`,bottomRight:`${u} ${-a},${a}`,bottomLeft:`${u} ${-a},${-a}`,topLeft:`${u} ${a},${-a}`}}),o=P(()=>{const a=window.innerWidth,u=window.innerHeight,l=s.value,c=`M${a},0 L0,0 L0,${u} L${a},${u} L${a},0 Z`,d=r.value;return e.pos?`${c} M${e.pos.left+d},${e.pos.top} h${e.pos.width-d*2} ${l.topRight} v${e.pos.height-d*2} ${l.bottomRight} h${-e.pos.width+d*2} ${l.bottomLeft} v${-e.pos.height+d*2} ${l.topLeft} z`:c}),i=P(()=>({fill:e.fill,pointerEvents:"auto",cursor:"auto"}));return V1(wn(e,"visible"),{ns:n}),(a,u)=>a.visible?(L(),G("div",Xt({key:0,class:m(n).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:a.zIndex,pointerEvents:a.pos&&a.targetAreaClickable?"none":"auto"}},a.$attrs),[(L(),G("svg",{style:{width:"100%",height:"100%"}},[F("path",{class:U(m(n).e("hollow")),style:dt(m(i)),d:m(o)},null,14,["d"])]))],16)):ce("v-if",!0)}});var die=Ye(cie,[["__file","mask.vue"]]);const fie=["absolute","fixed"],hie=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],xw=qe({placement:{type:me(String),values:hie,default:"bottom"},reference:{type:me(Object),default:null},strategy:{type:me(String),values:fie,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),pie={close:()=>!0},mie=ee({name:"ElTourContent"}),gie=ee({...mie,props:xw,emits:pie,setup(t,{emit:e}){const n=t,r=q(n.placement),s=q(n.strategy),o=q(null),i=q(null);Pe(()=>n.placement,()=>{r.value=n.placement});const{contentStyle:a,arrowStyle:u}=aie(wn(n,"reference"),o,i,r,s,wn(n,"offset"),wn(n,"zIndex"),wn(n,"showArrow")),l=P(()=>r.value.split("-")[0]),{ns:c}=rt(rg),d=()=>{e("close")},f=h=>{h.detail.focusReason==="pointer"&&h.preventDefault()};return(h,p)=>(L(),G("div",{ref_key:"contentRef",ref:o,style:dt(m(a)),class:U(m(c).e("content")),"data-side":m(l),tabindex:"-1"},[A(m(ic),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":o.value||void 0,onReleaseRequested:d,onFocusoutPrevented:f},{default:O(()=>[ve(h.$slots,"default")]),_:3},8,["focus-trap-el"]),h.showArrow?(L(),G("span",{key:0,ref_key:"arrowRef",ref:i,style:dt(m(u)),class:U(m(c).e("arrow"))},null,6)):ce("v-if",!0)],14,["data-side"]))}});var vie=Ye(gie,[["__file","content.vue"]]),yie=ee({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(t,{slots:e,emit:n}){let r=0;return()=>{var s,o;const i=(s=e.default)==null?void 0:s.call(e),a=[];let u=0;function l(c){Ke(c)&&c.forEach(d=>{var f;((f=(d==null?void 0:d.type)||{})==null?void 0:f.name)==="ElTourStep"&&(a.push(d),u+=1)})}return i.length&&l(Oi((o=i[0])==null?void 0:o.children)),r!==u&&(r=u,n("update-total",u)),a.length?a[t.current]:null}}});const bie=qe({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:_n},placement:xw.placement,contentStyle:{type:me([Object])},mask:{type:me([Boolean,Object]),default:!0},gap:{type:me(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:me([Boolean,Object]),default:()=>({block:"center"})},type:{type:me(String)},appendTo:{type:jm.to.type,default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),wie={[$t]:t=>En(t),"update:current":t=>bt(t),close:t=>bt(t),finish:()=>!0,change:t=>bt(t)},_ie=ee({name:"ElTour"}),Sie=ee({..._ie,props:bie,emits:wie,setup(t,{emit:e}){const n=t,r=Ne("tour"),s=q(0),o=q(),i=mI(n,"current",e,{passive:!0}),a=P(()=>{var k;return(k=o.value)==null?void 0:k.target}),u=P(()=>[r.b(),v.value==="primary"?r.m("primary"):""]),l=P(()=>{var k;return((k=o.value)==null?void 0:k.placement)||n.placement}),c=P(()=>{var k,C;return(C=(k=o.value)==null?void 0:k.contentStyle)!=null?C:n.contentStyle}),d=P(()=>{var k,C;return(C=(k=o.value)==null?void 0:k.mask)!=null?C:n.mask}),f=P(()=>!!d.value&&n.modelValue),h=P(()=>En(d.value)?void 0:d.value),p=P(()=>{var k,C;return!!a.value&&((C=(k=o.value)==null?void 0:k.showArrow)!=null?C:n.showArrow)}),g=P(()=>{var k,C;return(C=(k=o.value)==null?void 0:k.scrollIntoViewOptions)!=null?C:n.scrollIntoViewOptions}),v=P(()=>{var k,C;return(C=(k=o.value)==null?void 0:k.type)!=null?C:n.type}),{nextZIndex:y}=sc(),_=y(),b=P(()=>{var k;return(k=n.zIndex)!=null?k:_}),{mergedPosInfo:w,triggerTarget:S}=oie(a,wn(n,"modelValue"),wn(n,"gap"),d,g);Pe(()=>n.modelValue,k=>{k||(i.value=0)});const E=()=>{n.closeOnPressEscape&&(e($t,!1),e("close",i.value))},T=k=>{s.value=k},I=_r();return Qt(rg,{currentStep:o,current:i,total:s,showClose:wn(n,"showClose"),closeIcon:wn(n,"closeIcon"),mergedType:v,ns:r,slots:I,updateModelValue(k){e($t,k)},onClose(){e("close",i.value)},onFinish(){e("finish")},onChange(){e(Yt,i.value)}}),(k,C)=>(L(),G(tt,null,[A(m(ac),{to:k.appendTo},{default:O(()=>{var N,D;return[F("div",Xt({class:m(u)},k.$attrs),[A(die,{visible:m(f),fill:(N=m(h))==null?void 0:N.color,style:dt((D=m(h))==null?void 0:D.style),pos:m(w),"z-index":m(b),"target-area-clickable":k.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),k.modelValue?(L(),ye(vie,{key:m(i),reference:m(S),placement:m(l),"show-arrow":m(p),"z-index":m(b),style:dt(m(c)),onClose:E},{default:O(()=>[A(m(yie),{current:m(i),onUpdateTotal:T},{default:O(()=>[ve(k.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):ce("v-if",!0)],16)]}),_:3},8,["to"]),ce(" just for IDE "),ce("v-if",!0)],64))}});var Eie=Ye(Sie,[["__file","tour.vue"]]);const xie=qe({target:{type:me([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:_n},showArrow:{type:Boolean,default:void 0},placement:xw.placement,mask:{type:me([Boolean,Object]),default:void 0},contentStyle:{type:me([Object])},prevButtonProps:{type:me(Object)},nextButtonProps:{type:me(Object)},scrollIntoViewOptions:{type:me([Boolean,Object]),default:void 0},type:{type:me(String)}}),Tie={close:()=>!0},Cie=ee({name:"ElTourStep"}),kie=ee({...Cie,props:xie,emits:Tie,setup(t,{emit:e}){const n=t,{Close:r}=OI,{t:s}=un(),{currentStep:o,current:i,total:a,showClose:u,closeIcon:l,mergedType:c,ns:d,slots:f,updateModelValue:h,onClose:p,onFinish:g,onChange:v}=rt(rg);Pe(n,I=>{o.value=I},{immediate:!0});const y=P(()=>{var I;return(I=n.showClose)!=null?I:u.value}),_=P(()=>{var I,k;return(k=(I=n.closeIcon)!=null?I:l.value)!=null?k:r}),b=I=>{if(I)return Y5(I,["children","onClick"])},w=()=>{var I,k;i.value-=1,(I=n.prevButtonProps)!=null&&I.onClick&&((k=n.prevButtonProps)==null||k.onClick()),v()},S=()=>{var I;i.value>=a.value-1?E():i.value+=1,(I=n.nextButtonProps)!=null&&I.onClick&&n.nextButtonProps.onClick(),v()},E=()=>{T(),g()},T=()=>{h(!1),p(),e("close")};return(I,k)=>(L(),G(tt,null,[m(y)?(L(),G("button",{key:0,"aria-label":"Close",class:U(m(d).e("closebtn")),type:"button",onClick:T},[A(m(lt),{class:U(m(d).e("close"))},{default:O(()=>[(L(),ye(Wt(m(_))))]),_:1},8,["class"])],2)):ce("v-if",!0),F("header",{class:U([m(d).e("header"),{"show-close":m(u)}])},[ve(I.$slots,"header",{},()=>[F("span",{role:"heading",class:U(m(d).e("title"))},ge(I.title),3)])],2),F("div",{class:U(m(d).e("body"))},[ve(I.$slots,"default",{},()=>[F("span",null,ge(I.description),1)])],2),F("footer",{class:U(m(d).e("footer"))},[F("div",{class:U(m(d).b("indicators"))},[m(f).indicators?(L(),ye(Wt(m(f).indicators),{key:0,current:m(i),total:m(a)},null,8,["current","total"])):(L(!0),G(tt,{key:1},It(m(a),(C,N)=>(L(),G("span",{key:C,class:U([m(d).b("indicator"),N===m(i)?"is-active":""])},null,2))),128))],2),F("div",{class:U(m(d).b("buttons"))},[m(i)>0?(L(),ye(m(Nn),Xt({key:0,size:"small",type:m(c)},b(I.prevButtonProps),{onClick:w}),{default:O(()=>{var C,N;return[xe(ge((N=(C=I.prevButtonProps)==null?void 0:C.children)!=null?N:m(s)("el.tour.previous")),1)]}),_:1},16,["type"])):ce("v-if",!0),m(i)<=m(a)-1?(L(),ye(m(Nn),Xt({key:1,size:"small",type:m(c)==="primary"?"default":"primary"},b(I.nextButtonProps),{onClick:S}),{default:O(()=>{var C,N;return[xe(ge((N=(C=I.nextButtonProps)==null?void 0:C.children)!=null?N:m(i)===m(a)-1?m(s)("el.tour.finish"):m(s)("el.tour.next")),1)]}),_:1},16,["type"])):ce("v-if",!0)],2)],2)],64))}});var P$=Ye(kie,[["__file","step.vue"]]);const Iie=Bt(Eie,{TourStep:P$}),Aie=Xn(P$),Rie=qe({container:{type:me([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:me(String),default:"default"},direction:{type:me(String),default:"vertical"},selectScrollTop:{type:Boolean,default:!1}}),Lie={change:t=>ht(t),click:(t,e)=>t instanceof MouseEvent&&(ht(e)||ln(e))},D$=Symbol("anchor"),vh=t=>{if(!an||t==="")return null;if(ht(t))try{return document.querySelector(t)}catch{return null}return t};function $ie(t){let e=0;const n=(...r)=>{e&&Tl(e),e=$a(()=>{t(...r),e=0})};return n.cancel=()=>{Tl(e),e=0},n}const Pie=ee({name:"ElAnchor"}),Die=ee({...Pie,props:Rie,emits:Lie,setup(t,{expose:e,emit:n}){const r=t,s=q(""),o=q(null),i=q(null),a=q(),u={};let l=!1,c=0;const d=Ne("anchor"),f=P(()=>[d.b(),r.type==="underline"?d.m("underline"):"",d.m(r.direction)]),h=I=>{u[I.href]=I.el},p=I=>{delete u[I]},g=I=>{s.value!==I&&(s.value=I,n(Yt,I))};let v=null;const y=I=>{if(!a.value)return;const k=vh(I);if(!k)return;v&&v(),l=!0;const C=dE(k,a.value),N=D0(k,C),D=C.scrollHeight-C.clientHeight,W=Math.min(N-r.offset,D);v=tV(a.value,c,W,r.duration,()=>{setTimeout(()=>{l=!1},20)})},_=I=>{I&&(g(I),y(I))},b=(I,k)=>{n("click",I,k),_(k)},w=$ie(()=>{a.value&&(c=fE(a.value));const I=S();l||ln(I)||g(I)}),S=()=>{if(!a.value)return;const I=fE(a.value),k=[];for(const C of Object.keys(u)){const N=vh(C);if(!N)continue;const D=dE(N,a.value),W=D0(N,D);k.push({top:W-r.offset-r.bound,href:C})}k.sort((C,N)=>C.top-N.top);for(let C=0;C<k.length;C++){const N=k[C],D=k[C+1];if(C===0&&I===0)return r.selectScrollTop?N.href:"";if(N.top<=I&&(!D||D.top>I))return N.href}},E=()=>{const I=vh(r.container);!I||$m(I)?a.value=window:a.value=I};xn(a,"scroll",w);const T=P(()=>{if(!o.value||!i.value||!s.value)return{};const I=u[s.value];if(!I)return{};const k=o.value.getBoundingClientRect(),C=i.value.getBoundingClientRect(),N=I.getBoundingClientRect();return r.direction==="horizontal"?{left:`${N.left-k.left}px`,width:`${N.width}px`,opacity:1}:{top:`${N.top-k.top+(N.height-C.height)/2}px`,opacity:1}});return xt(()=>{E();const I=decodeURIComponent(window.location.hash);vh(I)?_(I):w()}),Pe(()=>r.container,()=>{E()}),Qt(D$,{ns:d,direction:r.direction,currentAnchor:s,addLink:h,removeLink:p,handleClick:b}),e({scrollTo:_}),(I,k)=>(L(),G("div",{ref_key:"anchorRef",ref:o,class:U(m(f))},[I.marker?(L(),G("div",{key:0,ref_key:"markerRef",ref:i,class:U(m(d).e("marker")),style:dt(m(T))},null,6)):ce("v-if",!0),F("div",{class:U(m(d).e("list"))},[ve(I.$slots,"default")],2)],2))}});var Oie=Ye(Die,[["__file","anchor.vue"]]);const Mie=qe({title:String,href:String}),Nie=ee({name:"ElAnchorLink"}),Fie=ee({...Nie,props:Mie,setup(t){const e=t,n=q(null),{ns:r,direction:s,currentAnchor:o,addLink:i,removeLink:a,handleClick:u}=rt(D$),l=P(()=>[r.e("link"),r.is("active",o.value===e.href)]),c=d=>{u(d,e.href)};return Pe(()=>e.href,(d,f)=>{pt(()=>{f&&a(f),d&&i({href:d,el:n.value})})}),xt(()=>{const{href:d}=e;d&&i({href:d,el:n.value})}),In(()=>{const{href:d}=e;d&&a(d)}),(d,f)=>(L(),G("div",{class:U(m(r).e("item"))},[F("a",{ref_key:"linkRef",ref:n,class:U(m(l)),href:d.href,onClick:c},[ve(d.$slots,"default",{},()=>[xe(ge(d.title),1)])],10,["href"]),d.$slots["sub-link"]&&m(s)==="vertical"?(L(),G("div",{key:0,class:U(m(r).e("list"))},[ve(d.$slots,"sub-link")],2)):ce("v-if",!0)],2))}});var O$=Ye(Fie,[["__file","anchor-link.vue"]]);const Bie=Bt(Oie,{AnchorLink:O$}),Vie=Xn(O$),M$={label:"label",value:"value",disabled:"disabled"},Uie=qe({direction:{type:me(String),default:"horizontal"},options:{type:me(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},props:{type:me(Object),default:()=>M$},block:Boolean,size:pr,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...Vr(["ariaLabel"])}),Hie={[$t]:t=>ht(t)||bt(t)||En(t),[Yt]:t=>ht(t)||bt(t)||En(t)},jie=ee({name:"ElSegmented"}),Kie=ee({...jie,props:Uie,emits:Hie,setup(t,{emit:e}){const n=t,r=Ne("segmented"),s=Br(),o=fr(),i=zr(),{formItem:a}=Kr(),{inputId:u,isLabeledByFormItem:l}=po(n,{formItemContext:a}),c=q(null),d=xB(),f=Ft({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),h=C=>{const N=g(C);e($t,N),e(Yt,N)},p=P(()=>({...M$,...n.props})),g=C=>Kt(C)?C[p.value.value]:C,v=C=>Kt(C)?C[p.value.label]:C,y=C=>!!(i.value||Kt(C)&&C[p.value.disabled]),_=C=>n.modelValue===g(C),b=C=>n.options.find(N=>g(N)===C),w=C=>[r.e("item"),r.is("selected",_(C)),r.is("disabled",y(C))],S=()=>{if(!c.value)return;const C=c.value.querySelector(".is-selected"),N=c.value.querySelector(".is-selected input");if(!C||!N){f.width=0,f.height=0,f.translateX=0,f.translateY=0,f.focusVisible=!1;return}const D=C.getBoundingClientRect();f.isInit=!0,n.direction==="vertical"?(f.height=D.height,f.translateY=C.offsetTop):(f.width=D.width,f.translateX=C.offsetLeft);try{f.focusVisible=N.matches(":focus-visible")}catch{}},E=P(()=>[r.b(),r.m(o.value),r.is("block",n.block)]),T=P(()=>({width:n.direction==="vertical"?"100%":`${f.width}px`,height:n.direction==="vertical"?`${f.height}px`:"100%",transform:n.direction==="vertical"?`translateY(${f.translateY}px)`:`translateX(${f.translateX}px)`,display:f.isInit?"block":"none"})),I=P(()=>[r.e("item-selected"),r.is("disabled",y(b(n.modelValue))),r.is("focus-visible",f.focusVisible)]),k=P(()=>n.name||s.value);return qn(c,S),Pe(d,S),Pe(()=>n.modelValue,()=>{var C;S(),n.validateEvent&&((C=a==null?void 0:a.validate)==null||C.call(a,"change").catch(N=>void 0))},{flush:"post"}),(C,N)=>C.options.length?(L(),G("div",{key:0,id:m(u),ref_key:"segmentedRef",ref:c,class:U(m(E)),role:"radiogroup","aria-label":m(l)?void 0:C.ariaLabel||"segmented","aria-labelledby":m(l)?m(a).labelId:void 0},[F("div",{class:U([m(r).e("group"),m(r).m(n.direction)])},[F("div",{style:dt(m(T)),class:U(m(I))},null,6),(L(!0),G(tt,null,It(C.options,(D,W)=>(L(),G("label",{key:W,class:U(w(D))},[F("input",{class:U(m(r).e("item-input")),type:"radio",name:m(k),disabled:y(D),checked:_(D),onChange:H=>h(D)},null,42,["name","disabled","checked","onChange"]),F("div",{class:U(m(r).e("item-label"))},[ve(C.$slots,"default",{item:D},()=>[xe(ge(v(D)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"])):ce("v-if",!0)}});var zie=Ye(Kie,[["__file","segmented.vue"]]);const Wie=Bt(zie),Gie=(t,e)=>{const n=t.toLowerCase();return(e.label||e.value).toLowerCase().includes(n)},qie=(t,e,n)=>{const{selectionEnd:r}=t;if(r===null)return;const s=t.value,o=Jr(e);let i=-1,a;for(let u=r-1;u>=0;--u){const l=s[u];if(l===n||l===`
`||l==="\r"){i=u;continue}if(o.includes(l)){const c=i===-1?r:i;a={pattern:s.slice(u+1,c),start:u+1,end:c,prefix:l,prefixIndex:u,splitIndex:i,selectionEnd:r};break}}return a},Yie=(t,e={debug:!1,useSelectionEnd:!1})=>{const n=t.selectionStart!==null?t.selectionStart:0,r=t.selectionEnd!==null?t.selectionEnd:0,s=e.useSelectionEnd?r:n,o=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(e.debug){const f=document.querySelector("#input-textarea-caret-position-mirror-div");f!=null&&f.parentNode&&f.parentNode.removeChild(f)}const i=document.createElement("div");i.id="input-textarea-caret-position-mirror-div",document.body.appendChild(i);const a=i.style,u=window.getComputedStyle(t),l=t.nodeName==="INPUT";a.whiteSpace=l?"nowrap":"pre-wrap",l||(a.wordWrap="break-word"),a.position="absolute",e.debug||(a.visibility="hidden"),o.forEach(f=>{if(l&&f==="lineHeight")if(u.boxSizing==="border-box"){const h=Number.parseInt(u.height),p=Number.parseInt(u.paddingTop)+Number.parseInt(u.paddingBottom)+Number.parseInt(u.borderTopWidth)+Number.parseInt(u.borderBottomWidth),g=p+Number.parseInt(u.lineHeight);h>g?a.lineHeight=`${h-p}px`:h===g?a.lineHeight=u.lineHeight:a.lineHeight="0"}else a.lineHeight=u.height;else a[f]=u[f]}),Bm()?t.scrollHeight>Number.parseInt(u.height)&&(a.overflowY="scroll"):a.overflow="hidden",i.textContent=t.value.slice(0,Math.max(0,s)),l&&i.textContent&&(i.textContent=i.textContent.replace(/\s/g," "));const c=document.createElement("span");c.textContent=t.value.slice(Math.max(0,s))||".",c.style.position="relative",c.style.left=`${-t.scrollLeft}px`,c.style.top=`${-t.scrollTop}px`,i.appendChild(c);const d={top:c.offsetTop+Number.parseInt(u.borderTopWidth),left:c.offsetLeft+Number.parseInt(u.borderLeftWidth),height:Number.parseInt(u.fontSize)*1.5};return e.debug?c.style.backgroundColor="#aaa":document.body.removeChild(i),d.left>=t.clientWidth&&(d.left=t.clientWidth),d},Xie=qe({...s1,options:{type:me(Array),default:()=>[]},prefix:{type:me([String,Array]),default:"@",validator:t=>ht(t)?t.length===1:t.every(e=>ht(e)&&e.length===1)},split:{type:String,default:" ",validator:t=>t.length===1},filterOption:{type:me([Boolean,Function]),default:()=>Gie,validator:t=>t===!1?!0:vt(t)},placement:{type:me(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:me(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:me(Object),default:()=>({})}}),Qie={[$t]:t=>ht(t),input:t=>ht(t),search:(t,e)=>ht(t)&&ht(e),select:(t,e)=>ht(t.value)&&ht(e),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},Zie=qe({options:{type:me(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),Jie={select:t=>ht(t.value)},eae=ee({name:"ElMentionDropdown"}),tae=ee({...eae,props:Zie,emits:Jie,setup(t,{expose:e,emit:n}){const r=t,s=Ne("mention"),{t:o}=un(),i=q(-1),a=q(),u=q(),l=q(),c=(b,w)=>[s.be("dropdown","item"),s.is("hovering",i.value===w),s.is("disabled",b.disabled||r.disabled)],d=b=>{b.disabled||r.disabled||n("select",b)},f=b=>{i.value=b},h=P(()=>r.disabled||r.options.every(b=>b.disabled)),p=P(()=>r.options[i.value]),g=()=>{p.value&&n("select",p.value)},v=b=>{const{options:w}=r;if(w.length===0||h.value)return;b==="next"?(i.value++,i.value===w.length&&(i.value=0)):b==="prev"&&(i.value--,i.value<0&&(i.value=w.length-1));const S=w[i.value];if(S.disabled){v(b);return}pt(()=>y(S))},y=b=>{var w,S,E,T;const{options:I}=r,k=I.findIndex(N=>N.value===b.value),C=(w=u.value)==null?void 0:w[k];if(C){const N=(E=(S=l.value)==null?void 0:S.querySelector)==null?void 0:E.call(S,`.${s.be("dropdown","wrap")}`);N&&qb(N,C)}(T=a.value)==null||T.handleScroll()};return Pe(()=>r.options,()=>{h.value||r.options.length===0?i.value=-1:i.value=0},{immediate:!0}),e({hoveringIndex:i,navigateOptions:v,selectHoverOption:g,hoverOption:p}),(b,w)=>(L(),G("div",{ref_key:"dropdownRef",ref:l,class:U(m(s).b("dropdown"))},[b.$slots.header?(L(),G("div",{key:0,class:U(m(s).be("dropdown","header"))},[ve(b.$slots,"header")],2)):ce("v-if",!0),At(A(m(hi),{id:b.contentId,ref_key:"scrollbarRef",ref:a,tag:"ul","wrap-class":m(s).be("dropdown","wrap"),"view-class":m(s).be("dropdown","list"),role:"listbox","aria-label":b.ariaLabel,"aria-orientation":"vertical"},{default:O(()=>[(L(!0),G(tt,null,It(b.options,(S,E)=>(L(),G("li",{id:`${b.contentId}-${E}`,ref_for:!0,ref_key:"optionRefs",ref:u,key:E,class:U(c(S,E)),role:"option","aria-disabled":S.disabled||b.disabled||void 0,"aria-selected":i.value===E,onMousemove:T=>f(E),onClick:St(T=>d(S),["stop"])},[ve(b.$slots,"label",{item:S,index:E},()=>{var T;return[F("span",null,ge((T=S.label)!=null?T:S.value),1)]})],42,["id","aria-disabled","aria-selected","onMousemove","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[nn,b.options.length>0&&!b.loading]]),b.loading?(L(),G("div",{key:1,class:U(m(s).be("dropdown","loading"))},[ve(b.$slots,"loading",{},()=>[xe(ge(m(o)("el.mention.loading")),1)])],2)):ce("v-if",!0),b.$slots.footer?(L(),G("div",{key:2,class:U(m(s).be("dropdown","footer"))},[ve(b.$slots,"footer")],2)):ce("v-if",!0)],2))}});var nae=Ye(tae,[["__file","mention-dropdown.vue"]]);const rae=ee({name:"ElMention",inheritAttrs:!1}),sae=ee({...rae,props:Xie,emits:Qie,setup(t,{expose:e,emit:n}){const r=t,s=P(()=>So(r,Object.keys(s1))),o=Ne("mention"),i=zr(),a=Br(),u=q(),l=q(),c=q(),d=q(!1),f=q(),h=q(),p=P(()=>r.showArrow?r.placement:`${r.placement}-start`),g=P(()=>r.showArrow?["bottom","top"]:["bottom-start","top-start"]),v=P(()=>{const{filterOption:D,options:W}=r;return!h.value||!D?W:W.filter(H=>D(h.value.pattern,H))}),y=P(()=>d.value&&(!!v.value.length||r.loading)),_=P(()=>{var D;return`${a.value}-${(D=c.value)==null?void 0:D.hoveringIndex}`}),b=D=>{n($t,D),n(yr,D),k()},w=D=>{var W,H,V,R;if(!(!("code"in D)||(W=u.value)!=null&&W.isComposing))switch(D.code){case ot.left:case ot.right:k();break;case ot.up:case ot.down:if(!d.value)return;D.preventDefault(),(H=c.value)==null||H.navigateOptions(D.code===ot.up?"prev":"next");break;case ot.enter:case ot.numpadEnter:if(!d.value)return;D.preventDefault(),(V=c.value)!=null&&V.hoverOption?(R=c.value)==null||R.selectHoverOption():d.value=!1;break;case ot.esc:if(!d.value)return;D.preventDefault(),d.value=!1;break;case ot.backspace:if(r.whole&&h.value){const{splitIndex:z,selectionEnd:M,pattern:B,prefixIndex:j,prefix:X}=h.value,se=I();if(!se)return;const te=se.value,ie=r.options.find(ue=>ue.value===B);if((vt(r.checkIsWhole)?r.checkIsWhole(B,X):ie)&&z!==-1&&z+1===M){D.preventDefault();const ue=te.slice(0,j)+te.slice(z+1);n($t,ue);const J=j;pt(()=>{se.selectionStart=J,se.selectionEnd=J,N()})}}}},{wrapperRef:S}=Ka(u,{beforeFocus(){return i.value},afterFocus(){k()},beforeBlur(D){var W;return(W=l.value)==null?void 0:W.isFocusInsideContent(D)},afterBlur(){d.value=!1}}),E=()=>{k()},T=D=>{if(!h.value)return;const W=I();if(!W)return;const H=W.value,{split:V}=r,R=H.slice(h.value.end),z=R.startsWith(V),M=`${D.value}${z?"":V}`,B=H.slice(0,h.value.start)+M+R;n($t,B),n(yr,B),n("select",D,h.value.prefix);const j=h.value.start+M.length+(z?1:0);pt(()=>{W.selectionStart=j,W.selectionEnd=j,W.focus(),N()})},I=()=>{var D,W;return r.type==="textarea"?(D=u.value)==null?void 0:D.textarea:(W=u.value)==null?void 0:W.input},k=()=>{setTimeout(()=>{C(),N(),pt(()=>{var D;return(D=l.value)==null?void 0:D.updatePopper()})},0)},C=()=>{const D=I();if(!D)return;const W=Yie(D),H=D.getBoundingClientRect(),V=u.value.$el.getBoundingClientRect();f.value={position:"absolute",width:0,height:`${W.height}px`,left:`${W.left+H.left-V.left}px`,top:`${W.top+H.top-V.top}px`}},N=()=>{const D=I();if(document.activeElement!==D){d.value=!1;return}const{prefix:W,split:H}=r;if(h.value=qie(D,W,H),h.value&&h.value.splitIndex===-1){d.value=!0,n("search",h.value.pattern,h.value.prefix);return}d.value=!1};return e({input:u,tooltip:l,dropdownVisible:y}),(D,W)=>(L(),G("div",{ref_key:"wrapperRef",ref:S,class:U(m(o).b())},[A(m(ir),Xt(Xt(m(s),D.$attrs),{ref_key:"elInputRef",ref:u,"model-value":D.modelValue,disabled:m(i),role:m(y)?"combobox":void 0,"aria-activedescendant":m(y)?m(_)||"":void 0,"aria-controls":m(y)?m(a):void 0,"aria-expanded":m(y)||void 0,"aria-label":D.ariaLabel,"aria-autocomplete":m(y)?"none":void 0,"aria-haspopup":m(y)?"listbox":void 0,onInput:b,onKeydown:w,onMousedown:E}),js({_:2},[It(D.$slots,(H,V)=>({name:V,fn:O(R=>[ve(D.$slots,V,Os(ri(R)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),A(m(wr),{ref_key:"tooltipRef",ref:l,visible:m(y),"popper-class":[m(o).e("popper"),D.popperClass],"popper-options":D.popperOptions,placement:m(p),"fallback-placements":m(g),effect:"light",pure:"",offset:D.offset,"show-arrow":D.showArrow},{default:O(()=>[F("div",{style:dt(f.value)},null,4)]),content:O(()=>{var H;return[A(nae,{ref_key:"dropdownRef",ref:c,options:m(v),disabled:m(i),loading:D.loading,"content-id":m(a),"aria-label":D.ariaLabel,onSelect:T,onClick:St((H=u.value)==null?void 0:H.focus,["stop"])},js({_:2},[It(D.$slots,(V,R)=>({name:R,fn:O(z=>[ve(D.$slots,R,Os(ri(z)))])}))]),1032,["options","disabled","loading","content-id","aria-label","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var oae=Ye(sae,[["__file","mention.vue"]]);const iae=Bt(oae);var aae=[iV,o7,XH,Kne,w1,lj,fA,wj,_j,Nn,bA,dK,gK,kA,IA,Lz,HA,Nz,uo,WK,DA,KA,rW,sW,yf,RW,qA,C1,JA,eR,k1,I1,M1,uq,cq,uc,CR,Lq,OR,MR,NR,cc,pi,mi,lt,qm,K1,ir,wf,HX,VR,zR,WR,fQ,GR,yQ,fc,pZ,EZ,aA,ZR,Km,sz,S1,PZ,FZ,JR,hi,fo,ji,jQ,dL,RJ,LJ,XJ,tee,hL,fee,_ee,See,_f,Nl,Fl,jne,ore,ire,co,uw,wG,gre,_re,Sre,wr,Rse,jse,Wp,loe,Toe,ng,rie,Iie,Aie,Bie,Vie,Wie,iae];const Zs="ElInfiniteScroll",lae=50,uae=200,cae=0,dae={delay:{type:Number,default:uae},distance:{type:Number,default:cae},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},Tw=(t,e)=>Object.entries(dae).reduce((n,[r,s])=>{var o,i;const{type:a,default:u}=s,l=t.getAttribute(`infinite-scroll-${r}`);let c=(i=(o=e[l])!=null?o:l)!=null?i:u;return c=c==="false"?!1:c,c=a(c),n[r]=Number.isNaN(c)?u:c,n},{}),N$=t=>{const{observer:e}=t[Zs];e&&(e.disconnect(),delete t[Zs].observer)},fae=(t,e)=>{const{container:n,containerEl:r,instance:s,observer:o,lastScrollTop:i}=t[Zs],{disabled:a,distance:u}=Tw(t,s),{clientHeight:l,scrollHeight:c,scrollTop:d}=r,f=d-i;if(t[Zs].lastScrollTop=d,o||a||f<0)return;let h=!1;if(n===t)h=c-(l+d)<=u;else{const{clientTop:p,scrollHeight:g}=t,v=D0(t,r);h=d+l>=v+p+g-u}h&&e.call(s)};function Cv(t,e){const{containerEl:n,instance:r}=t[Zs],{disabled:s}=Tw(t,r);s||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?e.call(r):N$(t))}const hae={async mounted(t,e){const{instance:n,value:r}=e;vt(r)||hr(Zs,"'v-infinite-scroll' binding value must be a function"),await pt();const{delay:s,immediate:o}=Tw(t,n),i=Gb(t,!0),a=i===window?document.documentElement:i,u=pl(fae.bind(null,t,r),s);if(i){if(t[Zs]={instance:n,container:i,containerEl:a,delay:s,cb:r,onScroll:u,lastScrollTop:a.scrollTop},o){const l=new MutationObserver(pl(Cv.bind(null,t,r),lae));t[Zs].observer=l,l.observe(t,{childList:!0,subtree:!0}),Cv(t,r)}i.addEventListener("scroll",u)}},unmounted(t){if(!t[Zs])return;const{container:e,onScroll:n}=t[Zs];e==null||e.removeEventListener("scroll",n),N$(t)},async updated(t){if(!t[Zs])await pt();else{const{containerEl:e,cb:n,observer:r}=t[Zs];e.clientHeight&&r&&Cv(t,n)}}},xy=hae;xy.install=t=>{t.directive("InfiniteScroll",xy)};const pae=xy;function mae(t){let e;const n=q(!1),r=Ft({...t,originalPosition:"",originalOverflow:"",visible:!1});function s(f){r.text=f}function o(){const f=r.parent,h=d.ns;if(!f.vLoadingAddClassList){let p=f.getAttribute("loading-number");p=Number.parseInt(p)-1,p?f.setAttribute("loading-number",p.toString()):(ns(f,h.bm("parent","relative")),f.removeAttribute("loading-number")),ns(f,h.bm("parent","hidden"))}i(),c.unmount()}function i(){var f,h;(h=(f=d.$el)==null?void 0:f.parentNode)==null||h.removeChild(d.$el)}function a(){var f;t.beforeClose&&!t.beforeClose()||(n.value=!0,clearTimeout(e),e=setTimeout(u,400),r.visible=!1,(f=t.closed)==null||f.call(t))}function u(){if(!n.value)return;const f=r.parent;n.value=!1,f.vLoadingAddClassList=void 0,o()}const c=xm(ee({name:"ElLoading",setup(f,{expose:h}){const{ns:p,zIndex:g}=Om("loading");return h({ns:p,zIndex:g}),()=>{const v=r.spinner||r.svg,y=_t("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"0 0 50 50",...v?{innerHTML:v}:{}},[_t("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),_=r.text?_t("p",{class:p.b("text")},[r.text]):void 0;return _t(Tr,{name:p.b("fade"),onAfterLeave:u},{default:O(()=>[At(A("div",{style:{backgroundColor:r.background||""},class:[p.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[_t("div",{class:p.b("spinner")},[y,_])]),[[nn,r.visible]])])})}}})),d=c.mount(document.createElement("div"));return{...$r(r),setText:s,removeElLoadingChild:i,close:a,handleAfterLeave:u,vm:d,get $el(){return d.$el}}}let yh;const Ty=function(t={}){if(!an)return;const e=gae(t);if(e.fullscreen&&yh)return yh;const n=mae({...e,closed:()=>{var s;(s=e.closed)==null||s.call(e),e.fullscreen&&(yh=void 0)}});vae(e,e.parent,n),eT(e,e.parent,n),e.parent.vLoadingAddClassList=()=>eT(e,e.parent,n);let r=e.parent.getAttribute("loading-number");return r?r=`${Number.parseInt(r)+1}`:r="1",e.parent.setAttribute("loading-number",r),e.parent.appendChild(n.$el),pt(()=>n.visible.value=e.visible),e.fullscreen&&(yh=n),n},gae=t=>{var e,n,r,s;let o;return ht(t.target)?o=(e=document.querySelector(t.target))!=null?e:document.body:o=t.target||document.body,{parent:o===document.body||t.body?document.body:o,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:o===document.body&&((n=t.fullscreen)!=null?n:!0),lock:(r=t.lock)!=null?r:!1,customClass:t.customClass||"",visible:(s=t.visible)!=null?s:!0,beforeClose:t.beforeClose,closed:t.closed,target:o}},vae=async(t,e,n)=>{const{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,s={};if(t.fullscreen)n.originalPosition.value=Pi(document.body,"position"),n.originalOverflow.value=Pi(document.body,"overflow"),s.zIndex=r();else if(t.parent===document.body){n.originalPosition.value=Pi(document.body,"position"),await pt();for(const o of["top","left"]){const i=o==="top"?"scrollTop":"scrollLeft";s[o]=`${t.target.getBoundingClientRect()[o]+document.body[i]+document.documentElement[i]-Number.parseInt(Pi(document.body,`margin-${o}`),10)}px`}for(const o of["height","width"])s[o]=`${t.target.getBoundingClientRect()[o]}px`}else n.originalPosition.value=Pi(e,"position");for(const[o,i]of Object.entries(s))n.$el.style[o]=i},eT=(t,e,n)=>{const r=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?ns(e,r.bm("parent","relative")):Js(e,r.bm("parent","relative")),t.fullscreen&&t.lock?Js(e,r.bm("parent","hidden")):ns(e,r.bm("parent","hidden"))},Jh=Symbol("ElLoading"),tT=(t,e)=>{var n,r,s,o;const i=e.instance,a=f=>Kt(e.value)?e.value[f]:void 0,u=f=>{const h=ht(f)&&(i==null?void 0:i[f])||f;return h&&q(h)},l=f=>u(a(f)||t.getAttribute(`element-loading-${Ki(f)}`)),c=(n=a("fullscreen"))!=null?n:e.modifiers.fullscreen,d={text:l("text"),svg:l("svg"),svgViewBox:l("svgViewBox"),spinner:l("spinner"),background:l("background"),customClass:l("customClass"),fullscreen:c,target:(r=a("target"))!=null?r:c?void 0:t,body:(s=a("body"))!=null?s:e.modifiers.body,lock:(o=a("lock"))!=null?o:e.modifiers.lock};t[Jh]={options:d,instance:Ty(d)}},yae=(t,e)=>{for(const n of Object.keys(e))Dn(e[n])&&(e[n].value=t[n])},nT={mounted(t,e){e.value&&tT(t,e)},updated(t,e){const n=t[Jh];e.oldValue!==e.value&&(e.value&&!e.oldValue?tT(t,e):e.value&&e.oldValue?Kt(e.value)&&yae(e.value,n.options):n==null||n.instance.close())},unmounted(t){var e;(e=t[Jh])==null||e.instance.close(),t[Jh]=null}},bae={install(t){t.directive("loading",nT),t.config.globalProperties.$loading=Ty},directive:nT,service:Ty},F$=["success","info","warning","error"],as=Yn({customClass:"",dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:an?document.body:void 0}),wae=qe({customClass:{type:String,default:as.customClass},dangerouslyUseHTMLString:{type:Boolean,default:as.dangerouslyUseHTMLString},duration:{type:Number,default:as.duration},icon:{type:_n,default:as.icon},id:{type:String,default:as.id},message:{type:me([String,Object,Function]),default:as.message},onClose:{type:me(Function),default:as.onClose},showClose:{type:Boolean,default:as.showClose},type:{type:String,values:F$,default:as.type},plain:{type:Boolean,default:as.plain},offset:{type:Number,default:as.offset},zIndex:{type:Number,default:as.zIndex},grouping:{type:Boolean,default:as.grouping},repeatNum:{type:Number,default:as.repeatNum}}),_ae={destroy:()=>!0},Eo=pb([]),Sae=t=>{const e=Eo.findIndex(s=>s.id===t),n=Eo[e];let r;return e>0&&(r=Eo[e-1]),{current:n,prev:r}},Eae=t=>{const{prev:e}=Sae(t);return e?e.vm.exposed.bottom.value:0},xae=(t,e)=>Eo.findIndex(r=>r.id===t)>0?16:e,Tae=ee({name:"ElMessage"}),Cae=ee({...Tae,props:wae,emits:_ae,setup(t,{expose:e,emit:n}){const r=t,{Close:s}=r1,o=q(!1),{ns:i,zIndex:a}=Om("message"),{currentZIndex:u,nextZIndex:l}=a,c=q(),d=q(!1),f=q(0);let h;const p=P(()=>r.type?r.type==="error"?"danger":r.type:"info"),g=P(()=>{const k=r.type;return{[i.bm("icon",k)]:k&&Ma[k]}}),v=P(()=>r.icon||Ma[r.type]||""),y=P(()=>Eae(r.id)),_=P(()=>xae(r.id,r.offset)+y.value),b=P(()=>f.value+_.value),w=P(()=>({top:`${_.value}px`,zIndex:u.value}));function S(){r.duration!==0&&({stop:h}=xl(()=>{T()},r.duration))}function E(){h==null||h()}function T(){d.value=!1,pt(()=>{var k;o.value||((k=r.onClose)==null||k.call(r),n("destroy"))})}function I({code:k}){k===ot.esc&&T()}return xt(()=>{S(),l(),d.value=!0}),Pe(()=>r.repeatNum,()=>{E(),S()}),xn(document,"keydown",I),qn(c,()=>{f.value=c.value.getBoundingClientRect().height}),e({visible:d,bottom:b,close:T}),(k,C)=>(L(),ye(Tr,{name:m(i).b("fade"),onBeforeEnter:N=>o.value=!0,onBeforeLeave:k.onClose,onAfterLeave:N=>k.$emit("destroy"),persisted:""},{default:O(()=>[At(F("div",{id:k.id,ref_key:"messageRef",ref:c,class:U([m(i).b(),{[m(i).m(k.type)]:k.type},m(i).is("closable",k.showClose),m(i).is("plain",k.plain),k.customClass]),style:dt(m(w)),role:"alert",onMouseenter:E,onMouseleave:S},[k.repeatNum>1?(L(),ye(m(fA),{key:0,value:k.repeatNum,type:m(p),class:U(m(i).e("badge"))},null,8,["value","type","class"])):ce("v-if",!0),m(v)?(L(),ye(m(lt),{key:1,class:U([m(i).e("icon"),m(g)])},{default:O(()=>[(L(),ye(Wt(m(v))))]),_:1},8,["class"])):ce("v-if",!0),ve(k.$slots,"default",{},()=>[k.dangerouslyUseHTMLString?(L(),G(tt,{key:1},[ce(" Caution here, message could've been compromised, never use user's input as message "),F("p",{class:U(m(i).e("content")),innerHTML:k.message},null,10,["innerHTML"])],2112)):(L(),G("p",{key:0,class:U(m(i).e("content"))},ge(k.message),3))]),k.showClose?(L(),ye(m(lt),{key:2,class:U(m(i).e("closeBtn")),onClick:St(T,["stop"])},{default:O(()=>[A(m(s))]),_:1},8,["class","onClick"])):ce("v-if",!0)],46,["id"]),[[nn,d.value]])]),_:3},8,["name","onBeforeEnter","onBeforeLeave","onAfterLeave"]))}});var kae=Ye(Cae,[["__file","message.vue"]]);let Iae=1;const B$=t=>{const e=!t||ht(t)||Mn(t)||vt(t)?{message:t}:t,n={...as,...e};if(!n.appendTo)n.appendTo=document.body;else if(ht(n.appendTo)){let r=document.querySelector(n.appendTo);hs(r)||(r=document.body),n.appendTo=r}return En(bo.grouping)&&!n.grouping&&(n.grouping=bo.grouping),bt(bo.duration)&&n.duration===3e3&&(n.duration=bo.duration),bt(bo.offset)&&n.offset===16&&(n.offset=bo.offset),En(bo.showClose)&&!n.showClose&&(n.showClose=bo.showClose),n},Aae=t=>{const e=Eo.indexOf(t);if(e===-1)return;Eo.splice(e,1);const{handler:n}=t;n.close()},Rae=({appendTo:t,...e},n)=>{const r=`message_${Iae++}`,s=e.onClose,o=document.createElement("div"),i={...e,id:r,onClose:()=>{s==null||s(),Aae(c)},onDestroy:()=>{Ra(null,o)}},a=A(kae,i,vt(i.message)||Mn(i.message)?{default:vt(i.message)?i.message:()=>i.message}:null);a.appContext=n||Ku._context,Ra(a,o),t.appendChild(o.firstElementChild);const u=a.component,c={id:r,vnode:a,vm:u,handler:{close:()=>{u.exposed.close()}},props:a.component.props};return c},Ku=(t={},e)=>{if(!an)return{close:()=>{}};const n=B$(t);if(n.grouping&&Eo.length){const s=Eo.find(({vnode:o})=>{var i;return((i=o.props)==null?void 0:i.message)===n.message});if(s)return s.props.repeatNum+=1,s.props.type=n.type,s.handler}if(bt(bo.max)&&Eo.length>=bo.max)return{close:()=>{}};const r=Rae(n,e);return Eo.push(r),r.handler};F$.forEach(t=>{Ku[t]=(e={},n)=>{const r=B$(e);return Ku({...r,type:t},n)}});function Lae(t){const e=[...Eo];for(const n of e)(!t||t===n.props.type)&&n.handler.close()}Ku.closeAll=Lae;Ku._context=null;const gt=II(Ku,"$message"),Cy="_trap-focus-children",dl=[],rT=t=>{if(dl.length===0)return;const e=dl[dl.length-1][Cy];if(e.length>0&&t.code===ot.tab){if(e.length===1){t.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const n=t.shiftKey,r=t.target===e[0],s=t.target===e[e.length-1];r&&n&&(t.preventDefault(),e[e.length-1].focus()),s&&!n&&(t.preventDefault(),e[0].focus())}},$ae={beforeMount(t){t[Cy]=gE(t),dl.push(t),dl.length<=1&&document.addEventListener("keydown",rT)},updated(t){pt(()=>{t[Cy]=gE(t)})},unmounted(){dl.shift(),dl.length===0&&document.removeEventListener("keydown",rT)}},Pae=ee({name:"ElMessageBox",directives:{TrapFocus:$ae},components:{ElButton:Nn,ElFocusTrap:ic,ElInput:ir,ElOverlay:B1,ElIcon:lt,...r1},inheritAttrs:!1,props:{buttonSize:{type:String,validator:mL},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:e}){const{locale:n,zIndex:r,ns:s,size:o}=Om("message-box",P(()=>t.buttonSize)),{t:i}=n,{nextZIndex:a}=r,u=q(!1),l=Ft({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",closeIcon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:"",inputValidator:void 0,inputErrorMessage:"",message:"",modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:Ni(ii),cancelButtonLoadingIcon:Ni(ii),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:a()}),c=P(()=>{const R=l.type;return{[s.bm("icon",R)]:R&&Ma[R]}}),d=Br(),f=Br(),h=P(()=>{const R=l.type;return l.icon||R&&Ma[R]||""}),p=P(()=>!!l.message),g=q(),v=q(),y=q(),_=q(),b=q(),w=P(()=>l.confirmButtonClass);Pe(()=>l.inputValue,async R=>{await pt(),t.boxType==="prompt"&&R&&D()},{immediate:!0}),Pe(()=>u.value,R=>{var z,M;R&&(t.boxType!=="prompt"&&(l.autofocus?y.value=(M=(z=b.value)==null?void 0:z.$el)!=null?M:g.value:y.value=g.value),l.zIndex=a()),t.boxType==="prompt"&&(R?pt().then(()=>{var B;_.value&&_.value.$el&&(l.autofocus?y.value=(B=W())!=null?B:g.value:y.value=g.value)}):(l.editorErrorMessage="",l.validateError=!1))});const S=P(()=>t.draggable),E=P(()=>t.overflow);SR(g,v,S,E),xt(async()=>{await pt(),t.closeOnHashChange&&window.addEventListener("hashchange",T)}),In(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",T)});function T(){u.value&&(u.value=!1,pt(()=>{l.action&&e("action",l.action)}))}const I=()=>{t.closeOnClickModal&&N(l.distinguishCancelAndClose?"close":"cancel")},k=F1(I),C=R=>{if(l.inputType!=="textarea")return R.preventDefault(),N("confirm")},N=R=>{var z;t.boxType==="prompt"&&R==="confirm"&&!D()||(l.action=R,l.beforeClose?(z=l.beforeClose)==null||z.call(l,R,l,T):T())},D=()=>{if(t.boxType==="prompt"){const R=l.inputPattern;if(R&&!R.test(l.inputValue||""))return l.editorErrorMessage=l.inputErrorMessage||i("el.messagebox.error"),l.validateError=!0,!1;const z=l.inputValidator;if(vt(z)){const M=z(l.inputValue);if(M===!1)return l.editorErrorMessage=l.inputErrorMessage||i("el.messagebox.error"),l.validateError=!0,!1;if(ht(M))return l.editorErrorMessage=M,l.validateError=!0,!1}}return l.editorErrorMessage="",l.validateError=!1,!0},W=()=>{var R,z;const M=(R=_.value)==null?void 0:R.$refs;return(z=M==null?void 0:M.input)!=null?z:M==null?void 0:M.textarea},H=()=>{N("close")},V=()=>{t.closeOnPressEscape&&H()};return t.lockScroll&&V1(u),{...$r(l),ns:s,overlayEvent:k,visible:u,hasMessage:p,typeClass:c,contentId:d,inputId:f,btnSize:o,iconComponent:h,confirmButtonClasses:w,rootRef:g,focusStartRef:y,headerRef:v,inputRef:_,confirmRef:b,doClose:T,handleClose:H,onCloseRequested:V,handleWrapperClick:I,handleInputEnter:C,handleAction:N,t:i}}});function Dae(t,e,n,r,s,o){const i=qt("el-icon"),a=qt("el-input"),u=qt("el-button"),l=qt("el-focus-trap"),c=qt("el-overlay");return L(),ye(Tr,{name:"fade-in-linear",onAfterLeave:d=>t.$emit("vanish"),persisted:""},{default:O(()=>[At(A(c,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:O(()=>[F("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:U(`${t.ns.namespace.value}-overlay-message-box`),onClick:t.overlayEvent.onClick,onMousedown:t.overlayEvent.onMousedown,onMouseup:t.overlayEvent.onMouseup},[A(l,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:O(()=>[F("div",{ref:"rootRef",class:U([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),{[t.ns.m("center")]:t.center}]),style:dt(t.customStyle),tabindex:"-1",onClick:St(()=>{},["stop"])},[t.title!==null&&t.title!==void 0?(L(),G("div",{key:0,ref:"headerRef",class:U([t.ns.e("header"),{"show-close":t.showClose}])},[F("div",{class:U(t.ns.e("title"))},[t.iconComponent&&t.center?(L(),ye(i,{key:0,class:U([t.ns.e("status"),t.typeClass])},{default:O(()=>[(L(),ye(Wt(t.iconComponent)))]),_:1},8,["class"])):ce("v-if",!0),F("span",null,ge(t.title),1)],2),t.showClose?(L(),G("button",{key:0,type:"button",class:U(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:d=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),onKeydown:Sn(St(d=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[A(i,{class:U(t.ns.e("close"))},{default:O(()=>[(L(),ye(Wt(t.closeIcon||"close")))]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):ce("v-if",!0)],2)):ce("v-if",!0),F("div",{id:t.contentId,class:U(t.ns.e("content"))},[F("div",{class:U(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(L(),ye(i,{key:0,class:U([t.ns.e("status"),t.typeClass])},{default:O(()=>[(L(),ye(Wt(t.iconComponent)))]),_:1},8,["class"])):ce("v-if",!0),t.hasMessage?(L(),G("div",{key:1,class:U(t.ns.e("message"))},[ve(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(L(),ye(Wt(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(L(),ye(Wt(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0},{default:O(()=>[xe(ge(t.dangerouslyUseHTMLString?"":t.message),1)]),_:1},8,["for"]))])],2)):ce("v-if",!0)],2),At(F("div",{class:U(t.ns.e("input"))},[A(a,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":d=>t.inputValue=d,type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:U({invalid:t.validateError}),onKeydown:Sn(t.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),F("div",{class:U(t.ns.e("errormsg")),style:dt({visibility:t.editorErrorMessage?"visible":"hidden"})},ge(t.editorErrorMessage),7)],2),[[nn,t.showInput]])],10,["id"]),F("div",{class:U(t.ns.e("btns"))},[t.showCancelButton?(L(),ye(u,{key:0,loading:t.cancelButtonLoading,"loading-icon":t.cancelButtonLoadingIcon,class:U([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:d=>t.handleAction("cancel"),onKeydown:Sn(St(d=>t.handleAction("cancel"),["prevent"]),["enter"])},{default:O(()=>[xe(ge(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):ce("v-if",!0),At(A(u,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,"loading-icon":t.confirmButtonLoadingIcon,class:U([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:d=>t.handleAction("confirm"),onKeydown:Sn(St(d=>t.handleAction("confirm"),["prevent"]),["enter"])},{default:O(()=>[xe(ge(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[nn,t.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[nn,t.visible]])]),_:3},8,["onAfterLeave"])}var Oae=Ye(Pae,[["render",Dae],["__file","index.vue"]]);const Ud=new Map,Mae=t=>{let e=document.body;return t.appendTo&&(ht(t.appendTo)&&(e=document.querySelector(t.appendTo)),hs(t.appendTo)&&(e=t.appendTo),hs(e)||(e=document.body)),e},Nae=(t,e,n=null)=>{const r=A(Oae,t,vt(t.message)||Mn(t.message)?{default:vt(t.message)?t.message:()=>t.message}:null);return r.appContext=n,Ra(r,e),Mae(t).appendChild(e.firstElementChild),r.component},Fae=()=>document.createElement("div"),Bae=(t,e)=>{const n=Fae();t.onVanish=()=>{Ra(null,n),Ud.delete(s)},t.onAction=o=>{const i=Ud.get(s);let a;t.showInput?a={value:s.inputValue,action:o}:a=o,t.callback?t.callback(a,r.proxy):o==="cancel"||o==="close"?t.distinguishCancelAndClose&&o!=="cancel"?i.reject("close"):i.reject("cancel"):i.resolve(a)};const r=Nae(t,n,e),s=r.proxy;for(const o in t)dn(t,o)&&!dn(s.$props,o)&&(o==="closeIcon"&&Kt(t[o])?s[o]=Ni(t[o]):s[o]=t[o]);return s.visible=!0,s};function pc(t,e=null){if(!an)return Promise.reject();let n;return ht(t)||Mn(t)?t={message:t}:n=t.callback,new Promise((r,s)=>{const o=Bae(t,e??pc._context);Ud.set(o,{options:t,callback:n,resolve:r,reject:s})})}const Vae=["alert","confirm","prompt"],Uae={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};Vae.forEach(t=>{pc[t]=Hae(t)});function Hae(t){return(e,n,r,s)=>{let o="";return Kt(n)?(r=n,o=""):ln(n)?o="":o=n,pc(Object.assign({title:o,message:e,type:"",...Uae[t]},r,{boxType:t}),s)}}pc.close=()=>{Ud.forEach((t,e)=>{e.doClose()}),Ud.clear()};pc._context=null;const ma=pc;ma.install=t=>{ma._context=t._context,t.config.globalProperties.$msgbox=ma,t.config.globalProperties.$messageBox=ma,t.config.globalProperties.$alert=ma.alert,t.config.globalProperties.$confirm=ma.confirm,t.config.globalProperties.$prompt=ma.prompt};const ep=ma,V$=["success","info","warning","error"],jae=qe({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:_n},id:{type:String,default:""},message:{type:me([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:me(Function),default:()=>{}},onClose:{type:me(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...V$,""],default:""},zIndex:Number,closeIcon:{type:_n,default:io}}),Kae={destroy:()=>!0},zae=ee({name:"ElNotification"}),Wae=ee({...zae,props:jae,emits:Kae,setup(t,{expose:e}){const n=t,{ns:r,zIndex:s}=Om("notification"),{nextZIndex:o,currentZIndex:i}=s,a=q(!1);let u;const l=P(()=>{const _=n.type;return _&&Ma[n.type]?r.m(_):""}),c=P(()=>n.type&&Ma[n.type]||n.icon),d=P(()=>n.position.endsWith("right")?"right":"left"),f=P(()=>n.position.startsWith("top")?"top":"bottom"),h=P(()=>{var _;return{[f.value]:`${n.offset}px`,zIndex:(_=n.zIndex)!=null?_:i.value}});function p(){n.duration>0&&({stop:u}=xl(()=>{a.value&&v()},n.duration))}function g(){u==null||u()}function v(){a.value=!1}function y({code:_}){_===ot.delete||_===ot.backspace?g():_===ot.esc?a.value&&v():p()}return xt(()=>{p(),o(),a.value=!0}),xn(document,"keydown",y),e({visible:a,close:v}),(_,b)=>(L(),ye(Tr,{name:m(r).b("fade"),onBeforeLeave:_.onClose,onAfterLeave:w=>_.$emit("destroy"),persisted:""},{default:O(()=>[At(F("div",{id:_.id,class:U([m(r).b(),_.customClass,m(d)]),style:dt(m(h)),role:"alert",onMouseenter:g,onMouseleave:p,onClick:_.onClick},[m(c)?(L(),ye(m(lt),{key:0,class:U([m(r).e("icon"),m(l)])},{default:O(()=>[(L(),ye(Wt(m(c))))]),_:1},8,["class"])):ce("v-if",!0),F("div",{class:U(m(r).e("group"))},[F("h2",{class:U(m(r).e("title")),textContent:ge(_.title)},null,10,["textContent"]),At(F("div",{class:U(m(r).e("content")),style:dt(_.title?void 0:{margin:0})},[ve(_.$slots,"default",{},()=>[_.dangerouslyUseHTMLString?(L(),G(tt,{key:1},[ce(" Caution here, message could've been compromised, never use user's input as message "),F("p",{innerHTML:_.message},null,8,["innerHTML"])],2112)):(L(),G("p",{key:0},ge(_.message),1))])],6),[[nn,_.message]]),_.showClose?(L(),ye(m(lt),{key:0,class:U(m(r).e("closeBtn")),onClick:St(v,["stop"])},{default:O(()=>[(L(),ye(Wt(_.closeIcon)))]),_:1},8,["class","onClick"])):ce("v-if",!0)],2)],46,["id","onClick"]),[[nn,a.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var Gae=Ye(Wae,[["__file","notification.vue"]]);const Gp={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},ky=16;let qae=1;const zu=function(t={},e){if(!an)return{close:()=>{}};(ht(t)||Mn(t))&&(t={message:t});const n=t.position||"top-right";let r=t.offset||0;Gp[n].forEach(({vm:c})=>{var d;r+=(((d=c.el)==null?void 0:d.offsetHeight)||0)+ky}),r+=ky;const s=`notification_${qae++}`,o=t.onClose,i={...t,offset:r,id:s,onClose:()=>{Yae(s,n,o)}};let a=document.body;hs(t.appendTo)?a=t.appendTo:ht(t.appendTo)&&(a=document.querySelector(t.appendTo)),hs(a)||(a=document.body);const u=document.createElement("div"),l=A(Gae,i,vt(i.message)?i.message:Mn(i.message)?()=>i.message:null);return l.appContext=ln(e)?zu._context:e,l.props.onDestroy=()=>{Ra(null,u)},Ra(l,u),Gp[n].push({vm:l}),a.appendChild(u.firstElementChild),{close:()=>{l.component.exposed.visible.value=!1}}};V$.forEach(t=>{zu[t]=(e={},n)=>((ht(e)||Mn(e))&&(e={message:e}),zu({...e,type:t},n))});function Yae(t,e,n){const r=Gp[e],s=r.findIndex(({vm:l})=>{var c;return((c=l.component)==null?void 0:c.props.id)===t});if(s===-1)return;const{vm:o}=r[s];if(!o)return;n==null||n(o);const i=o.el.offsetHeight,a=e.split("-")[0];r.splice(s,1);const u=r.length;if(!(u<1))for(let l=s;l<u;l++){const{el:c,component:d}=r[l].vm,f=Number.parseInt(c.style[a],10)-i-ky;d.props.offset=f}}function Xae(){for(const t of Object.values(Gp))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}zu.closeAll=Xae;zu._context=null;const Qae=II(zu,"$notify");var Zae=[pae,bae,gt,ep,Qae,QR],Jae=XB([...aae,...Zae]);const ele={class:"util"},tle=ee({__name:"Util",setup(t){const e=Ft({show:!1,darkTheme:!0});xt(()=>{n(localStorage.getItem("theme")+"")});const n=r=>{switch(r){case"top":if(document.documentElement.scrollTop>0){const o=setInterval(()=>{document.documentElement.scrollTop-=10,document.documentElement.scrollTop===0&&clearInterval(o)},5)}break;case"light":e.darkTheme=!1,localStorage.setItem("theme","light"),document.getElementsByClassName("main")[0].style.background="linear-gradient(45deg, #356697, rgb(105, 68, 140), rgb(151, 109, 133), rgb(92 104 149))";break;case"dark":e.darkTheme=!0,localStorage.setItem("theme","dark"),document.getElementsByClassName("main")[0].style.background="#16161a";break;case"more":e.show=!e.show;break}};return(r,s)=>{const o=lt,i=yf;return L(),G("div",ele,[A(i,null,{default:O(()=>[At(F("div",null,[F("a",{href:"javascript:;",onClick:s[0]||(s[0]=a=>n("top"))},[A(o,null,{default:O(()=>[A(m(Mm))]),_:1})]),e.darkTheme?(L(),G("a",{key:0,href:"javascript:;",onClick:s[1]||(s[1]=a=>n("light"))},[A(o,null,{default:O(()=>[A(m(N9))]),_:1})])):ce("",!0),e.darkTheme?ce("",!0):(L(),G("a",{key:1,href:"javascript:;",onClick:s[2]||(s[2]=a=>n("dark"))},[A(o,null,{default:O(()=>[A(m(h9))]),_:1})])),F("a",{href:"/custom/player",onClick:s[3]||(s[3]=a=>n("dark"))},[A(o,null,{default:O(()=>[A(m(W9))]),_:1})])],512),[[nn,e.show]])]),_:1}),F("a",{href:"javascript:;",onClick:s[4]||(s[4]=a=>n("more")),class:"more"},[A(o,null,{default:O(()=>[A(m(x0))]),_:1})])])}}}),Kn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},nle=Kn(tle,[["__scopeId","data-v-66b1aa59"]]);var U$={exports:{}};/*! Element Plus v2.9.9 */(function(t,e){(function(n,r){t.exports=r()})(rs,function(){var n={name:"zh-cn",el:{breadcrumb:{label:"面包屑"},colorpicker:{confirm:"确定",clear:"清空",defaultLabel:"颜色选择器",description:"当前颜色 {color}，按 Enter 键选择新颜色",alphaLabel:"选择透明度的值"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",dateTablePrompt:"使用方向键与 Enter 键可选择日期",monthTablePrompt:"使用方向键与 Enter 键可选择月份",yearTablePrompt:"使用方向键与 Enter 键可选择年份",selectedDate:"已选日期",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},weeksFull:{sun:"星期日",mon:"星期一",tue:"星期二",wed:"星期三",thu:"星期四",fri:"星期五",sat:"星期六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},inputNumber:{decrease:"减少数值",increase:"增加数值"},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},dropdown:{toggleDropdown:"切换下拉选项"},mention:{loading:"加载中"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},dialog:{close:"关闭此对话框"},drawer:{close:"关闭此对话框"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!",close:"关闭此对话框"},upload:{deleteTip:"按 Delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},slider:{defaultLabel:"滑块介于 {min} 至 {max}",defaultRangeStartLabel:"选择起始值",defaultRangeEndLabel:"选择结束值"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tour:{next:"下一步",previous:"上一步",finish:"结束导览"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},carousel:{leftArrow:"上一张幻灯片",rightArrow:"下一张幻灯片",indicator:"幻灯片切换至索引 {index}"}}};return n})})(U$);var rle=U$.exports;const sle=Ks(rle),ole={class:"main"},ile=ee({__name:"App",setup(t){return(e,n)=>{const r=qt("router-view"),s=qA;return L(),ye(s,{locale:m(sle)},{default:O(()=>[F("div",ole,[A(r),A(nle)])]),_:1},8,["locale"])}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ou=typeof document<"u";function H$(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ale(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&H$(t.default)}const Un=Object.assign;function kv(t,e){const n={};for(const r in e){const s=e[r];n[r]=Lo(s)?s.map(t):t(s)}return n}const id=()=>{},Lo=Array.isArray,j$=/#/g,lle=/&/g,ule=/\//g,cle=/=/g,dle=/\?/g,K$=/\+/g,fle=/%5B/g,hle=/%5D/g,z$=/%5E/g,ple=/%60/g,W$=/%7B/g,mle=/%7C/g,G$=/%7D/g,gle=/%20/g;function Cw(t){return encodeURI(""+t).replace(mle,"|").replace(fle,"[").replace(hle,"]")}function vle(t){return Cw(t).replace(W$,"{").replace(G$,"}").replace(z$,"^")}function Iy(t){return Cw(t).replace(K$,"%2B").replace(gle,"+").replace(j$,"%23").replace(lle,"%26").replace(ple,"`").replace(W$,"{").replace(G$,"}").replace(z$,"^")}function yle(t){return Iy(t).replace(cle,"%3D")}function ble(t){return Cw(t).replace(j$,"%23").replace(dle,"%3F")}function wle(t){return t==null?"":ble(t).replace(ule,"%2F")}function Hd(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const _le=/\/$/,Sle=t=>t.replace(_le,"");function Iv(t,e,n="/"){let r,s={},o="",i="";const a=e.indexOf("#");let u=e.indexOf("?");return a<u&&a>=0&&(u=-1),u>-1&&(r=e.slice(0,u),o=e.slice(u+1,a>-1?a:e.length),s=t(o)),a>-1&&(r=r||e.slice(0,a),i=e.slice(a,e.length)),r=Cle(r??e,n),{fullPath:r+(o&&"?")+o+i,path:r,query:s,hash:Hd(i)}}function Ele(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function sT(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function xle(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Wu(e.matched[r],n.matched[s])&&q$(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Wu(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function q$(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Tle(t[n],e[n]))return!1;return!0}function Tle(t,e){return Lo(t)?oT(t,e):Lo(e)?oT(e,t):t===e}function oT(t,e){return Lo(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Cle(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let o=n.length-1,i,a;for(i=0;i<r.length;i++)if(a=r[i],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(i).join("/")}const ca={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var jd;(function(t){t.pop="pop",t.push="push"})(jd||(jd={}));var ad;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ad||(ad={}));function kle(t){if(!t)if(ou){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Sle(t)}const Ile=/^[^#]+#/;function Ale(t,e){return t.replace(Ile,"#")+e}function Rle(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const sg=()=>({left:window.scrollX,top:window.scrollY});function Lle(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=Rle(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function iT(t,e){return(history.state?history.state.position-e:-1)+t}const Ay=new Map;function $le(t,e){Ay.set(t,e)}function Ple(t){const e=Ay.get(t);return Ay.delete(t),e}let Dle=()=>location.protocol+"//"+location.host;function Y$(t,e){const{pathname:n,search:r,hash:s}=e,o=t.indexOf("#");if(o>-1){let a=s.includes(t.slice(o))?t.slice(o).length:1,u=s.slice(a);return u[0]!=="/"&&(u="/"+u),sT(u,"")}return sT(n,t)+r+s}function Ole(t,e,n,r){let s=[],o=[],i=null;const a=({state:f})=>{const h=Y$(t,location),p=n.value,g=e.value;let v=0;if(f){if(n.value=h,e.value=f,i&&i===p){i=null;return}v=g?f.position-g.position:0}else r(h);s.forEach(y=>{y(n.value,p,{delta:v,type:jd.pop,direction:v?v>0?ad.forward:ad.back:ad.unknown})})};function u(){i=n.value}function l(f){s.push(f);const h=()=>{const p=s.indexOf(f);p>-1&&s.splice(p,1)};return o.push(h),h}function c(){const{history:f}=window;f.state&&f.replaceState(Un({},f.state,{scroll:sg()}),"")}function d(){for(const f of o)f();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:u,listen:l,destroy:d}}function aT(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?sg():null}}function Mle(t){const{history:e,location:n}=window,r={value:Y$(t,n)},s={value:e.state};s.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(u,l,c){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+u:Dle()+t+u;try{e[c?"replaceState":"pushState"](l,"",f),s.value=l}catch(h){console.error(h),n[c?"replace":"assign"](f)}}function i(u,l){const c=Un({},e.state,aT(s.value.back,u,s.value.forward,!0),l,{position:s.value.position});o(u,c,!0),r.value=u}function a(u,l){const c=Un({},s.value,e.state,{forward:u,scroll:sg()});o(c.current,c,!0);const d=Un({},aT(r.value,u,null),{position:c.position+1},l);o(u,d,!1),r.value=u}return{location:r,state:s,push:a,replace:i}}function Nle(t){t=kle(t);const e=Mle(t),n=Ole(t,e.state,e.location,e.replace);function r(o,i=!0){i||n.pauseListeners(),history.go(o)}const s=Un({location:"",base:t,go:r,createHref:Ale.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function Fle(t){return typeof t=="string"||t&&typeof t=="object"}function X$(t){return typeof t=="string"||typeof t=="symbol"}const Q$=Symbol("");var lT;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(lT||(lT={}));function Gu(t,e){return Un(new Error,{type:t,[Q$]:!0},e)}function Si(t,e){return t instanceof Error&&Q$ in t&&(e==null||!!(t.type&e))}const uT="[^/]+?",Ble={sensitive:!1,strict:!1,start:!0,end:!0},Vle=/[.+*?^${}()[\]/\\]/g;function Ule(t,e){const n=Un({},Ble,e),r=[];let s=n.start?"^":"";const o=[];for(const l of t){const c=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let d=0;d<l.length;d++){const f=l[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(s+="/"),s+=f.value.replace(Vle,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:g,optional:v,regexp:y}=f;o.push({name:p,repeatable:g,optional:v});const _=y||uT;if(_!==uT){h+=10;try{new RegExp(`(${_})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${p}" (${_}): `+w.message)}}let b=g?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;d||(b=v&&l.length<2?`(?:/${b})`:"/"+b),v&&(b+="?"),s+=b,h+=20,v&&(h+=-8),g&&(h+=-20),_===".*"&&(h+=-50)}c.push(h)}r.push(c)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const i=new RegExp(s,n.sensitive?"":"i");function a(l){const c=l.match(i),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",p=o[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function u(l){let c="",d=!1;for(const f of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:p,repeatable:g,optional:v}=h,y=p in l?l[p]:"";if(Lo(y)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const _=Lo(y)?y.join("/"):y;if(!_)if(v)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=_}}return c||"/"}return{re:i,score:r,keys:o,parse:a,stringify:u}}function Hle(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Z$(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const o=Hle(r[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-r.length)===1){if(cT(r))return 1;if(cT(s))return-1}return s.length-r.length}function cT(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const jle={type:0,value:""},Kle=/[a-zA-Z0-9_]/;function zle(t){if(!t)return[[]];if(t==="/")return[[jle]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${l}": ${h}`)}let n=0,r=n;const s=[];let o;function i(){o&&s.push(o),o=[]}let a=0,u,l="",c="";function d(){l&&(n===0?o.push({type:0,value:l}):n===1||n===2||n===3?(o.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:l,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),l="")}function f(){l+=u}for(;a<t.length;){if(u=t[a++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(l&&d(),i()):u===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:u==="("?n=2:Kle.test(u)?f():(d(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--);break;case 2:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:n=3:c+=u;break;case 3:d(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),d(),i(),s}function Wle(t,e,n){const r=Ule(zle(t.path),n),s=Un(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function Gle(t,e){const n=[],r=new Map;e=pT({strict:!1,end:!0,sensitive:!1},e);function s(d){return r.get(d)}function o(d,f,h){const p=!h,g=fT(d);g.aliasOf=h&&h.record;const v=pT(e,d),y=[g];if("alias"in d){const w=typeof d.alias=="string"?[d.alias]:d.alias;for(const S of w)y.push(fT(Un({},g,{components:h?h.record.components:g.components,path:S,aliasOf:h?h.record:g})))}let _,b;for(const w of y){const{path:S}=w;if(f&&S[0]!=="/"){const E=f.record.path,T=E[E.length-1]==="/"?"":"/";w.path=f.record.path+(S&&T+S)}if(_=Wle(w,f,v),h?h.alias.push(_):(b=b||_,b!==_&&b.alias.push(_),p&&d.name&&!hT(_)&&i(d.name)),J$(_)&&u(_),g.children){const E=g.children;for(let T=0;T<E.length;T++)o(E[T],_,h&&h.children[T])}h=h||_}return b?()=>{i(b)}:id}function i(d){if(X$(d)){const f=r.get(d);f&&(r.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&r.delete(d.record.name),d.children.forEach(i),d.alias.forEach(i))}}function a(){return n}function u(d){const f=Xle(d,n);n.splice(f,0,d),d.record.name&&!hT(d)&&r.set(d.record.name,d)}function l(d,f){let h,p={},g,v;if("name"in d&&d.name){if(h=r.get(d.name),!h)throw Gu(1,{location:d});v=h.record.name,p=Un(dT(f.params,h.keys.filter(b=>!b.optional).concat(h.parent?h.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),d.params&&dT(d.params,h.keys.map(b=>b.name))),g=h.stringify(p)}else if(d.path!=null)g=d.path,h=n.find(b=>b.re.test(g)),h&&(p=h.parse(g),v=h.record.name);else{if(h=f.name?r.get(f.name):n.find(b=>b.re.test(f.path)),!h)throw Gu(1,{location:d,currentLocation:f});v=h.record.name,p=Un({},f.params,d.params),g=h.stringify(p)}const y=[];let _=h;for(;_;)y.unshift(_.record),_=_.parent;return{name:v,path:g,params:p,matched:y,meta:Yle(y)}}t.forEach(d=>o(d));function c(){n.length=0,r.clear()}return{addRoute:o,resolve:l,removeRoute:i,clearRoutes:c,getRoutes:a,getRecordMatcher:s}}function dT(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function fT(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:qle(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function qle(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function hT(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Yle(t){return t.reduce((e,n)=>Un(e,n.meta),{})}function pT(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Xle(t,e){let n=0,r=e.length;for(;n!==r;){const o=n+r>>1;Z$(t,e[o])<0?r=o:n=o+1}const s=Qle(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function Qle(t){let e=t;for(;e=e.parent;)if(J$(e)&&Z$(t,e)===0)return e}function J$({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Zle(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const o=r[s].replace(K$," "),i=o.indexOf("="),a=Hd(i<0?o:o.slice(0,i)),u=i<0?null:Hd(o.slice(i+1));if(a in e){let l=e[a];Lo(l)||(l=e[a]=[l]),l.push(u)}else e[a]=u}return e}function mT(t){let e="";for(let n in t){const r=t[n];if(n=yle(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Lo(r)?r.map(o=>o&&Iy(o)):[r&&Iy(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function Jle(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Lo(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const eue=Symbol(""),gT=Symbol(""),og=Symbol(""),kw=Symbol(""),Ry=Symbol("");function Oc(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ba(t,e,n,r,s,o=i=>i()){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,u)=>{const l=f=>{f===!1?u(Gu(4,{from:n,to:e})):f instanceof Error?u(f):Fle(f)?u(Gu(2,{from:e,to:f})):(i&&r.enterCallbacks[s]===i&&typeof f=="function"&&i.push(f),a())},c=o(()=>t.call(r&&r.instances[s],e,n,l));let d=Promise.resolve(c);t.length<3&&(d=d.then(l)),d.catch(f=>u(f))})}function Av(t,e,n,r,s=o=>o()){const o=[];for(const i of t)for(const a in i.components){let u=i.components[a];if(!(e!=="beforeRouteEnter"&&!i.instances[a]))if(H$(u)){const c=(u.__vccOpts||u)[e];c&&o.push(ba(c,n,r,i,a,s))}else{let l=u();o.push(()=>l.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const d=ale(c)?c.default:c;i.mods[a]=c,i.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&ba(h,n,r,i,a,s)()}))}}return o}function vT(t){const e=rt(og),n=rt(kw),r=P(()=>{const u=m(t.to);return e.resolve(u)}),s=P(()=>{const{matched:u}=r.value,{length:l}=u,c=u[l-1],d=n.matched;if(!c||!d.length)return-1;const f=d.findIndex(Wu.bind(null,c));if(f>-1)return f;const h=yT(u[l-2]);return l>1&&yT(c)===h&&d[d.length-1].path!==h?d.findIndex(Wu.bind(null,u[l-2])):f}),o=P(()=>s.value>-1&&oue(n.params,r.value.params)),i=P(()=>s.value>-1&&s.value===n.matched.length-1&&q$(n.params,r.value.params));function a(u={}){if(sue(u)){const l=e[m(t.replace)?"replace":"push"](m(t.to)).catch(id);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:r,href:P(()=>r.value.href),isActive:o,isExactActive:i,navigate:a}}function tue(t){return t.length===1?t[0]:t}const nue=ee({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:vT,setup(t,{slots:e}){const n=Ft(vT(t)),{options:r}=rt(og),s=P(()=>({[bT(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[bT(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&tue(e.default(n));return t.custom?o:_t("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),rue=nue;function sue(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function oue(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Lo(s)||s.length!==r.length||r.some((o,i)=>o!==s[i]))return!1}return!0}function yT(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const bT=(t,e,n)=>t??e??n,iue=ee({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=rt(Ry),s=P(()=>t.route||r.value),o=rt(gT,0),i=P(()=>{let l=m(o);const{matched:c}=s.value;let d;for(;(d=c[l])&&!d.components;)l++;return l}),a=P(()=>s.value.matched[i.value]);Qt(gT,P(()=>i.value+1)),Qt(eue,a),Qt(Ry,s);const u=q();return Pe(()=>[u.value,a.value,t.name],([l,c,d],[f,h,p])=>{c&&(c.instances[d]=l,h&&h!==c&&l&&l===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),l&&c&&(!h||!Wu(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=s.value,c=t.name,d=a.value,f=d&&d.components[c];if(!f)return wT(n.default,{Component:f,route:l});const h=d.props[c],p=h?h===!0?l.params:typeof h=="function"?h(l):h:null,v=_t(f,Un({},p,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[c]=null)},ref:u}));return wT(n.default,{Component:v,route:l})||v}}});function wT(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const aue=iue;function lue(t){const e=Gle(t.routes,t),n=t.parseQuery||Zle,r=t.stringifyQuery||mT,s=t.history,o=Oc(),i=Oc(),a=Oc(),u=On(ca);let l=ca;ou&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=kv.bind(null,J=>""+J),d=kv.bind(null,wle),f=kv.bind(null,Hd);function h(J,de){let ae,Ae;return X$(J)?(ae=e.getRecordMatcher(J),Ae=de):Ae=J,e.addRoute(Ae,ae)}function p(J){const de=e.getRecordMatcher(J);de&&e.removeRoute(de)}function g(){return e.getRoutes().map(J=>J.record)}function v(J){return!!e.getRecordMatcher(J)}function y(J,de){if(de=Un({},de||u.value),typeof J=="string"){const le=Iv(n,J,de.path),Se=e.resolve({path:le.path},de),Ce=s.createHref(le.fullPath);return Un(le,Se,{params:f(Se.params),hash:Hd(le.hash),redirectedFrom:void 0,href:Ce})}let ae;if(J.path!=null)ae=Un({},J,{path:Iv(n,J.path,de.path).path});else{const le=Un({},J.params);for(const Se in le)le[Se]==null&&delete le[Se];ae=Un({},J,{params:d(le)}),de.params=d(de.params)}const Ae=e.resolve(ae,de),Re=J.hash||"";Ae.params=c(f(Ae.params));const pe=Ele(r,Un({},J,{hash:vle(Re),path:Ae.path})),ne=s.createHref(pe);return Un({fullPath:pe,hash:Re,query:r===mT?Jle(J.query):J.query||{}},Ae,{redirectedFrom:void 0,href:ne})}function _(J){return typeof J=="string"?Iv(n,J,u.value.path):Un({},J)}function b(J,de){if(l!==J)return Gu(8,{from:de,to:J})}function w(J){return T(J)}function S(J){return w(Un(_(J),{replace:!0}))}function E(J){const de=J.matched[J.matched.length-1];if(de&&de.redirect){const{redirect:ae}=de;let Ae=typeof ae=="function"?ae(J):ae;return typeof Ae=="string"&&(Ae=Ae.includes("?")||Ae.includes("#")?Ae=_(Ae):{path:Ae},Ae.params={}),Un({query:J.query,hash:J.hash,params:Ae.path!=null?{}:J.params},Ae)}}function T(J,de){const ae=l=y(J),Ae=u.value,Re=J.state,pe=J.force,ne=J.replace===!0,le=E(ae);if(le)return T(Un(_(le),{state:typeof le=="object"?Un({},Re,le.state):Re,force:pe,replace:ne}),de||ae);const Se=ae;Se.redirectedFrom=de;let Ce;return!pe&&xle(r,Ae,ae)&&(Ce=Gu(16,{to:Se,from:Ae}),X(Ae,Ae,!0,!1)),(Ce?Promise.resolve(Ce):C(Se,Ae)).catch(Ee=>Si(Ee)?Si(Ee,2)?Ee:j(Ee):M(Ee,Se,Ae)).then(Ee=>{if(Ee){if(Si(Ee,2))return T(Un({replace:ne},_(Ee.to),{state:typeof Ee.to=="object"?Un({},Re,Ee.to.state):Re,force:pe}),de||Se)}else Ee=D(Se,Ae,!0,ne,Re);return N(Se,Ae,Ee),Ee})}function I(J,de){const ae=b(J,de);return ae?Promise.reject(ae):Promise.resolve()}function k(J){const de=ie.values().next().value;return de&&typeof de.runWithContext=="function"?de.runWithContext(J):J()}function C(J,de){let ae;const[Ae,Re,pe]=uue(J,de);ae=Av(Ae.reverse(),"beforeRouteLeave",J,de);for(const le of Ae)le.leaveGuards.forEach(Se=>{ae.push(ba(Se,J,de))});const ne=I.bind(null,J,de);return ae.push(ne),ue(ae).then(()=>{ae=[];for(const le of o.list())ae.push(ba(le,J,de));return ae.push(ne),ue(ae)}).then(()=>{ae=Av(Re,"beforeRouteUpdate",J,de);for(const le of Re)le.updateGuards.forEach(Se=>{ae.push(ba(Se,J,de))});return ae.push(ne),ue(ae)}).then(()=>{ae=[];for(const le of pe)if(le.beforeEnter)if(Lo(le.beforeEnter))for(const Se of le.beforeEnter)ae.push(ba(Se,J,de));else ae.push(ba(le.beforeEnter,J,de));return ae.push(ne),ue(ae)}).then(()=>(J.matched.forEach(le=>le.enterCallbacks={}),ae=Av(pe,"beforeRouteEnter",J,de,k),ae.push(ne),ue(ae))).then(()=>{ae=[];for(const le of i.list())ae.push(ba(le,J,de));return ae.push(ne),ue(ae)}).catch(le=>Si(le,8)?le:Promise.reject(le))}function N(J,de,ae){a.list().forEach(Ae=>k(()=>Ae(J,de,ae)))}function D(J,de,ae,Ae,Re){const pe=b(J,de);if(pe)return pe;const ne=de===ca,le=ou?history.state:{};ae&&(Ae||ne?s.replace(J.fullPath,Un({scroll:ne&&le&&le.scroll},Re)):s.push(J.fullPath,Re)),u.value=J,X(J,de,ae,ne),j()}let W;function H(){W||(W=s.listen((J,de,ae)=>{if(!fe.listening)return;const Ae=y(J),Re=E(Ae);if(Re){T(Un(Re,{replace:!0,force:!0}),Ae).catch(id);return}l=Ae;const pe=u.value;ou&&$le(iT(pe.fullPath,ae.delta),sg()),C(Ae,pe).catch(ne=>Si(ne,12)?ne:Si(ne,2)?(T(Un(_(ne.to),{force:!0}),Ae).then(le=>{Si(le,20)&&!ae.delta&&ae.type===jd.pop&&s.go(-1,!1)}).catch(id),Promise.reject()):(ae.delta&&s.go(-ae.delta,!1),M(ne,Ae,pe))).then(ne=>{ne=ne||D(Ae,pe,!1),ne&&(ae.delta&&!Si(ne,8)?s.go(-ae.delta,!1):ae.type===jd.pop&&Si(ne,20)&&s.go(-1,!1)),N(Ae,pe,ne)}).catch(id)}))}let V=Oc(),R=Oc(),z;function M(J,de,ae){j(J);const Ae=R.list();return Ae.length?Ae.forEach(Re=>Re(J,de,ae)):console.error(J),Promise.reject(J)}function B(){return z&&u.value!==ca?Promise.resolve():new Promise((J,de)=>{V.add([J,de])})}function j(J){return z||(z=!J,H(),V.list().forEach(([de,ae])=>J?ae(J):de()),V.reset()),J}function X(J,de,ae,Ae){const{scrollBehavior:Re}=t;if(!ou||!Re)return Promise.resolve();const pe=!ae&&Ple(iT(J.fullPath,0))||(Ae||!ae)&&history.state&&history.state.scroll||null;return pt().then(()=>Re(J,de,pe)).then(ne=>ne&&Lle(ne)).catch(ne=>M(ne,J,de))}const se=J=>s.go(J);let te;const ie=new Set,fe={currentRoute:u,listening:!0,addRoute:h,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:g,resolve:y,options:t,push:w,replace:S,go:se,back:()=>se(-1),forward:()=>se(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:R.add,isReady:B,install(J){const de=this;J.component("RouterLink",rue),J.component("RouterView",aue),J.config.globalProperties.$router=de,Object.defineProperty(J.config.globalProperties,"$route",{enumerable:!0,get:()=>m(u)}),ou&&!te&&u.value===ca&&(te=!0,w(s.location).catch(Re=>{}));const ae={};for(const Re in ca)Object.defineProperty(ae,Re,{get:()=>u.value[Re],enumerable:!0});J.provide(og,de),J.provide(kw,pb(ae)),J.provide(Ry,u);const Ae=J.unmount;ie.add(J),J.unmount=function(){ie.delete(J),ie.size<1&&(l=ca,W&&W(),W=null,u.value=ca,te=!1,z=!1),Ae()}}};function ue(J){return J.reduce((de,ae)=>de.then(()=>k(ae)),Promise.resolve())}return fe}function uue(t,e){const n=[],r=[],s=[],o=Math.max(e.matched.length,t.matched.length);for(let i=0;i<o;i++){const a=e.matched[i];a&&(t.matched.find(l=>Wu(l,a))?r.push(a):n.push(a));const u=t.matched[i];u&&(e.matched.find(l=>Wu(l,u))||s.push(u))}return[n,r,s]}function vi(){return rt(og)}function cue(t){return rt(kw)}function eP(t,e){return function(){return t.apply(e,arguments)}}const{toString:due}=Object.prototype,{getPrototypeOf:Iw}=Object,{iterator:ig,toStringTag:tP}=Symbol,ag=(t=>e=>{const n=due.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),No=t=>(t=t.toLowerCase(),e=>ag(e)===t),lg=t=>e=>typeof e===t,{isArray:mc}=Array,Kd=lg("undefined");function fue(t){return t!==null&&!Kd(t)&&t.constructor!==null&&!Kd(t.constructor)&&Is(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const nP=No("ArrayBuffer");function hue(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&nP(t.buffer),e}const pue=lg("string"),Is=lg("function"),rP=lg("number"),ug=t=>t!==null&&typeof t=="object",mue=t=>t===!0||t===!1,tp=t=>{if(ag(t)!=="object")return!1;const e=Iw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(tP in t)&&!(ig in t)},gue=No("Date"),vue=No("File"),yue=No("Blob"),bue=No("FileList"),wue=t=>ug(t)&&Is(t.pipe),_ue=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Is(t.append)&&((e=ag(t))==="formdata"||e==="object"&&Is(t.toString)&&t.toString()==="[object FormData]"))},Sue=No("URLSearchParams"),[Eue,xue,Tue,Cue]=["ReadableStream","Request","Response","Headers"].map(No),kue=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),mc(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let a;for(r=0;r<i;r++)a=o[r],e.call(null,t[a],a,t)}}function sP(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const fl=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),oP=t=>!Kd(t)&&t!==fl;function Ly(){const{caseless:t}=oP(this)&&this||{},e={},n=(r,s)=>{const o=t&&sP(e,s)||s;tp(e[o])&&tp(r)?e[o]=Ly(e[o],r):tp(r)?e[o]=Ly({},r):mc(r)?e[o]=r.slice():e[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&kf(arguments[r],n);return e}const Iue=(t,e,n,{allOwnKeys:r}={})=>(kf(e,(s,o)=>{n&&Is(s)?t[o]=eP(s,n):t[o]=s},{allOwnKeys:r}),t),Aue=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Rue=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Lue=(t,e,n,r)=>{let s,o,i;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)i=s[o],(!r||r(i,t,e))&&!a[i]&&(e[i]=t[i],a[i]=!0);t=n!==!1&&Iw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},$ue=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Pue=t=>{if(!t)return null;if(mc(t))return t;let e=t.length;if(!rP(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Due=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Iw(Uint8Array)),Oue=(t,e)=>{const r=(t&&t[ig]).call(t);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},Mue=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Nue=No("HTMLFormElement"),Fue=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),_T=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Bue=No("RegExp"),iP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};kf(n,(s,o)=>{let i;(i=e(s,o,t))!==!1&&(r[o]=i||s)}),Object.defineProperties(t,r)},Vue=t=>{iP(t,(e,n)=>{if(Is(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Is(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Uue=(t,e)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return mc(t)?r(t):r(String(t).split(e)),n},Hue=()=>{},jue=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Kue(t){return!!(t&&Is(t.append)&&t[tP]==="FormData"&&t[ig])}const zue=t=>{const e=new Array(10),n=(r,s)=>{if(ug(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const o=mc(r)?[]:{};return kf(r,(i,a)=>{const u=n(i,s+1);!Kd(u)&&(o[a]=u)}),e[s]=void 0,o}}return r};return n(t,0)},Wue=No("AsyncFunction"),Gue=t=>t&&(ug(t)||Is(t))&&Is(t.then)&&Is(t.catch),aP=((t,e)=>t?setImmediate:e?((n,r)=>(fl.addEventListener("message",({source:s,data:o})=>{s===fl&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),fl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Is(fl.postMessage)),que=typeof queueMicrotask<"u"?queueMicrotask.bind(fl):typeof process<"u"&&process.nextTick||aP,Yue=t=>t!=null&&Is(t[ig]),it={isArray:mc,isArrayBuffer:nP,isBuffer:fue,isFormData:_ue,isArrayBufferView:hue,isString:pue,isNumber:rP,isBoolean:mue,isObject:ug,isPlainObject:tp,isReadableStream:Eue,isRequest:xue,isResponse:Tue,isHeaders:Cue,isUndefined:Kd,isDate:gue,isFile:vue,isBlob:yue,isRegExp:Bue,isFunction:Is,isStream:wue,isURLSearchParams:Sue,isTypedArray:Due,isFileList:bue,forEach:kf,merge:Ly,extend:Iue,trim:kue,stripBOM:Aue,inherits:Rue,toFlatObject:Lue,kindOf:ag,kindOfTest:No,endsWith:$ue,toArray:Pue,forEachEntry:Oue,matchAll:Mue,isHTMLForm:Nue,hasOwnProperty:_T,hasOwnProp:_T,reduceDescriptors:iP,freezeMethods:Vue,toObjectSet:Uue,toCamelCase:Fue,noop:Hue,toFiniteNumber:jue,findKey:sP,global:fl,isContextDefined:oP,isSpecCompliantForm:Kue,toJSONObject:zue,isAsyncFn:Wue,isThenable:Gue,setImmediate:aP,asap:que,isIterable:Yue};function gn(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}it.inherits(gn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:it.toJSONObject(this.config),code:this.code,status:this.status}}});const lP=gn.prototype,uP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{uP[t]={value:t}});Object.defineProperties(gn,uP);Object.defineProperty(lP,"isAxiosError",{value:!0});gn.from=(t,e,n,r,s,o)=>{const i=Object.create(lP);return it.toFlatObject(t,i,function(u){return u!==Error.prototype},a=>a!=="isAxiosError"),gn.call(i,t.message,e,n,r,s),i.cause=t,i.name=t.name,o&&Object.assign(i,o),i};const Xue=null;function $y(t){return it.isPlainObject(t)||it.isArray(t)}function cP(t){return it.endsWith(t,"[]")?t.slice(0,-2):t}function ST(t,e,n){return t?t.concat(e).map(function(s,o){return s=cP(s),!n&&o?"["+s+"]":s}).join(n?".":""):e}function Que(t){return it.isArray(t)&&!t.some($y)}const Zue=it.toFlatObject(it,{},null,function(e){return/^is[A-Z]/.test(e)});function cg(t,e,n){if(!it.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=it.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!it.isUndefined(v[g])});const r=n.metaTokens,s=n.visitor||c,o=n.dots,i=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&it.isSpecCompliantForm(e);if(!it.isFunction(s))throw new TypeError("visitor must be a function");function l(p){if(p===null)return"";if(it.isDate(p))return p.toISOString();if(!u&&it.isBlob(p))throw new gn("Blob is not supported. Use a Buffer instead.");return it.isArrayBuffer(p)||it.isTypedArray(p)?u&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,g,v){let y=p;if(p&&!v&&typeof p=="object"){if(it.endsWith(g,"{}"))g=r?g:g.slice(0,-2),p=JSON.stringify(p);else if(it.isArray(p)&&Que(p)||(it.isFileList(p)||it.endsWith(g,"[]"))&&(y=it.toArray(p)))return g=cP(g),y.forEach(function(b,w){!(it.isUndefined(b)||b===null)&&e.append(i===!0?ST([g],w,o):i===null?g:g+"[]",l(b))}),!1}return $y(p)?!0:(e.append(ST(v,g,o),l(p)),!1)}const d=[],f=Object.assign(Zue,{defaultVisitor:c,convertValue:l,isVisitable:$y});function h(p,g){if(!it.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(p),it.forEach(p,function(y,_){(!(it.isUndefined(y)||y===null)&&s.call(e,y,it.isString(_)?_.trim():_,g,f))===!0&&h(y,g?g.concat(_):[_])}),d.pop()}}if(!it.isObject(t))throw new TypeError("data must be an object");return h(t),e}function ET(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Aw(t,e){this._pairs=[],t&&cg(t,this,e)}const dP=Aw.prototype;dP.append=function(e,n){this._pairs.push([e,n])};dP.toString=function(e){const n=e?function(r){return e.call(this,r,ET)}:ET;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Jue(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fP(t,e,n){if(!e)return t;const r=n&&n.encode||Jue;it.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(e,n):o=it.isURLSearchParams(e)?e.toString():new Aw(e,n).toString(r),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class ece{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){it.forEach(this.handlers,function(r){r!==null&&e(r)})}}const xT=ece,hP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tce=typeof URLSearchParams<"u"?URLSearchParams:Aw,nce=typeof FormData<"u"?FormData:null,rce=typeof Blob<"u"?Blob:null,sce={isBrowser:!0,classes:{URLSearchParams:tce,FormData:nce,Blob:rce},protocols:["http","https","file","blob","url","data"]},Rw=typeof window<"u"&&typeof document<"u",Py=typeof navigator=="object"&&navigator||void 0,oce=Rw&&(!Py||["ReactNative","NativeScript","NS"].indexOf(Py.product)<0),ice=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ace=Rw&&window.location.href||"http://localhost",lce=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Rw,hasStandardBrowserEnv:oce,hasStandardBrowserWebWorkerEnv:ice,navigator:Py,origin:ace},Symbol.toStringTag,{value:"Module"})),ts={...lce,...sce};function uce(t,e){return cg(t,new ts.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,o){return ts.isNode&&it.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function cce(t){return it.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function dce(t){const e={},n=Object.keys(t);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],e[o]=t[o];return e}function pP(t){function e(n,r,s,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),u=o>=n.length;return i=!i&&it.isArray(s)?s.length:i,u?(it.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!a):((!s[i]||!it.isObject(s[i]))&&(s[i]=[]),e(n,r,s[i],o)&&it.isArray(s[i])&&(s[i]=dce(s[i])),!a)}if(it.isFormData(t)&&it.isFunction(t.entries)){const n={};return it.forEachEntry(t,(r,s)=>{e(cce(r),s,n,0)}),n}return null}function fce(t,e,n){if(it.isString(t))try{return(e||JSON.parse)(t),it.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Lw={transitional:hP,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=it.isObject(e);if(o&&it.isHTMLForm(e)&&(e=new FormData(e)),it.isFormData(e))return s?JSON.stringify(pP(e)):e;if(it.isArrayBuffer(e)||it.isBuffer(e)||it.isStream(e)||it.isFile(e)||it.isBlob(e)||it.isReadableStream(e))return e;if(it.isArrayBufferView(e))return e.buffer;if(it.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return uce(e,this.formSerializer).toString();if((a=it.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return cg(a?{"files[]":e}:e,u&&new u,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),fce(e)):e}],transformResponse:[function(e){const n=this.transitional||Lw.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(it.isResponse(e)||it.isReadableStream(e))return e;if(e&&it.isString(e)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?gn.from(a,gn.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ts.classes.FormData,Blob:ts.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};it.forEach(["delete","get","head","post","put","patch"],t=>{Lw.headers[t]={}});const $w=Lw,hce=it.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pce=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||e[n]&&hce[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},TT=Symbol("internals");function Mc(t){return t&&String(t).trim().toLowerCase()}function np(t){return t===!1||t==null?t:it.isArray(t)?t.map(np):String(t)}function mce(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const gce=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Rv(t,e,n,r,s){if(it.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!it.isString(e)){if(it.isString(r))return e.indexOf(r)!==-1;if(it.isRegExp(r))return r.test(e)}}function vce(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function yce(t,e){const n=it.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,o,i){return this[r].call(this,e,s,o,i)},configurable:!0})})}class dg{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function o(a,u,l){const c=Mc(u);if(!c)throw new Error("header name must be a non-empty string");const d=it.findKey(s,c);(!d||s[d]===void 0||l===!0||l===void 0&&s[d]!==!1)&&(s[d||u]=np(a))}const i=(a,u)=>it.forEach(a,(l,c)=>o(l,c,u));if(it.isPlainObject(e)||e instanceof this.constructor)i(e,n);else if(it.isString(e)&&(e=e.trim())&&!gce(e))i(pce(e),n);else if(it.isObject(e)&&it.isIterable(e)){let a={},u,l;for(const c of e){if(!it.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[l=c[0]]=(u=a[l])?it.isArray(u)?[...u,c[1]]:[u,c[1]]:c[1]}i(a,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=Mc(e),e){const r=it.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return mce(s);if(it.isFunction(n))return n.call(this,s,r);if(it.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Mc(e),e){const r=it.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Rv(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function o(i){if(i=Mc(i),i){const a=it.findKey(r,i);a&&(!n||Rv(r,r[a],a,n))&&(delete r[a],s=!0)}}return it.isArray(e)?e.forEach(o):o(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!e||Rv(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const n=this,r={};return it.forEach(this,(s,o)=>{const i=it.findKey(r,o);if(i){n[i]=np(s),delete n[o];return}const a=e?vce(o):String(o).trim();a!==o&&delete n[o],n[a]=np(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return it.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&it.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[TT]=this[TT]={accessors:{}}).accessors,s=this.prototype;function o(i){const a=Mc(i);r[a]||(yce(s,i),r[a]=!0)}return it.isArray(e)?e.forEach(o):o(e),this}}dg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);it.reduceDescriptors(dg.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});it.freezeMethods(dg);const Co=dg;function Lv(t,e){const n=this||$w,r=e||n,s=Co.from(r.headers);let o=r.data;return it.forEach(t,function(a){o=a.call(n,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function mP(t){return!!(t&&t.__CANCEL__)}function gc(t,e,n){gn.call(this,t??"canceled",gn.ERR_CANCELED,e,n),this.name="CanceledError"}it.inherits(gc,gn,{__CANCEL__:!0});function gP(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new gn("Request failed with status code "+n.status,[gn.ERR_BAD_REQUEST,gn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function bce(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function wce(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,o=0,i;return e=e!==void 0?e:1e3,function(u){const l=Date.now(),c=r[o];i||(i=l),n[s]=u,r[s]=l;let d=o,f=0;for(;d!==s;)f+=n[d++],d=d%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),l-i<e)return;const h=c&&l-c;return h?Math.round(f*1e3/h):void 0}}function _ce(t,e){let n=0,r=1e3/e,s,o;const i=(l,c=Date.now())=>{n=c,s=null,o&&(clearTimeout(o),o=null),t.apply(null,l)};return[(...l)=>{const c=Date.now(),d=c-n;d>=r?i(l,c):(s=l,o||(o=setTimeout(()=>{o=null,i(s)},r-d)))},()=>s&&i(s)]}const qp=(t,e,n=3)=>{let r=0;const s=wce(50,250);return _ce(o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,u=i-r,l=s(u),c=i<=a;r=i;const d={loaded:i,total:a,progress:a?i/a:void 0,bytes:u,rate:l||void 0,estimated:l&&a&&c?(a-i)/l:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},CT=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},kT=t=>(...e)=>it.asap(()=>t(...e)),Sce=ts.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ts.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ts.origin),ts.navigator&&/(msie|trident)/i.test(ts.navigator.userAgent)):()=>!0,Ece=ts.hasStandardBrowserEnv?{write(t,e,n,r,s,o){const i=[t+"="+encodeURIComponent(e)];it.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),it.isString(r)&&i.push("path="+r),it.isString(s)&&i.push("domain="+s),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function xce(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Tce(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function vP(t,e,n){let r=!xce(e);return t&&(r||n==!1)?Tce(t,e):e}const IT=t=>t instanceof Co?{...t}:t;function Al(t,e){e=e||{};const n={};function r(l,c,d,f){return it.isPlainObject(l)&&it.isPlainObject(c)?it.merge.call({caseless:f},l,c):it.isPlainObject(c)?it.merge({},c):it.isArray(c)?c.slice():c}function s(l,c,d,f){if(it.isUndefined(c)){if(!it.isUndefined(l))return r(void 0,l,d,f)}else return r(l,c,d,f)}function o(l,c){if(!it.isUndefined(c))return r(void 0,c)}function i(l,c){if(it.isUndefined(c)){if(!it.isUndefined(l))return r(void 0,l)}else return r(void 0,c)}function a(l,c,d){if(d in e)return r(l,c);if(d in t)return r(void 0,l)}const u={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(l,c,d)=>s(IT(l),IT(c),d,!0)};return it.forEach(Object.keys(Object.assign({},t,e)),function(c){const d=u[c]||s,f=d(t[c],e[c],c);it.isUndefined(f)&&d!==a||(n[c]=f)}),n}const yP=t=>{const e=Al({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:a}=e;e.headers=i=Co.from(i),e.url=fP(vP(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let u;if(it.isFormData(n)){if(ts.hasStandardBrowserEnv||ts.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((u=i.getContentType())!==!1){const[l,...c]=u?u.split(";").map(d=>d.trim()).filter(Boolean):[];i.setContentType([l||"multipart/form-data",...c].join("; "))}}if(ts.hasStandardBrowserEnv&&(r&&it.isFunction(r)&&(r=r(e)),r||r!==!1&&Sce(e.url))){const l=s&&o&&Ece.read(o);l&&i.set(s,l)}return e},Cce=typeof XMLHttpRequest<"u",kce=Cce&&function(t){return new Promise(function(n,r){const s=yP(t);let o=s.data;const i=Co.from(s.headers).normalize();let{responseType:a,onUploadProgress:u,onDownloadProgress:l}=s,c,d,f,h,p;function g(){h&&h(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(c),s.signal&&s.signal.removeEventListener("abort",c)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function y(){if(!v)return;const b=Co.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),S={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:b,config:t,request:v};gP(function(T){n(T),g()},function(T){r(T),g()},S),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(r(new gn("Request aborted",gn.ECONNABORTED,t,v)),v=null)},v.onerror=function(){r(new gn("Network Error",gn.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||hP;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),r(new gn(w,S.clarifyTimeoutError?gn.ETIMEDOUT:gn.ECONNABORTED,t,v)),v=null},o===void 0&&i.setContentType(null),"setRequestHeader"in v&&it.forEach(i.toJSON(),function(w,S){v.setRequestHeader(S,w)}),it.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),a&&a!=="json"&&(v.responseType=s.responseType),l&&([f,p]=qp(l,!0),v.addEventListener("progress",f)),u&&v.upload&&([d,h]=qp(u),v.upload.addEventListener("progress",d),v.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(c=b=>{v&&(r(!b||b.type?new gc(null,t,v):b),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(c),s.signal&&(s.signal.aborted?c():s.signal.addEventListener("abort",c)));const _=bce(s.url);if(_&&ts.protocols.indexOf(_)===-1){r(new gn("Unsupported protocol "+_+":",gn.ERR_BAD_REQUEST,t));return}v.send(o||null)})},Ice=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const o=function(l){if(!s){s=!0,a();const c=l instanceof Error?l:this.reason;r.abort(c instanceof gn?c:new gc(c instanceof Error?c.message:c))}};let i=e&&setTimeout(()=>{i=null,o(new gn(`timeout ${e} of ms exceeded`,gn.ETIMEDOUT))},e);const a=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(o):l.removeEventListener("abort",o)}),t=null)};t.forEach(l=>l.addEventListener("abort",o));const{signal:u}=r;return u.unsubscribe=()=>it.asap(a),u}},Ace=Ice,Rce=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},Lce=async function*(t,e){for await(const n of $ce(t))yield*Rce(n,e)},$ce=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},AT=(t,e,n,r)=>{const s=Lce(t,e);let o=0,i,a=u=>{i||(i=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:l,value:c}=await s.next();if(l){a(),u.close();return}let d=c.byteLength;if(n){let f=o+=d;n(f)}u.enqueue(new Uint8Array(c))}catch(l){throw a(l),l}},cancel(u){return a(u),s.return()}},{highWaterMark:2})},fg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",bP=fg&&typeof ReadableStream=="function",Pce=fg&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),wP=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Dce=bP&&wP(()=>{let t=!1;const e=new Request(ts.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),RT=64*1024,Dy=bP&&wP(()=>it.isReadableStream(new Response("").body)),Yp={stream:Dy&&(t=>t.body)};fg&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Yp[e]&&(Yp[e]=it.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new gn(`Response type '${e}' is not supported`,gn.ERR_NOT_SUPPORT,r)})})})(new Response);const Oce=async t=>{if(t==null)return 0;if(it.isBlob(t))return t.size;if(it.isSpecCompliantForm(t))return(await new Request(ts.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(it.isArrayBufferView(t)||it.isArrayBuffer(t))return t.byteLength;if(it.isURLSearchParams(t)&&(t=t+""),it.isString(t))return(await Pce(t)).byteLength},Mce=async(t,e)=>{const n=it.toFiniteNumber(t.getContentLength());return n??Oce(e)},Nce=fg&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:o,timeout:i,onDownloadProgress:a,onUploadProgress:u,responseType:l,headers:c,withCredentials:d="same-origin",fetchOptions:f}=yP(t);l=l?(l+"").toLowerCase():"text";let h=Ace([s,o&&o.toAbortSignal()],i),p;const g=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let v;try{if(u&&Dce&&n!=="get"&&n!=="head"&&(v=await Mce(c,r))!==0){let S=new Request(e,{method:"POST",body:r,duplex:"half"}),E;if(it.isFormData(r)&&(E=S.headers.get("content-type"))&&c.setContentType(E),S.body){const[T,I]=CT(v,qp(kT(u)));r=AT(S.body,RT,T,I)}}it.isString(d)||(d=d?"include":"omit");const y="credentials"in Request.prototype;p=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:y?d:void 0});let _=await fetch(p);const b=Dy&&(l==="stream"||l==="response");if(Dy&&(a||b&&g)){const S={};["status","statusText","headers"].forEach(k=>{S[k]=_[k]});const E=it.toFiniteNumber(_.headers.get("content-length")),[T,I]=a&&CT(E,qp(kT(a),!0))||[];_=new Response(AT(_.body,RT,T,()=>{I&&I(),g&&g()}),S)}l=l||"text";let w=await Yp[it.findKey(Yp,l)||"text"](_,t);return!b&&g&&g(),await new Promise((S,E)=>{gP(S,E,{data:w,headers:Co.from(_.headers),status:_.status,statusText:_.statusText,config:t,request:p})})}catch(y){throw g&&g(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new gn("Network Error",gn.ERR_NETWORK,t,p),{cause:y.cause||y}):gn.from(y,y&&y.code,t,p)}}),Oy={http:Xue,xhr:kce,fetch:Nce};it.forEach(Oy,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const LT=t=>`- ${t}`,Fce=t=>it.isFunction(t)||t===null||t===!1,_P={getAdapter:t=>{t=it.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let o=0;o<e;o++){n=t[o];let i;if(r=n,!Fce(n)&&(r=Oy[(i=String(n)).toLowerCase()],r===void 0))throw new gn(`Unknown adapter '${i}'`);if(r)break;s[i||"#"+o]=r}if(!r){const o=Object.entries(s).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let i=e?o.length>1?`since :
`+o.map(LT).join(`
`):" "+LT(o[0]):"as no adapter specified";throw new gn("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:Oy};function $v(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new gc(null,t)}function $T(t){return $v(t),t.headers=Co.from(t.headers),t.data=Lv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),_P.getAdapter(t.adapter||$w.adapter)(t).then(function(r){return $v(t),r.data=Lv.call(t,t.transformResponse,r),r.headers=Co.from(r.headers),r},function(r){return mP(r)||($v(t),r&&r.response&&(r.response.data=Lv.call(t,t.transformResponse,r.response),r.response.headers=Co.from(r.response.headers))),Promise.reject(r)})}const SP="1.9.0",hg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{hg[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const PT={};hg.transitional=function(e,n,r){function s(o,i){return"[Axios v"+SP+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,a)=>{if(e===!1)throw new gn(s(i," has been removed"+(n?" in "+n:"")),gn.ERR_DEPRECATED);return n&&!PT[i]&&(PT[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,i,a):!0}};hg.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Bce(t,e,n){if(typeof t!="object")throw new gn("options must be an object",gn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const o=r[s],i=e[o];if(i){const a=t[o],u=a===void 0||i(a,o,t);if(u!==!0)throw new gn("option "+o+" must be "+u,gn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new gn("Unknown option "+o,gn.ERR_BAD_OPTION)}}const rp={assertOptions:Bce,validators:hg},Ho=rp.validators;class Xp{constructor(e){this.defaults=e||{},this.interceptors={request:new xT,response:new xT}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Al(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&rp.assertOptions(r,{silentJSONParsing:Ho.transitional(Ho.boolean),forcedJSONParsing:Ho.transitional(Ho.boolean),clarifyTimeoutError:Ho.transitional(Ho.boolean)},!1),s!=null&&(it.isFunction(s)?n.paramsSerializer={serialize:s}:rp.assertOptions(s,{encode:Ho.function,serialize:Ho.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),rp.assertOptions(n,{baseUrl:Ho.spelling("baseURL"),withXsrfToken:Ho.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&it.merge(o.common,o[n.method]);o&&it.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=Co.concat(i,o);const a=[];let u=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(u=u&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const l=[];this.interceptors.response.forEach(function(g){l.push(g.fulfilled,g.rejected)});let c,d=0,f;if(!u){const p=[$T.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,l),f=p.length,c=Promise.resolve(n);d<f;)c=c.then(p[d++],p[d++]);return c}f=a.length;let h=n;for(d=0;d<f;){const p=a[d++],g=a[d++];try{h=p(h)}catch(v){g.call(this,v);break}}try{c=$T.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=l.length;d<f;)c=c.then(l[d++],l[d++]);return c}getUri(e){e=Al(this.defaults,e);const n=vP(e.baseURL,e.url,e.allowAbsoluteUrls);return fP(n,e.params,e.paramsSerializer)}}it.forEach(["delete","get","head","options"],function(e){Xp.prototype[e]=function(n,r){return this.request(Al(r||{},{method:e,url:n,data:(r||{}).data}))}});it.forEach(["post","put","patch"],function(e){function n(r){return function(o,i,a){return this.request(Al(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Xp.prototype[e]=n(),Xp.prototype[e+"Form"]=n(!0)});const sp=Xp;class Pw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(a=>{r.subscribe(a),o=a}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},e(function(o,i,a){r.reason||(r.reason=new gc(o,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Pw(function(s){e=s}),cancel:e}}}const Vce=Pw;function Uce(t){return function(n){return t.apply(null,n)}}function Hce(t){return it.isObject(t)&&t.isAxiosError===!0}const My={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(My).forEach(([t,e])=>{My[e]=t});const jce=My;function EP(t){const e=new sp(t),n=eP(sp.prototype.request,e);return it.extend(n,sp.prototype,e,{allOwnKeys:!0}),it.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return EP(Al(t,s))},n}const Cr=EP($w);Cr.Axios=sp;Cr.CanceledError=gc;Cr.CancelToken=Vce;Cr.isCancel=mP;Cr.VERSION=SP;Cr.toFormData=cg;Cr.AxiosError=gn;Cr.Cancel=Cr.CanceledError;Cr.all=function(e){return Promise.all(e)};Cr.spread=Uce;Cr.isAxiosError=Hce;Cr.mergeConfig=Al;Cr.AxiosHeaders=Co;Cr.formToJSON=t=>pP(it.isHTMLForm(t)?new FormData(t):t);Cr.getAdapter=_P.getAdapter;Cr.HttpStatusCode=jce;Cr.default=Cr;const xP=Cr,Kce={class:"loader"},zce=ee({__name:"Loading",props:{msg:{}},setup(t){return(e,n)=>At((L(),G("div",Kce,n[0]||(n[0]=[ak('<div class="loader-container" data-v-f4c312d6><div class="dot" data-v-f4c312d6></div><div class="dot" data-v-f4c312d6></div><div class="dot" data-v-f4c312d6></div><div class="dot" data-v-f4c312d6></div><div class="dot" data-v-f4c312d6></div></div>',1)]),512)),[[nn,t.msg.show]])}}),Wce=Kn(zce,[["__scopeId","data-v-f4c312d6"]]),op=Ft({show:!1,title:"拼命加载中..."}),Gce=xm(Wce,{msg:op}).mount(document.createElement("div")),Pv={start(t){op.show=!0,op.title=t,document.body.appendChild(Gce.$el),document.body.style.overflow="hidden"},close(){op.show=!1,document.body.style.overflow="auto"}},qce=t=>{const e={key:"auth-token",value:t};localStorage.setItem("auth",JSON.stringify(e))},TP=()=>JSON.parse(localStorage.getItem("auth")),Yce=()=>{localStorage.removeItem("auth")};let Nc=0;const CP=t=>new Promise((e,n)=>{const r=xP.create({baseURL:"/api",timeout:8e4});r.interceptors.request.use(s=>{Nc++,Pv.start("");let o=TP();return o&&o.value.length>0&&(s.headers[o.key]=o.value),s},s=>Promise.reject(s)),r.interceptors.response.use(s=>{Nc--,Nc==0&&Pv.close();let o=s.headers["new-token"];return o&&o.length>0&&qce(o),s.data},s=>(Nc--,Nc==0&&Pv.close(),s.response.status==401?(i_.replace("/login"),gt.error(s.response.data.msg)):s.response.status==403?gt.error("无访问权限!!!"):gt.error("服务器繁忙，请稍后再试"),Promise.reject(s))),r(t).then(s=>{e(s)}).catch(s=>{n(s)})}),vn=(t,e)=>CP({url:t,method:"get",params:e}),vr=(t,e)=>CP({url:t,method:"post",data:e}),Sa={FILM_HISTORY:"filmHistory"},Ea={setCookie(t,e,n=30){let r=new Date;r.setTime(r.getTime()+n*24*60*60*1e3);let s="expires="+r.toUTCString();document.cookie=t+"="+encodeURIComponent(e)+"; "+s+": path=/"},getCookie(t){let e=document.cookie.split("; ");for(let n=0;n<e.length;n++){let[r,s]=e[n].split("=");if(r==t)return decodeURIComponent(s)}return""},clearCookie(t){let e=new Date;e.setTime(-1);let n="expires="+e.toUTCString();document.cookie=t+"=''; "+n}},Xce={class:"header"},Qce={class:"nav_left"},Zce={href:"/",class:"site"},Jce={class:"search_group"},ede={class:"nav_right"},tde={class:"nav_link"},nde=["href"],rde=["href"],sde={key:0,class:"dropdown-container"},ode={class:"history-h"},ide={key:0,class:"history-c"},ade=["href"],lde={class:"history-c-item-t"},ude={class:"history-c-item-e"},cde={href:"/search",class:"hidden-md-and-up"},dde=ee({__name:"Header",setup(t){const e=q(""),n=Ft({historyFlag:!1,historyList:[{}],nav:Array,site:Object}),r=u=>{if(n.historyFlag=u,u){let l=Ea.getCookie(Sa.FILM_HISTORY)?JSON.parse(Ea.getCookie(Sa.FILM_HISTORY)):null,c=[];if(l){for(let d in l)c.push(l[d]);c.sort((d,f)=>f.timeStamp-d.timeStamp)}n.historyList=c}},s=()=>{Ea.clearCookie(Sa.FILM_HISTORY),n.historyList=[]};vi();const o=()=>{if(e.value.length<=0){gt.error({message:"请先输入影片名称关键字再进行搜索",duration:1500});return}location.href=`/search?search=${e.value}`},i=Ft({cartoon:{},film:{},tv:{},variety:{}}),a=()=>{vn("/config/basic").then(u=>{u.code===0?n.site=u.data:gt.error({message:u.msg})})};return xt(()=>{vn("/navCategory").then(u=>{u.code===0?n.nav=u.data:gt.error({message:"导航分类信息获取失败",duration:1e3})}),a()}),(u,l)=>{const c=Nn,d=cc,f=lt;return L(),G("div",Xce,[F("div",Qce,[F("a",Zce,ge(n.site.siteName),1),F("div",Jce,[At(F("input",{"onUpdate:modelValue":l[0]||(l[0]=h=>e.value=h),onKeydown:l[1]||(l[1]=h=>{h.keyCode==13&&o()}),placeholder:"搜索 动漫,剧集,电影 ",class:"search"},null,544),[[si,e.value]]),A(c,{onClick:o,icon:m(kd)},null,8,["icon"])])]),F("div",ede,[F("div",tde,[l[4]||(l[4]=F("a",{href:"/"},"首页",-1)),(L(!0),G(tt,null,It(n.nav,h=>(L(),G("a",{href:`/filmClassify?Pid=${h.id}`},ge(h.name),9,nde))),256))]),F("div",{class:"history-link hidden-md-and-down",onMouseenter:l[2]||(l[2]=h=>r(!0)),onMouseleave:l[3]||(l[3]=h=>r(!1))},[F("a",{href:`/filmClassify?Pid=${i.variety.id}`},l[5]||(l[5]=[F("b",{style:{"font-size":"22px"},class:"iconfont icon-history"},null,-1)]),8,rde),A(Tr,{name:"fade-slide",duration:"300"},{default:O(()=>[n.historyFlag?(L(),G("div",sde,[F("div",ode,[l[6]||(l[6]=F("b",{class:"iconfont icon-record history-h-icon"},null,-1)),l[7]||(l[7]=F("span",{class:"history-h-title"},"历史观看记录",-1)),n.historyList.length>0?(L(),G("a",{key:0,class:"iconfont icon-clear1 history-del",onClick:s})):ce("",!0)]),n.historyList.length>0?(L(),G("div",ide,[(L(!0),G(tt,null,It(n.historyList,h=>(L(),G("a",{href:h.link,class:"history-c-item"},[F("span",lde,ge(h.name),1),F("span",ude,ge(h.episode),1)],8,ade))),256))])):(L(),ye(d,{key:1,style:{padding:"10px 0"},description:"暂无观看记录"}))])):ce("",!0)]),_:1})],32),F("a",cde,[A(f,{style:{"font-size":"18px"}},{default:O(()=>[A(m(kd))]),_:1})])])])}}}),fde=Kn(dde,[["__scopeId","data-v-a8630ab5"]]),hde={class:"custom-footer"},pde={key:0,class:"nav-bottom"},mde=ee({__name:"Footer",setup(t){const e=rt("global");return(n,r)=>(L(),G("div",hde,[m(e).isMobile?(L(),G("div",pde,r[0]||(r[0]=[ak('<a href="/" data-v-78d3b7e0><b class="iconfont icon-ziyuan" data-v-78d3b7e0></b>首页</a><a href="javascript:void(0)" data-v-78d3b7e0><b class="iconfont icon-gengxin" data-v-78d3b7e0></b>更新</a><a href="/history" data-v-78d3b7e0><b class="iconfont icon-lishi" data-v-78d3b7e0></b>历史</a><a href="javascript:void(0)" data-v-78d3b7e0><b class="iconfont icon-shoucang2" data-v-78d3b7e0></b>收藏</a><a href="javascript:void(0)" data-v-78d3b7e0><b class="iconfont icon-ziyuan-copy" data-v-78d3b7e0></b>我的</a>',5)]))):ce("",!0),r[1]||(r[1]=F("p",null,"本站所有内容均来自互联网分享站点所提供的公开引用资源，未提供资源上传、存储服务。",-1))]))}}),gde=Kn(mde,[["__scopeId","data-v-78d3b7e0"]]),vde=ee({__name:"IndexHome",setup(t){const e=navigator.userAgent.toLowerCase();let n=/Mobile|Tablet|Android|iPhone|iPad|iPod|BlackBerry|webOS|Windows Phone|SymbianOS|IEMobile|Opera Mini/i.test(e);return Qt("global",{isMobile:n}),(r,s)=>{const o=k1,i=qt("router-view"),a=I1,u=eR,l=C1;return L(),ye(l,null,{default:O(()=>[A(o,null,{default:O(()=>[A(fde)]),_:1}),A(a,null,{default:O(()=>[A(i)]),_:1}),A(u,null,{default:O(()=>[A(gde)]),_:1})]),_:1})}}}),yde=Kn(vde,[["__scopeId","data-v-32a398cc"]]),bde={key:0,class:"c_content"},wde={key:0,class:"hidden-md-and-up"},_de=["href"],Sde={class:"tag_group"},Ede={class:"cus_tag"},xde={class:"cus_tag"},Tde={class:"cus_tag"},Cde={class:"cus_remark hidden-md-and-up"},kde=["src","alt"],Ide=["href"],Ade={class:"cus_remark hidden-md-and-down"},Rde={key:1,class:"film-card-inner"},Lde={class:"film-card-front"},$de=["href"],Pde={class:"tag_group"},Dde={class:"cus_tag"},Ode={class:"cus_tag"},Mde={class:"cus_tag"},Nde={class:"cus_remark hidden-md-and-up"},Fde=["src","alt"],Bde=["onClick"],Vde={class:"card-title"},Ude={class:"card-blurb"},Hde=["href"],jde=ee({__name:"FilmList",props:{list:Array,col:Number},setup(t){const e=t,n=Ft({col:0,list:Array,width:0}),r=rt("global"),s=i=>{i.target.style.display="none"},o=i=>{location.href=`/filmDetail?link=${i}`};return Fr(()=>{const i=navigator.userAgent.toLowerCase();let a=/mobile|android|iphone|ipad|phone/i.test(i),u=a?3:e.col?e.col:0,l=e.list;if(Array.isArray(l)){let c=l.length;if(n.width=a?31:Math.floor(100/u),c%u!=0)for(let d=0;d<u-c%u;d++){let f={...l[0]};f.id=-99,l.push(f)}}n.list=l}),(i,a)=>{const u=Nn,l=cc;return n.list?(L(),G("div",bde,[n.list.length>0?(L(!0),G(tt,{key:0},It(n.list,c=>{var d,f;return L(),G("div",{class:"item film-card",style:dt({width:`calc(${n.width-1}%)`})},[c.id!=-99&&m(r).isMobile?(L(),G("div",wde,[F("a",{href:`/filmDetail?link=${c.id}`,class:"default_image link_content"},[F("div",Sde,[F("span",Ede,ge(c.year?c.year.slice(0,4):"未知"),1),F("span",xde,ge(c.cName),1),F("span",Tde,ge(c.area.split(",")[0]),1)]),F("span",Cde,ge(c.remarks),1),F("img",{src:c.picture,alt:(d=c.name)==null?void 0:d.split("[")[0],onError:s},null,40,kde)],8,_de),F("a",{href:`/filmDetail?link=${c.id}`,class:"content_text_tag"},ge(c.name.split("[")[0]),9,Ide),F("span",Ade,ge(c.remarks),1)])):ce("",!0),m(r).isMobile?ce("",!0):(L(),G("div",Rde,[F("div",Lde,[F("a",{href:`/filmDetail?link=${c.id}`,class:"link_content"},[F("div",Pde,[F("span",Dde,ge(c.year?c.year.slice(0,4):"未知"),1),F("span",Ode,ge(c.cName),1),F("span",Mde,ge(c.area.split(",")[0]),1)]),F("span",Nde,ge(c.remarks),1),F("img",{src:c.picture,alt:(f=c.name)==null?void 0:f.split("[")[0],onError:s},null,40,Fde)],8,$de)]),F("div",{class:"film-card-back",onClick:h=>o(c.id)},[F("p",Vde,ge(c.name),1),At(F("p",{class:"card-blurb"},ge(c.blurb),513),[[nn,c.blurb!=""]]),At(F("p",Ude," 暂无简介 ",512),[[nn,c.blurb==""]]),A(u,{class:"card-detail",icon:m(HV),color:"#626aef",plain:"",round:"",onClick:h=>o(c.id)},{default:O(()=>a[0]||(a[0]=[xe("详情")])),_:2},1032,["icon","onClick"])],8,Bde)])),m(r).isMobile?ce("",!0):(L(),G("a",{key:2,href:`/filmDetail?link=${c.id}`,class:"content_text_tag hidden-sm-and-down"},ge(c.name.split("[")[0]),9,Hde))],4)}),256)):ce("",!0),n.list.length<=0?(L(),ye(l,{key:1,style:{padding:"10px 0",margin:"0 auto"},description:"暂无相关数据"})):ce("",!0)])):ce("",!0)}}}),xu=Kn(jde,[["__scopeId","data-v-fc3de7e7"]]),Kde={class:"container"},zde={class:"carousel-title"},Wde={class:"preview"},Gde={class:"carousel-tags"},qde={class:"carousel-title"},Yde={class:"content_item"},Xde=["href"],Qde={key:0,class:"nav_ul"},Zde={key:0,class:"nav_category"},Jde=["href"],efe={class:"nav_category"},tfe=["href"],nfe={class:"hot_title"},rfe={class:"content_right_item"},sfe=["href"],ofe={class:"top_item"},ife=ee({__name:"Home",setup(t){const e=Ft({info:{},banner:{current:{},touch:{index:0,star:0,end:0}}}),n=vi(),r=rt("global"),s=l=>{e.banner.current=e.info.banners[l]},o=()=>{e.banner.current.mid&&n.push("/filmDetail?link="+e.banner.current.mid)},i=q(),a=l=>{e.banner.touch.star=l.changedTouches[0].pageX},u=l=>{var d,f;e.banner.touch.end=l.changedTouches[0].pageX;let c=e.banner.touch.end-e.banner.touch.star;c>=50?(d=i.value)==null||d.prev():c<=-50&&((f=i.value)==null||f.next())};return Ll(()=>{vn("/index").then(l=>{l.code==0?(e.info=l.data,e.banner.current=e.info.banners[0]):gt.error({message:l.msg})})}),(l,c)=>{const d=qm,f=IA,h=kA,p=KA,g=JR;return L(),G("div",Kde,[m(r).isMobile?(L(),G("div",{key:0,class:"banner_wrap",onTouchstart:a,onTouchend:u,onClick:o},[A(h,{modelValue:e.banner.current,"onUpdate:modelValue":c[0]||(c[0]=v=>e.banner.current=v),ref_key:"wrap",ref:i,"pause-on-hover":!1,interval:5e3,trigger:"hover",height:"200px",arrow:"never",onChange:s},{default:O(()=>[(L(!0),G(tt,null,It(e.info.banners,v=>(L(),ye(f,{key:v},{default:O(()=>[A(d,{style:{width:"100%",height:"100%"},src:v.poster,fit:"fill"},null,8,["src"]),F("p",zde,ge(v.name),1)]),_:2},1024))),128))]),_:1},8,["modelValue"])],32)):ce("",!0),m(r).isMobile?ce("",!0):(L(),G("div",{key:1,class:"banner",style:dt({background:`url(${e.banner.current.poster})`,backgroundRepeat:"no-repeat",backgroundSize:"cover"}),onClick:o},[F("div",Wde,[A(h,{onChange:s,interval:5e3,height:"240px",arrow:"always"},{default:O(()=>[(L(!0),G(tt,null,It(e.info.banners,v=>(L(),ye(f,{key:v.id},{default:O(()=>[A(d,{style:{width:"60%",height:"80%","border-radius":"5px"},src:v.picture,fit:"contain"},null,8,["src"]),F("div",Gde,[F("span",null,ge(v.year),1),F("span",null,ge(v.cName),1)]),F("p",qde,ge(v.name),1)]),_:2},1024))),128))]),_:1})])],4)),(L(!0),G(tt,null,It(e.info.content,v=>(L(),G("div",Yde,[v.nav.show?(L(),G(tt,{key:0},[A(g,{class:"row-bg cus_nav",justify:"space-between"},{default:O(()=>[A(p,{span:12,class:"title"},{default:O(()=>[F("span",{class:U(`iconfont ${v.nav.name.search("电影")!=-1?"icon-film":v.nav.name.search("剧")!=-1?"icon-tv":v.nav.name.search("动漫")!=-1?"icon-cartoon":"icon-variety"}`),style:{color:"#79bbff","font-size":"32px","margin-right":"10px","line-height":"130%"}},null,2),F("a",{href:`/filmClassify?Pid=${v.nav.id}`},ge(v.nav.name),9,Xde)]),_:2},1024),A(p,{span:12},{default:O(()=>[m(r).isMobile?ce("",!0):(L(),G("ul",Qde,[(L(!0),G(tt,null,It(v.nav.children,(y,_)=>(L(),G(tt,null,[y.show&&_<6?(L(),G("li",Zde,[F("a",{href:`/filmClassifySearch?Pid=${y.pid}&Category=${y.id}`},ge(y.name),9,Jde)])):ce("",!0)],64))),256)),F("li",efe,[F("a",{href:`/filmClassify?Pid=${v.nav.id}`},"更多 >",8,tfe)])]))]),_:2},1024)]),_:2},1024),A(g,{class:"cus_content"},{default:O(()=>[A(p,{md:24,lg:20,xl:20,class:"cus_content"},{default:O(()=>[v.movies?(L(),ye(xu,{key:0,col:6,list:v.movies.slice(0,12)},null,8,["list"])):ce("",!0)]),_:2},1024),m(r).isMobile?ce("",!0):(L(),ye(p,{key:0,md:0,lg:4,xl:4,class:"content_right hidden-sm-and-down"},{default:O(()=>[F("h3",nfe,"🔥热播"+ge(v.nav.name),1),(L(!0),G(tt,null,It(v.hot.slice(0,12),(y,_)=>(L(),G("div",rfe,[F("a",{href:`/filmDetail?link=${y.mid}`},[F("b",ofe,ge(_+1+"."),1),F("span",null,ge(y.name),1)],8,sfe)]))),256))]),_:2},1024))]),_:2},1024)],64)):ce("",!0)]))),256))])}}}),afe=Kn(ife,[["__scopeId","data-v-7b942148"]]),lfe={class:"relate_container"},ufe=ee({__name:"RelateList",props:{relateList:Array},setup(t){return(e,n)=>(L(),G("div",lfe,[n[0]||(n[0]=F("p",{class:"title"},"相关推荐",-1)),A(xu,{col:7,list:t.relateList},null,8,["list"])]))}}),kP=Kn(ufe,[["__scopeId","data-v-7fb740c1"]]),cfe={class:"film"},dfe={class:"hidden-sm-and-up"},ffe={class:"title_mt"},hfe={class:"title_mt_right"},pfe={class:"tags"},mfe={style:{margin:"2px 0"}},gfe={key:0},vfe={class:"mt_content"},yfe=["innerHTML"],bfe={class:"title hidden-sm-and-down"},wfe={class:"tags"},_fe={class:"t_c"},Sfe=["href"],Efe={key:0},xfe={key:0},Tfe={id:"score"},Cfe={class:"cus_wap"},kfe=["innerHTML"],Ife={class:"play-module"},Afe={class:"play-module-item"},Rfe={class:"module-heading"},Lfe={class:"play-tab-group"},$fe=["onClick"],Pfe={class:"play-list"},Dfe={class:"play-list-item"},Ofe=["onClick"],Mfe={class:"correlation"},Nfe=ee({__name:"FilmDetails",setup(t){const e=vi(),n=Ft({detail:{id:"",cid:"",pid:"",name:"",picture:"",playFrom:[],DownFrom:"",playList:[[]],downloadList:"",descriptor:{subTitle:"",cName:"",enName:"",initial:"",classTag:"",actor:"",director:"",writer:"",blurb:"",remarks:"",releaseDate:"",area:"",language:"",year:"",state:"",updateTime:"",addTime:"",dbId:"",dbScore:"",hits:"",content:""},list:[]},relate:[],loading:!1,currentTabId:""}),r=l=>{let c="";return l.split(",").forEach((d,f)=>{f<3&&(c+=`${d} `)}),c.trimEnd()},s=l=>{n.currentTabId=l},o=l=>{e.push({path:"/play",query:{id:`${e.currentRoute.value.query.link}`,...l}})},i=q({state:!1,text:"展开"}),a=q(),u=l=>{if(l){i.value={state:!l,text:"展开"},a.value.style.webkitLineClamp=2;return}i.value={state:!l,text:"收起"},a.value.style.webkitLineClamp=8};return Ll(()=>{let l=e.currentRoute.value.query.link;vn("/filmDetail",{id:l}).then(c=>{c.code===0?(n.detail=c.data.detail,n.detail.name=n.detail.name.replace(/(～.*～)/g,""),n.detail.descriptor.content=n.detail.descriptor.content.replace(/(&.*;)|( )|(　　)|(\n)|(<[^>]+>)/g,""),n.relate=c.data.relate,n.detail.descriptor.actor=r(n.detail.descriptor.actor),n.detail.descriptor.director=r(n.detail.descriptor.director),n.currentTabId=c.data.detail.list[0].id,n.loading=!0):gt({type:"error",dangerouslyUseHTMLString:!0,message:c.msg})})}),(l,c)=>{const d=lt,f=Nn;return At((L(),G("div",cfe,[F("div",dfe,[F("div",ffe,[F("a",{class:"picture_mt",href:"",style:dt({backgroundImage:`url('${n.detail.picture}')`})},null,4),F("div",hfe,[F("h3",null,ge(n.detail.name),1),F("ul",pfe,[F("li",mfe,ge(n.detail.descriptor.classTag?`${n.detail.descriptor.classTag}`.replaceAll(","," | "):"未知"),1)]),F("p",null,[c[2]||(c[2]=F("span",null,"导演:",-1)),xe(" "+ge(n.detail.descriptor.director),1)]),F("p",null,[c[3]||(c[3]=F("span",null,"主演:",-1)),xe(" "+ge(r(n.detail.descriptor.actor)),1)]),F("p",null,[c[4]||(c[4]=F("span",null,"上映:",-1)),xe(" "+ge(n.detail.descriptor.releaseDate),1)]),F("p",null,[c[5]||(c[5]=F("span",null,"地区:",-1)),xe(" "+ge(n.detail.descriptor.area),1)]),n.detail.descriptor.remarks?(L(),G("p",gfe,[c[6]||(c[6]=F("span",null,"连载:",-1)),xe(ge(n.detail.descriptor.remarks),1)])):ce("",!0)])]),F("div",vfe,[F("p",{innerHTML:`${n.detail.descriptor.content}`.replaceAll("　　","")},null,8,yfe)])]),F("div",bfe,[F("a",{class:"picture",href:"",style:dt({backgroundImage:`url('${n.detail.picture}')`})},null,4),F("h2",null,ge(n.detail.name),1),F("ul",wfe,[F("li",_fe,[F("a",{href:`/filmClassifySearch?Pid=${n.detail.pid}&Category=${n.detail.cid}`},[A(d,null,{default:O(()=>[A(m(e1))]),_:1}),xe(" "+ge(n.detail.descriptor.cName),1)],8,Sfe)]),n.detail.descriptor.classTag?(L(),G("li",Efe,ge(`${n.detail.descriptor.classTag}`.replaceAll(","," ")),1)):ce("",!0),F("li",null,ge(n.detail.descriptor.year),1),F("li",null,ge(n.detail.descriptor.area),1)]),F("p",null,[c[7]||(c[7]=F("span",null,"导演:",-1)),xe(" "+ge(n.detail.descriptor.director),1)]),F("p",null,[c[8]||(c[8]=F("span",null,"主演:",-1)),xe(" "+ge(n.detail.descriptor.actor),1)]),F("p",null,[c[9]||(c[9]=F("span",null,"上映:",-1)),xe(" "+ge(n.detail.descriptor.releaseDate),1)]),n.detail.descriptor.remarks?(L(),G("p",xfe,[c[10]||(c[10]=F("span",null,"连载:",-1)),xe(ge(n.detail.descriptor.remarks),1)])):ce("",!0),F("p",null,[c[11]||(c[11]=F("span",null,"评分:",-1)),F("b",Tfe,ge(n.detail.descriptor.dbScore),1)]),F("div",Cfe,[c[12]||(c[12]=F("p",{style:{"min-width":"40px"}},[F("span",null,"剧情:")],-1)),F("p",{ref_key:"textContent",ref:a,class:"text_content"},[`${n.detail.descriptor.content}`.length>140?(L(),ye(f,{key:0,class:"multi_text",style:{color:"#a574b7"},onClick:c[0]||(c[0]=h=>u(i.value.state)),link:""},{default:O(()=>[xe(ge(i.value.text),1)]),_:1})):ce("",!0),F("span",{class:"cus_info",innerHTML:n.detail.descriptor.content},null,8,kfe)],512)]),F("p",null,[A(f,{type:"warning",class:"player",size:"large",onClick:c[1]||(c[1]=h=>o({episode:0,source:n.detail.list[0].id})),round:""},{default:O(()=>[A(d,null,{default:O(()=>[A(m(Nm))]),_:1}),c[13]||(c[13]=xe(" 立即播放 "))]),_:1})])]),F("div",Ife,[F("div",Afe,[F("div",Rfe,[c[14]||(c[14]=F("p",{class:"play-module-title"},"播放列表",-1)),F("div",Lfe,[(L(!0),G(tt,null,It(n.detail.list,h=>(L(),G("a",{href:"javascript:;",class:U(`play-tab-item ${n.currentTabId==h.id?"tab-active":""}`),onClick:p=>s(h.id)},ge(h.name),11,$fe))),256))])]),F("div",Pfe,[(L(!0),G(tt,null,It(n.detail.list,h=>At((L(),G("div",Dfe,[(L(!0),G(tt,null,It(h.linkList,(p,g)=>(L(),G("a",{class:"play-link",href:"javascript:;",onClick:v=>o({source:h.id,episode:g})},ge(p.episode),9,Ofe))),256))],512)),[[nn,n.currentTabId==h.id]])),256))])])]),F("div",Mfe,[A(kP,{"relate-list":n.relate},null,8,["relate-list"])])],512)),[[nn,n.loading]])}}}),Ffe=Kn(Nfe,[["__scopeId","data-v-d51f8599"]]),DT="/assets/play-bb9c8990.png";function Qp(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Zp={exports:{}};Zp.exports;(function(t,e){/*!
 * artplayer.js v5.2.3
 * Github: https://github.com/zhw2590582/ArtPlayer
 * (c) 2017-2025 Harvey Zack
 * Released under the MIT License.
 */(function(n,r,s,o,i,a,u,l){var c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof rs<"u"?rs:{},d=typeof c[o]=="function"&&c[o],f=d.i||{},h=d.cache||{},p=typeof Qp=="function"&&Qp.bind(t);function g(_,b){if(!h[_]){if(!n[_]){if(i[_])return i[_];var w=typeof c[o]=="function"&&c[o];if(!b&&w)return w(_,!0);if(d)return d(_,!0);if(p&&typeof _=="string")return p(_);var S=Error("Cannot find module '"+_+"'");throw S.code="MODULE_NOT_FOUND",S}T.resolve=function(I){var k=n[_][1][I];return k??I},T.cache={};var E=h[_]=new g.Module(_);n[_][0].call(E.exports,T,E,E.exports,c)}return h[_].exports;function T(I){var k=T.resolve(I);return k===!1?{}:g(k)}}g.isParcelRequire=!0,g.Module=function(_){this.id=_,this.bundle=g,this.require=p,this.exports={}},g.modules=n,g.cache=h,g.parent=d,g.distDir=void 0,g.publicUrl=void 0,g.devServer=void 0,g.i=f,g.register=function(_,b){n[_]=[function(w,S){S.exports=b},{}]},Object.defineProperty(g,"root",{get:function(){return c[o]}}),c[o]=g;for(var v=0;v<r.length;v++)g(r[v]);if(s){var y=g(s);t.exports=y}})({"5lTcX":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=n("bundle-text:./style/index.less"),u=i.interopDefault(a),l=n("option-validator"),c=i.interopDefault(l),d=n("./utils/emitter"),f=i.interopDefault(d),h=n("./utils"),p=n("./scheme"),g=i.interopDefault(p),v=n("./config"),y=i.interopDefault(v),_=n("./template"),b=i.interopDefault(_),w=n("./i18n"),S=i.interopDefault(w),E=n("./player"),T=i.interopDefault(E),I=n("./control"),k=i.interopDefault(I),C=n("./contextmenu"),N=i.interopDefault(C),D=n("./info"),W=i.interopDefault(D),H=n("./subtitle"),V=i.interopDefault(H),R=n("./events"),z=i.interopDefault(R),M=n("./hotkey"),B=i.interopDefault(M),j=n("./layer"),X=i.interopDefault(j),se=n("./loading"),te=i.interopDefault(se),ie=n("./notice"),fe=i.interopDefault(ie),ue=n("./mask"),J=i.interopDefault(ue),de=n("./icons"),ae=i.interopDefault(de),Ae=n("./setting"),Re=i.interopDefault(Ae),pe=n("./storage"),ne=i.interopDefault(pe),le=n("./plugins"),Se=i.interopDefault(le);let Ce=0,Ee=[];class we extends f.default{constructor(Be,Ue){super(),this.id=++Ce;let je=h.mergeDeep(we.option,Be);if(je.container=Be.container,this.option=(0,c.default)(je,g.default),this.isLock=!1,this.isReady=!1,this.isFocus=!1,this.isInput=!1,this.isRotate=!1,this.isDestroy=!1,this.template=new b.default(this),this.events=new z.default(this),this.storage=new ne.default(this),this.icons=new ae.default(this),this.i18n=new S.default(this),this.notice=new fe.default(this),this.player=new T.default(this),this.layers=new X.default(this),this.controls=new k.default(this),this.contextmenu=new N.default(this),this.subtitle=new V.default(this),this.info=new W.default(this),this.loading=new te.default(this),this.hotkey=new B.default(this),this.mask=new J.default(this),this.setting=new Re.default(this),this.plugins=new Se.default(this),typeof Ue=="function"&&this.on("ready",()=>Ue.call(this,this)),we.DEBUG){let at=Ie=>console.log(`[ART.${this.id}] -> ${Ie}`);at("Version@"+we.version),at("Env@"+we.env),at("Build@"+we.build);for(let Ie=0;Ie<y.default.events.length;Ie++)this.on("video:"+y.default.events[Ie],Ze=>at("Event@"+Ze.type))}Ee.push(this)}static get instances(){return Ee}static get version(){return"5.2.3"}static get env(){return"production"}static get build(){return"2025-04-20 10:10:54"}static get config(){return y.default}static get utils(){return h}static get scheme(){return g.default}static get Emitter(){return f.default}static get validator(){return c.default}static get kindOf(){return c.default.kindOf}static get html(){return b.default.html}static get option(){return{id:"",container:"#artplayer",url:"",poster:"",type:"",theme:"#f00",volume:.7,isLive:!1,muted:!1,autoplay:!1,autoSize:!1,autoMini:!1,loop:!1,flip:!1,playbackRate:!1,aspectRatio:!1,screenshot:!1,setting:!1,hotkey:!0,pip:!1,mutex:!0,backdrop:!0,fullscreen:!1,fullscreenWeb:!1,subtitleOffset:!1,miniProgressBar:!1,useSSR:!1,playsInline:!0,lock:!1,gesture:!0,fastForward:!1,autoPlayback:!1,autoOrientation:!1,airplay:!1,proxy:void 0,layers:[],contextmenu:[],controls:[],settings:[],quality:[],highlight:[],plugins:[],thumbnails:{url:"",number:60,column:10,width:0,height:0,scale:1},subtitle:{url:"",type:"",style:{},name:"",escape:!0,encoding:"utf-8",onVttLoad:Be=>Be},moreVideoAttr:{controls:!1,preload:h.isSafari?"auto":"metadata"},i18n:{},icons:{},cssVar:{},customType:{},lang:navigator==null?void 0:navigator.language.toLowerCase()}}get proxy(){return this.events.proxy}get query(){return this.template.query}get video(){return this.template.$video}destroy(Be=!0){this.events.destroy(),this.template.destroy(Be),Ee.splice(Ee.indexOf(this),1),this.isDestroy=!0,this.emit("destroy")}}s.default=we,we.STYLE=u.default,we.DEBUG=!1,we.CONTEXTMENU=!0,we.NOTICE_TIME=2e3,we.SETTING_WIDTH=250,we.SETTING_ITEM_WIDTH=200,we.SETTING_ITEM_HEIGHT=35,we.RESIZE_TIME=200,we.SCROLL_TIME=200,we.SCROLL_GAP=50,we.AUTO_PLAYBACK_MAX=10,we.AUTO_PLAYBACK_MIN=5,we.AUTO_PLAYBACK_TIMEOUT=3e3,we.RECONNECT_TIME_MAX=5,we.RECONNECT_SLEEP_TIME=1e3,we.CONTROL_HIDE_TIME=3e3,we.DBCLICK_TIME=300,we.DBCLICK_FULLSCREEN=!0,we.MOBILE_DBCLICK_PLAY=!0,we.MOBILE_CLICK_PLAY=!1,we.AUTO_ORIENTATION_TIME=200,we.INFO_LOOP_TIME=1e3,we.FAST_FORWARD_VALUE=3,we.FAST_FORWARD_TIME=1e3,we.TOUCH_MOVE_RATIO=.5,we.VOLUME_STEP=.1,we.SEEK_STEP=5,we.PLAYBACK_RATE=[.5,.75,1,1.25,1.5,2],we.ASPECT_RATIO=["default","4:3","16:9"],we.FLIP=["normal","horizontal","vertical"],we.FULLSCREEN_WEB_IN_BODY=!1,we.LOG_VERSION=!0,we.USE_RAF=!1,h.isBrowser&&(window.Artplayer=we,h.setStyleText("artplayer-style",u.default),setTimeout(()=>{we.LOG_VERSION&&console.log(`%c ArtPlayer %c ${we.version} %c https://artplayer.org`,"color: #fff; background: #5f5f5f","color: #fff; background: #4bc729","")},100))},{"bundle-text:./style/index.less":"0016T","option-validator":"bAWi2","./utils/emitter":"66mFZ","./utils":"71aH7","./scheme":"AKEiO","./config":"lyjeQ","./template":"X13Zf","./i18n":"3jKkj","./player":"a90nx","./control":"8Z0Uf","./contextmenu":"2KYsr","./info":"02ajl","./subtitle":"eSWto","./events":"jo4S1","./hotkey":"6NoFy","./layer":"6G6hZ","./loading":"3dsEe","./notice":"dWGTw","./mask":"5POkG","./icons":"6OeNg","./setting":"3eYNH","./storage":"2aaJe","./plugins":"8MTUM","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"0016T":[function(n,r,s,o){r.exports='.art-video-player{--art-theme:red;--art-font-color:#fff;--art-background-color:#000;--art-text-shadow-color:#00000080;--art-transition-duration:.2s;--art-padding:10px;--art-border-radius:3px;--art-progress-height:6px;--art-progress-color:#ffffff40;--art-hover-color:#ffffff40;--art-loaded-color:#ffffff40;--art-state-size:80px;--art-state-opacity:.8;--art-bottom-height:100px;--art-bottom-offset:20px;--art-bottom-gap:5px;--art-highlight-width:8px;--art-highlight-color:#ffffff80;--art-control-height:46px;--art-control-opacity:.75;--art-control-icon-size:36px;--art-control-icon-scale:1.1;--art-volume-height:120px;--art-volume-handle-size:14px;--art-lock-size:36px;--art-indicator-scale:0;--art-indicator-size:16px;--art-fullscreen-web-index:9999;--art-settings-icon-size:24px;--art-settings-max-height:300px;--art-selector-max-height:300px;--art-contextmenus-min-width:250px;--art-subtitle-font-size:20px;--art-subtitle-gap:5px;--art-subtitle-bottom:15px;--art-subtitle-border:#000;--art-widget-background:#000000d9;--art-tip-background:#000000b3;--art-scrollbar-size:4px;--art-scrollbar-background:#ffffff40;--art-scrollbar-background-hover:#ffffff80;--art-mini-progress-height:2px}.art-bg-cover{background-position:50%;background-repeat:no-repeat;background-size:cover}.art-bottom-gradient{background-image:linear-gradient(#0000,#0006,#000);background-position:bottom;background-repeat:repeat-x}.art-backdrop-filter{backdrop-filter:saturate(180%)blur(20px);background-color:#000000bf!important}.art-truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.art-video-player{zoom:1;text-align:left;user-select:none;box-sizing:border-box;width:100%;height:100%;color:var(--art-font-color);background-color:var(--art-background-color);text-shadow:0 0 2px var(--art-text-shadow-color);-webkit-tap-highlight-color:#0000;-ms-touch-action:manipulation;touch-action:manipulation;-ms-high-contrast-adjust:none;direction:ltr;outline:0;margin:0 auto;padding:0;font-family:PingFang SC,Helvetica Neue,Microsoft YaHei,Roboto,Arial,sans-serif;font-size:14px;line-height:1.3;position:relative}.art-video-player *,.art-video-player :before,.art-video-player :after{box-sizing:border-box}.art-video-player ::-webkit-scrollbar{width:var(--art-scrollbar-size);height:var(--art-scrollbar-size)}.art-video-player ::-webkit-scrollbar-thumb{background-color:var(--art-scrollbar-background)}.art-video-player ::-webkit-scrollbar-thumb:hover{background-color:var(--art-scrollbar-background-hover)}.art-video-player img{vertical-align:top;max-width:100%}.art-video-player svg{fill:var(--art-font-color)}.art-video-player a{color:var(--art-font-color);text-decoration:none}.art-icon{justify-content:center;align-items:center;line-height:1;display:flex}.art-video-player.art-backdrop .art-contextmenus,.art-video-player.art-backdrop .art-info,.art-video-player.art-backdrop .art-settings,.art-video-player.art-backdrop .art-layer-auto-playback,.art-video-player.art-backdrop .art-selector-list,.art-video-player.art-backdrop .art-volume-inner{backdrop-filter:saturate(180%)blur(20px);background-color:#000000bf!important}.art-video{z-index:10;cursor:pointer;width:100%;height:100%;position:absolute;inset:0}.art-poster{z-index:11;pointer-events:none;background-position:50%;background-repeat:no-repeat;background-size:cover;width:100%;height:100%;position:absolute;inset:0}.art-video-player .art-subtitle{z-index:20;text-align:center;pointer-events:none;justify-content:center;align-items:center;gap:var(--art-subtitle-gap);width:100%;bottom:var(--art-subtitle-bottom);font-size:var(--art-subtitle-font-size);transition:bottom var(--art-transition-duration)ease;text-shadow:var(--art-subtitle-border)1px 0 1px,var(--art-subtitle-border)0 1px 1px,var(--art-subtitle-border)-1px 0 1px,var(--art-subtitle-border)0 -1px 1px,var(--art-subtitle-border)1px 1px 1px,var(--art-subtitle-border)-1px -1px 1px,var(--art-subtitle-border)1px -1px 1px,var(--art-subtitle-border)-1px 1px 1px;flex-direction:column;padding:0 5%;display:none;position:absolute}.art-video-player.art-subtitle-show .art-subtitle{display:flex}.art-video-player.art-control-show .art-subtitle{bottom:calc(var(--art-control-height) + var(--art-subtitle-bottom))}.art-danmuku{z-index:30;pointer-events:none;width:100%;height:100%;position:absolute;inset:0;overflow:hidden}.art-video-player .art-layers{z-index:40;pointer-events:none;width:100%;height:100%;display:none;position:absolute;inset:0}.art-video-player .art-layers .art-layer{pointer-events:auto}.art-video-player.art-layer-show .art-layers{display:flex}.art-video-player .art-mask{z-index:50;pointer-events:none;justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:absolute;inset:0}.art-video-player .art-mask .art-state{opacity:0;width:var(--art-state-size);height:var(--art-state-size);transition:all var(--art-transition-duration)ease;justify-content:center;align-items:center;display:flex;transform:scale(2)}.art-video-player.art-mask-show .art-state{cursor:pointer;pointer-events:auto;opacity:var(--art-state-opacity);transform:scale(1)}.art-video-player.art-loading-show .art-state{display:none}.art-video-player .art-loading{z-index:70;pointer-events:none;justify-content:center;align-items:center;width:100%;height:100%;display:none;position:absolute;inset:0}.art-video-player.art-loading-show .art-loading{display:flex}.art-video-player .art-bottom{z-index:60;opacity:0;pointer-events:none;width:100%;height:100%;padding:0 var(--art-padding);transition:all var(--art-transition-duration)ease;background-size:100% var(--art-bottom-height);background-image:linear-gradient(#0000,#0006,#000);background-position:bottom;background-repeat:repeat-x;flex-direction:column;justify-content:flex-end;display:flex;position:absolute;inset:0;overflow:hidden}.art-video-player .art-bottom .art-controls,.art-video-player .art-bottom .art-progress{transform:translateY(var(--art-bottom-offset));transition:transform var(--art-transition-duration)ease}.art-video-player.art-control-show .art-bottom,.art-video-player.art-hover .art-bottom{opacity:1}.art-video-player.art-control-show .art-bottom .art-controls,.art-video-player.art-hover .art-bottom .art-controls,.art-video-player.art-control-show .art-bottom .art-progress,.art-video-player.art-hover .art-bottom .art-progress{transform:translateY(0)}.art-bottom .art-progress{z-index:0;pointer-events:auto;padding-bottom:var(--art-bottom-gap);position:relative}.art-bottom .art-progress .art-control-progress{cursor:pointer;height:var(--art-progress-height);justify-content:center;align-items:center;display:flex;position:relative}.art-bottom .art-progress .art-control-progress .art-control-progress-inner{width:100%;height:50%;transition:height var(--art-transition-duration)ease;background-color:var(--art-progress-color);align-items:center;display:flex;position:relative}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-hover{z-index:0;background-color:var(--art-hover-color);width:0%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-loaded{z-index:10;background-color:var(--art-loaded-color);width:0%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-played{z-index:20;background-color:var(--art-theme);width:0%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-highlight{z-index:30;pointer-events:none;width:100%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-highlight span{z-index:0;pointer-events:auto;width:100%;height:100%;transform:translateX(calc(var(--art-highlight-width)/-2));background-color:var(--art-highlight-color);position:absolute;inset:0 auto 0 0;width:var(--art-highlight-width)!important}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator{z-index:40;width:var(--art-indicator-size);height:var(--art-indicator-size);transform:scale(var(--art-indicator-scale));margin-left:calc(var(--art-indicator-size)/-2);transition:transform var(--art-transition-duration)ease;border-radius:50%;justify-content:center;align-items:center;display:flex;position:absolute;left:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator .art-icon{pointer-events:none;width:100%;height:100%}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator:hover{transform:scale(1.2)!important}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator:active{transform:scale(1)!important}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-tip{z-index:50;border-radius:var(--art-border-radius);white-space:nowrap;background-color:var(--art-tip-background);padding:3px 5px;font-size:12px;line-height:1;display:none;position:absolute;top:-25px;left:0}.art-bottom .art-progress .art-control-progress:hover .art-control-progress-inner{height:100%}.art-bottom .art-progress .art-control-thumbnails{bottom:calc(var(--art-bottom-gap) + 10px);border-radius:var(--art-border-radius);pointer-events:none;background-color:var(--art-widget-background);display:none;position:absolute;left:0;box-shadow:0 1px 3px #0003,0 1px 2px -1px #0003}.art-bottom:hover .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator{transform:scale(1)}.art-controls{z-index:10;pointer-events:auto;height:var(--art-control-height);justify-content:space-between;align-items:center;display:flex;position:relative}.art-controls .art-controls-left,.art-controls .art-controls-right{height:100%;display:flex}.art-controls .art-controls-center{flex:1;justify-content:center;align-items:center;height:100%;padding:0 10px;display:none}.art-controls .art-controls-right{justify-content:flex-end}.art-controls .art-control{cursor:pointer;white-space:nowrap;opacity:var(--art-control-opacity);min-height:var(--art-control-height);min-width:var(--art-control-height);transition:opacity var(--art-transition-duration)ease;flex-shrink:0;justify-content:center;align-items:center;display:flex}.art-controls .art-control .art-icon{height:var(--art-control-icon-size);width:var(--art-control-icon-size);transform:scale(var(--art-control-icon-scale));transition:transform var(--art-transition-duration)ease}.art-controls .art-control .art-icon:active{transform:scale(calc(var(--art-control-icon-scale)*.8))}.art-controls .art-control:hover{opacity:1}.art-control-volume{position:relative}.art-control-volume .art-volume-panel{text-align:center;cursor:default;opacity:0;pointer-events:none;left:0;right:0;bottom:var(--art-control-height);width:var(--art-control-height);height:var(--art-volume-height);transition:all var(--art-transition-duration)ease;justify-content:center;align-items:center;padding:0 5px;font-size:12px;display:flex;position:absolute;transform:translateY(10px)}.art-control-volume .art-volume-panel .art-volume-inner{border-radius:var(--art-border-radius);background-color:var(--art-widget-background);flex-direction:column;align-items:center;gap:10px;width:100%;height:100%;padding:10px 0 12px;display:flex}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider{cursor:pointer;flex:1;justify-content:center;width:100%;display:flex;position:relative}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider .art-volume-handle{border-radius:var(--art-border-radius);background-color:#ffffff40;justify-content:center;width:2px;display:flex;position:relative;overflow:hidden}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider .art-volume-handle .art-volume-loaded{z-index:0;background-color:var(--art-theme);width:100%;height:100%;position:absolute;inset:0}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider .art-volume-indicator{width:var(--art-volume-handle-size);height:var(--art-volume-handle-size);margin-top:calc(var(--art-volume-handle-size)/-2);background-color:var(--art-theme);transition:transform var(--art-transition-duration)ease;border-radius:100%;flex-shrink:0;position:absolute;transform:scale(1)}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider:active .art-volume-indicator{transform:scale(.9)}.art-control-volume:hover .art-volume-panel{opacity:1;pointer-events:auto;transform:translateY(0)}.art-video-player .art-notice{z-index:80;width:100%;height:auto;padding:var(--art-padding);pointer-events:none;display:none;position:absolute;inset:0 0 auto}.art-video-player .art-notice .art-notice-inner{border-radius:var(--art-border-radius);background-color:var(--art-tip-background);padding:5px;line-height:1;display:inline-flex}.art-video-player.art-notice-show .art-notice{display:flex}.art-video-player .art-contextmenus{z-index:120;border-radius:var(--art-border-radius);background-color:var(--art-widget-background);min-width:var(--art-contextmenus-min-width);flex-direction:column;padding:5px 0;font-size:12px;display:none;position:absolute}.art-video-player .art-contextmenus .art-contextmenu{cursor:pointer;border-bottom:1px solid #ffffff1a;padding:10px 15px;display:flex}.art-video-player .art-contextmenus .art-contextmenu span{padding:0 8px}.art-video-player .art-contextmenus .art-contextmenu span:hover,.art-video-player .art-contextmenus .art-contextmenu span.art-current{color:var(--art-theme)}.art-video-player .art-contextmenus .art-contextmenu:hover{background-color:#ffffff1a}.art-video-player .art-contextmenus .art-contextmenu:last-child{border-bottom:none}.art-video-player.art-contextmenu-show .art-contextmenus{display:flex}.art-video-player .art-settings{z-index:90;border-radius:var(--art-border-radius);max-height:var(--art-settings-max-height);left:auto;right:var(--art-padding);bottom:var(--art-control-height);transition:all var(--art-transition-duration)ease;background-color:var(--art-widget-background);flex-direction:column;display:none;position:absolute;overflow:hidden auto}.art-video-player .art-settings .art-setting-panel{flex-direction:column;display:none}.art-video-player .art-settings .art-setting-panel.art-current{display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item{cursor:pointer;transition:background-color var(--art-transition-duration)ease;justify-content:space-between;align-items:center;padding:0 5px;display:flex;overflow:hidden}.art-video-player .art-settings .art-setting-panel .art-setting-item:hover{background-color:#ffffff1a}.art-video-player .art-settings .art-setting-panel .art-setting-item.art-current{color:var(--art-theme)}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-icon-check{visibility:hidden;height:15px}.art-video-player .art-settings .art-setting-panel .art-setting-item.art-current .art-icon-check{visibility:visible}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-left{flex-shrink:0;justify-content:center;align-items:center;gap:5px;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-left .art-setting-item-left-icon{height:var(--art-settings-icon-size);width:var(--art-settings-icon-size);justify-content:center;align-items:center;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right{justify-content:center;align-items:center;gap:5px;font-size:12px;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-item-right-tooltip{white-space:nowrap;color:#ffffff80}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-item-right-icon{justify-content:center;align-items:center;min-width:32px;height:24px;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-range{appearance:none;background-color:#fff3;outline:none;width:80px;height:3px}.art-video-player .art-settings .art-setting-panel .art-setting-item-back{border-bottom:1px solid #ffffff1a}.art-video-player.art-setting-show .art-settings{display:flex}.art-video-player .art-info{left:var(--art-padding);top:var(--art-padding);z-index:100;border-radius:var(--art-border-radius);background-color:var(--art-widget-background);padding:10px;font-size:12px;display:none;position:absolute}.art-video-player .art-info .art-info-panel{flex-direction:column;gap:5px;display:flex}.art-video-player .art-info .art-info-panel .art-info-item{align-items:center;gap:5px;display:flex}.art-video-player .art-info .art-info-panel .art-info-item .art-info-title{text-align:right;width:100px}.art-video-player .art-info .art-info-panel .art-info-item .art-info-content{text-overflow:ellipsis;white-space:nowrap;user-select:all;width:250px;overflow:hidden}.art-video-player .art-info .art-info-close{cursor:pointer;position:absolute;top:5px;right:5px}.art-video-player.art-info-show .art-info{display:flex}.art-hide-cursor *{cursor:none!important}.art-video-player[data-aspect-ratio]{overflow:hidden}.art-video-player[data-aspect-ratio] .art-video{object-fit:fill;box-sizing:content-box}.art-fullscreen{--art-progress-height:8px;--art-indicator-size:20px;--art-control-height:60px;--art-control-icon-scale:1.3}.art-fullscreen-web{--art-progress-height:8px;--art-indicator-size:20px;--art-control-height:60px;--art-control-icon-scale:1.3;z-index:var(--art-fullscreen-web-index);width:100%;height:100%;position:fixed;inset:0}.art-mini-popup{z-index:9999;border-radius:var(--art-border-radius);cursor:move;user-select:none;background:#000;width:320px;height:180px;transition:opacity .2s;position:fixed;overflow:hidden;box-shadow:0 0 5px #00000080}.art-mini-popup svg{fill:#fff}.art-mini-popup .art-video{pointer-events:none}.art-mini-popup .art-mini-close{z-index:20;cursor:pointer;opacity:0;transition:opacity .2s;position:absolute;top:10px;right:10px}.art-mini-popup .art-mini-state{z-index:30;pointer-events:none;opacity:0;background-color:#00000040;justify-content:center;align-items:center;width:100%;height:100%;transition:opacity .2s;display:flex;position:absolute;inset:0}.art-mini-popup .art-mini-state .art-icon{opacity:.75;cursor:pointer;pointer-events:auto;transition:transform .2s;transform:scale(3)}.art-mini-popup .art-mini-state .art-icon:active{transform:scale(2.5)}.art-mini-popup.art-mini-droging{opacity:.9}.art-mini-popup:hover .art-mini-close,.art-mini-popup:hover .art-mini-state{opacity:1}.art-video-player[data-flip=horizontal] .art-video{transform:scaleX(-1)}.art-video-player[data-flip=vertical] .art-video{transform:scaleY(-1)}.art-video-player .art-layer-lock{height:var(--art-lock-size);width:var(--art-lock-size);top:50%;left:var(--art-padding);background-color:var(--art-tip-background);border-radius:50%;justify-content:center;align-items:center;display:none;position:absolute;transform:translateY(-50%)}.art-video-player .art-layer-auto-playback{border-radius:var(--art-border-radius);left:var(--art-padding);bottom:calc(var(--art-control-height) + var(--art-bottom-gap) + 10px);background-color:var(--art-widget-background);align-items:center;gap:10px;padding:10px;line-height:1;display:none;position:absolute}.art-video-player .art-layer-auto-playback .art-auto-playback-close{cursor:pointer;justify-content:center;align-items:center;display:flex}.art-video-player .art-layer-auto-playback .art-auto-playback-close svg{width:15px;height:15px;fill:var(--art-theme)}.art-video-player .art-layer-auto-playback .art-auto-playback-jump{color:var(--art-theme);cursor:pointer}.art-video-player.art-lock .art-subtitle{bottom:var(--art-subtitle-bottom)!important}.art-video-player.art-mini-progress-bar .art-bottom,.art-video-player.art-lock .art-bottom{opacity:1;background-image:none;padding:0}.art-video-player.art-mini-progress-bar .art-bottom .art-controls,.art-video-player.art-lock .art-bottom .art-controls,.art-video-player.art-mini-progress-bar .art-bottom .art-progress,.art-video-player.art-lock .art-bottom .art-progress{transform:translateY(calc(var(--art-control-height) + var(--art-bottom-gap) + var(--art-progress-height)/4))}.art-video-player.art-mini-progress-bar .art-bottom .art-progress-indicator,.art-video-player.art-lock .art-bottom .art-progress-indicator{display:none!important}.art-video-player.art-control-show .art-layer-lock{display:flex}.art-control-selector{justify-content:center;display:flex;position:relative}.art-control-selector .art-selector-list{text-align:center;border-radius:var(--art-border-radius);opacity:0;pointer-events:none;bottom:var(--art-control-height);max-height:var(--art-selector-max-height);background-color:var(--art-widget-background);transition:all var(--art-transition-duration)ease;flex-direction:column;align-items:center;display:flex;position:absolute;overflow:hidden auto;transform:translateY(10px)}.art-control-selector .art-selector-list .art-selector-item{flex-shrink:0;justify-content:center;align-items:center;width:100%;padding:10px 15px;line-height:1;display:flex}.art-control-selector .art-selector-list .art-selector-item:hover{background-color:#ffffff1a}.art-control-selector .art-selector-list .art-selector-item:hover,.art-control-selector .art-selector-list .art-selector-item.art-current{color:var(--art-theme)}.art-control-selector:hover .art-selector-list{opacity:1;pointer-events:auto;transform:translateY(0)}[class*=hint--]{font-style:normal;display:inline-block;position:relative}[class*=hint--]:before,[class*=hint--]:after{visibility:hidden;opacity:0;z-index:1000000;pointer-events:none;transition:all .3s;position:absolute;transform:translate(0,0)}[class*=hint--]:hover:before,[class*=hint--]:hover:after{visibility:visible;opacity:1;transition-delay:.1s}[class*=hint--]:before{content:"";z-index:1000001;background:0 0;border:6px solid #0000;position:absolute}[class*=hint--]:after{color:#fff;white-space:nowrap;background:#000;padding:8px 10px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;line-height:12px}[class*=hint--][aria-label]:after{content:attr(aria-label)}[class*=hint--][data-hint]:after{content:attr(data-hint)}[aria-label=""]:before,[aria-label=""]:after,[data-hint=""]:before,[data-hint=""]:after{display:none!important}.hint--top-left:before,.hint--top-right:before,.hint--top:before{border-top-color:#000}.hint--bottom-left:before,.hint--bottom-right:before,.hint--bottom:before{border-bottom-color:#000}.hint--left:before{border-left-color:#000}.hint--right:before{border-right-color:#000}.hint--top:before{margin-bottom:-11px}.hint--top:before,.hint--top:after{bottom:100%;left:50%}.hint--top:before{left:calc(50% - 6px)}.hint--top:after{transform:translate(-50%)}.hint--top:hover:before{transform:translateY(-8px)}.hint--top:hover:after{transform:translate(-50%)translateY(-8px)}.hint--bottom:before{margin-top:-11px}.hint--bottom:before,.hint--bottom:after{top:100%;left:50%}.hint--bottom:before{left:calc(50% - 6px)}.hint--bottom:after{transform:translate(-50%)}.hint--bottom:hover:before{transform:translateY(8px)}.hint--bottom:hover:after{transform:translate(-50%)translateY(8px)}.hint--right:before{margin-bottom:-6px;margin-left:-11px}.hint--right:after{margin-bottom:-14px}.hint--right:before,.hint--right:after{bottom:50%;left:100%}.hint--right:hover:before,.hint--right:hover:after{transform:translate(8px)}.hint--left:before{margin-bottom:-6px;margin-right:-11px}.hint--left:after{margin-bottom:-14px}.hint--left:before,.hint--left:after{bottom:50%;right:100%}.hint--left:hover:before,.hint--left:hover:after{transform:translate(-8px)}.hint--top-left:before{margin-bottom:-11px}.hint--top-left:before,.hint--top-left:after{bottom:100%;left:50%}.hint--top-left:before{left:calc(50% - 6px)}.hint--top-left:after{margin-left:12px;transform:translate(-100%)}.hint--top-left:hover:before{transform:translateY(-8px)}.hint--top-left:hover:after{transform:translate(-100%)translateY(-8px)}.hint--top-right:before{margin-bottom:-11px}.hint--top-right:before,.hint--top-right:after{bottom:100%;left:50%}.hint--top-right:before{left:calc(50% - 6px)}.hint--top-right:after{margin-left:-12px;transform:translate(0)}.hint--top-right:hover:before,.hint--top-right:hover:after{transform:translateY(-8px)}.hint--bottom-left:before{margin-top:-11px}.hint--bottom-left:before,.hint--bottom-left:after{top:100%;left:50%}.hint--bottom-left:before{left:calc(50% - 6px)}.hint--bottom-left:after{margin-left:12px;transform:translate(-100%)}.hint--bottom-left:hover:before{transform:translateY(8px)}.hint--bottom-left:hover:after{transform:translate(-100%)translateY(8px)}.hint--bottom-right:before{margin-top:-11px}.hint--bottom-right:before,.hint--bottom-right:after{top:100%;left:50%}.hint--bottom-right:before{left:calc(50% - 6px)}.hint--bottom-right:after{margin-left:-12px;transform:translate(0)}.hint--bottom-right:hover:before,.hint--bottom-right:hover:after{transform:translateY(8px)}.hint--small:after,.hint--medium:after,.hint--large:after{white-space:normal;word-wrap:break-word;line-height:1.4em}.hint--small:after{width:80px}.hint--medium:after{width:150px}.hint--large:after{width:300px}[class*=hint--]:after{text-shadow:0 -1px #000;box-shadow:4px 4px 8px #0000004d}.hint--error:after{text-shadow:0 -1px #592726;background-color:#b34e4d}.hint--error.hint--top-left:before,.hint--error.hint--top-right:before,.hint--error.hint--top:before{border-top-color:#b34e4d}.hint--error.hint--bottom-left:before,.hint--error.hint--bottom-right:before,.hint--error.hint--bottom:before{border-bottom-color:#b34e4d}.hint--error.hint--left:before{border-left-color:#b34e4d}.hint--error.hint--right:before{border-right-color:#b34e4d}.hint--warning:after{text-shadow:0 -1px #6c5328;background-color:#c09854}.hint--warning.hint--top-left:before,.hint--warning.hint--top-right:before,.hint--warning.hint--top:before{border-top-color:#c09854}.hint--warning.hint--bottom-left:before,.hint--warning.hint--bottom-right:before,.hint--warning.hint--bottom:before{border-bottom-color:#c09854}.hint--warning.hint--left:before{border-left-color:#c09854}.hint--warning.hint--right:before{border-right-color:#c09854}.hint--info:after{text-shadow:0 -1px #1a3c4d;background-color:#3986ac}.hint--info.hint--top-left:before,.hint--info.hint--top-right:before,.hint--info.hint--top:before{border-top-color:#3986ac}.hint--info.hint--bottom-left:before,.hint--info.hint--bottom-right:before,.hint--info.hint--bottom:before{border-bottom-color:#3986ac}.hint--info.hint--left:before{border-left-color:#3986ac}.hint--info.hint--right:before{border-right-color:#3986ac}.hint--success:after{text-shadow:0 -1px #1a321a;background-color:#458746}.hint--success.hint--top-left:before,.hint--success.hint--top-right:before,.hint--success.hint--top:before{border-top-color:#458746}.hint--success.hint--bottom-left:before,.hint--success.hint--bottom-right:before,.hint--success.hint--bottom:before{border-bottom-color:#458746}.hint--success.hint--left:before{border-left-color:#458746}.hint--success.hint--right:before{border-right-color:#458746}.hint--always:after,.hint--always:before{opacity:1;visibility:visible}.hint--always.hint--top:before{transform:translateY(-8px)}.hint--always.hint--top:after{transform:translate(-50%)translateY(-8px)}.hint--always.hint--top-left:before{transform:translateY(-8px)}.hint--always.hint--top-left:after{transform:translate(-100%)translateY(-8px)}.hint--always.hint--top-right:before,.hint--always.hint--top-right:after{transform:translateY(-8px)}.hint--always.hint--bottom:before{transform:translateY(8px)}.hint--always.hint--bottom:after{transform:translate(-50%)translateY(8px)}.hint--always.hint--bottom-left:before{transform:translateY(8px)}.hint--always.hint--bottom-left:after{transform:translate(-100%)translateY(8px)}.hint--always.hint--bottom-right:before,.hint--always.hint--bottom-right:after{transform:translateY(8px)}.hint--always.hint--left:before,.hint--always.hint--left:after{transform:translate(-8px)}.hint--always.hint--right:before,.hint--always.hint--right:after{transform:translate(8px)}.hint--rounded:after{border-radius:4px}.hint--no-animate:before,.hint--no-animate:after{transition-duration:0s}.hint--bounce:before,.hint--bounce:after{-webkit-transition:opacity .3s,visibility .3s,-webkit-transform .3s cubic-bezier(.71,1.7,.77,1.24);-moz-transition:opacity .3s,visibility .3s,-moz-transform .3s cubic-bezier(.71,1.7,.77,1.24);transition:opacity .3s,visibility .3s,transform .3s cubic-bezier(.71,1.7,.77,1.24)}.hint--no-shadow:before,.hint--no-shadow:after{text-shadow:initial;box-shadow:initial}.hint--no-arrow:before{display:none}.art-video-player.art-mobile{--art-bottom-gap:10px;--art-control-height:38px;--art-control-icon-scale:1;--art-state-size:60px;--art-settings-max-height:180px;--art-selector-max-height:180px;--art-indicator-scale:1;--art-control-opacity:1}.art-video-player.art-mobile .art-controls-left{margin-left:calc(var(--art-padding)/-1)}.art-video-player.art-mobile .art-controls-right{margin-right:calc(var(--art-padding)/-1)}'},{}],bAWi2:[function(n,r,s,o){r.exports=function(){function i(h){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}var a=Object.prototype.toString,u=function(h){if(h===void 0)return"undefined";if(h===null)return"null";var p=i(h);if(p==="boolean")return"boolean";if(p==="string")return"string";if(p==="number")return"number";if(p==="symbol")return"symbol";if(p==="function")return l(h)==="GeneratorFunction"?"generatorfunction":"function";if(Array.isArray?Array.isArray(h):h instanceof Array)return"array";if(h.constructor&&typeof h.constructor.isBuffer=="function"&&h.constructor.isBuffer(h))return"buffer";if(function(g){try{if(typeof g.length=="number"&&typeof g.callee=="function")return!0}catch(v){if(v.message.indexOf("callee")!==-1)return!0}return!1}(h))return"arguments";if(h instanceof Date||typeof h.toDateString=="function"&&typeof h.getDate=="function"&&typeof h.setDate=="function")return"date";if(h instanceof Error||typeof h.message=="string"&&h.constructor&&typeof h.constructor.stackTraceLimit=="number")return"error";if(h instanceof RegExp||typeof h.flags=="string"&&typeof h.ignoreCase=="boolean"&&typeof h.multiline=="boolean"&&typeof h.global=="boolean")return"regexp";switch(l(h)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(typeof h.throw=="function"&&typeof h.return=="function"&&typeof h.next=="function")return"generator";switch(p=a.call(h)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return p.slice(8,-1).toLowerCase().replace(/\s/g,"")};function l(h){return h.constructor?h.constructor.name:null}function c(h,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:["option"];return d(h,p,g),f(h,p,g),function(v,y,_){var b=u(y),w=u(v);if(b==="object"){if(w!=="object")throw Error("[Type Error]: '".concat(_.join("."),"' require 'object' type, but got '").concat(w,"'"));Object.keys(y).forEach(function(S){var E=v[S],T=y[S],I=_.slice();I.push(S),d(E,T,I),f(E,T,I),c(E,T,I)})}if(b==="array"){if(w!=="array")throw Error("[Type Error]: '".concat(_.join("."),"' require 'array' type, but got '").concat(w,"'"));v.forEach(function(S,E){var T=v[E],I=y[E]||y[0],k=_.slice();k.push(E),d(T,I,k),f(T,I,k),c(T,I,k)})}}(h,p,g),h}function d(h,p,g){if(u(p)==="string"){var v=u(h);if(p[0]==="?"&&(p=p.slice(1)+"|undefined"),!(-1<p.indexOf("|")?p.split("|").map(function(y){return y.toLowerCase().trim()}).filter(Boolean).some(function(y){return v===y}):p.toLowerCase().trim()===v))throw Error("[Type Error]: '".concat(g.join("."),"' require '").concat(p,"' type, but got '").concat(v,"'"))}}function f(h,p,g){if(u(p)==="function"){var v=p(h,u(h),g);if(v!==!0){var y=u(v);throw y==="string"?Error(v):y==="error"?v:Error("[Validator Error]: The scheme for '".concat(g.join("."),"' validator require return true, but got '").concat(v,"'"))}}}return c.kindOf=u,c}()},{}],"66mFZ":[function(n,r,s,o){n("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s),s.default=class{on(i,a,u){let l=this.e||(this.e={});return(l[i]||(l[i]=[])).push({fn:a,ctx:u}),this}once(i,a,u){let l=this;function c(...d){l.off(i,c),a.apply(u,d)}return c._=a,this.on(i,c,u)}emit(i,...a){let u=((this.e||(this.e={}))[i]||[]).slice();for(let l=0;l<u.length;l+=1)u[l].fn.apply(u[l].ctx,a);return this}off(i,a){let u=this.e||(this.e={}),l=u[i],c=[];if(l&&a)for(let d=0,f=l.length;d<f;d+=1)l[d].fn!==a&&l[d].fn._!==a&&c.push(l[d]);return c.length?u[i]=c:delete u[i],this}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"9pCYc":[function(n,r,s,o){s.interopDefault=function(i){return i&&i.__esModule?i:{default:i}},s.defineInteropFlag=function(i){Object.defineProperty(i,"__esModule",{value:!0})},s.exportAll=function(i,a){return Object.keys(i).forEach(function(u){u==="default"||u==="__esModule"||Object.prototype.hasOwnProperty.call(a,u)||Object.defineProperty(a,u,{enumerable:!0,get:function(){return i[u]}})}),a},s.export=function(i,a,u){Object.defineProperty(i,a,{enumerable:!0,get:u})}},{}],"71aH7":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=n("./dom");i.exportAll(a,s);var u=n("./error");i.exportAll(u,s);var l=n("./subtitle");i.exportAll(l,s);var c=n("./file");i.exportAll(c,s);var d=n("./property");i.exportAll(d,s);var f=n("./time");i.exportAll(f,s);var h=n("./format");i.exportAll(h,s);var p=n("./compatibility");i.exportAll(p,s)},{"./dom":"bSNiV","./error":"hwmZz","./subtitle":"inzwq","./file":"6b7Ip","./property":"5NSdr","./time":"epmNy","./format":"gapRl","./compatibility":"6ZTr6","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],bSNiV:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"query",()=>u),i.export(s,"queryAll",()=>l),i.export(s,"addClass",()=>c),i.export(s,"removeClass",()=>d),i.export(s,"hasClass",()=>f),i.export(s,"append",()=>h),i.export(s,"remove",()=>p),i.export(s,"setStyle",()=>g),i.export(s,"setStyles",()=>v),i.export(s,"getStyle",()=>y),i.export(s,"sublings",()=>_),i.export(s,"inverseClass",()=>b),i.export(s,"tooltip",()=>w),i.export(s,"isInViewport",()=>S),i.export(s,"includeFromEvent",()=>E),i.export(s,"replaceElement",()=>T),i.export(s,"createElement",()=>I),i.export(s,"getIcon",()=>k),i.export(s,"setStyleText",()=>C),i.export(s,"supportsFlex",()=>N),i.export(s,"getRect",()=>D),i.export(s,"loadImg",()=>W);var a=n("./compatibility");function u(H,V=document){return V.querySelector(H)}function l(H,V=document){return Array.from(V.querySelectorAll(H))}function c(H,V){return H.classList.add(V)}function d(H,V){return H.classList.remove(V)}function f(H,V){return H.classList.contains(V)}function h(H,V){return V instanceof Element?H.appendChild(V):H.insertAdjacentHTML("beforeend",String(V)),H.lastElementChild||H.lastChild}function p(H){return H.parentNode.removeChild(H)}function g(H,V,R){return H.style[V]=R,H}function v(H,V){for(let R in V)g(H,R,V[R]);return H}function y(H,V,R=!0){let z=window.getComputedStyle(H,null).getPropertyValue(V);return R?parseFloat(z):z}function _(H){return Array.from(H.parentElement.children).filter(V=>V!==H)}function b(H,V){_(H).forEach(R=>d(R,V)),c(H,V)}function w(H,V,R="top"){a.isMobile||(H.setAttribute("aria-label",V),c(H,"hint--rounded"),c(H,`hint--${R}`))}function S(H,V=0){let R=H.getBoundingClientRect(),z=window.innerHeight||document.documentElement.clientHeight,M=window.innerWidth||document.documentElement.clientWidth,B=R.top-V<=z&&R.top+R.height+V>=0,j=R.left-V<=M+V&&R.left+R.width+V>=0;return B&&j}function E(H,V){return H.composedPath&&H.composedPath().indexOf(V)>-1}function T(H,V){return V.parentNode.replaceChild(H,V),H}function I(H){return document.createElement(H)}function k(H="",V=""){let R=I("i");return c(R,"art-icon"),c(R,`art-icon-${H}`),h(R,V),R}function C(H,V){let R=document.getElementById(H);R||((R=document.createElement("style")).id=H,document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{document.head.appendChild(R)}):(document.head||document.documentElement).appendChild(R)),R.textContent=V}function N(){let H=document.createElement("div");return H.style.display="flex",H.style.display==="flex"}function D(H){return H.getBoundingClientRect()}function W(H,V){return new Promise((R,z)=>{let M=new Image;M.onload=function(){if(V&&V!==1){let B=document.createElement("canvas"),j=B.getContext("2d");B.width=M.width*V,B.height=M.height*V,j.drawImage(M,0,0,B.width,B.height),B.toBlob(X=>{let se=URL.createObjectURL(X),te=new Image;te.onload=function(){R(te)},te.onerror=function(){URL.revokeObjectURL(se),z(Error(`Image load failed: ${H}`))},te.src=se})}else R(M)},M.onerror=function(){z(Error(`Image load failed: ${H}`))},M.src=H})}},{"./compatibility":"6ZTr6","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6ZTr6":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"userAgent",()=>a),i.export(s,"isSafari",()=>u),i.export(s,"isWechat",()=>l),i.export(s,"isIE",()=>c),i.export(s,"isAndroid",()=>d),i.export(s,"isIOS",()=>f),i.export(s,"isIOS13",()=>h),i.export(s,"isMobile",()=>p),i.export(s,"isBrowser",()=>g);let a=typeof navigator<"u"?navigator.userAgent:"",u=/^((?!chrome|android).)*safari/i.test(a),l=/MicroMessenger/i.test(a),c=/MSIE|Trident/i.test(a),d=/android/i.test(a),f=/iPad|iPhone|iPod/i.test(a)&&!window.MSStream,h=f||a.includes("Macintosh")&&navigator.maxTouchPoints>=1,p=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(a)||h,g=typeof window<"u"},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],hwmZz:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"ArtPlayerError",()=>a),i.export(s,"errorHandle",()=>u);class a extends Error{constructor(c,d){super(c),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,d||this.constructor),this.name="ArtPlayerError"}}function u(l,c){if(!l)throw new a(c);return l}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],inzwq:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");function a(c){return`WEBVTT \r
\r
`.concat(c.replace(/(\d\d:\d\d:\d\d)[,.](\d+)/g,(d,f,h)=>{let p=h.slice(0,3);return h.length===1&&(p=h+"00"),h.length===2&&(p=h+"0"),`${f},${p}`}).replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").replace(/{[\s\S]*?}/g,"").concat(`\r
\r
`))}function u(c){return URL.createObjectURL(new Blob([c],{type:"text/vtt"}))}function l(c){let d=RegExp("Dialogue:\\s\\d,(\\d+:\\d\\d:\\d\\d.\\d\\d),(\\d+:\\d\\d:\\d\\d.\\d\\d),([^,]*),([^,]*),(?:[^,]*,){4}([\\s\\S]*)$","i");function f(h=""){return h.split(/[:.]/).map((p,g,v)=>{if(g===v.length-1){if(p.length===1)return`.${p}00`;if(p.length===2)return`.${p}0`}else if(p.length===1)return(g===0?"0":":0")+p;return g===0?p:g===v.length-1?`.${p}`:`:${p}`}).join("")}return`WEBVTT

`+c.split(/\r?\n/).map(h=>{let p=h.match(d);return p?{start:f(p[1].trim()),end:f(p[2].trim()),text:p[5].replace(/{[\s\S]*?}/g,"").replace(/(\\N)/g,`
`).trim().split(/\r?\n/).map(g=>g.trim()).join(`
`)}:null}).filter(h=>h).map((h,p)=>h?p+1+`
${h.start} --> ${h.end}
${h.text}`:"").filter(h=>h.trim()).join(`

`)}i.defineInteropFlag(s),i.export(s,"srtToVtt",()=>a),i.export(s,"vttToBlob",()=>u),i.export(s,"assToVtt",()=>l)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6b7Ip":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");function a(u,l){let c=document.createElement("a");c.style.display="none",c.href=u,c.download=l,document.body.appendChild(c),c.click(),document.body.removeChild(c)}i.defineInteropFlag(s),i.export(s,"getExt",()=>function u(l){return l.includes("?")?u(l.split("?")[0]):l.includes("#")?u(l.split("#")[0]):l.trim().toLowerCase().split(".").pop()}),i.export(s,"download",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5NSdr":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"def",()=>a),i.export(s,"has",()=>l),i.export(s,"get",()=>c),i.export(s,"mergeDeep",()=>function d(...f){let h=p=>p&&typeof p=="object"&&!Array.isArray(p);return f.reduce((p,g)=>(Object.keys(g).forEach(v=>{let y=p[v],_=g[v];Array.isArray(y)&&Array.isArray(_)?p[v]=y.concat(..._):h(y)&&h(_)?p[v]=d(y,_):p[v]=_}),p),{})});let a=Object.defineProperty,{hasOwnProperty:u}=Object.prototype;function l(d,f){return u.call(d,f)}function c(d,f){return Object.getOwnPropertyDescriptor(d,f)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],epmNy:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");function a(c=0){return new Promise(d=>setTimeout(d,c))}function u(c,d){let f;return function(...h){clearTimeout(f),f=setTimeout(()=>(f=null,c.apply(this,h)),d)}}function l(c,d){let f=!1;return function(...h){f||(c.apply(this,h),f=!0,setTimeout(function(){f=!1},d))}}i.defineInteropFlag(s),i.export(s,"sleep",()=>a),i.export(s,"debounce",()=>u),i.export(s,"throttle",()=>l)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],gapRl:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");function a(f,h,p){return Math.max(Math.min(f,Math.max(h,p)),Math.min(h,p))}function u(f){return f.charAt(0).toUpperCase()+f.slice(1)}function l(f){if(!f)return"00:00";let h=Math.floor(f/3600),p=Math.floor((f-3600*h)/60),g=Math.floor(f-3600*h-60*p);return(h>0?[h,p,g]:[p,g]).map(v=>v<10?`0${v}`:String(v)).join(":")}function c(f){return f.replace(/[&<>'"]/g,h=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[h]||h)}function d(f){let h={"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&quot;":'"'},p=RegExp(`(${Object.keys(h).join("|")})`,"g");return f.replace(p,g=>h[g]||g)}i.defineInteropFlag(s),i.export(s,"clamp",()=>a),i.export(s,"capitalize",()=>u),i.export(s,"secondToTime",()=>l),i.export(s,"escape",()=>c),i.export(s,"unescape",()=>d)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],AKEiO:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"ComponentOption",()=>g);var a=n("../utils");let u="array",l="boolean",c="string",d="number",f="object",h="function";function p(v,y,_){return(0,a.errorHandle)(y===c||y===d||v instanceof Element,`${_.join(".")} require '${c}' or 'Element' type`)}let g={html:p,disable:`?${l}`,name:`?${c}`,index:`?${d}`,style:`?${f}`,click:`?${h}`,mounted:`?${h}`,tooltip:`?${c}|${d}`,width:`?${d}`,selector:`?${u}`,onSelect:`?${h}`,switch:`?${l}`,onSwitch:`?${h}`,range:`?${u}`,onRange:`?${h}`,onChange:`?${h}`};s.default={id:c,container:p,url:c,poster:c,type:c,theme:c,lang:c,volume:d,isLive:l,muted:l,autoplay:l,autoSize:l,autoMini:l,loop:l,flip:l,playbackRate:l,aspectRatio:l,screenshot:l,setting:l,hotkey:l,pip:l,mutex:l,backdrop:l,fullscreen:l,fullscreenWeb:l,subtitleOffset:l,miniProgressBar:l,useSSR:l,playsInline:l,lock:l,gesture:l,fastForward:l,autoPlayback:l,autoOrientation:l,airplay:l,proxy:`?${h}`,plugins:[h],layers:[g],contextmenu:[g],settings:[g],controls:[{...g,position:(v,y,_)=>{let b=["top","left","right"];return(0,a.errorHandle)(b.includes(v),`${_.join(".")} only accept ${b.toString()} as parameters`)}}],quality:[{default:`?${l}`,html:c,url:c}],highlight:[{time:d,text:c}],thumbnails:{url:c,number:d,column:d,width:d,height:d,scale:d},subtitle:{url:c,name:c,type:c,style:f,escape:l,encoding:c,onVttLoad:h},moreVideoAttr:f,i18n:f,icons:f,cssVar:f,customType:f}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],lyjeQ:[function(n,r,s,o){n("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s),s.default={propertys:["audioTracks","autoplay","buffered","controller","controls","crossOrigin","currentSrc","currentTime","defaultMuted","defaultPlaybackRate","duration","ended","error","loop","mediaGroup","muted","networkState","paused","playbackRate","played","preload","readyState","seekable","seeking","src","startDate","textTracks","videoTracks","volume"],methods:["addTextTrack","canPlayType","load","play","pause"],events:["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],prototypes:["width","height","videoWidth","videoHeight","poster","webkitDecodedFrameCount","webkitDroppedFrameCount","playsInline","webkitSupportsFullscreen","webkitDisplayingFullscreen","onenterpictureinpicture","onleavepictureinpicture","disablePictureInPicture","cancelVideoFrameCallback","requestVideoFrameCallback","getVideoPlaybackQuality","requestPictureInPicture","webkitEnterFullScreen","webkitEnterFullscreen","webkitExitFullScreen","webkitExitFullscreen"]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],X13Zf:[function(n,r,s,o){n("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var i=n("./utils");class a{constructor(l){this.art=l;let{option:c,constructor:d}=l;c.container instanceof Element?this.$container=c.container:(this.$container=(0,i.query)(c.container),(0,i.errorHandle)(this.$container,`No container element found by ${c.container}`)),(0,i.errorHandle)((0,i.supportsFlex)(),"The current browser does not support flex layout");let f=this.$container.tagName.toLowerCase();(0,i.errorHandle)(f==="div",`Unsupported container element type, only support 'div' but got '${f}'`),(0,i.errorHandle)(d.instances.every(h=>h.template.$container!==this.$container),"Cannot mount multiple instances on the same dom element"),this.query=this.query.bind(this),this.$container.dataset.artId=l.id,this.init()}static get html(){return'<div class="art-video-player art-subtitle-show art-layer-show art-control-show art-mask-show"><video class="art-video"><track default kind="metadata" src=""></track></video><div class="art-poster"></div><div class="art-subtitle"></div><div class="art-danmuku"></div><div class="art-layers"></div><div class="art-mask"><div class="art-state"></div></div><div class="art-bottom"><div class="art-progress"></div><div class="art-controls"><div class="art-controls-left"></div><div class="art-controls-center"></div><div class="art-controls-right"></div></div></div><div class="art-loading"></div><div class="art-notice"><div class="art-notice-inner"></div></div><div class="art-settings"></div><div class="art-info"><div class="art-info-panel"><div class="art-info-item"><div class="art-info-title">Player version:</div><div class="art-info-content">5.2.3</div></div><div class="art-info-item"><div class="art-info-title">Video url:</div><div class="art-info-content" data-video="src"></div></div><div class="art-info-item"><div class="art-info-title">Video volume:</div><div class="art-info-content" data-video="volume"></div></div><div class="art-info-item"><div class="art-info-title">Video time:</div><div class="art-info-content" data-video="currentTime"></div></div><div class="art-info-item"><div class="art-info-title">Video duration:</div><div class="art-info-content" data-video="duration"></div></div><div class="art-info-item"><div class="art-info-title">Video resolution:</div><div class="art-info-content"><span data-video="videoWidth"></span>x<span data-video="videoHeight"></span></div></div></div><div class="art-info-close">[x]</div></div><div class="art-contextmenus"></div></div>'}query(l){return(0,i.query)(l,this.$container)}init(){let{option:l}=this.art;if(l.useSSR||(this.$container.innerHTML=a.html),this.$player=this.query(".art-video-player"),this.$video=this.query(".art-video"),this.$track=this.query("track"),this.$poster=this.query(".art-poster"),this.$subtitle=this.query(".art-subtitle"),this.$danmuku=this.query(".art-danmuku"),this.$bottom=this.query(".art-bottom"),this.$progress=this.query(".art-progress"),this.$controls=this.query(".art-controls"),this.$controlsLeft=this.query(".art-controls-left"),this.$controlsCenter=this.query(".art-controls-center"),this.$controlsRight=this.query(".art-controls-right"),this.$layer=this.query(".art-layers"),this.$loading=this.query(".art-loading"),this.$notice=this.query(".art-notice"),this.$noticeInner=this.query(".art-notice-inner"),this.$mask=this.query(".art-mask"),this.$state=this.query(".art-state"),this.$setting=this.query(".art-settings"),this.$info=this.query(".art-info"),this.$infoPanel=this.query(".art-info-panel"),this.$infoClose=this.query(".art-info-close"),this.$contextmenu=this.query(".art-contextmenus"),l.proxy){let c=l.proxy.call(this.art,this.art);(0,i.errorHandle)(c instanceof HTMLVideoElement||c instanceof HTMLCanvasElement,"Function 'option.proxy' needs to return 'HTMLVideoElement' or 'HTMLCanvasElement'"),(0,i.replaceElement)(c,this.$video),c.className="art-video",this.$video=c}l.backdrop&&(0,i.addClass)(this.$player,"art-backdrop"),i.isMobile&&(0,i.addClass)(this.$player,"art-mobile")}destroy(l){this.$video.src="",l?this.$container.innerHTML="":(0,i.addClass)(this.$player,"art-destroy")}}s.default=a},{"./utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"3jKkj":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=n("../utils"),u=n("./zh-cn"),l=i.interopDefault(u);s.default=class{constructor(c){this.art=c,this.languages={"zh-cn":l.default},this.language={},this.update(c.option.i18n)}init(){let c=this.art.option.lang.toLowerCase();this.language=this.languages[c]||{}}get(c){return this.language[c]||c}update(c){this.languages=(0,a.mergeDeep)(this.languages,c),this.init()}}},{"../utils":"71aH7","./zh-cn":"5Y91w","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5Y91w":[function(n,r,s,o){n("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);let i={"Video Info":"统计信息",Close:"关闭","Video Load Failed":"加载失败",Volume:"音量",Play:"播放",Pause:"暂停",Rate:"速度",Mute:"静音","Video Flip":"画面翻转",Horizontal:"水平",Vertical:"垂直",Reconnect:"重新连接","Show Setting":"显示设置","Hide Setting":"隐藏设置",Screenshot:"截图","Play Speed":"播放速度","Aspect Ratio":"画面比例",Default:"默认",Normal:"正常",Open:"打开","Switch Video":"切换","Switch Subtitle":"切换字幕",Fullscreen:"全屏","Exit Fullscreen":"退出全屏","Web Fullscreen":"网页全屏","Exit Web Fullscreen":"退出网页全屏","Mini Player":"迷你播放器","PIP Mode":"开启画中画","Exit PIP Mode":"退出画中画","PIP Not Supported":"不支持画中画","Fullscreen Not Supported":"不支持全屏","Subtitle Offset":"字幕偏移","Last Seen":"上次看到","Jump Play":"跳转播放",AirPlay:"隔空播放","AirPlay Not Available":"隔空播放不可用"};s.default=i,typeof window<"u"&&(window["artplayer-i18n-zh-cn"]=i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],a90nx:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=n("./urlMix"),u=i.interopDefault(a),l=n("./attrMix"),c=i.interopDefault(l),d=n("./playMix"),f=i.interopDefault(d),h=n("./pauseMix"),p=i.interopDefault(h),g=n("./toggleMix"),v=i.interopDefault(g),y=n("./seekMix"),_=i.interopDefault(y),b=n("./volumeMix"),w=i.interopDefault(b),S=n("./currentTimeMix"),E=i.interopDefault(S),T=n("./durationMix"),I=i.interopDefault(T),k=n("./switchMix"),C=i.interopDefault(k),N=n("./playbackRateMix"),D=i.interopDefault(N),W=n("./aspectRatioMix"),H=i.interopDefault(W),V=n("./screenshotMix"),R=i.interopDefault(V),z=n("./fullscreenMix"),M=i.interopDefault(z),B=n("./fullscreenWebMix"),j=i.interopDefault(B),X=n("./pipMix"),se=i.interopDefault(X),te=n("./loadedMix"),ie=i.interopDefault(te),fe=n("./playedMix"),ue=i.interopDefault(fe),J=n("./playingMix"),de=i.interopDefault(J),ae=n("./autoSizeMix"),Ae=i.interopDefault(ae),Re=n("./rectMix"),pe=i.interopDefault(Re),ne=n("./flipMix"),le=i.interopDefault(ne),Se=n("./miniMix"),Ce=i.interopDefault(Se),Ee=n("./posterMix"),we=i.interopDefault(Ee),Le=n("./autoHeightMix"),Be=i.interopDefault(Le),Ue=n("./cssVarMix"),je=i.interopDefault(Ue),at=n("./themeMix"),Ie=i.interopDefault(at),Ze=n("./typeMix"),mt=i.interopDefault(Ze),Pt=n("./stateMix"),Vt=i.interopDefault(Pt),Ht=n("./subtitleOffsetMix"),Jt=i.interopDefault(Ht),fn=n("./airplayMix"),wt=i.interopDefault(fn),Mt=n("./qualityMix"),he=i.interopDefault(Mt),_e=n("./thumbnailsMix"),re=i.interopDefault(_e),$e=n("./optionInit"),Et=i.interopDefault($e),Rt=n("./eventInit"),ft=i.interopDefault(Rt);s.default=class{constructor(sn){(0,u.default)(sn),(0,c.default)(sn),(0,f.default)(sn),(0,p.default)(sn),(0,v.default)(sn),(0,_.default)(sn),(0,w.default)(sn),(0,E.default)(sn),(0,I.default)(sn),(0,C.default)(sn),(0,D.default)(sn),(0,H.default)(sn),(0,R.default)(sn),(0,M.default)(sn),(0,j.default)(sn),(0,se.default)(sn),(0,ie.default)(sn),(0,ue.default)(sn),(0,de.default)(sn),(0,Ae.default)(sn),(0,pe.default)(sn),(0,le.default)(sn),(0,Ce.default)(sn),(0,we.default)(sn),(0,Be.default)(sn),(0,je.default)(sn),(0,Ie.default)(sn),(0,mt.default)(sn),(0,Vt.default)(sn),(0,Jt.default)(sn),(0,wt.default)(sn),(0,he.default)(sn),(0,re.default)(sn),(0,ft.default)(sn),(0,Et.default)(sn)}}},{"./urlMix":"kQoac","./attrMix":"deCma","./playMix":"fOJuP","./pauseMix":"fzHAy","./toggleMix":"cBHxQ","./seekMix":"koAPr","./volumeMix":"6eyuR","./currentTimeMix":"faaWv","./durationMix":"5y91K","./switchMix":"iceD8","./playbackRateMix":"keKwh","./aspectRatioMix":"jihET","./screenshotMix":"36kPY","./fullscreenMix":"2GYOJ","./fullscreenWebMix":"5aYAP","./pipMix":"7EnIB","./loadedMix":"3N9mP","./playedMix":"et96R","./playingMix":"9DzzM","./autoSizeMix":"i1LDY","./rectMix":"IqARI","./flipMix":"7E7Vs","./miniMix":"gpugx","./posterMix":"1SuFS","./autoHeightMix":"8x4te","./cssVarMix":"1CaTA","./themeMix":"2FqhO","./typeMix":"1fQQs","./stateMix":"iBOQW","./subtitleOffsetMix":"6vlBV","./airplayMix":"eftqT","./qualityMix":"5SdyX","./thumbnailsMix":"4HcqV","./optionInit":"fCWZK","./eventInit":"f8Lv3","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kQoac:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{option:c,template:{$video:d}}=l;(0,a.def)(l,"url",{get:()=>d.src,async set(f){if(f){let h=l.url,p=c.type||(0,a.getExt)(f),g=c.customType[p];p&&g?(await(0,a.sleep)(),l.loading.show=!0,g.call(l,d,f,l)):(URL.revokeObjectURL(h),d.src=f),h!==l.url&&(l.option.url=f,l.isReady&&h&&l.once("video:canplay",()=>{l.emit("restart",f)}))}else await(0,a.sleep)(),l.loading.show=!0}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],deCma:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{template:{$video:c}}=l;(0,a.def)(l,"attr",{value(d,f){if(f===void 0)return c[d];c[d]=f}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fOJuP:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{i18n:c,notice:d,option:f,constructor:{instances:h},template:{$video:p}}=l;(0,a.def)(l,"play",{value:async function(){let g=await p.play();if(d.show=c.get("Play"),l.emit("play"),f.mutex)for(let v=0;v<h.length;v++){let y=h[v];y!==l&&y.pause()}return g}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fzHAy:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{template:{$video:c},i18n:d,notice:f}=l;(0,a.def)(l,"pause",{value(){let h=c.pause();return f.show=d.get("Pause"),l.emit("pause"),h}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],cBHxQ:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){(0,a.def)(l,"toggle",{value:()=>l.playing?l.pause():l.play()})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],koAPr:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{notice:c}=l;(0,a.def)(l,"seek",{set(d){l.currentTime=d,l.duration&&(c.show=`${(0,a.secondToTime)(l.currentTime)} / ${(0,a.secondToTime)(l.duration)}`),l.emit("seek",l.currentTime)}}),(0,a.def)(l,"forward",{set(d){l.seek=l.currentTime+d}}),(0,a.def)(l,"backward",{set(d){l.seek=l.currentTime-d}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6eyuR":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{template:{$video:c},i18n:d,notice:f,storage:h}=l;(0,a.def)(l,"volume",{get:()=>c.volume||0,set:p=>{c.volume=(0,a.clamp)(p,0,1),f.show=`${d.get("Volume")}: ${parseInt(100*c.volume,10)}`,c.volume!==0&&h.set("volume",c.volume)}}),(0,a.def)(l,"muted",{get:()=>c.muted,set:p=>{c.muted=p,l.emit("muted",p)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],faaWv:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{$video:c}=l.template;(0,a.def)(l,"currentTime",{get:()=>c.currentTime||0,set:d=>{Number.isNaN(d=parseFloat(d))||(c.currentTime=(0,a.clamp)(d,0,l.duration))}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5y91K":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){(0,a.def)(l,"duration",{get:()=>{let{duration:c}=l.template.$video;return c===1/0?0:c||0}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],iceD8:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){function c(d,f){return new Promise((h,p)=>{if(d===l.url)return;let{playing:g,aspectRatio:v,playbackRate:y}=l;l.pause(),l.url=d,l.notice.show="",l.once("video:error",p),l.once("video:loadedmetadata",()=>{l.currentTime=f}),l.once("video:canplay",async()=>{l.playbackRate=y,l.aspectRatio=v,g&&await l.play(),l.notice.show="",h()})})}(0,a.def)(l,"switchQuality",{value:d=>c(d,l.currentTime)}),(0,a.def)(l,"switchUrl",{value:d=>c(d,0)}),(0,a.def)(l,"switch",{set:l.switchUrl})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],keKwh:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{template:{$video:c},i18n:d,notice:f}=l;(0,a.def)(l,"playbackRate",{get:()=>c.playbackRate,set(h){h?h!==c.playbackRate&&(c.playbackRate=h,f.show=`${d.get("Rate")}: ${h===1?d.get("Normal"):`${h}x`}`):l.playbackRate=1}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],jihET:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{i18n:c,notice:d,template:{$video:f,$player:h}}=l;(0,a.def)(l,"aspectRatio",{get:()=>h.dataset.aspectRatio||"default",set(p){if(p||(p="default"),p==="default")(0,a.setStyle)(f,"width",null),(0,a.setStyle)(f,"height",null),(0,a.setStyle)(f,"margin",null),delete h.dataset.aspectRatio;else{let g=p.split(":").map(Number),{clientWidth:v,clientHeight:y}=h,_=g[0]/g[1];v/y>_?((0,a.setStyle)(f,"width",`${_*y}px`),(0,a.setStyle)(f,"height","100%"),(0,a.setStyle)(f,"margin","0 auto")):((0,a.setStyle)(f,"width","100%"),(0,a.setStyle)(f,"height",`${v/_}px`),(0,a.setStyle)(f,"margin","auto 0")),h.dataset.aspectRatio=p}d.show=`${c.get("Aspect Ratio")}: ${p==="default"?c.get("Default"):p}`,l.emit("aspectRatio",p)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"36kPY":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{notice:c,template:{$video:d}}=l,f=(0,a.createElement)("canvas");(0,a.def)(l,"getDataURL",{value:()=>new Promise((h,p)=>{try{f.width=d.videoWidth,f.height=d.videoHeight,f.getContext("2d").drawImage(d,0,0),h(f.toDataURL("image/png"))}catch(g){c.show=g,p(g)}})}),(0,a.def)(l,"getBlobUrl",{value:()=>new Promise((h,p)=>{try{f.width=d.videoWidth,f.height=d.videoHeight,f.getContext("2d").drawImage(d,0,0),f.toBlob(g=>{h(URL.createObjectURL(g))})}catch(g){c.show=g,p(g)}})}),(0,a.def)(l,"screenshot",{value:async h=>{let p=await l.getDataURL(),g=h||`artplayer_${(0,a.secondToTime)(d.currentTime)}`;return(0,a.download)(p,`${g}.png`),l.emit("screenshot",p),p}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2GYOJ":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>c);var a=n("../libs/screenfull"),u=i.interopDefault(a),l=n("../utils");function c(d){let{i18n:f,notice:h,template:{$video:p,$player:g}}=d,v=_=>{u.default.on("change",()=>{_.emit("fullscreen",u.default.isFullscreen),u.default.isFullscreen?(_.state="fullscreen",(0,l.addClass)(g,"art-fullscreen")):(0,l.removeClass)(g,"art-fullscreen"),_.emit("resize")}),u.default.on("error",b=>{_.emit("fullscreenError",b)}),(0,l.def)(_,"fullscreen",{get:()=>u.default.isFullscreen,async set(b){b?await u.default.request(g):await u.default.exit()}})},y=_=>{_.proxy(document,"webkitfullscreenchange",()=>{_.emit("fullscreen",_.fullscreen),_.emit("resize")}),(0,l.def)(_,"fullscreen",{get:()=>document.fullscreenElement===p,set(b){b?(_.state="fullscreen",p.webkitEnterFullscreen()):p.webkitExitFullscreen()}})};d.once("video:loadedmetadata",()=>{u.default.isEnabled?v(d):p.webkitSupportsFullscreen?y(d):(0,l.def)(d,"fullscreen",{get:()=>!1,set(){h.show=f.get("Fullscreen Not Supported")}}),(0,l.def)(d,"fullscreen",(0,l.get)(d,"fullscreen"))})}},{"../libs/screenfull":"8v40z","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8v40z":[function(n,r,s,o){n("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);let i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],a=(()=>{if(typeof document>"u")return!1;let c=i[0],d={};for(let f of i)if(f[1]in document){for(let[h,p]of f.entries())d[c[h]]=p;return d}return!1})(),u={change:a.fullscreenchange,error:a.fullscreenerror},l={request:(c=document.documentElement,d)=>new Promise((f,h)=>{let p=()=>{l.off("change",p),f()};l.on("change",p);let g=c[a.requestFullscreen](d);g instanceof Promise&&g.then(p).catch(h)}),exit:()=>new Promise((c,d)=>{if(!l.isFullscreen)return void c();let f=()=>{l.off("change",f),c()};l.on("change",f);let h=document[a.exitFullscreen]();h instanceof Promise&&h.then(f).catch(d)}),toggle:(c,d)=>l.isFullscreen?l.exit():l.request(c,d),onchange(c){l.on("change",c)},onerror(c){l.on("error",c)},on(c,d){let f=u[c];f&&document.addEventListener(f,d,!1)},off(c,d){let f=u[c];f&&document.removeEventListener(f,d,!1)},raw:a};Object.defineProperties(l,{isFullscreen:{get:()=>!!document[a.fullscreenElement]},element:{enumerable:!0,get:()=>document[a.fullscreenElement]},isEnabled:{enumerable:!0,get:()=>!!document[a.fullscreenEnabled]}}),a||(l={isEnabled:!1}),s.default=l},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5aYAP":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{constructor:c,template:{$container:d,$player:f}}=l,h="";(0,a.def)(l,"fullscreenWeb",{get:()=>(0,a.hasClass)(f,"art-fullscreen-web"),set(p){p?(h=f.style.cssText,c.FULLSCREEN_WEB_IN_BODY&&(0,a.append)(document.body,f),l.state="fullscreenWeb",(0,a.setStyle)(f,"width","100%"),(0,a.setStyle)(f,"height","100%"),(0,a.addClass)(f,"art-fullscreen-web"),l.emit("fullscreenWeb",!0)):(c.FULLSCREEN_WEB_IN_BODY&&(0,a.append)(d,f),h&&(f.style.cssText=h,h=""),(0,a.removeClass)(f,"art-fullscreen-web"),l.emit("fullscreenWeb",!1)),l.emit("resize")}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"7EnIB":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{i18n:c,notice:d,template:{$video:f}}=l;if(document.pictureInPictureEnabled){let{template:{$video:h},proxy:p,notice:g}=l;h.disablePictureInPicture=!1,(0,a.def)(l,"pip",{get:()=>document.pictureInPictureElement,set(v){v?(l.state="pip",h.requestPictureInPicture().catch(y=>{throw g.show=y,y})):document.exitPictureInPicture().catch(y=>{throw g.show=y,y})}}),p(h,"enterpictureinpicture",()=>{l.emit("pip",!0)}),p(h,"leavepictureinpicture",()=>{l.emit("pip",!1)})}else if(f.webkitSupportsPresentationMode){let{$video:h}=l.template;h.webkitSetPresentationMode("inline"),(0,a.def)(l,"pip",{get:()=>h.webkitPresentationMode==="picture-in-picture",set(p){p?(l.state="pip",h.webkitSetPresentationMode("picture-in-picture"),l.emit("pip",!0)):(h.webkitSetPresentationMode("inline"),l.emit("pip",!1))}})}else(0,a.def)(l,"pip",{get:()=>!1,set(){d.show=c.get("PIP Not Supported")}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"3N9mP":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{$video:c}=l.template;(0,a.def)(l,"loaded",{get:()=>l.loadedTime/c.duration}),(0,a.def)(l,"loadedTime",{get:()=>c.buffered.length?c.buffered.end(c.buffered.length-1):0})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],et96R:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){(0,a.def)(l,"played",{get:()=>l.currentTime/l.duration})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"9DzzM":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{$video:c}=l.template;(0,a.def)(l,"playing",{get:()=>typeof c.playing=="boolean"?c.playing:c.currentTime>0&&!c.paused&&!c.ended&&c.readyState>2})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],i1LDY:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{$container:c,$player:d,$video:f}=l.template;(0,a.def)(l,"autoSize",{value(){let{videoWidth:h,videoHeight:p}=f,{width:g,height:v}=(0,a.getRect)(c),y=h/p;g/v>y?((0,a.setStyle)(d,"width",`${v*y/g*100}%`),(0,a.setStyle)(d,"height","100%")):((0,a.setStyle)(d,"width","100%"),(0,a.setStyle)(d,"height",`${g/y/v*100}%`)),l.emit("autoSize",{width:l.width,height:l.height})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],IqARI:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){(0,a.def)(l,"rect",{get:()=>(0,a.getRect)(l.template.$player)});let c=["bottom","height","left","right","top","width"];for(let d=0;d<c.length;d++){let f=c[d];(0,a.def)(l,f,{get:()=>l.rect[f]})}(0,a.def)(l,"x",{get:()=>l.left+window.pageXOffset}),(0,a.def)(l,"y",{get:()=>l.top+window.pageYOffset})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"7E7Vs":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{template:{$player:c},i18n:d,notice:f}=l;(0,a.def)(l,"flip",{get:()=>c.dataset.flip||"normal",set(h){h||(h="normal"),h==="normal"?delete c.dataset.flip:c.dataset.flip=h,f.show=`${d.get("Video Flip")}: ${d.get((0,a.capitalize)(h))}`,l.emit("flip",h)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],gpugx:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{icons:c,proxy:d,storage:f,template:{$player:h,$video:p}}=l,g=!1,v=0,y=0;function _(){let{$mini:S}=l.template;S&&((0,a.removeClass)(h,"art-mini"),(0,a.setStyle)(S,"display","none"),h.prepend(p),l.emit("mini",!1))}function b(S,E){l.playing?((0,a.setStyle)(S,"display","none"),(0,a.setStyle)(E,"display","flex")):((0,a.setStyle)(S,"display","flex"),(0,a.setStyle)(E,"display","none"))}function w(){let{$mini:S}=l.template,E=(0,a.getRect)(S),T=window.innerHeight-E.height-50,I=window.innerWidth-E.width-50;f.set("top",T),f.set("left",I),(0,a.setStyle)(S,"top",`${T}px`),(0,a.setStyle)(S,"left",`${I}px`)}(0,a.def)(l,"mini",{get:()=>(0,a.hasClass)(h,"art-mini"),set(S){if(S){l.state="mini",(0,a.addClass)(h,"art-mini");let E=function(){let{$mini:k}=l.template;if(k)return(0,a.append)(k,p),(0,a.setStyle)(k,"display","flex");{let C=(0,a.createElement)("div");(0,a.addClass)(C,"art-mini-popup"),(0,a.append)(document.body,C),l.template.$mini=C,(0,a.append)(C,p);let N=(0,a.append)(C,'<div class="art-mini-close"></div>');(0,a.append)(N,c.close),d(N,"click",_);let D=(0,a.append)(C,'<div class="art-mini-state"></div>'),W=(0,a.append)(D,c.play),H=(0,a.append)(D,c.pause);return d(W,"click",()=>l.play()),d(H,"click",()=>l.pause()),b(W,H),l.on("video:playing",()=>b(W,H)),l.on("video:pause",()=>b(W,H)),l.on("video:timeupdate",()=>b(W,H)),d(C,"mousedown",V=>{g=V.button===0,v=V.pageX,y=V.pageY}),l.on("document:mousemove",V=>{if(g){(0,a.addClass)(C,"art-mini-droging");let R=V.pageX-v,z=V.pageY-y;(0,a.setStyle)(C,"transform",`translate(${R}px, ${z}px)`)}}),l.on("document:mouseup",()=>{if(g){g=!1,(0,a.removeClass)(C,"art-mini-droging");let V=(0,a.getRect)(C);f.set("left",V.left),f.set("top",V.top),(0,a.setStyle)(C,"left",`${V.left}px`),(0,a.setStyle)(C,"top",`${V.top}px`),(0,a.setStyle)(C,"transform",null)}}),C}}(),T=f.get("top"),I=f.get("left");T&&I?((0,a.setStyle)(E,"top",`${T}px`),(0,a.setStyle)(E,"left",`${I}px`),(0,a.isInViewport)(E)||w()):w(),l.emit("mini",!0)}else _()}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1SuFS":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{template:{$poster:c}}=l;(0,a.def)(l,"poster",{get:()=>{try{return c.style.backgroundImage.match(/"(.*)"/)[1]}catch{return""}},set(d){(0,a.setStyle)(c,"backgroundImage",`url(${d})`)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8x4te":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{template:{$container:c,$video:d}}=l;(0,a.def)(l,"autoHeight",{value(){let{clientWidth:f}=c,{videoHeight:h,videoWidth:p}=d,g=f/p*h;(0,a.setStyle)(c,"height",g+"px"),l.emit("autoHeight",g)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1CaTA":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{$player:c}=l.template;(0,a.def)(l,"cssVar",{value:(d,f)=>f?c.style.setProperty(d,f):getComputedStyle(c).getPropertyValue(d)})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2FqhO":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){(0,a.def)(l,"theme",{get:()=>l.cssVar("--art-theme"),set(c){l.cssVar("--art-theme",c)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1fQQs":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){(0,a.def)(l,"type",{get:()=>l.option.type,set(c){l.option.type=c}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],iBOQW:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let c=["mini","pip","fullscreen","fullscreenWeb"];(0,a.def)(l,"state",{get:()=>c.find(d=>l[d])||"standard",set(d){for(let f=0;f<c.length;f++){let h=c[f];h!==d&&l[h]&&(l[h]=!1)}}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6vlBV":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{notice:c,i18n:d,template:f}=l;(0,a.def)(l,"subtitleOffset",{get:()=>{var h;return((h=f.$track)==null?void 0:h.offset)||0},set(h){let{cues:p}=l.subtitle;if(!f.$track||p.length===0)return;let g=(0,a.clamp)(h,-10,10);f.$track.offset=g;for(let v=0;v<p.length;v++){let y=p[v];y.originalStartTime=y.originalStartTime??y.startTime,y.originalEndTime=y.originalEndTime??y.endTime,y.startTime=(0,a.clamp)(y.originalStartTime+g,0,l.duration),y.endTime=(0,a.clamp)(y.originalEndTime+g,0,l.duration)}l.subtitle.update(),c.show=`${d.get("Subtitle Offset")}: ${h}s`,l.emit("subtitleOffset",h)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eftqT:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{i18n:c,notice:d,proxy:f,template:{$video:h}}=l,p=!0;window.WebKitPlaybackTargetAvailabilityEvent&&h.webkitShowPlaybackTargetPicker?f(h,"webkitplaybacktargetavailabilitychanged",g=>{switch(g.availability){case"available":p=!0;break;case"not-available":p=!1}}):p=!1,(0,a.def)(l,"airplay",{value(){p?(h.webkitShowPlaybackTargetPicker(),l.emit("airplay")):d.show=c.get("AirPlay Not Available")}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5SdyX":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){(0,a.def)(l,"quality",{set(c){let{controls:d,notice:f,i18n:h}=l,p=c.find(g=>g.default)||c[0];d.update({name:"quality",position:"right",index:10,style:{marginRight:"10px"},html:(p==null?void 0:p.html)||"",selector:c,onSelect:async g=>(await l.switchQuality(g.url),f.show=`${h.get("Switch Video")}: ${g.html}`,g.html)})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4HcqV":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{events:c,option:d,template:{$progress:f,$video:h}}=l,p=null,g=null,v=!1,y=!1,_=!1;c.hover(f,()=>{_=!0},()=>{_=!1}),l.on("setBar",async(b,w,S)=>{var C;let E=(C=l.controls)==null?void 0:C.thumbnails,{url:T,scale:I}=d.thumbnails;if(!E||!T)return;let k=b==="played"&&S&&a.isMobile;if(b==="hover"||k){if(v||(v=!0,g=await(0,a.loadImg)(T,I),y=!0),!y||!_)return;let N=f.clientWidth*w;(0,a.setStyle)(E,"display","flex"),N>0&&N<f.clientWidth?function(D){var te;let W=(te=l.controls)==null?void 0:te.thumbnails;if(!W)return;let{number:H,column:V,width:R,height:z,scale:M}=d.thumbnails,B=R*M||g.naturalWidth/V,j=z*M||B/(h.videoWidth/h.videoHeight),X=Math.floor(D/(f.clientWidth/H)),se=Math.ceil(X/V)-1;(0,a.setStyle)(W,"backgroundImage",`url(${g.src})`),(0,a.setStyle)(W,"height",`${j}px`),(0,a.setStyle)(W,"width",`${B}px`),(0,a.setStyle)(W,"backgroundPosition",`-${(X%V||V-1)*B}px -${se*j}px`),D<=B/2?(0,a.setStyle)(W,"left",0):D>f.clientWidth-B/2?(0,a.setStyle)(W,"left",`${f.clientWidth-B}px`):(0,a.setStyle)(W,"left",`${D-B/2}px`)}(N):a.isMobile||(0,a.setStyle)(E,"display","none"),k&&(clearTimeout(p),p=setTimeout(()=>{(0,a.setStyle)(E,"display","none")},500))}}),(0,a.def)(l,"thumbnails",{get:()=>l.option.thumbnails,set(b){b.url&&!l.option.isLive&&(l.option.thumbnails=b,clearTimeout(p),p=null,g=null,v=!1,y=!1)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fCWZK:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{option:c,storage:d,template:{$video:f,$poster:h}}=l;for(let g in c.moreVideoAttr)l.attr(g,c.moreVideoAttr[g]);c.muted&&(l.muted=c.muted),c.volume&&(f.volume=(0,a.clamp)(c.volume,0,1));let p=d.get("volume");for(let g in typeof p=="number"&&(f.volume=(0,a.clamp)(p,0,1)),c.poster&&(0,a.setStyle)(h,"backgroundImage",`url(${c.poster})`),c.autoplay&&(f.autoplay=c.autoplay),c.playsInline&&(f.playsInline=!0,f["webkit-playsinline"]=!0),c.theme&&(c.cssVar["--art-theme"]=c.theme),c.cssVar)l.cssVar(g,c.cssVar[g]);l.url=c.url}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],f8Lv3:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>c);var a=n("../config"),u=i.interopDefault(a),l=n("../utils");function c(d){let{i18n:f,notice:h,option:p,constructor:g,proxy:v,template:{$player:y,$video:_,$poster:b}}=d,w=0;for(let S=0;S<u.default.events.length;S++)v(_,u.default.events[S],E=>{d.emit(`video:${E.type}`,E)});d.on("video:canplay",()=>{w=0,d.loading.show=!1}),d.once("video:canplay",()=>{d.loading.show=!1,d.controls.show=!0,d.mask.show=!0,d.isReady=!0,d.emit("ready")}),d.on("video:ended",()=>{p.loop?(d.seek=0,d.play(),d.controls.show=!1,d.mask.show=!1):(d.controls.show=!0,d.mask.show=!0)}),d.on("video:error",async S=>{w<g.RECONNECT_TIME_MAX?(await(0,l.sleep)(g.RECONNECT_SLEEP_TIME),w+=1,d.url=p.url,h.show=`${f.get("Reconnect")}: ${w}`,d.emit("error",S,w)):(d.mask.show=!0,d.loading.show=!1,d.controls.show=!0,(0,l.addClass)(y,"art-error"),await(0,l.sleep)(g.RECONNECT_SLEEP_TIME),h.show=f.get("Video Load Failed"))}),d.on("video:loadedmetadata",()=>{d.emit("resize"),l.isMobile&&(d.loading.show=!1,d.controls.show=!0,d.mask.show=!0)}),d.on("video:loadstart",()=>{d.loading.show=!0,d.mask.show=!1,d.controls.show=!0}),d.on("video:pause",()=>{d.controls.show=!0,d.mask.show=!0}),d.on("video:play",()=>{d.mask.show=!1,(0,l.setStyle)(b,"display","none")}),d.on("video:playing",()=>{d.mask.show=!1}),d.on("video:progress",()=>{d.playing&&(d.loading.show=!1)}),d.on("video:seeked",()=>{d.loading.show=!1,d.mask.show=!0}),d.on("video:seeking",()=>{d.loading.show=!0,d.mask.show=!1}),d.on("video:timeupdate",()=>{d.mask.show=!1}),d.on("video:waiting",()=>{d.loading.show=!0,d.mask.show=!1})}},{"../config":"lyjeQ","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8Z0Uf":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=n("../utils/component"),u=i.interopDefault(a),l=n("./fullscreen"),c=i.interopDefault(l),d=n("./fullscreenWeb"),f=i.interopDefault(d),h=n("./pip"),p=i.interopDefault(h),g=n("./playAndPause"),v=i.interopDefault(g),y=n("./progress"),_=i.interopDefault(y),b=n("./time"),w=i.interopDefault(b),S=n("./volume"),E=i.interopDefault(S),T=n("./setting"),I=i.interopDefault(T),k=n("./screenshot"),C=i.interopDefault(k),N=n("./airplay"),D=i.interopDefault(N),W=n("../utils");class H extends u.default{constructor(R){super(R),this.isHover=!1,this.name="control",this.timer=Date.now();let{constructor:z}=R,{$player:M,$bottom:B}=this.art.template;R.on("mousemove",()=>{W.isMobile||(this.show=!0)}),R.on("click",()=>{W.isMobile?this.toggle():this.show=!0}),R.on("document:mousemove",j=>{this.isHover=(0,W.includeFromEvent)(j,B)}),R.on("video:timeupdate",()=>{!R.setting.show&&!this.isHover&&!R.isInput&&R.playing&&this.show&&Date.now()-this.timer>=z.CONTROL_HIDE_TIME&&(this.show=!1)}),R.on("control",j=>{j?((0,W.removeClass)(M,"art-hide-cursor"),(0,W.addClass)(M,"art-hover"),this.timer=Date.now()):((0,W.addClass)(M,"art-hide-cursor"),(0,W.removeClass)(M,"art-hover"))}),this.init()}init(){let{option:R}=this.art;R.isLive||this.add((0,_.default)({name:"progress",position:"top",index:10})),this.add({name:"thumbnails",position:"top",index:20}),this.add((0,v.default)({name:"playAndPause",position:"left",index:10})),this.add((0,E.default)({name:"volume",position:"left",index:20})),R.isLive||this.add((0,w.default)({name:"time",position:"left",index:30})),R.quality.length&&(0,W.sleep)().then(()=>{this.art.quality=R.quality}),R.screenshot&&!W.isMobile&&this.add((0,C.default)({name:"screenshot",position:"right",index:20})),R.setting&&this.add((0,I.default)({name:"setting",position:"right",index:30})),R.pip&&this.add((0,p.default)({name:"pip",position:"right",index:40})),R.airplay&&window.WebKitPlaybackTargetAvailabilityEvent&&this.add((0,D.default)({name:"airplay",position:"right",index:50})),R.fullscreenWeb&&this.add((0,f.default)({name:"fullscreenWeb",position:"right",index:60})),R.fullscreen&&this.add((0,c.default)({name:"fullscreen",position:"right",index:70}));for(let z=0;z<R.controls.length;z++)this.add(R.controls[z])}add(R){let z=typeof R=="function"?R(this.art):R,{$progress:M,$controlsLeft:B,$controlsRight:j}=this.art.template;switch(z.position){case"top":this.$parent=M;break;case"left":this.$parent=B;break;case"right":this.$parent=j;break;default:(0,W.errorHandle)(!1,"Control option.position must one of 'top', 'left', 'right'")}super.add(z)}check(R){R.$control_value.innerHTML=R.html;for(let z=0;z<R.$control_option.length;z++){let M=R.$control_option[z];M.default=M===R,M.default&&(0,W.inverseClass)(M.$control_item,"art-current")}}selector(R,z,M){let{proxy:B}=this.art.events;(0,W.addClass)(z,"art-control-selector");let j=(0,W.createElement)("div");(0,W.addClass)(j,"art-selector-value"),(0,W.append)(j,R.html),z.innerText="",(0,W.append)(z,j);let X=(0,W.createElement)("div");(0,W.addClass)(X,"art-selector-list"),(0,W.append)(z,X);for(let te=0;te<R.selector.length;te++){let ie=R.selector[te],fe=(0,W.createElement)("div");(0,W.addClass)(fe,"art-selector-item"),ie.default&&(0,W.addClass)(fe,"art-current"),fe.dataset.index=te,fe.dataset.value=ie.value,fe.innerHTML=ie.html,(0,W.append)(X,fe),(0,W.def)(ie,"$control_option",{get:()=>R.selector}),(0,W.def)(ie,"$control_item",{get:()=>fe}),(0,W.def)(ie,"$control_value",{get:()=>j})}let se=B(X,"click",async te=>{let ie=te.composedPath()||[],fe=R.selector.find(ue=>ue.$control_item===ie.find(J=>ue.$control_item===J));this.check(fe),R.onSelect&&(j.innerHTML=await R.onSelect.call(this.art,fe,fe.$control_item,te))});M.push(se)}}s.default=H},{"../utils/component":"18nVI","./fullscreen":"c61Lj","./fullscreenWeb":"03jeB","./pip":"u8l8e","./playAndPause":"ebXtb","./progress":"bgoVP","./time":"ikc2j","./volume":"b8NFx","./setting":"03o9l","./screenshot":"4KCF5","./airplay":"4IS2d","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"18nVI":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=n("./dom"),u=n("./error"),l=n("option-validator"),c=i.interopDefault(l),d=n("../scheme");s.default=class{constructor(f){this.id=0,this.art=f,this.cache=new Map,this.add=this.add.bind(this),this.remove=this.remove.bind(this),this.update=this.update.bind(this)}get show(){return(0,a.hasClass)(this.art.template.$player,`art-${this.name}-show`)}set show(f){let{$player:h}=this.art.template,p=`art-${this.name}-show`;f?(0,a.addClass)(h,p):(0,a.removeClass)(h,p),this.art.emit(this.name,f)}toggle(){this.show=!this.show}add(f){let h=typeof f=="function"?f(this.art):f;if(h.html=h.html||"",(0,c.default)(h,d.ComponentOption),!this.$parent||!this.name||h.disable)return;let p=h.name||`${this.name}${this.id}`,g=this.cache.get(p);(0,u.errorHandle)(!g,`Can't add an existing [${p}] to the [${this.name}]`),this.id+=1;let v=(0,a.createElement)("div");(0,a.addClass)(v,`art-${this.name}`),(0,a.addClass)(v,`art-${this.name}-${p}`);let y=Array.from(this.$parent.children);v.dataset.index=h.index||this.id;let _=y.find(w=>Number(w.dataset.index)>=Number(v.dataset.index));_?_.insertAdjacentElement("beforebegin",v):(0,a.append)(this.$parent,v),h.html&&(0,a.append)(v,h.html),h.style&&(0,a.setStyles)(v,h.style),h.tooltip&&(0,a.tooltip)(v,h.tooltip);let b=[];if(h.click){let w=this.art.events.proxy(v,"click",S=>{S.preventDefault(),h.click.call(this.art,this,S)});b.push(w)}return h.selector&&["left","right"].includes(h.position)&&this.selector(h,v,b),this[p]=v,this.cache.set(p,{$ref:v,events:b,option:h}),h.mounted&&h.mounted.call(this.art,v),v}remove(f){let h=this.cache.get(f);(0,u.errorHandle)(h,`Can't find [${f}] from the [${this.name}]`),h.option.beforeUnmount&&h.option.beforeUnmount.call(this.art,h.$ref);for(let p=0;p<h.events.length;p++)this.art.events.remove(h.events[p]);this.cache.delete(f),delete this[f],(0,a.remove)(h.$ref)}update(f){let h=this.cache.get(f.name);return h&&(f=Object.assign(h.option,f),this.remove(f.name)),this.add(f)}}},{"./dom":"bSNiV","./error":"hwmZz","option-validator":"bAWi2","../scheme":"AKEiO","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],c61Lj:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){return c=>({...l,tooltip:c.i18n.get("Fullscreen"),mounted:d=>{let{proxy:f,icons:h,i18n:p}=c,g=(0,a.append)(d,h.fullscreenOn),v=(0,a.append)(d,h.fullscreenOff);(0,a.setStyle)(v,"display","none"),f(d,"click",()=>{c.fullscreen=!c.fullscreen}),c.on("fullscreen",y=>{y?((0,a.tooltip)(d,p.get("Exit Fullscreen")),(0,a.setStyle)(g,"display","none"),(0,a.setStyle)(v,"display","inline-flex")):((0,a.tooltip)(d,p.get("Fullscreen")),(0,a.setStyle)(g,"display","inline-flex"),(0,a.setStyle)(v,"display","none"))})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"03jeB":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){return c=>({...l,tooltip:c.i18n.get("Web Fullscreen"),mounted:d=>{let{proxy:f,icons:h,i18n:p}=c,g=(0,a.append)(d,h.fullscreenWebOn),v=(0,a.append)(d,h.fullscreenWebOff);(0,a.setStyle)(v,"display","none"),f(d,"click",()=>{c.fullscreenWeb=!c.fullscreenWeb}),c.on("fullscreenWeb",y=>{y?((0,a.tooltip)(d,p.get("Exit Web Fullscreen")),(0,a.setStyle)(g,"display","none"),(0,a.setStyle)(v,"display","inline-flex")):((0,a.tooltip)(d,p.get("Web Fullscreen")),(0,a.setStyle)(g,"display","inline-flex"),(0,a.setStyle)(v,"display","none"))})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],u8l8e:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){return c=>({...l,tooltip:c.i18n.get("PIP Mode"),mounted:d=>{let{proxy:f,icons:h,i18n:p}=c;(0,a.append)(d,h.pip),f(d,"click",()=>{c.pip=!c.pip}),c.on("pip",g=>{(0,a.tooltip)(d,p.get(g?"Exit PIP Mode":"PIP Mode"))})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],ebXtb:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){return c=>({...l,mounted:d=>{let{proxy:f,icons:h,i18n:p}=c,g=(0,a.append)(d,h.play),v=(0,a.append)(d,h.pause);function y(){(0,a.setStyle)(g,"display","flex"),(0,a.setStyle)(v,"display","none")}function _(){(0,a.setStyle)(g,"display","none"),(0,a.setStyle)(v,"display","flex")}(0,a.tooltip)(g,p.get("Play")),(0,a.tooltip)(v,p.get("Pause")),f(g,"click",()=>{c.play()}),f(v,"click",()=>{c.pause()}),c.playing?_():y(),c.on("video:playing",()=>{_()}),c.on("video:pause",()=>{y()})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],bgoVP:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"getPosFromEvent",()=>u),i.export(s,"setCurrentTime",()=>l),i.export(s,"default",()=>c);var a=n("../utils");function u(d,f){let{$progress:h}=d.template,{left:p}=(0,a.getRect)(h),g=a.isMobile?f.touches[0].clientX:f.clientX,v=(0,a.clamp)(g-p,0,h.clientWidth),y=v/h.clientWidth*d.duration,_=(0,a.secondToTime)(y),b=(0,a.clamp)(v/h.clientWidth,0,1);return{second:y,time:_,width:v,percentage:b}}function l(d,f){if(d.isRotate){let h=f.touches[0].clientY/d.height,p=h*d.duration;d.emit("setBar","played",h,f),d.seek=p}else{let{second:h,percentage:p}=u(d,f);d.emit("setBar","played",p,f),d.seek=h}}function c(d){return f=>{let{icons:h,option:p,proxy:g}=f;return{...d,html:'<div class="art-control-progress-inner"><div class="art-progress-hover"></div><div class="art-progress-loaded"></div><div class="art-progress-played"></div><div class="art-progress-highlight"></div><div class="art-progress-indicator"></div><div class="art-progress-tip"></div></div>',mounted:v=>{let y=null,_=!1,b=(0,a.query)(".art-progress-hover",v),w=(0,a.query)(".art-progress-loaded",v),S=(0,a.query)(".art-progress-played",v),E=(0,a.query)(".art-progress-highlight",v),T=(0,a.query)(".art-progress-indicator",v),I=(0,a.query)(".art-progress-tip",v);function k(C,N){let{width:D,time:W}=N||u(f,C);I.innerText=W;let H=I.clientWidth;D<=H/2?(0,a.setStyle)(I,"left",0):D>v.clientWidth-H/2?(0,a.setStyle)(I,"left",`${v.clientWidth-H}px`):(0,a.setStyle)(I,"left",`${D-H/2}px`)}h.indicator?(0,a.append)(T,h.indicator):(0,a.setStyle)(T,"backgroundColor","var(--art-theme)"),f.on("setBar",function(C,N,D){let W=C==="played"&&D&&a.isMobile;C==="loaded"&&(0,a.setStyle)(w,"width",`${100*N}%`),C==="hover"&&(0,a.setStyle)(b,"width",`${100*N}%`),C==="played"&&((0,a.setStyle)(S,"width",`${100*N}%`),(0,a.setStyle)(T,"left",`${100*N}%`)),W&&((0,a.setStyle)(I,"display","flex"),k(D,{width:v.clientWidth*N,time:(0,a.secondToTime)(N*f.duration)}),clearTimeout(y),y=setTimeout(()=>{(0,a.setStyle)(I,"display","none")},500))}),f.on("video:loadedmetadata",function(){E.innerText="";for(let C=0;C<p.highlight.length;C++){let N=p.highlight[C],D=(0,a.clamp)(N.time,0,f.duration)/f.duration*100,W=`<span data-text="${N.text}" data-time="${N.time}" style="left: ${D}%"></span>`;(0,a.append)(E,W)}}),f.on("video:progress",()=>{f.emit("setBar","loaded",f.loaded)}),f.constructor.USE_RAF?f.on("raf",()=>{f.emit("setBar","played",f.played)}):f.on("video:timeupdate",()=>{f.emit("setBar","played",f.played)}),f.on("video:ended",()=>{f.emit("setBar","played",1)}),f.emit("setBar","loaded",f.loaded||0),a.isMobile||(g(v,"click",C=>{C.target!==T&&l(f,C)}),g(v,"mousemove",C=>{let{percentage:N}=u(f,C);if(f.emit("setBar","hover",N,C),(0,a.setStyle)(I,"display","flex"),(0,a.includeFromEvent)(C,E)){let{width:D}=u(f,C),{text:W}=C.target.dataset;I.innerText=W;let H=I.clientWidth;D<=H/2?(0,a.setStyle)(I,"left",0):D>v.clientWidth-H/2?(0,a.setStyle)(I,"left",`${v.clientWidth-H}px`):(0,a.setStyle)(I,"left",`${D-H/2}px`)}else k(C)}),g(v,"mouseleave",C=>{(0,a.setStyle)(I,"display","none"),f.emit("setBar","hover",0,C)}),g(v,"mousedown",C=>{_=C.button===0}),f.on("document:mousemove",C=>{if(_){let{second:N,percentage:D}=u(f,C);f.emit("setBar","played",D,C),f.seek=N}}),f.on("document:mouseup",()=>{_&&(_=!1)}))}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],ikc2j:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){return c=>({...l,style:a.isMobile?{fontSize:"12px",padding:"0 5px"}:{cursor:"auto",padding:"0 10px"},mounted:d=>{function f(){let p=`${(0,a.secondToTime)(c.currentTime)} / ${(0,a.secondToTime)(c.duration)}`;p!==d.innerText&&(d.innerText=p)}f();let h=["video:loadedmetadata","video:timeupdate","video:progress"];for(let p=0;p<h.length;p++)c.on(h[p],f)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],b8NFx:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){return c=>({...l,mounted:d=>{let{proxy:f,icons:h}=c,p=(0,a.append)(d,h.volume),g=(0,a.append)(d,h.volumeClose),v=(0,a.append)(d,'<div class="art-volume-panel"></div>'),y=(0,a.append)(v,'<div class="art-volume-inner"></div>'),_=(0,a.append)(y,'<div class="art-volume-val"></div>'),b=(0,a.append)(y,'<div class="art-volume-slider"></div>'),w=(0,a.append)(b,'<div class="art-volume-handle"></div>'),S=(0,a.append)(w,'<div class="art-volume-loaded"></div>'),E=(0,a.append)(b,'<div class="art-volume-indicator"></div>');function T(k){let{top:C,height:N}=(0,a.getRect)(b);return 1-(k.clientY-C)/N}function I(){if(c.muted||c.volume===0)(0,a.setStyle)(p,"display","none"),(0,a.setStyle)(g,"display","flex"),(0,a.setStyle)(E,"top","100%"),(0,a.setStyle)(S,"top","100%"),_.innerText=0;else{let k=100*c.volume;(0,a.setStyle)(p,"display","flex"),(0,a.setStyle)(g,"display","none"),(0,a.setStyle)(E,"top",`${100-k}%`),(0,a.setStyle)(S,"top",`${100-k}%`),_.innerText=Math.floor(k)}}if(I(),c.on("video:volumechange",I),f(p,"click",()=>{c.muted=!0}),f(g,"click",()=>{c.muted=!1}),a.isMobile)(0,a.setStyle)(v,"display","none");else{let k=!1;f(b,"mousedown",C=>{k=C.button===0,c.volume=T(C)}),c.on("document:mousemove",C=>{k&&(c.muted=!1,c.volume=T(C))}),c.on("document:mouseup",()=>{k&&(k=!1)})}}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"03o9l":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){return c=>({...l,tooltip:c.i18n.get("Show Setting"),mounted:d=>{let{proxy:f,icons:h,i18n:p}=c;(0,a.append)(d,h.setting),f(d,"click",()=>{c.setting.toggle(),c.setting.resize()}),c.on("setting",g=>{(0,a.tooltip)(d,p.get(g?"Hide Setting":"Show Setting"))})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4KCF5":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){return c=>({...l,tooltip:c.i18n.get("Screenshot"),mounted:d=>{let{proxy:f,icons:h}=c;(0,a.append)(d,h.screenshot),f(d,"click",()=>{c.screenshot()})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4IS2d":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){return c=>({...l,tooltip:c.i18n.get("AirPlay"),mounted:d=>{let{proxy:f,icons:h}=c;(0,a.append)(d,h.airplay),f(d,"click",()=>c.airplay())}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2KYsr":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=n("../utils"),u=n("../utils/component"),l=i.interopDefault(u),c=n("./playbackRate"),d=i.interopDefault(c),f=n("./aspectRatio"),h=i.interopDefault(f),p=n("./flip"),g=i.interopDefault(p),v=n("./info"),y=i.interopDefault(v),_=n("./version"),b=i.interopDefault(_),w=n("./close"),S=i.interopDefault(w);class E extends l.default{constructor(I){super(I),this.name="contextmenu",this.$parent=I.template.$contextmenu,a.isMobile||this.init()}init(){let{option:I,proxy:k,template:{$player:C,$contextmenu:N}}=this.art;I.playbackRate&&this.add((0,d.default)({name:"playbackRate",index:10})),I.aspectRatio&&this.add((0,h.default)({name:"aspectRatio",index:20})),I.flip&&this.add((0,g.default)({name:"flip",index:30})),this.add((0,y.default)({name:"info",index:40})),this.add((0,b.default)({name:"version",index:50})),this.add((0,S.default)({name:"close",index:60}));for(let D=0;D<I.contextmenu.length;D++)this.add(I.contextmenu[D]);k(C,"contextmenu",D=>{if(!this.art.constructor.CONTEXTMENU)return;D.preventDefault(),this.show=!0;let W=D.clientX,H=D.clientY,{height:V,width:R,left:z,top:M}=(0,a.getRect)(C),{height:B,width:j}=(0,a.getRect)(N),X=W-z,se=H-M;W+j>z+R&&(X=R-j),H+B>M+V&&(se=V-B),(0,a.setStyles)(N,{top:`${se}px`,left:`${X}px`})}),k(C,"click",D=>{(0,a.includeFromEvent)(D,N)||(this.show=!1)}),this.art.on("blur",()=>{this.show=!1})}}s.default=E},{"../utils":"71aH7","../utils/component":"18nVI","./playbackRate":"69eLi","./aspectRatio":"lUefg","./flip":"kysiM","./info":"gqIgJ","./version":"kRU7C","./close":"jQ8Pm","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"69eLi":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){return c=>{let{i18n:d,constructor:{PLAYBACK_RATE:f}}=c,h=f.map(p=>`<span data-value="${p}">${p===1?d.get("Normal"):p.toFixed(1)}</span>`).join("");return{...l,html:`${d.get("Play Speed")}: ${h}`,click:(p,g)=>{let{value:v}=g.target.dataset;v&&(c.playbackRate=Number(v),p.show=!1)},mounted:p=>{let g=(0,a.query)('[data-value="1"]',p);g&&(0,a.inverseClass)(g,"art-current"),c.on("video:ratechange",()=>{let v=(0,a.queryAll)("span",p).find(y=>Number(y.dataset.value)===c.playbackRate);v&&(0,a.inverseClass)(v,"art-current")})}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],lUefg:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){return c=>{let{i18n:d,constructor:{ASPECT_RATIO:f}}=c,h=f.map(p=>`<span data-value="${p}">${p==="default"?d.get("Default"):p}</span>`).join("");return{...l,html:`${d.get("Aspect Ratio")}: ${h}`,click:(p,g)=>{let{value:v}=g.target.dataset;v&&(c.aspectRatio=v,p.show=!1)},mounted:p=>{let g=(0,a.query)('[data-value="default"]',p);g&&(0,a.inverseClass)(g,"art-current"),c.on("aspectRatio",v=>{let y=(0,a.queryAll)("span",p).find(_=>_.dataset.value===v);y&&(0,a.inverseClass)(y,"art-current")})}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kysiM:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){return c=>{let{i18n:d,constructor:{FLIP:f}}=c,h=f.map(p=>`<span data-value="${p}">${d.get((0,a.capitalize)(p))}</span>`).join("");return{...l,html:`${d.get("Video Flip")}: ${h}`,click:(p,g)=>{let{value:v}=g.target.dataset;v&&(c.flip=v.toLowerCase(),p.show=!1)},mounted:p=>{let g=(0,a.query)('[data-value="normal"]',p);g&&(0,a.inverseClass)(g,"art-current"),c.on("flip",v=>{let y=(0,a.queryAll)("span",p).find(_=>_.dataset.value===v);y&&(0,a.inverseClass)(y,"art-current")})}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],gqIgJ:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");function a(u){return l=>({...u,html:l.i18n.get("Video Info"),click:c=>{l.info.show=!0,c.show=!1}})}i.defineInteropFlag(s),i.export(s,"default",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kRU7C:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");function a(u){return{...u,html:'<a href="https://artplayer.org" target="_blank">ArtPlayer 5.2.3</a>'}}i.defineInteropFlag(s),i.export(s,"default",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],jQ8Pm:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");function a(u){return l=>({...u,html:l.i18n.get("Close"),click:c=>{c.show=!1}})}i.defineInteropFlag(s),i.export(s,"default",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"02ajl":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=n("./utils"),u=n("./utils/component"),l=i.interopDefault(u);class c extends l.default{constructor(f){super(f),this.name="info",a.isMobile||this.init()}init(){let{proxy:f,constructor:h,template:{$infoPanel:p,$infoClose:g,$video:v}}=this.art;f(g,"click",()=>{this.show=!1});let y=null,_=(0,a.queryAll)("[data-video]",p)||[];this.art.on("destroy",()=>clearTimeout(y)),function b(){for(let w=0;w<_.length;w++){let S=_[w],E=v[S.dataset.video],T=typeof E=="number"?E.toFixed(2):E;S.innerText!==T&&(S.innerText=T)}y=setTimeout(b,h.INFO_LOOP_TIME)}()}}s.default=c},{"./utils":"71aH7","./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eSWto:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=n("./utils"),u=n("./utils/component"),l=i.interopDefault(u),c=n("option-validator"),d=i.interopDefault(c),f=n("./scheme"),h=i.interopDefault(f);class p extends l.default{constructor(v){super(v),this.name="subtitle",this.option=null,this.destroyEvent=()=>null,this.init(v.option.subtitle);let y=!1;v.on("video:timeupdate",()=>{if(!this.url)return;let _=this.art.template.$video.webkitDisplayingFullscreen;typeof _=="boolean"&&_!==y&&(y=_,this.createTrack(_?"subtitles":"metadata",this.url))})}get url(){return this.art.template.$track.src}set url(v){this.switch(v)}get textTrack(){var v,y;return(y=(v=this.art.template.$video)==null?void 0:v.textTracks)==null?void 0:y[0]}get activeCues(){return this.textTrack?Array.from(this.textTrack.activeCues):[]}get cues(){return this.textTrack?Array.from(this.textTrack.cues):[]}style(v,y){let{$subtitle:_}=this.art.template;return typeof v=="object"?(0,a.setStyles)(_,v):(0,a.setStyle)(_,v,y)}update(){let{option:{subtitle:v},template:{$subtitle:y}}=this.art;y.innerHTML="",this.activeCues.length&&(this.art.emit("subtitleBeforeUpdate",this.activeCues),y.innerHTML=this.activeCues.map((_,b)=>_.text.split(/\r?\n/).filter(w=>w.trim()).map(w=>`<div class="art-subtitle-line" data-group="${b}">${v.escape?(0,a.escape)(w):w}</div>`).join("")).join(""),this.art.emit("subtitleAfterUpdate",this.activeCues))}async switch(v,y={}){let{i18n:_,notice:b,option:w}=this.art,S={...w.subtitle,...y,url:v},E=await this.init(S);return y.name&&(b.show=`${_.get("Switch Subtitle")}: ${y.name}`),E}createTrack(v,y){let{template:_,proxy:b,option:w}=this.art,{$video:S,$track:E}=_,T=(0,a.createElement)("track");T.default=!0,T.kind=v,T.src=y,T.label=w.subtitle.name||"Artplayer",T.track.mode="hidden",T.onload=()=>{this.art.emit("subtitleLoad",this.cues,this.option)},this.art.events.remove(this.destroyEvent),E.onload=null,(0,a.remove)(E),(0,a.append)(S,T),_.$track=T,this.destroyEvent=b(this.textTrack,"cuechange",()=>this.update())}async init(v){let{notice:y,template:{$subtitle:_}}=this.art;return this.textTrack?((0,d.default)(v,h.default.subtitle),v.url?(this.option=v,this.style(v.style),fetch(v.url).then(b=>b.arrayBuffer()).then(b=>{let w=new TextDecoder(v.encoding).decode(b);switch(v.type||(0,a.getExt)(v.url)){case"srt":{let S=(0,a.srtToVtt)(w),E=v.onVttLoad(S);return(0,a.vttToBlob)(E)}case"ass":{let S=(0,a.assToVtt)(w),E=v.onVttLoad(S);return(0,a.vttToBlob)(E)}case"vtt":{let S=v.onVttLoad(w);return(0,a.vttToBlob)(S)}default:return v.url}}).then(b=>(_.innerHTML="",this.url===b||(URL.revokeObjectURL(this.url),this.createTrack("metadata",b)),b)).catch(b=>{throw _.innerHTML="",y.show=b,b})):void 0):null}}s.default=p},{"./utils":"71aH7","./utils/component":"18nVI","option-validator":"bAWi2","./scheme":"AKEiO","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],jo4S1:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=n("./clickInit"),u=i.interopDefault(a),l=n("./hoverInit"),c=i.interopDefault(l),d=n("./moveInit"),f=i.interopDefault(d),h=n("./resizeInit"),p=i.interopDefault(h),g=n("./gestureInit"),v=i.interopDefault(g),y=n("./viewInit"),_=i.interopDefault(y),b=n("./documentInit"),w=i.interopDefault(b),S=n("./updateInit"),E=i.interopDefault(S),T=n("./restoreInit"),I=i.interopDefault(T);s.default=class{constructor(k){this.destroyEvents=[],this.proxy=this.proxy.bind(this),this.hover=this.hover.bind(this),(0,u.default)(k,this),(0,c.default)(k,this),(0,f.default)(k,this),(0,p.default)(k,this),(0,v.default)(k,this),(0,_.default)(k,this),(0,w.default)(k,this),(0,E.default)(k,this),(0,I.default)(k,this)}proxy(k,C,N,D={}){if(Array.isArray(C))return C.map(H=>this.proxy(k,H,N,D));k.addEventListener(C,N,D);let W=()=>k.removeEventListener(C,N,D);return this.destroyEvents.push(W),W}hover(k,C,N){C&&this.proxy(k,"mouseenter",C),N&&this.proxy(k,"mouseleave",N)}remove(k){let C=this.destroyEvents.indexOf(k);C>-1&&(k(),this.destroyEvents.splice(C,1))}destroy(){for(let k=0;k<this.destroyEvents.length;k++)this.destroyEvents[k]()}}},{"./clickInit":"6UrCm","./hoverInit":"4jWHi","./moveInit":"eqaUm","./resizeInit":"eDXPO","./gestureInit":"95GtS","./viewInit":"InUBx","./documentInit":"hoLfM","./updateInit":"cl8m3","./restoreInit":"bK8As","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6UrCm":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l,c){let{constructor:d,template:{$player:f,$video:h}}=l;c.proxy(document,["click","contextmenu"],g=>{(0,a.includeFromEvent)(g,f)?(l.isInput=g.target.tagName==="INPUT",l.isFocus=!0,l.emit("focus",g)):(l.isInput=!1,l.isFocus=!1,l.emit("blur",g))});let p=[];c.proxy(h,"click",g=>{let v=Date.now();p.push(v);let{MOBILE_CLICK_PLAY:y,DBCLICK_TIME:_,MOBILE_DBCLICK_PLAY:b,DBCLICK_FULLSCREEN:w}=d,S=p.filter(E=>v-E<=_);switch(S.length){case 1:l.emit("click",g),a.isMobile?!l.isLock&&y&&l.toggle():l.toggle(),p=S;break;case 2:l.emit("dblclick",g),a.isMobile?!l.isLock&&b&&l.toggle():w&&(l.fullscreen=!l.fullscreen),p=[];break;default:p=[]}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4jWHi":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l,c){let{$player:d}=l.template;c.hover(d,f=>{(0,a.addClass)(d,"art-hover"),l.emit("hover",!0,f)},f=>{(0,a.removeClass)(d,"art-hover"),l.emit("hover",!1,f)})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eqaUm:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");function a(u,l){let{$player:c}=u.template;l.proxy(c,"mousemove",d=>{u.emit("mousemove",d)})}i.defineInteropFlag(s),i.export(s,"default",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eDXPO:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l,c){let{option:d,constructor:f}=l;l.on("resize",()=>{let{aspectRatio:p,notice:g}=l;l.state==="standard"&&d.autoSize&&l.autoSize(),l.aspectRatio=p,g.show=""});let h=(0,a.debounce)(()=>l.emit("resize"),f.RESIZE_TIME);c.proxy(window,["orientationchange","resize"],()=>h()),screen&&screen.orientation&&screen.orientation.onchange&&c.proxy(screen.orientation,"change",()=>h())}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"95GtS":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>l);var a=n("../utils"),u=n("../control/progress");function l(c,d){if(a.isMobile&&!c.option.isLive){let{$video:f,$progress:h}=c.template,p=null,g=!1,v=0,y=0,_=0,b=S=>{if(S.touches.length===1&&!c.isLock){p===h&&(0,u.setCurrentTime)(c,S),g=!0;let{pageX:E,pageY:T}=S.touches[0];v=E,y=T,_=c.currentTime}},w=S=>{if(S.touches.length===1&&g&&c.duration){let{pageX:E,pageY:T}=S.touches[0],I=function(N,D,W,H){var V=D-H,R=W-N,z=0;if(2>Math.abs(R)&&2>Math.abs(V))return z;var M=180*Math.atan2(V,R)/Math.PI;return M>=-45&&M<45?z=4:M>=45&&M<135?z=1:M>=-135&&M<-45?z=2:(M>=135&&M<=180||M>=-180&&M<-135)&&(z=3),z}(v,y,E,T),k=[3,4].includes(I),C=[1,2].includes(I);if(k&&!c.isRotate||C&&c.isRotate){let N=(0,a.clamp)((E-v)/c.width,-1,1),D=(0,a.clamp)((T-y)/c.height,-1,1),W=c.isRotate?D:N,H=p===f?c.constructor.TOUCH_MOVE_RATIO:1,V=(0,a.clamp)(_+c.duration*W*H,0,c.duration);c.seek=V,c.emit("setBar","played",(0,a.clamp)(V/c.duration,0,1),S),c.notice.show=`${(0,a.secondToTime)(V)} / ${(0,a.secondToTime)(c.duration)}`}}};c.option.gesture&&(d.proxy(f,"touchstart",S=>{p=f,b(S)}),d.proxy(f,"touchmove",w)),d.proxy(h,"touchstart",S=>{p=h,b(S)}),d.proxy(h,"touchmove",w),d.proxy(document,"touchend",()=>{g&&(v=0,y=0,_=0,g=!1,p=null)})}}},{"../utils":"71aH7","../control/progress":"bgoVP","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],InUBx:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l,c){let{option:d,constructor:f,template:{$container:h}}=l,p=(0,a.throttle)(()=>{l.emit("view",(0,a.isInViewport)(h,f.SCROLL_GAP))},f.SCROLL_TIME);c.proxy(window,"scroll",()=>p()),l.on("view",g=>{d.autoMini&&(l.mini=!g)})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],hoLfM:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");function a(u,l){l.proxy(document,"mousemove",c=>{u.emit("document:mousemove",c)}),l.proxy(document,"mouseup",c=>{u.emit("document:mouseup",c)})}i.defineInteropFlag(s),i.export(s,"default",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],cl8m3:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");function a(u){if(u.constructor.USE_RAF){let l=null;(function c(){u.playing&&u.emit("raf"),u.isDestroy||(l=requestAnimationFrame(c))})(),u.on("destroy",()=>{cancelAnimationFrame(l)})}}i.defineInteropFlag(s),i.export(s,"default",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],bK8As:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");function a(u,l){}i.defineInteropFlag(s),i.export(s,"default",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6NoFy":[function(n,r,s,o){n("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var i=n("./utils");s.default=class{constructor(a){this.art=a,this.keys={},a.option.hotkey&&!i.isMobile&&this.init()}init(){let{proxy:a,constructor:u}=this.art;this.add("Escape",()=>{this.art.fullscreenWeb&&(this.art.fullscreenWeb=!1)}),this.add("Space",()=>{this.art.toggle()}),this.add("ArrowLeft",()=>{this.art.backward=u.SEEK_STEP}),this.add("ArrowUp",()=>{this.art.volume+=u.VOLUME_STEP}),this.add("ArrowRight",()=>{this.art.forward=u.SEEK_STEP}),this.add("ArrowDown",()=>{this.art.volume-=u.VOLUME_STEP}),a(document,"keydown",l=>{if(this.art.isFocus){let c=document.activeElement.tagName.toUpperCase(),d=document.activeElement.getAttribute("contenteditable");if(c!=="INPUT"&&c!=="TEXTAREA"&&d!==""&&d!=="true"&&!l.altKey&&!l.ctrlKey&&!l.metaKey&&!l.shiftKey){let f=this.keys[l.code];if(f){l.preventDefault();for(let h=0;h<f.length;h++)f[h].call(this.art,l);this.art.emit("hotkey",l)}}}this.art.emit("keydown",l)})}add(a,u){return this.keys[a]?this.keys[a].push(u):this.keys[a]=[u],this}remove(a,u){if(this.keys[a]){let l=this.keys[a].indexOf(u);l!==-1&&this.keys[a].splice(l,1)}return this}}},{"./utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6G6hZ":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=n("./utils/component"),u=i.interopDefault(a);class l extends u.default{constructor(d){super(d);let{option:f,template:{$layer:h}}=d;this.name="layer",this.$parent=h;for(let p=0;p<f.layers.length;p++)this.add(f.layers[p])}}s.default=l},{"./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"3dsEe":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=n("./utils"),u=n("./utils/component"),l=i.interopDefault(u);class c extends l.default{constructor(f){super(f),this.name="loading",(0,a.append)(f.template.$loading,f.icons.loading)}}s.default=c},{"./utils":"71aH7","./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],dWGTw:[function(n,r,s,o){n("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var i=n("./utils");s.default=class{constructor(a){this.art=a,this.timer=null}set show(a){let{constructor:u,template:{$player:l,$noticeInner:c}}=this.art;a?(c.innerText=a instanceof Error?a.message.trim():a,(0,i.addClass)(l,"art-notice-show"),clearTimeout(this.timer),this.timer=setTimeout(()=>{c.innerText="",(0,i.removeClass)(l,"art-notice-show")},u.NOTICE_TIME)):(0,i.removeClass)(l,"art-notice-show")}}},{"./utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5POkG":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=n("./utils"),u=n("./utils/component"),l=i.interopDefault(u);class c extends l.default{constructor(f){super(f),this.name="mask";let{template:h,icons:p,events:g}=f,v=(0,a.append)(h.$state,p.state),y=(0,a.append)(h.$state,p.error);(0,a.setStyle)(y,"display","none"),f.on("destroy",()=>{(0,a.setStyle)(v,"display","none"),(0,a.setStyle)(y,"display",null)}),g.proxy(h.$state,"click",()=>f.play())}}s.default=c},{"./utils":"71aH7","./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6OeNg":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=n("../utils"),u=n("bundle-text:./loading.svg"),l=i.interopDefault(u),c=n("bundle-text:./state.svg"),d=i.interopDefault(c),f=n("bundle-text:./check.svg"),h=i.interopDefault(f),p=n("bundle-text:./play.svg"),g=i.interopDefault(p),v=n("bundle-text:./pause.svg"),y=i.interopDefault(v),_=n("bundle-text:./volume.svg"),b=i.interopDefault(_),w=n("bundle-text:./volume-close.svg"),S=i.interopDefault(w),E=n("bundle-text:./screenshot.svg"),T=i.interopDefault(E),I=n("bundle-text:./setting.svg"),k=i.interopDefault(I),C=n("bundle-text:./arrow-left.svg"),N=i.interopDefault(C),D=n("bundle-text:./arrow-right.svg"),W=i.interopDefault(D),H=n("bundle-text:./playback-rate.svg"),V=i.interopDefault(H),R=n("bundle-text:./aspect-ratio.svg"),z=i.interopDefault(R),M=n("bundle-text:./config.svg"),B=i.interopDefault(M),j=n("bundle-text:./pip.svg"),X=i.interopDefault(j),se=n("bundle-text:./lock.svg"),te=i.interopDefault(se),ie=n("bundle-text:./unlock.svg"),fe=i.interopDefault(ie),ue=n("bundle-text:./fullscreen-off.svg"),J=i.interopDefault(ue),de=n("bundle-text:./fullscreen-on.svg"),ae=i.interopDefault(de),Ae=n("bundle-text:./fullscreen-web-off.svg"),Re=i.interopDefault(Ae),pe=n("bundle-text:./fullscreen-web-on.svg"),ne=i.interopDefault(pe),le=n("bundle-text:./switch-on.svg"),Se=i.interopDefault(le),Ce=n("bundle-text:./switch-off.svg"),Ee=i.interopDefault(Ce),we=n("bundle-text:./flip.svg"),Le=i.interopDefault(we),Be=n("bundle-text:./error.svg"),Ue=i.interopDefault(Be),je=n("bundle-text:./close.svg"),at=i.interopDefault(je),Ie=n("bundle-text:./airplay.svg"),Ze=i.interopDefault(Ie);s.default=class{constructor(mt){let Pt={loading:l.default,state:d.default,play:g.default,pause:y.default,check:h.default,volume:b.default,volumeClose:S.default,screenshot:T.default,setting:k.default,pip:X.default,arrowLeft:N.default,arrowRight:W.default,playbackRate:V.default,aspectRatio:z.default,config:B.default,lock:te.default,flip:Le.default,unlock:fe.default,fullscreenOff:J.default,fullscreenOn:ae.default,fullscreenWebOff:Re.default,fullscreenWebOn:ne.default,switchOn:Se.default,switchOff:Ee.default,error:Ue.default,close:at.default,airplay:Ze.default,...mt.option.icons};for(let Vt in Pt)(0,a.def)(this,Vt,{get:()=>(0,a.getIcon)(Vt,Pt[Vt])})}}},{"../utils":"71aH7","bundle-text:./loading.svg":"7tDub","bundle-text:./state.svg":"1ElZc","bundle-text:./check.svg":"lmgoP","bundle-text:./play.svg":"lVWoQ","bundle-text:./pause.svg":"5Mnax","bundle-text:./volume.svg":"w3eIa","bundle-text:./volume-close.svg":"rHjo1","bundle-text:./screenshot.svg":"2KcqM","bundle-text:./setting.svg":"8rQMV","bundle-text:./arrow-left.svg":"kqGBE","bundle-text:./arrow-right.svg":"aFjpC","bundle-text:./playback-rate.svg":"lx7ZM","bundle-text:./aspect-ratio.svg":"2sEjf","bundle-text:./config.svg":"fQTgE","bundle-text:./pip.svg":"2CaxO","bundle-text:./lock.svg":"aCGnW","bundle-text:./unlock.svg":"bTrAV","bundle-text:./fullscreen-off.svg":"bA3p0","bundle-text:./fullscreen-on.svg":"fTuY8","bundle-text:./fullscreen-web-off.svg":"tvKf4","bundle-text:./fullscreen-web-on.svg":"1F1oB","bundle-text:./switch-on.svg":"7qNHs","bundle-text:./switch-off.svg":"28aV8","bundle-text:./flip.svg":"1uXI6","bundle-text:./error.svg":"9f4dh","bundle-text:./close.svg":"4nTtS","bundle-text:./airplay.svg":"cDPXC","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"7tDub":[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" class="uil-default" preserveAspectRatio="xMidYMid" viewBox="0 0 100 100"><path fill="none" d="M0 0h100v100H0z" class="bk"/><rect width="6" height="20" x="47" y="40" fill="#fff" rx="5" ry="5" transform="translate(0 -30)"><animate attributeName="opacity" begin="-1s" dur="1s" from="1" repeatCount="indefinite" to="0"/></rect><rect width="6" height="20" x="47" y="40" fill="#fff" rx="5" ry="5" transform="rotate(30 105.98 65)"><animate attributeName="opacity" begin="-0.9166666666666666s" dur="1s" from="1" repeatCount="indefinite" to="0"/></rect><rect width="6" height="20" x="47" y="40" fill="#fff" rx="5" ry="5" transform="rotate(60 75.98 65)"><animate attributeName="opacity" begin="-0.8333333333333334s" dur="1s" from="1" repeatCount="indefinite" to="0"/></rect><rect width="6" height="20" x="47" y="40" fill="#fff" rx="5" ry="5" transform="rotate(90 65 65)"><animate attributeName="opacity" begin="-0.75s" dur="1s" from="1" repeatCount="indefinite" to="0"/></rect><rect width="6" height="20" x="47" y="40" fill="#fff" rx="5" ry="5" transform="rotate(120 58.66 65)"><animate attributeName="opacity" begin="-0.6666666666666666s" dur="1s" from="1" repeatCount="indefinite" to="0"/></rect><rect width="6" height="20" x="47" y="40" fill="#fff" rx="5" ry="5" transform="rotate(150 54.02 65)"><animate attributeName="opacity" begin="-0.5833333333333334s" dur="1s" from="1" repeatCount="indefinite" to="0"/></rect><rect width="6" height="20" x="47" y="40" fill="#fff" rx="5" ry="5" transform="rotate(180 50 65)"><animate attributeName="opacity" begin="-0.5s" dur="1s" from="1" repeatCount="indefinite" to="0"/></rect><rect width="6" height="20" x="47" y="40" fill="#fff" rx="5" ry="5" transform="rotate(-150 45.98 65)"><animate attributeName="opacity" begin="-0.4166666666666667s" dur="1s" from="1" repeatCount="indefinite" to="0"/></rect><rect width="6" height="20" x="47" y="40" fill="#fff" rx="5" ry="5" transform="rotate(-120 41.34 65)"><animate attributeName="opacity" begin="-0.3333333333333333s" dur="1s" from="1" repeatCount="indefinite" to="0"/></rect><rect width="6" height="20" x="47" y="40" fill="#fff" rx="5" ry="5" transform="rotate(-90 35 65)"><animate attributeName="opacity" begin="-0.25s" dur="1s" from="1" repeatCount="indefinite" to="0"/></rect><rect width="6" height="20" x="47" y="40" fill="#fff" rx="5" ry="5" transform="rotate(-60 24.02 65)"><animate attributeName="opacity" begin="-0.16666666666666666s" dur="1s" from="1" repeatCount="indefinite" to="0"/></rect><rect width="6" height="20" x="47" y="40" fill="#fff" rx="5" ry="5" transform="rotate(-30 -5.98 65)"><animate attributeName="opacity" begin="-0.08333333333333333s" dur="1s" from="1" repeatCount="indefinite" to="0"/></rect></svg>'},{}],"1ElZc":[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 24 24"><path fill="#fff" d="M9.5 9.325v5.35q0 .575.525.875t1.025-.05l4.15-2.65q.475-.3.475-.85t-.475-.85L11.05 8.5q-.5-.35-1.025-.05t-.525.875M12 22q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12t.788-3.9 2.137-3.175q1.35-1.35 3.175-2.137T12 2t3.9.788 3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22"/></svg>'},{}],lmgoP:[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" style="width:100%;height:100%" viewBox="0 0 24 24"><path fill="#fff" d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"/></svg>'},{}],lVWoQ:[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"><path d="M17.982 9.275 8.06 3.27A2.013 2.013 0 0 0 5 4.994v12.011a2.017 2.017 0 0 0 3.06 1.725l9.922-6.005a2.017 2.017 0 0 0 0-3.45"/></svg>'},{}],"5Mnax":[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"><path d="M7 3a2 2 0 0 0-2 2v12a2 2 0 1 0 4 0V5a2 2 0 0 0-2-2m8 0a2 2 0 0 0-2 2v12a2 2 0 1 0 4 0V5a2 2 0 0 0-2-2"/></svg>'},{}],w3eIa:[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"><path d="M10.188 4.65 6 8H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1l4.188 3.35a.5.5 0 0 0 .812-.39V5.04a.498.498 0 0 0-.812-.39m4.258-.872a1 1 0 0 0-.862 1.804 6.002 6.002 0 0 1-.007 10.838 1 1 0 0 0 .86 1.806A8 8 0 0 0 19 11a8 8 0 0 0-4.554-7.222"/><path d="M15 11a4 4 0 0 0-2-3.465v6.93A4 4 0 0 0 15 11"/></svg>'},{}],rHjo1:[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"><path d="M15 11a4 4 0 0 0-2-3.465v2.636l1.865 1.865A4 4 0 0 0 15 11"/><path d="M13.583 5.583A6 6 0 0 1 17 11a6 6 0 0 1-.585 2.587l1.477 1.477a8 8 0 0 0-3.446-11.286 1 1 0 0 0-.863 1.805m5.195 13.195-2.121-2.121-1.414-1.414-1.415-1.415L13 13l-2-2-3.889-3.889-3.889-3.889a.999.999 0 1 0-1.414 1.414L5.172 8H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1l4.188 3.35a.5.5 0 0 0 .812-.39v-3.131l2.587 2.587-.01.005a1 1 0 0 0 .86 1.806q.322-.154.627-.333l2.3 2.3a1.001 1.001 0 0 0 1.414-1.416M11 5.04a.5.5 0 0 0-.813-.39L8.682 5.854 11 8.172z"/></svg>'},{}],"2KcqM":[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 50 50"><path d="M19.402 6a5 5 0 0 0-4.902 4.012L14.098 12H9a5 5 0 0 0-5 5v21a5 5 0 0 0 5 5h32a5 5 0 0 0 5-5V17a5 5 0 0 0-5-5h-5.098l-.402-1.988A5 5 0 0 0 30.598 6ZM25 17c5.52 0 10 4.48 10 10s-4.48 10-10 10-10-4.48-10-10 4.48-10 10-10m0 2c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8"/></svg>'},{}],"8rQMV":[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"><circle cx="11" cy="11" r="2"/><path d="M19.164 8.861 17.6 8.6a7 7 0 0 0-1.186-2.099l.574-1.533a1 1 0 0 0-.436-1.217l-1.997-1.153a1 1 0 0 0-1.272.23l-1.008 1.225a7 7 0 0 0-2.55.001L8.716 2.829a1 1 0 0 0-1.272-.23L5.447 3.751a1 1 0 0 0-.436 1.217l.574 1.533A7 7 0 0 0 4.4 8.6l-1.564.261A1 1 0 0 0 2 9.847v2.306c0 .489.353.906.836.986l1.613.269a7 7 0 0 0 1.228 2.075l-.558 1.487a1 1 0 0 0 .436 1.217l1.997 1.153c.423.244.961.147 1.272-.23l1.04-1.263a7.1 7.1 0 0 0 2.272 0l1.04 1.263a1 1 0 0 0 1.272.23l1.997-1.153a1 1 0 0 0 .436-1.217l-.557-1.487c.521-.61.94-1.31 1.228-2.075l1.613-.269a1 1 0 0 0 .835-.986V9.847a1 1 0 0 0-.836-.986M11 15a4 4 0 1 1 0-8 4 4 0 0 1 0 8"/></svg>'},{}],kqGBE:[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="#fff" d="m19.41 20.09-4.58-4.59 4.58-4.59L18 9.5l-6 6 6 6z"/></svg>'},{}],aFjpC:[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="#fff" d="m12.59 20.34 4.58-4.59-4.58-4.59L14 9.75l6 6-6 6z"/></svg>'},{}],lx7ZM:[function(n,r,s,o){r.exports='<svg width="24" height="24" viewBox="0 0 24 24"><path fill="#fff" d="M10 8v8l6-4zM6.3 5l-.6-.8C7.2 3 9 2.2 11 2l.1 1c-1.8.2-3.4.9-4.8 2M5 6.3l-.8-.6C3 7.2 2.2 9 2 11l1 .1c.2-1.8.9-3.4 2-4.8m0 11.4c-1.1-1.4-1.8-3.1-2-4.8L2 13c.2 2 1 3.8 2.2 5.4zm6.1 3.3c-1.8-.2-3.4-.9-4.8-2l-.6.8C7.2 21 9 21.8 11 22zM22 12c0-5.2-3.9-9.4-9-10l-.1 1c4.6.5 8.1 4.3 8.1 9s-3.5 8.5-8.1 9l.1 1c5.2-.5 9-4.8 9-10" style="--darkreader-inline-fill:#a8a6a4"/></svg>'},{}],"2sEjf":[function(n,r,s,o){r.exports=`<svg xmlns="http://www.w3.org/2000/svg" style="width:100%;height:100%;transform:translate(0,0)" viewBox="0 0 88 88"><defs><clipPath id="a"><path d="M0 0h88v88H0z"/></clipPath></defs><g clip-path="url('#a')" style="display:block"><path fill="#FFF" d="m12.438-12.702-2.82 2.82c-.79.79-.79 2.05 0 2.83l7.07 7.07-7.07 7.07c-.79.79-.79 2.05 0 2.83l2.82 2.83c.79.78 2.05.78 2.83 0l11.32-11.31c.78-.78.78-2.05 0-2.83l-11.32-11.31c-.78-.79-2.04-.79-2.83 0m-24.88 0c-.74-.74-1.92-.78-2.7-.12l-.13.12-11.31 11.31a2 2 0 0 0-.12 2.7l.12.13 11.31 11.31a2 2 0 0 0 2.7.12l.13-.12 2.83-2.83c.74-.74.78-1.91.11-2.7l-.11-.13-7.07-7.07 7.07-7.07c.74-.74.78-1.91.11-2.7l-.11-.13zM28-28c4.42 0 8 3.58 8 8v40c0 4.42-3.58 8-8 8h-56c-4.42 0-8-3.58-8-8v-40c0-4.42 3.58-8 8-8z" style="--darkreader-inline-fill:#a8a6a4" transform="translate(44 44)"/></g></svg>`},{}],fQTgE:[function(n,r,s,o){r.exports='<svg width="24" height="24" viewBox="0 0 24 24"><path fill="#fff" d="M15 17h6v1h-6zm-4 0H3v1h8v2h1v-5h-1zm3-9h1V3h-1v2H3v1h11zm4-3v1h3V5zM6 14h1V9H6v2H3v1h3zm4-2h11v-1H10z" style="--darkreader-inline-fill:#a8a6a4"/></svg>'},{}],"2CaxO":[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 36 36"><path d="M25 17h-8v6h8zm4 8V10.98C29 9.88 28.1 9 27 9H9c-1.1 0-2 .88-2 1.98V25c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2m-2 .02H9V10.97h18z"/></svg>'},{}],aCGnW:[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" class="icon" viewBox="0 0 1024 1024"><path fill="#fff" d="M298.667 426.667v-85.334a213.333 213.333 0 1 1 426.666 0v85.334H768A85.333 85.333 0 0 1 853.333 512v256A85.333 85.333 0 0 1 768 853.333H256A85.333 85.333 0 0 1 170.667 768V512A85.333 85.333 0 0 1 256 426.667zM512 213.333a128 128 0 0 0-128 128v85.334h256v-85.334a128 128 0 0 0-128-128"/></svg>'},{}],bTrAV:[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" class="icon" viewBox="0 0 1024 1024"><path fill="#fff" d="m666.752 194.517-49.365 74.112A128 128 0 0 0 384 341.333l.043 85.334h384A85.333 85.333 0 0 1 853.376 512v256a85.333 85.333 0 0 1-85.333 85.333H256A85.333 85.333 0 0 1 170.667 768V512A85.333 85.333 0 0 1 256 426.667h42.667v-85.334a213.333 213.333 0 0 1 368.085-146.816"/></svg>'},{}],bA3p0:[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" class="icon" viewBox="0 0 1024 1024"><path fill="#fff" d="M768 298.667h170.667V384h-256V128H768zM341.333 384h-256v-85.333H256V128h85.333zM768 725.333V896h-85.333V640h256v85.333zM341.333 640v256H256V725.333H85.333V640z"/></svg>'},{}],fTuY8:[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" class="icon" viewBox="0 0 1024 1024"><path fill="#fff" d="M625.778 256H768v142.222h113.778v-256h-256zM256 398.222V256h142.222V142.222h-256v256zm512 227.556V768H625.778v113.778h256v-256zM398.222 768H256V625.778H142.222v256h256z"/></svg>'},{}],tvKf4:[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" class="icon" viewBox="0 0 1152 1024"><path fill="#fff" d="M1075.2 0H76.8A76.8 76.8 0 0 0 0 76.8v870.4a76.8 76.8 0 0 0 76.8 76.8h998.4a76.8 76.8 0 0 0 76.8-76.8V76.8A76.8 76.8 0 0 0 1075.2 0M1024 128v768H128V128zM896 512a64 64 0 0 1 7.488 127.552L896 640H768v128a64 64 0 0 1-56.512 63.552L704 832a64 64 0 0 1-63.552-56.512L640 768V582.592c0-34.496 25.024-66.112 61.632-70.208l8-.384zm-640 0a64 64 0 0 1-7.488-127.552L256 384h128V256a64 64 0 0 1 56.512-63.552L448 192a64 64 0 0 1 63.552 56.512L512 256v185.408c0 34.432-25.024 66.112-61.632 70.144l-8 .448z"/></svg>'},{}],"1F1oB":[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" class="icon" viewBox="0 0 1152 1024"><path fill="#fff" d="M1075.2 0H76.8A76.8 76.8 0 0 0 0 76.8v870.4a76.8 76.8 0 0 0 76.8 76.8h998.4a76.8 76.8 0 0 0 76.8-76.8V76.8A76.8 76.8 0 0 0 1075.2 0M1024 128v768H128V128zm-576 64a64 64 0 0 1 7.488 127.552L448 320H320v128a64 64 0 0 1-56.512 63.552L256 512a64 64 0 0 1-63.552-56.512L192 448V262.592c0-34.432 25.024-66.112 61.632-70.144l8-.448zm256 640a64 64 0 0 1-7.488-127.552L704 704h128V576a64 64 0 0 1 56.512-63.552L896 512a64 64 0 0 1 63.552 56.512L960 576v185.408c0 34.496-25.024 66.112-61.632 70.208l-8 .384z"/></svg>'},{}],"7qNHs":[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" class="icon" viewBox="0 0 1664 1024"><path fill="#648FFC" d="M1152 0H512a512 512 0 0 0 0 1024h640a512 512 0 0 0 0-1024m0 960a448 448 0 1 1 448-448 448 448 0 0 1-448 448"/></svg>'},{}],"28aV8":[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" class="icon" viewBox="0 0 1740 1024"><path fill="#fff" d="M511.898 1024h670.515c282.419-.41 511.18-229.478 511.18-511.898 0-282.419-228.761-511.488-511.18-511.897H511.898C229.478.615.717 229.683.717 512.102c0 282.42 228.761 511.488 511.18 511.898m-.564-975.36A464.589 464.589 0 1 1 48.026 513.024 463.87 463.87 0 0 1 511.334 48.435z"/></svg>'},{}],"1uXI6":[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" class="icon" viewBox="0 0 1024 1024"><path fill="#fff" d="M554.667 810.667V896h-85.334v-85.333zm-384-632.662a42.67 42.67 0 0 1 34.986 18.219l203.904 291.328a42.67 42.67 0 0 1 0 48.896L205.611 827.776A42.667 42.667 0 0 1 128 803.328V220.672a42.667 42.667 0 0 1 42.667-42.667m682.666 0a42.667 42.667 0 0 1 42.368 37.718l.299 4.949v582.656a42.667 42.667 0 0 1-74.24 28.63l-3.413-4.182-203.904-291.328a42.67 42.67 0 0 1-3.03-43.861l3.03-5.035 203.946-291.328a42.67 42.67 0 0 1 34.944-18.219M554.667 640v85.333h-85.334V640zm-358.4-320.896V716.8L335.957 512 196.31 319.104zm358.4 150.23v85.333h-85.334v-85.334zm0-170.667V384h-85.334v-85.333zm0-170.667v85.333h-85.334V128z"/></svg>'},{}],"9f4dh":[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 1024 1024"><path d="M593.818 168.55 949.82 763.76c26.153 43.746 10.732 99.738-34.447 125.052-14.397 8.069-30.72 12.308-47.37 12.308H155.976c-52.224 0-94.536-40.96-94.536-91.505 0-16.097 4.383-31.928 12.718-45.875l356.004-595.19c26.173-43.724 84.009-58.654 129.208-33.341a93.1 93.1 0 0 1 34.448 33.341M512 819.2a61.44 61.44 0 1 0 0-122.88 61.44 61.44 0 0 0 0 122.88m0-512a72.315 72.315 0 0 0-71.762 81.306l25.723 205.721a46.408 46.408 0 0 0 92.078 0l25.723-205.742A72.315 72.315 0 0 0 512 307.2"/></svg>'},{}],"4nTtS":[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" class="icon" viewBox="0 0 1024 1024"><path d="m571.733 512 268.8-268.8c17.067-17.067 17.067-42.667 0-59.733-17.066-17.067-42.666-17.067-59.733 0L512 452.267l-268.8-268.8c-17.067-17.067-42.667-17.067-59.733 0-17.067 17.066-17.067 42.666 0 59.733l268.8 268.8-268.8 268.8c-17.067 17.067-17.067 42.667 0 59.733 8.533 8.534 19.2 12.8 29.866 12.8s21.334-4.266 29.867-12.8l268.8-268.8 268.8 268.8c8.533 8.534 19.2 12.8 29.867 12.8s21.333-4.266 29.866-12.8c17.067-17.066 17.067-42.666 0-59.733z"/></svg>'},{}],cDPXC:[function(n,r,s,o){r.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="#fff"><path d="M16 1H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h3v-2H3V3h12v8h-2v2h3a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1"/><path d="M4 17h10l-5-6z"/></g></svg>'},{}],"3eYNH":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=n("./flip"),u=i.interopDefault(a),l=n("./aspectRatio"),c=i.interopDefault(l),d=n("./playbackRate"),f=i.interopDefault(d),h=n("./subtitleOffset"),p=i.interopDefault(h),g=n("../utils/component"),v=i.interopDefault(g),y=n("../utils");class _ extends v.default{constructor(w){super(w);let{option:S,controls:E,template:{$setting:T}}=w;this.name="setting",this.$parent=T,this.id=0,this.active=null,this.cache=new Map,this.option=[...this.builtin,...S.settings],S.setting&&(this.format(),this.render(),w.on("blur",()=>{this.show&&(this.show=!1,this.render())}),w.on("focus",I=>{let k=(0,y.includeFromEvent)(I,E.setting),C=(0,y.includeFromEvent)(I,this.$parent);!this.show||k||C||(this.show=!1,this.render())}),w.on("resize",()=>this.resize()))}get builtin(){let w=[],{option:S}=this.art;return S.playbackRate&&w.push((0,f.default)(this.art)),S.aspectRatio&&w.push((0,c.default)(this.art)),S.flip&&w.push((0,u.default)(this.art)),S.subtitleOffset&&w.push((0,p.default)(this.art)),w}traverse(w,S=this.option){var E;for(let T=0;T<S.length;T++){let I=S[T];w(I),(E=I.selector)!=null&&E.length&&this.traverse.call(this,w,I.selector)}}check(w){w.$parent.tooltip=w.html,this.traverse(S=>{S.default=S===w,S.default&&S.$item&&(0,y.inverseClass)(S.$item,"art-current")},w.$option),this.render(w.$parents)}format(w=this.option,S,E,T=[]){for(let I=0;I<w.length;I++){let k=w[I];if(k!=null&&k.name?((0,y.errorHandle)(!T.includes(k.name),`The [${k.name}] is already exist in [setting]`),T.push(k.name)):k.name=`setting-${this.id++}`,!k.$formatted){(0,y.def)(k,"$parent",{get:()=>S}),(0,y.def)(k,"$parents",{get:()=>E}),(0,y.def)(k,"$option",{get:()=>w});let C=[];(0,y.def)(k,"$events",{get:()=>C}),(0,y.def)(k,"$formatted",{get:()=>!0})}this.format(k.selector||[],k,w,T)}this.option=w}find(w=""){let S=null;return this.traverse(E=>{E.name===w&&(S=E)}),S}resize(){var k,C;let{controls:w,constructor:{SETTING_WIDTH:S,SETTING_ITEM_HEIGHT:E},template:{$player:T,$setting:I}}=this.art;if(w.setting&&this.show){let N=((C=(k=this.active[0])==null?void 0:k.$parent)==null?void 0:C.width)||S,{left:D,width:W}=(0,y.getRect)(w.setting),{left:H,width:V}=(0,y.getRect)(T),R=D-H+W/2-N/2,z=this.active===this.option?this.active.length*E:(this.active.length+1)*E;if((0,y.setStyle)(I,"height",`${z}px`),(0,y.setStyle)(I,"width",`${N}px`),this.art.isRotate||y.isMobile)return;R+N>V?((0,y.setStyle)(I,"left",null),(0,y.setStyle)(I,"right",null)):((0,y.setStyle)(I,"left",`${R}px`),(0,y.setStyle)(I,"right","auto"))}}inactivate(w){for(let S=0;S<w.$events.length;S++)this.art.events.remove(w.$events[S]);w.$events.length=0}remove(w){let S=this.find(w);(0,y.errorHandle)(S,`Can't find [${w}] in the [setting]`);let E=S.$option.indexOf(S);S.$option.splice(E,1),this.inactivate(S),S.$item&&(0,y.remove)(S.$item),this.render()}update(w){let S=this.find(w.name);return S?(this.inactivate(S),Object.assign(S,w),this.format(),this.creatItem(S,!0),this.render(),S):this.add(w)}add(w,S=this.option){return S.push(w),this.format(),this.creatItem(w),this.render(),w}creatHeader(w){if(!this.cache.has(w.$option))return;let S=this.cache.get(w.$option),{proxy:E,icons:{arrowLeft:T},constructor:{SETTING_ITEM_HEIGHT:I}}=this.art,k=(0,y.createElement)("div");(0,y.setStyle)(k,"height",`${I}px`),(0,y.addClass)(k,"art-setting-item"),(0,y.addClass)(k,"art-setting-item-back");let C=(0,y.append)(k,'<div class="art-setting-item-left"></div>'),N=(0,y.createElement)("div");(0,y.addClass)(N,"art-setting-item-left-icon"),(0,y.append)(N,T),(0,y.append)(C,N),(0,y.append)(C,w.$parent.html);let D=E(k,"click",()=>this.render(w.$parents));w.$parent.$events.push(D),(0,y.append)(S,k)}creatItem(w,S=!1){var M,B;if(!this.cache.has(w.$option))return;let E=this.cache.get(w.$option),T=w.$item,I="selector";(0,y.has)(w,"switch")&&(I="switch"),(0,y.has)(w,"range")&&(I="range"),(0,y.has)(w,"onClick")&&(I="button");let{icons:k,proxy:C,constructor:N}=this.art,D=(0,y.createElement)("div");(0,y.addClass)(D,"art-setting-item"),(0,y.setStyle)(D,"height",`${N.SETTING_ITEM_HEIGHT}px`),D.dataset.name=w.name||"",D.dataset.value=w.value||"";let W=(0,y.append)(D,'<div class="art-setting-item-left"></div>'),H=(0,y.append)(D,'<div class="art-setting-item-right"></div>'),V=(0,y.createElement)("div");switch((0,y.addClass)(V,"art-setting-item-left-icon"),I){case"button":case"switch":case"range":(0,y.append)(V,w.icon||k.config);break;case"selector":(M=w.selector)!=null&&M.length?(0,y.append)(V,w.icon||k.config):(0,y.append)(V,k.check)}(0,y.append)(W,V),(0,y.def)(w,"$icon",{configurable:!0,get:()=>V}),(0,y.def)(w,"icon",{configurable:!0,get:()=>V.innerHTML,set(j){V.innerHTML="",(0,y.append)(V,j)}});let R=(0,y.createElement)("div");(0,y.addClass)(R,"art-setting-item-left-text"),(0,y.append)(R,w.html||""),(0,y.append)(W,R),(0,y.def)(w,"$html",{configurable:!0,get:()=>R}),(0,y.def)(w,"html",{configurable:!0,get:()=>R.innerHTML,set(j){R.innerHTML="",(0,y.append)(R,j)}});let z=(0,y.createElement)("div");switch((0,y.addClass)(z,"art-setting-item-right-tooltip"),(0,y.append)(z,w.tooltip||""),(0,y.append)(H,z),(0,y.def)(w,"$tooltip",{configurable:!0,get:()=>z}),(0,y.def)(w,"tooltip",{configurable:!0,get:()=>z.innerHTML,set(j){z.innerHTML="",(0,y.append)(z,j)}}),I){case"switch":{let j=(0,y.createElement)("div");(0,y.addClass)(j,"art-setting-item-right-icon");let X=(0,y.append)(j,k.switchOn),se=(0,y.append)(j,k.switchOff);(0,y.setStyle)(w.switch?se:X,"display","none"),(0,y.append)(H,j),(0,y.def)(w,"$switch",{configurable:!0,get:()=>j});let te=w.switch;(0,y.def)(w,"switch",{configurable:!0,get:()=>te,set(ie){te=ie,ie?((0,y.setStyle)(se,"display","none"),(0,y.setStyle)(X,"display",null)):((0,y.setStyle)(se,"display",null),(0,y.setStyle)(X,"display","none"))}});break}case"range":{let j=(0,y.createElement)("div");(0,y.addClass)(j,"art-setting-item-right-icon");let X=(0,y.append)(j,'<input type="range">');X.value=w.range[0],X.min=w.range[1],X.max=w.range[2],X.step=w.range[3],(0,y.addClass)(X,"art-setting-range"),(0,y.append)(H,j),(0,y.def)(w,"$range",{configurable:!0,get:()=>X});let se=[...w.range];(0,y.def)(w,"range",{configurable:!0,get:()=>se,set(te){se=[...te],X.value=te[0],X.min=te[1],X.max=te[2],X.step=te[3]}})}break;case"selector":if((B=w.selector)!=null&&B.length){let j=(0,y.createElement)("div");(0,y.addClass)(j,"art-setting-item-right-icon"),(0,y.append)(j,k.arrowRight),(0,y.append)(H,j)}}switch(I){case"switch":if(w.onSwitch){let j=C(D,"click",async X=>{w.switch=await w.onSwitch.call(this.art,w,D,X)});w.$events.push(j)}break;case"range":if(w.$range){if(w.onRange){let j=C(w.$range,"change",async X=>{w.range[0]=w.$range.valueAsNumber,w.tooltip=await w.onRange.call(this.art,w,D,X)});w.$events.push(j)}if(w.onChange){let j=C(w.$range,"input",async X=>{w.range[0]=w.$range.valueAsNumber,w.tooltip=await w.onChange.call(this.art,w,D,X)});w.$events.push(j)}}break;case"selector":{let j=C(D,"click",async X=>{var se;(se=w.selector)!=null&&se.length?this.render(w.selector):(this.check(w),w.$parent.onSelect&&(w.$parent.tooltip=await w.$parent.onSelect.call(this.art,w,D,X)))});w.$events.push(j),w.default&&(0,y.addClass)(D,"art-current")}break;case"button":if(w.onClick){let j=C(D,"click",async X=>{w.tooltip=await w.onClick.call(this.art,w,D,X)});w.$events.push(j)}}(0,y.def)(w,"$item",{configurable:!0,get:()=>D}),S?(0,y.replaceElement)(D,T):(0,y.append)(E,D),w.mounted&&setTimeout(()=>w.mounted.call(this.art,w.$item,w),0)}render(w=this.option){var S;if(this.active=w,this.cache.has(w)){let E=this.cache.get(w);(0,y.inverseClass)(E,"art-current")}else{let E=(0,y.createElement)("div");this.cache.set(w,E),(0,y.addClass)(E,"art-setting-panel"),(0,y.append)(this.$parent,E),(0,y.inverseClass)(E,"art-current"),(S=w[0])!=null&&S.$parent&&this.creatHeader(w[0]);for(let T=0;T<w.length;T++)this.creatItem(w[T])}this.resize()}}s.default=_},{"./flip":"kONUB","./aspectRatio":"84NBV","./playbackRate":"aetWt","./subtitleOffset":"fIBkO","../utils/component":"18nVI","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kONUB:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{i18n:c,icons:d,constructor:{SETTING_ITEM_WIDTH:f,FLIP:h}}=l;function p(v){return c.get((0,a.capitalize)(v))}function g(){let v=l.setting.find(`flip-${l.flip}`);l.setting.check(v)}return{width:f,name:"flip",html:c.get("Video Flip"),tooltip:p(l.flip),icon:d.flip,selector:h.map(v=>({value:v,name:`flip-${v}`,default:v===l.flip,html:p(v)})),onSelect:v=>(l.flip=v.value,v.html),mounted:()=>{g(),l.on("flip",()=>g())}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"84NBV":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");function a(u){let{i18n:l,icons:c,constructor:{SETTING_ITEM_WIDTH:d,ASPECT_RATIO:f}}=u;function h(g){return g==="default"?l.get("Default"):g}function p(){let g=u.setting.find(`aspect-ratio-${u.aspectRatio}`);u.setting.check(g)}return{width:d,name:"aspect-ratio",html:l.get("Aspect Ratio"),icon:c.aspectRatio,tooltip:h(u.aspectRatio),selector:f.map(g=>({value:g,name:`aspect-ratio-${g}`,default:g===u.aspectRatio,html:h(g)})),onSelect:g=>(u.aspectRatio=g.value,g.html),mounted:()=>{p(),u.on("aspectRatio",()=>p())}}}i.defineInteropFlag(s),i.export(s,"default",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],aetWt:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");function a(u){let{i18n:l,icons:c,constructor:{SETTING_ITEM_WIDTH:d,PLAYBACK_RATE:f}}=u;function h(g){return g===1?l.get("Normal"):g.toFixed(1)}function p(){let g=u.setting.find(`playback-rate-${u.playbackRate}`);u.setting.check(g)}return{width:d,name:"playback-rate",html:l.get("Play Speed"),tooltip:h(u.playbackRate),icon:c.playbackRate,selector:f.map(g=>({value:g,name:`playback-rate-${g}`,default:g===u.playbackRate,html:h(g)})),onSelect:g=>(u.playbackRate=g.value,g.html),mounted:()=>{p(),u.on("video:ratechange",()=>p())}}}i.defineInteropFlag(s),i.export(s,"default",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fIBkO:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");function a(u){let{i18n:l,icons:c,constructor:d}=u;return{width:d.SETTING_ITEM_WIDTH,name:"subtitle-offset",html:l.get("Subtitle Offset"),icon:c.subtitle,tooltip:"0s",range:[0,-10,10,.1],onChange:f=>(u.subtitleOffset=f.range[0],f.range[0]+"s"),mounted:(f,h)=>{u.on("subtitleOffset",p=>{h.$range.value=p,h.tooltip=p+"s"})}}}i.defineInteropFlag(s),i.export(s,"default",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2aaJe":[function(n,r,s,o){n("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s),s.default=class{constructor(){this.name="artplayer_settings",this.settings={}}get(i){try{let a=JSON.parse(window.localStorage.getItem(this.name))||{};return i?a[i]:a}catch{return i?this.settings[i]:this.settings}}set(i,a){try{let u=Object.assign({},this.get(),{[i]:a});window.localStorage.setItem(this.name,JSON.stringify(u))}catch{this.settings[i]=a}}del(i){try{let a=this.get();delete a[i],window.localStorage.setItem(this.name,JSON.stringify(a))}catch{delete this.settings[i]}}clear(){try{window.localStorage.removeItem(this.name)}catch{this.settings={}}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8MTUM":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s);var a=n("../utils"),u=n("./miniProgressBar"),l=i.interopDefault(u),c=n("./autoOrientation"),d=i.interopDefault(c),f=n("./autoPlayback"),h=i.interopDefault(f),p=n("./fastForward"),g=i.interopDefault(p),v=n("./lock"),y=i.interopDefault(v);s.default=class{constructor(_){this.art=_,this.id=0;let{option:b}=_;b.miniProgressBar&&!b.isLive&&this.add(l.default),b.lock&&a.isMobile&&this.add(y.default),b.autoPlayback&&!b.isLive&&this.add(h.default),b.autoOrientation&&a.isMobile&&this.add(d.default),b.fastForward&&a.isMobile&&!b.isLive&&this.add(g.default);for(let w=0;w<b.plugins.length;w++)this.add(b.plugins[w])}add(_){this.id+=1;let b=_.call(this.art,this.art);return b instanceof Promise?b.then(w=>this.next(_,w)):this.next(_,b)}next(_,b){let w=b&&b.name||_.name||`plugin${this.id}`;return(0,a.errorHandle)(!(0,a.has)(this,w),`Cannot add a plugin that already has the same name: ${w}`),(0,a.def)(this,w,{value:b}),this}}},{"../utils":"71aH7","./miniProgressBar":"87pSL","./autoOrientation":"ePEg5","./autoPlayback":"cVO99","./fastForward":"hFDwt","./lock":"1hsTH","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"87pSL":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){return l.on("control",c=>{c?(0,a.removeClass)(l.template.$player,"art-mini-progress-bar"):(0,a.addClass)(l.template.$player,"art-mini-progress-bar")}),{name:"mini-progress-bar"}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],ePEg5:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{constructor:c,template:{$player:d,$video:f}}=l;return l.on("fullscreenWeb",h=>{if(h){let{videoWidth:p,videoHeight:g}=f,{clientWidth:v,clientHeight:y}=document.documentElement;(p>g&&v<y||p<g&&v>y)&&setTimeout(()=>{(0,a.setStyle)(d,"width",`${y}px`),(0,a.setStyle)(d,"height",`${v}px`),(0,a.setStyle)(d,"transform-origin","0 0"),(0,a.setStyle)(d,"transform",`rotate(90deg) translate(0, -${v}px)`),(0,a.addClass)(d,"art-auto-orientation"),l.isRotate=!0,l.emit("resize")},c.AUTO_ORIENTATION_TIME)}else(0,a.hasClass)(d,"art-auto-orientation")&&((0,a.removeClass)(d,"art-auto-orientation"),l.isRotate=!1,l.emit("resize"))}),l.on("fullscreen",async h=>{var g;if(!((g=screen==null?void 0:screen.orientation)!=null&&g.lock))return;let p=screen.orientation.type;if(h){let{videoWidth:v,videoHeight:y}=f,{clientWidth:_,clientHeight:b}=document.documentElement;if(v>y&&_<b||v<y&&_>b){let w=p.startsWith("portrait")?"landscape":"portrait";await screen.orientation.lock(w),(0,a.addClass)(d,"art-auto-orientation-fullscreen")}}else(0,a.hasClass)(d,"art-auto-orientation-fullscreen")&&(await screen.orientation.lock(p),(0,a.removeClass)(d,"art-auto-orientation-fullscreen"))}),{name:"autoOrientation",get state(){return(0,a.hasClass)(d,"art-auto-orientation")}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],cVO99:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{i18n:c,icons:d,storage:f,constructor:h,proxy:p,template:{$poster:g}}=l,v=l.layers.add({name:"auto-playback",html:'<div class="art-auto-playback-close"></div><div class="art-auto-playback-last"></div><div class="art-auto-playback-jump"></div>'}),y=(0,a.query)(".art-auto-playback-last",v),_=(0,a.query)(".art-auto-playback-jump",v),b=(0,a.query)(".art-auto-playback-close",v);(0,a.append)(b,d.close);let w=null;function S(){let E=(f.get("times")||{})[l.option.id||l.option.url];clearTimeout(w),(0,a.setStyle)(v,"display","none"),E&&E>=h.AUTO_PLAYBACK_MIN&&((0,a.setStyle)(v,"display","flex"),y.innerText=`${c.get("Last Seen")} ${(0,a.secondToTime)(E)}`,_.innerText=c.get("Jump Play"),p(b,"click",()=>{(0,a.setStyle)(v,"display","none")}),p(_,"click",()=>{l.seek=E,l.play(),(0,a.setStyle)(g,"display","none"),(0,a.setStyle)(v,"display","none")}),l.once("video:timeupdate",()=>{w=setTimeout(()=>{(0,a.setStyle)(v,"display","none")},h.AUTO_PLAYBACK_TIMEOUT)}))}return l.on("video:timeupdate",()=>{if(l.playing){let E=f.get("times")||{},T=Object.keys(E);T.length>h.AUTO_PLAYBACK_MAX&&delete E[T[0]],E[l.option.id||l.option.url]=l.currentTime,f.set("times",E)}}),l.on("ready",S),l.on("restart",S),{name:"auto-playback",get times(){return f.get("times")||{}},clear:()=>f.del("times"),delete(E){let T=f.get("times")||{};return delete T[E],f.set("times",T),T}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],hFDwt:[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{constructor:c,proxy:d,template:{$player:f,$video:h}}=l,p=null,g=!1,v=1,y=()=>{clearTimeout(p),g&&(g=!1,l.playbackRate=v,(0,a.removeClass)(f,"art-fast-forward"))};return d(h,"touchstart",_=>{_.touches.length===1&&l.playing&&!l.isLock&&(p=setTimeout(()=>{g=!0,v=l.playbackRate,l.playbackRate=c.FAST_FORWARD_VALUE,(0,a.addClass)(f,"art-fast-forward")},c.FAST_FORWARD_TIME))}),d(document,"touchmove",y),d(document,"touchend",y),{name:"fastForward",get state(){return(0,a.hasClass)(f,"art-fast-forward")}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1hsTH":[function(n,r,s,o){var i=n("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(s),i.export(s,"default",()=>u);var a=n("../utils");function u(l){let{layers:c,icons:d,template:{$player:f}}=l;function h(){return(0,a.hasClass)(f,"art-lock")}function p(){(0,a.addClass)(f,"art-lock"),l.isLock=!0,l.emit("lock",!0)}function g(){(0,a.removeClass)(f,"art-lock"),l.isLock=!1,l.emit("lock",!1)}return c.add({name:"lock",mounted(v){let y=(0,a.append)(v,d.lock),_=(0,a.append)(v,d.unlock);(0,a.setStyle)(y,"display","none"),l.on("lock",b=>{b?((0,a.setStyle)(y,"display","inline-flex"),(0,a.setStyle)(_,"display","none")):((0,a.setStyle)(y,"display","none"),(0,a.setStyle)(_,"display","inline-flex"))})},click(){h()?g():p()}}),{name:"lock",get state(){return h()},set state(v){v?p():g()}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}]},["5lTcX"],"5lTcX","parcelRequire4dc0",{})})(Zp,Zp.exports);var Bfe=Zp.exports;const IP=Ks(Bfe),jt=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},Vfe=Number.isSafeInteger||function(t){return typeof t=="number"&&Math.abs(t)<=Ufe},Ufe=Number.MAX_SAFE_INTEGER||9007199254740991;let tn=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),Xe=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",t.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",t.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.ASSET_LIST_LOAD_ERROR="assetListLoadError",t.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",t.ASSET_LIST_PARSING_ERROR="assetListParsingError",t.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.ATTACH_MEDIA_ERROR="attachMediaError",t.UNKNOWN="unknown",t}({}),Q=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.MEDIA_ENDED="hlsMediaEnded",t.STALL_RESOLVED="hlsStallResolved",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFERED_TO_END="hlsBufferedToEnd",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t.ASSET_LIST_LOADING="hlsAssetListLoading",t.ASSET_LIST_LOADED="hlsAssetListLoaded",t.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",t.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",t.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",t.INTERSTITIAL_STARTED="hlsInterstitialStarted",t.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",t.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",t.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",t.INTERSTITIAL_ENDED="hlsInterstitialEnded",t.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",t.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",t.EVENT_CUE_ENTER="hlsEventCueEnter",t}({});var kn={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},en={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};class Xl{constructor(e,n=0,r=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=n,this.totalWeight_=r}sample(e,n){const r=Math.pow(this.alpha_,e);this.estimate_=n*(1-r)+r*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class Hfe{constructor(e,n,r,s=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Xl(e),this.fast_=new Xl(n),this.defaultTTFB_=s,this.ttfb_=new Xl(e)}update(e,n){const{slow_:r,fast_:s,ttfb_:o}=this;r.halfLife!==e&&(this.slow_=new Xl(e,r.getEstimate(),r.getTotalWeight())),s.halfLife!==n&&(this.fast_=new Xl(n,s.getEstimate(),s.getTotalWeight())),o.halfLife!==e&&(this.ttfb_=new Xl(e,o.getEstimate(),o.getTotalWeight()))}sample(e,n){e=Math.max(e,this.minDelayMs_);const r=8*n,s=e/1e3,o=r/s;this.fast_.sample(s,o),this.slow_.sample(s,o)}sampleTTFB(e){const n=e/1e3,r=Math.sqrt(2)*Math.exp(-Math.pow(n,2)/2);this.ttfb_.sample(r,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function jfe(t,e,n){return(e=zfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gn(){return Gn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gn.apply(null,arguments)}function OT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(n),!0).forEach(function(r){jfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zfe(t){var e=Kfe(t,"string");return typeof e=="symbol"?e:e+""}class Qi{constructor(e,n){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const r=`[${e}]:`;this.trace=wa,this.debug=n.debug.bind(null,r),this.log=n.log.bind(null,r),this.warn=n.warn.bind(null,r),this.info=n.info.bind(null,r),this.error=n.error.bind(null,r)}}const wa=function(){},Wfe={trace:wa,debug:wa,log:wa,warn:wa,info:wa,error:wa};function Ny(){return Gn({},Wfe)}function Gfe(t,e){const n=self.console[t];return n?n.bind(self.console,`${e?"["+e+"] ":""}[${t}] >`):wa}function MT(t,e,n){return e[t]?e[t].bind(e):Gfe(t,n)}const Fy=Ny();function qfe(t,e,n){const r=Ny();if(typeof console=="object"&&t===!0||typeof t=="object"){const s=["debug","log","info","warn","error"];s.forEach(o=>{r[o]=MT(o,t,n)});try{r.log(`Debug logs enabled for "${e}" in hls.js version 1.6.2`)}catch{return Ny()}s.forEach(o=>{Fy[o]=MT(o,t)})}else Gn(Fy,r);return r}const $n=Fy;function Fa(t=!0){return typeof self>"u"?void 0:(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function Yfe(t){return typeof self<"u"&&t===self.ManagedMediaSource}function AP(t,e){const n=Object.keys(t),r=Object.keys(e),s=n.length,o=r.length;return!s||!o||s===o&&!n.some(i=>r.indexOf(i)===-1)}function Us(t,e=!1){if(typeof TextDecoder<"u"){const l=new TextDecoder("utf-8").decode(t);if(e){const c=l.indexOf("\0");return c!==-1?l.substring(0,c):l}return l.replace(/\0/g,"")}const n=t.length;let r,s,o,i="",a=0;for(;a<n;){if(r=t[a++],r===0&&e)return i;if(r===0||r===3)continue;switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:i+=String.fromCharCode(r);break;case 12:case 13:s=t[a++],i+=String.fromCharCode((r&31)<<6|s&63);break;case 14:s=t[a++],o=t[a++],i+=String.fromCharCode((r&15)<<12|(s&63)<<6|(o&63)<<0);break}}return i}const Go={hexDump:function(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e}};function Xfe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dv={exports:{}},NT;function Qfe(){return NT||(NT=1,function(t,e){(function(n){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,s=/^(?=([^\/?#]*))\1([^]*)$/,o=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(u,l,c){if(c=c||{},u=u.trim(),l=l.trim(),!l){if(!c.alwaysNormalize)return u;var d=a.parseURL(u);if(!d)throw new Error("Error trying to parse base URL.");return d.path=a.normalizePath(d.path),a.buildURLFromParts(d)}var f=a.parseURL(l);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return c.alwaysNormalize?(f.path=a.normalizePath(f.path),a.buildURLFromParts(f)):l;var h=a.parseURL(u);if(!h)throw new Error("Error trying to parse base URL.");if(!h.netLoc&&h.path&&h.path[0]!=="/"){var p=s.exec(h.path);h.netLoc=p[1],h.path=p[2]}h.netLoc&&!h.path&&(h.path="/");var g={scheme:h.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(g.netLoc=h.netLoc,f.path[0]!=="/"))if(!f.path)g.path=h.path,f.params||(g.params=h.params,f.query||(g.query=h.query));else{var v=h.path,y=v.substring(0,v.lastIndexOf("/")+1)+f.path;g.path=a.normalizePath(y)}return g.path===null&&(g.path=c.alwaysNormalize?a.normalizePath(f.path):f.path),a.buildURLFromParts(g)},parseURL:function(u){var l=r.exec(u);return l?{scheme:l[1]||"",netLoc:l[2]||"",path:l[3]||"",params:l[4]||"",query:l[5]||"",fragment:l[6]||""}:null},normalizePath:function(u){for(u=u.split("").reverse().join("").replace(o,"");u.length!==(u=u.replace(i,"")).length;);return u.split("").reverse().join("")},buildURLFromParts:function(u){return u.scheme+u.netLoc+u.path+u.params+u.query+u.fragment}};t.exports=a})()}(Dv)),Dv.exports}var Dw=Qfe();class Ow{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Wn={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class RP{constructor(e){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,typeof e=="string"&&(e={url:e}),this.base=e,Jfe(this,"stats")}setByteRange(e,n){const r=e.split("@",2);let s;r.length===1?s=(n==null?void 0:n.byteRangeEndOffset)||0:s=parseInt(r[1]),this._byteRange=[s,parseInt(r[0])+s]}get baseurl(){return this.base.url}get byteRange(){return this._byteRange===null?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return this._streams===null&&(this._streams={[Wn.AUDIO]:null,[Wn.VIDEO]:null,[Wn.AUDIOVIDEO]:null}),this._streams}set elementaryStreams(e){this._streams=e}get hasStats(){return this._stats!==null}get hasStreams(){return this._streams!==null}get stats(){return this._stats===null&&(this._stats=new Ow),this._stats}set stats(e){this._stats=e}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Dw.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[Wn.AUDIO]=null,e[Wn.VIDEO]=null,e[Wn.AUDIOVIDEO]=null}}function Mr(t){return t.sn!=="initSegment"}class Ov extends RP{constructor(e,n){super(n),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get byteLength(){if(this.hasStats){const e=this.stats.total;if(e)return e}if(this.byteRange){const e=this.byteRange[0],n=this.byteRange[1];if(jt(e)&&jt(n))return n-e}return null}get bitrate(){return this.byteLength?this.byteLength*8/this.duration:this._bitrate?this._bitrate:null}set bitrate(e){this._bitrate=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const n=this.levelkeys.identity;if(n)this._decryptdata=n.getDecryptData(this.sn);else{const r=Object.keys(this.levelkeys);if(r.length===1)return this._decryptdata=this.levelkeys[r[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null)return null;const e=jt(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const n=Object.keys(this.levelkeys),r=n.length;if(r>1||r===1&&this.levelkeys[n[0]].encrypted)return!0}return!1}get programDateTime(){return this._programDateTime===null&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(e){if(!jt(e)){this._programDateTime=this.rawProgramDateTime=null;return}this._programDateTime=e}get ref(){return Mr(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(e){this.setStart(this.start+e)}setStart(e){this.start=e,this._ref&&(this._ref.start=e)}setDuration(e){this.duration=e,this._ref&&(this._ref.duration=e)}setKeyFormat(e){if(this.levelkeys){const n=this.levelkeys[e];n&&!this._decryptdata&&(this._decryptdata=n.getDecryptData(this.sn))}}abortRequests(){var e,n;(e=this.loader)==null||e.abort(),(n=this.keyLoader)==null||n.abort()}setElementaryStreamInfo(e,n,r,s,o,i=!1){const{elementaryStreams:a}=this,u=a[e];if(!u){a[e]={startPTS:n,endPTS:r,startDTS:s,endDTS:o,partial:i};return}u.startPTS=Math.min(u.startPTS,n),u.endPTS=Math.max(u.endPTS,r),u.startDTS=Math.min(u.startDTS,s),u.endDTS=Math.max(u.endDTS,o)}}class Zfe extends RP{constructor(e,n,r,s,o){super(r),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=n,this.index=s;const i=e.enumeratedString("BYTERANGE");i&&this.setByteRange(i,o),o&&(this.fragOffset=o.fragOffset+o.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}function LP(t,e){const n=Object.getPrototypeOf(t);if(n){const r=Object.getOwnPropertyDescriptor(n,e);return r||LP(n,e)}}function Jfe(t,e){const n=LP(t,e);n&&(n.enumerable=!0,Object.defineProperty(t,e,n))}const Jp=Math.pow(2,32)-1,ehe=[].push,$P={video:1,audio:2,id3:3,text:4};function Ir(t){return String.fromCharCode.apply(null,t)}function PP(t,e){const n=t[e]<<8|t[e+1];return n<0?65536+n:n}function on(t,e){const n=DP(t,e);return n<0?4294967296+n:n}function FT(t,e){let n=on(t,e);return n*=Math.pow(2,32),n+=on(t,e+4),n}function DP(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function Mv(t,e,n){t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=n&255}function the(t){const e=t.byteLength;for(let n=0;n<e;){const r=on(t,n);if(r>8&&t[n+4]===109&&t[n+5]===111&&t[n+6]===111&&t[n+7]===102)return!0;n=r>1?n+r:e}return!1}function hn(t,e){const n=[];if(!e.length)return n;const r=t.byteLength;for(let s=0;s<r;){const o=on(t,s),i=Ir(t.subarray(s+4,s+8)),a=o>1?s+o:r;if(i===e[0])if(e.length===1)n.push(t.subarray(s+8,a));else{const u=hn(t.subarray(s+8,a),e.slice(1));u.length&&ehe.apply(n,u)}s=a}return n}function nhe(t){const e=[],n=t[0];let r=8;const s=on(t,r);r+=4;let o=0,i=0;n===0?(o=on(t,r),i=on(t,r+4),r+=8):(o=FT(t,r),i=FT(t,r+8),r+=16),r+=2;let a=t.length+i;const u=PP(t,r);r+=2;for(let l=0;l<u;l++){let c=r;const d=on(t,c);c+=4;const f=d&2147483647;if((d&2147483648)>>>31===1)return $n.warn("SIDX has hierarchical references (not supported)"),null;const p=on(t,c);c+=4,e.push({referenceSize:f,subsegmentDuration:p,info:{duration:p/s,start:a,end:a+f-1}}),a+=f,c+=4,r=c}return{earliestPresentationTime:o,timescale:s,version:n,referencesCount:u,references:e}}function OP(t){const e=[],n=hn(t,["moov","trak"]);for(let s=0;s<n.length;s++){const o=n[s],i=hn(o,["tkhd"])[0];if(i){let a=i[0];const u=on(i,a===0?12:20),l=hn(o,["mdia","mdhd"])[0];if(l){a=l[0];const c=on(l,a===0?12:20),d=hn(o,["mdia","hdlr"])[0];if(d){const f=Ir(d.subarray(8,12)),h={soun:Wn.AUDIO,vide:Wn.VIDEO}[f],p=hn(o,["mdia","minf","stbl","stsd"])[0],g=rhe(p);h?(e[u]={timescale:c,type:h,stsd:g},e[h]=Hn({timescale:c,id:u},g)):e[u]={timescale:c,type:f,stsd:g}}}}}return hn(t,["moov","mvex","trex"]).forEach(s=>{const o=on(s,4),i=e[o];i&&(i.default={duration:on(s,12),flags:on(s,20)})}),e}function rhe(t){const e=t.subarray(8),n=e.subarray(8+78),r=Ir(e.subarray(4,8));let s=r,o;const i=r==="enca"||r==="encv";if(i){const l=hn(e,[r])[0].subarray(r==="enca"?28:78);hn(l,["sinf"]).forEach(d=>{const f=hn(d,["schm"])[0];if(f){const h=Ir(f.subarray(4,8));if(h==="cbcs"||h==="cenc"){const p=hn(d,["frma"])[0];p&&(s=Ir(p))}}})}const a=s;switch(s){case"avc1":case"avc2":case"avc3":case"avc4":{const u=hn(n,["avcC"])[0];u&&u.length>3&&(s+="."+wh(u[1])+wh(u[2])+wh(u[3]),o=bh(a==="avc1"?"dva1":"dvav",n));break}case"mp4a":{const u=hn(e,[r])[0],l=hn(u.subarray(28),["esds"])[0];if(l&&l.length>7){let c=4;if(l[c++]!==3)break;c=Nv(l,c),c+=2;const d=l[c++];if(d&128&&(c+=2),d&64&&(c+=l[c++]),l[c++]!==4)break;c=Nv(l,c);const f=l[c++];if(f===64)s+="."+wh(f);else break;if(c+=12,l[c++]!==5)break;c=Nv(l,c);const h=l[c++];let p=(h&248)>>3;p===31&&(p+=1+((h&7)<<3)+((l[c]&224)>>5)),s+="."+p}break}case"hvc1":case"hev1":{const u=hn(n,["hvcC"])[0];if(u&&u.length>12){const l=u[1],c=["","A","B","C"][l>>6],d=l&31,f=on(u,2),h=(l&32)>>5?"H":"L",p=u[12],g=u.subarray(6,12);s+="."+c+d,s+="."+f.toString(16).toUpperCase(),s+="."+h+p;let v="";for(let y=g.length;y--;){const _=g[y];(_||v)&&(v="."+_.toString(16).toUpperCase()+v)}s+=v}o=bh(a=="hev1"?"dvhe":"dvh1",n);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":{s=bh(s,n)||s;break}case"vp09":{const u=hn(n,["vpcC"])[0];if(u&&u.length>6){const l=u[4],c=u[5],d=u[6]>>4&15;s+="."+Wo(l)+"."+Wo(c)+"."+Wo(d)}break}case"av01":{const u=hn(n,["av1C"])[0];if(u&&u.length>2){const l=u[1]>>>5,c=u[1]&31,d=u[2]>>>7?"H":"M",f=(u[2]&64)>>6,h=(u[2]&32)>>5,p=l===2&&f?h?12:10:f?10:8,g=(u[2]&16)>>4,v=(u[2]&8)>>3,y=(u[2]&4)>>2,_=u[2]&3,b=1,w=1,S=1,E=0;s+="."+l+"."+Wo(c)+d+"."+Wo(p)+"."+g+"."+v+y+_+"."+Wo(b)+"."+Wo(w)+"."+Wo(S)+"."+E,o=bh("dav1",n)}break}}return{codec:s,encrypted:i,supplemental:o}}function bh(t,e){const n=hn(e,["dvvC"]),r=n.length?n[0]:hn(e,["dvcC"])[0];if(r){const s=r[2]>>1&127,o=r[2]<<5&32|r[3]>>3&31;return t+"."+Wo(s)+"."+Wo(o)}}function Nv(t,e){const n=e+5;for(;t[e++]&128&&e<n;);return e}function wh(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function Wo(t){return(t<10?"0":"")+t}function she(t,e){if(!t||!e)return t;const n=e.keyId;return n&&e.isCommonEncryption&&hn(t,["moov","trak"]).forEach(s=>{const i=hn(s,["mdia","minf","stbl","stsd"])[0].subarray(8);let a=hn(i,["enca"]);const u=a.length>0;u||(a=hn(i,["encv"])),a.forEach(l=>{const c=u?l.subarray(28):l.subarray(78);hn(c,["sinf"]).forEach(f=>{const h=MP(f);if(h){const p=h.subarray(8,24);p.some(g=>g!==0)||($n.log(`[eme] Patching keyId in 'enc${u?"a":"v"}>sinf>>tenc' box: ${Go.hexDump(p)} -> ${Go.hexDump(n)}`),h.set(n,8))}})})}),t}function MP(t){const e=hn(t,["schm"])[0];if(e){const n=Ir(e.subarray(4,8));if(n==="cbcs"||n==="cenc")return hn(t,["schi","tenc"])[0]}return null}function ohe(t,e){return hn(e,["moof","traf"]).reduce((n,r)=>{const s=hn(r,["tfdt"])[0],o=s[0],i=hn(r,["tfhd"]).reduce((a,u)=>{const l=on(u,4),c=t[l];if(c){let d=on(s,4);if(o===1){if(d===Jp)return $n.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),a;d*=Jp+1,d+=on(s,8)}const f=c.timescale||9e4,h=d/f;if(jt(h)&&(a===null||h<a))return h}return a},null);return i!==null&&jt(i)&&(n===null||i<n)?i:n},null)}function ihe(t,e){let n=0,r=0,s=0;const o=hn(t,["moof","traf"]);for(let i=0;i<o.length;i++){const a=o[i],u=hn(a,["tfhd"])[0],l=on(u,4),c=e[l];if(!c)continue;const d=c.default,f=on(u,0)|(d==null?void 0:d.flags);let h=d==null?void 0:d.duration;f&8&&(f&2?h=on(u,12):h=on(u,8));const p=c.timescale||9e4,g=hn(a,["trun"]);for(let v=0;v<g.length;v++){if(n=ahe(g[v]),!n&&h){const y=on(g[v],4);n=h*y}c.type===Wn.VIDEO?r+=n/p:c.type===Wn.AUDIO&&(s+=n/p)}}if(r===0&&s===0){let i=1/0,a=0,u=0;const l=hn(t,["sidx"]);for(let c=0;c<l.length;c++){const d=nhe(l[c]);if(d!=null&&d.references){i=Math.min(i,d.earliestPresentationTime/d.timescale);const f=d.references.reduce((h,p)=>h+p.info.duration||0,0);a=Math.max(a,f+d.earliestPresentationTime/d.timescale),u=a-i}}if(u&&jt(u))return u}return r||s}function ahe(t){const e=on(t,0);let n=8;e&1&&(n+=4),e&4&&(n+=4);let r=0;const s=on(t,4);for(let o=0;o<s;o++){if(e&256){const i=on(t,n);r+=i,n+=4}e&512&&(n+=4),e&1024&&(n+=4),e&2048&&(n+=4)}return r}function lhe(t,e,n){hn(e,["moof","traf"]).forEach(r=>{hn(r,["tfhd"]).forEach(s=>{const o=on(s,4),i=t[o];if(!i)return;const a=i.timescale||9e4;hn(r,["tfdt"]).forEach(u=>{const l=u[0],c=n*a;if(c){let d=on(u,4);if(l===0)d-=c,d=Math.max(d,0),Mv(u,4,d);else{d*=Math.pow(2,32),d+=on(u,8),d-=c,d=Math.max(d,0);const f=Math.floor(d/(Jp+1)),h=Math.floor(d%(Jp+1));Mv(u,4,f),Mv(u,8,h)}}})})})}function uhe(t){const e={valid:null,remainder:null},n=hn(t,["moof"]);if(n.length<2)return e.remainder=t,e;const r=n[n.length-1];return e.valid=t.slice(0,r.byteOffset-8),e.remainder=t.slice(r.byteOffset-8),e}function ho(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function BT(t,e){const n=[],r=e.samples,s=e.timescale,o=e.id;let i=!1;return hn(r,["moof"]).map(u=>{const l=u.byteOffset-8;hn(u,["traf"]).map(d=>{const f=hn(d,["tfdt"]).map(h=>{const p=h[0];let g=on(h,4);return p===1&&(g*=Math.pow(2,32),g+=on(h,8)),g/s})[0];return f!==void 0&&(t=f),hn(d,["tfhd"]).map(h=>{const p=on(h,4),g=on(h,0)&16777215,v=(g&1)!==0,y=(g&2)!==0,_=(g&8)!==0;let b=0;const w=(g&16)!==0;let S=0;const E=(g&32)!==0;let T=8;p===o&&(v&&(T+=8),y&&(T+=4),_&&(b=on(h,T),T+=4),w&&(S=on(h,T),T+=4),E&&(T+=4),e.type==="video"&&(i=pg(e.codec)),hn(d,["trun"]).map(I=>{const k=I[0],C=on(I,0)&16777215,N=(C&1)!==0;let D=0;const W=(C&4)!==0,H=(C&256)!==0;let V=0;const R=(C&512)!==0;let z=0;const M=(C&1024)!==0,B=(C&2048)!==0;let j=0;const X=on(I,4);let se=8;N&&(D=on(I,se),se+=4),W&&(se+=4);let te=D+l;for(let ie=0;ie<X;ie++){if(H?(V=on(I,se),se+=4):V=b,R?(z=on(I,se),se+=4):z=S,M&&(se+=4),B&&(k===0?j=on(I,se):j=DP(I,se),se+=4),e.type===Wn.VIDEO){let fe=0;for(;fe<z;){const ue=on(r,te);if(te+=4,che(i,r[te])){const J=r.subarray(te,te+ue);Mw(J,i?2:1,t+j/s,n)}te+=ue,fe+=ue+4}}t+=V/s}}))})})}),n}function pg(t){if(!t)return!1;const e=t.substring(0,4);return e==="hvc1"||e==="hev1"||e==="dvh1"||e==="dvhe"}function che(t,e){if(t){const n=e>>1&63;return n===39||n===40}else return(e&31)===6}function Mw(t,e,n,r){const s=NP(t);let o=0;o+=e;let i=0,a=0,u=0;for(;o<s.length;){i=0;do{if(o>=s.length)break;u=s[o++],i+=u}while(u===255);a=0;do{if(o>=s.length)break;u=s[o++],a+=u}while(u===255);const l=s.length-o;let c=o;if(a<l)o+=a;else if(a>l){$n.error(`Malformed SEI payload. ${a} is too small, only ${l} bytes left to parse.`);break}if(i===4){if(s[c++]===181){const f=PP(s,c);if(c+=2,f===49){const h=on(s,c);if(c+=4,h===1195456820){const p=s[c++];if(p===3){const g=s[c++],v=31&g,y=64&g,_=y?2+v*3:0,b=new Uint8Array(_);if(y){b[0]=g;for(let w=1;w<_;w++)b[w]=s[c++]}r.push({type:p,payloadType:i,pts:n,bytes:b})}}}}}else if(i===5&&a>16){const d=[];for(let p=0;p<16;p++){const g=s[c++].toString(16);d.push(g.length==1?"0"+g:g),(p===3||p===5||p===7||p===9)&&d.push("-")}const f=a-16,h=new Uint8Array(f);for(let p=0;p<f;p++)h[p]=s[c++];r.push({payloadType:i,pts:n,uuid:d.join(""),userData:Us(h),userDataBytes:h})}}}function NP(t){const e=t.byteLength,n=[];let r=1;for(;r<e-2;)t[r]===0&&t[r+1]===0&&t[r+2]===3?(n.push(r+2),r+=2):r++;if(n.length===0)return t;const s=e-n.length,o=new Uint8Array(s);let i=0;for(r=0;r<s;i++,r++)i===n[0]&&(i++,n.shift()),o[r]=t[i];return o}function dhe(t){const e=t[0];let n="",r="",s=0,o=0,i=0,a=0,u=0,l=0;if(e===0){for(;Ir(t.subarray(l,l+1))!=="\0";)n+=Ir(t.subarray(l,l+1)),l+=1;for(n+=Ir(t.subarray(l,l+1)),l+=1;Ir(t.subarray(l,l+1))!=="\0";)r+=Ir(t.subarray(l,l+1)),l+=1;r+=Ir(t.subarray(l,l+1)),l+=1,s=on(t,12),o=on(t,16),a=on(t,20),u=on(t,24),l=28}else if(e===1){l+=4,s=on(t,l),l+=4;const d=on(t,l);l+=4;const f=on(t,l);for(l+=4,i=2**32*d+f,Vfe(i)||(i=Number.MAX_SAFE_INTEGER,$n.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),a=on(t,l),l+=4,u=on(t,l),l+=4;Ir(t.subarray(l,l+1))!=="\0";)n+=Ir(t.subarray(l,l+1)),l+=1;for(n+=Ir(t.subarray(l,l+1)),l+=1;Ir(t.subarray(l,l+1))!=="\0";)r+=Ir(t.subarray(l,l+1)),l+=1;r+=Ir(t.subarray(l,l+1)),l+=1}const c=t.subarray(l,t.byteLength);return{schemeIdUri:n,value:r,timeScale:s,presentationTime:i,presentationTimeDelta:o,eventDuration:a,id:u,payload:c}}function fhe(t,...e){const n=e.length;let r=8,s=n;for(;s--;)r+=e[s].byteLength;const o=new Uint8Array(r);for(o[0]=r>>24&255,o[1]=r>>16&255,o[2]=r>>8&255,o[3]=r&255,o.set(t,4),s=0,r=8;s<n;s++)o.set(e[s],r),r+=e[s].byteLength;return o}function hhe(t,e,n){if(t.byteLength!==16)throw new RangeError("Invalid system id");let r,s;r=0,s=new Uint8Array;let o;r>0?(o=new Uint8Array(4),e.length>0&&new DataView(o.buffer).setUint32(0,e.length,!1)):o=new Uint8Array;const i=new Uint8Array(4);return n&&n.byteLength>0&&new DataView(i.buffer).setUint32(0,n.byteLength,!1),fhe([112,115,115,104],new Uint8Array([r,0,0,0]),t,o,s,i,n||new Uint8Array)}function phe(t){const e=[];if(t instanceof ArrayBuffer){const n=t.byteLength;let r=0;for(;r+32<n;){const s=new DataView(t,r),o=mhe(s);e.push(o),r+=o.size}}return e}function mhe(t){const e=t.getUint32(0),n=t.byteOffset,r=t.byteLength;if(r<e)return{offset:n,size:r};if(t.getUint32(4)!==1886614376)return{offset:n,size:e};const o=t.getUint32(8)>>>24;if(o!==0&&o!==1)return{offset:n,size:e};const i=t.buffer,a=Go.hexDump(new Uint8Array(i,n+12,16)),u=t.getUint32(28);let l=null,c=null;if(o===0){if(e-32<u||u<22)return{offset:n,size:e};c=new Uint8Array(i,n+32,u)}else if(o===1){if(!u||r<n+32+u*16+16)return{offset:n,size:e};l=[];for(let d=0;d<u;d++)l.push(new Uint8Array(i,n+32+d*16,16))}return{version:o,systemId:a,kids:l,data:c,offset:n,size:e}}const FP=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),qu={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function BP(t,e){const n=qu[e];return!!n&&!!n[t.slice(0,4)]}function By(t,e,n=!0){return!t.split(",").some(r=>!VP(r,e,n))}function VP(t,e,n=!0){var r;const s=Fa(n);return(r=s==null?void 0:s.isTypeSupported(zd(t,e)))!=null?r:!1}function zd(t,e){return`${e}/mp4;codecs=${t}`}function VT(t){if(t){const e=t.substring(0,4);return qu.video[e]}return 2}function em(t){const e=FP();return t.split(",").reduce((n,r)=>{const o=e&&pg(r)?9:qu.video[r];return o?(o*2+n)/(n?3:2):(qu.audio[r]+n)/(n?2:1)},0)}const Fv={};function ghe(t,e=!0){if(Fv[t])return Fv[t];const n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[t];for(let s=0;s<n.length;s++){var r;if(VP(n[s],"audio",e))return Fv[t]=n[s],n[s];if(n[s]==="mp3"&&(r=Fa(e))!=null&&r.isTypeSupported("audio/mpeg"))return""}return t}const vhe=/flac|opus|mp4a\.40\.34/i;function tm(t,e=!0){return t.replace(vhe,n=>ghe(n.toLowerCase(),e))}function yhe(t,e){const n=[];if(t){const r=t.split(",");for(let s=0;s<r.length;s++)BP(r[s],"video")||n.push(r[s])}return e&&n.push(e),n.join(",")}function ip(t,e){if(t&&(t.length>4||["ac-3","ec-3","alac","fLaC","Opus"].indexOf(t)!==-1))return t;if(e){const n=e.split(",");if(n.length>1){if(t){for(let r=n.length;r--;)if(n[r].substring(0,4)===t.substring(0,4))return n[r]}return n[0]}}return e||t}function bhe(t){const e=t.split(",");for(let n=0;n<e.length;n++){const r=e[n].split(".");if(r.length>2){let s=r.shift()+".";s+=parseInt(r.shift()).toString(16),s+=("000"+parseInt(r.shift()).toString(16)).slice(-4),e[n]=s}}return e.join(",")}function whe(t){if(t.startsWith("av01.")){const e=t.split("."),n=["0","111","01","01","01","0"];for(let r=e.length;r>4&&r<10;r++)e[r]=n[r-4];return e.join(".")}return t}function UT(t){const e=Fa(t)||{isTypeSupported:()=>!1};return{mpeg:e.isTypeSupported("audio/mpeg"),mp3:e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function UP(t){return t.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const HP={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]};function jP(t,e){return{supported:!1,configurations:e,decodingInfoResults:[{supported:!1,smooth:!1,powerEfficient:!1}],error:t}}const HT={};function _he(t,e,n,r,s,o){const i=t.audioCodec?t.audioGroups:null,a=o==null?void 0:o.audioCodec,u=o==null?void 0:o.channels,l=u?parseInt(u):a?1/0:2;let c=null;if(i!=null&&i.length)try{i.length===1&&i[0]?c=e.groups[i[0]].channels:c=i.reduce((d,f)=>{if(f){const h=e.groups[f];if(!h)throw new Error(`Audio track group ${f} not found`);Object.keys(h.channels).forEach(p=>{d[p]=(d[p]||0)+h.channels[p]})}return d},{2:0})}catch{return!0}return t.videoCodec!==void 0&&(t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(r,30)||t.videoRange!=="SDR"&&t.videoRange!==n||t.bitrate>Math.max(s,8e6))||!!c&&jt(l)&&Object.keys(c).some(d=>parseInt(d)>l)}function KP(t,e,n){const r=t.videoCodec,s=t.audioCodec;if(!r&&!s||!n)return Promise.resolve(HP);const o=[];if(r){const i={width:t.width,height:t.height,bitrate:Math.ceil(Math.max(t.bitrate*.9,t.averageBitrate)),framerate:t.frameRate||30},a=t.videoRange;a!=="SDR"&&(i.transferFunction=a.toLowerCase());const u=r.split(","),l=navigator.userAgent;if(u.some(c=>pg(c))&&FP())return Promise.resolve(jP(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent sting: (${l})`),o));o.push.apply(o,u.map(c=>({type:"media-source",video:Hn(Hn({},i),{},{contentType:zd(whe(c),"video")})})))}return s&&t.audioGroups&&t.audioGroups.forEach(i=>{var a;i&&((a=e.groups[i])==null||a.tracks.forEach(u=>{if(u.groupId===i){const l=u.channels||"",c=parseFloat(l);jt(c)&&c>2&&o.push.apply(o,s.split(",").map(d=>({type:"media-source",audio:{contentType:zd(d,"audio"),channels:""+c}})))}}))}),Promise.all(o.map(i=>{const a=She(i);return HT[a]||(HT[a]=n.decodingInfo(i))})).then(i=>({supported:!i.some(a=>!a.supported),configurations:o,decodingInfoResults:i})).catch(i=>({supported:!1,configurations:o,decodingInfoResults:[],error:i}))}function She(t){const{audio:e,video:n}=t,r=n||e;if(r){const s=UP(r.contentType);if(n)return`r${n.height}x${n.width}f${Math.ceil(n.framerate)}${n.transferFunction||"sd"}_${s}_${Math.ceil(n.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${s}`}return""}const Vy=["NONE","TYPE-0","TYPE-1",null];function Ehe(t){return Vy.indexOf(t)>-1}const nm=["SDR","PQ","HLG"];function xhe(t){return!!t&&nm.indexOf(t)>-1}var ap={No:"",Yes:"YES",v2:"v2"};function jT(t){const{canSkipUntil:e,canSkipDateRanges:n,age:r}=t,s=r<e/2;return e&&s?n?ap.v2:ap.Yes:ap.No}class KT{constructor(e,n,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=n,this.skip=r}addDirectives(e){const n=new self.URL(e);return this.msn!==void 0&&n.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&n.searchParams.set("_HLS_part",this.part.toString()),this.skip&&n.searchParams.set("_HLS_skip",this.skip),n.href}}class Wd{constructor(e){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(r=>!!r).map(r=>r.substring(0,4)).join(","),"supplemental"in e){var n;this.supplemental=e.supplemental;const r=(n=e.supplemental)==null?void 0:n.videoCodec;r&&r!==e.videoCodec&&(this.codecSet+=`,${r.substring(0,4)}`)}this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return zT(this._audioGroups,e)}hasSubtitleGroup(e){return zT(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,n){if(n){if(e==="audio"){let r=this._audioGroups;r||(r=this._audioGroups=[]),r.indexOf(n)===-1&&r.push(n)}else if(e==="text"){let r=this._subtitleGroups;r||(r=this._subtitleGroups=[]),r.indexOf(n)===-1&&r.push(n)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function zT(t,e){return!e||!t?!1:t.indexOf(e)!==-1}function The(){if(typeof matchMedia=="function"){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return t.matches===!0}return!1}function Che(t,e){let n=!1,r=[];if(t&&(n=t!=="SDR",r=[t]),e){r=e.allowedVideoRanges||nm.slice(0);const s=r.join("")!=="SDR"&&!e.videoCodec;n=e.preferHDR!==void 0?e.preferHDR:s&&The(),n||(r=["SDR"])}return{preferHDR:n,allowedVideoRanges:r}}const khe=t=>{const e=new WeakSet;return(n,r)=>{if(t&&(r=t(n,r)),typeof r=="object"&&r!==null){if(e.has(r))return;e.add(r)}return r}},ar=(t,e)=>JSON.stringify(t,khe(e));function Ihe(t,e,n,r,s){const o=Object.keys(t),i=r==null?void 0:r.channels,a=r==null?void 0:r.audioCodec,u=s==null?void 0:s.videoCodec,l=i&&parseInt(i)===2;let c=!1,d=!1,f=1/0,h=1/0,p=1/0,g=1/0,v=0,y=[];const{preferHDR:_,allowedVideoRanges:b}=Che(e,s);for(let I=o.length;I--;){const k=t[o[I]];c||(c=k.channels[2]>0),f=Math.min(f,k.minHeight),h=Math.min(h,k.minFramerate),p=Math.min(p,k.minBitrate),b.filter(N=>k.videoRanges[N]>0).length>0&&(d=!0)}f=jt(f)?f:0,h=jt(h)?h:0;const w=Math.max(1080,f),S=Math.max(30,h);p=jt(p)?p:n,n=Math.max(p,n),d||(e=void 0);const E=o.length>1;return{codecSet:o.reduce((I,k)=>{const C=t[k];if(k===I)return I;if(y=d?b.filter(N=>C.videoRanges[N]>0):[],E){if(C.minBitrate>n)return jo(k,`min bitrate of ${C.minBitrate} > current estimate of ${n}`),I;if(!C.hasDefaultAudio)return jo(k,"no renditions with default or auto-select sound found"),I;if(a&&k.indexOf(a.substring(0,4))%5!==0)return jo(k,`audio codec preference "${a}" not found`),I;if(i&&!l){if(!C.channels[i])return jo(k,`no renditions with ${i} channel sound found (channels options: ${Object.keys(C.channels)})`),I}else if((!a||l)&&c&&C.channels[2]===0)return jo(k,"no renditions with stereo sound found"),I;if(C.minHeight>w)return jo(k,`min resolution of ${C.minHeight} > maximum of ${w}`),I;if(C.minFramerate>S)return jo(k,`min framerate of ${C.minFramerate} > maximum of ${S}`),I;if(!y.some(N=>C.videoRanges[N]>0))return jo(k,`no variants with VIDEO-RANGE of ${ar(y)} found`),I;if(u&&k.indexOf(u.substring(0,4))%5!==0)return jo(k,`video codec preference "${u}" not found`),I;if(C.maxScore<v)return jo(k,`max score of ${C.maxScore} < selected max of ${v}`),I}return I&&(em(k)>=em(I)||C.fragmentError>t[I].fragmentError)?I:(g=C.minIndex,v=C.maxScore,k)},void 0),videoRanges:y,preferHDR:_,minFramerate:h,minBitrate:p,minIndex:g}}function jo(t,e){$n.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function zP(t){return t.reduce((e,n)=>{let r=e.groups[n.groupId];r||(r=e.groups[n.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),r.tracks.push(n);const s=n.channels||"2";return r.channels[s]=(r.channels[s]||0)+1,r.hasDefault=r.hasDefault||n.default,r.hasAutoSelect=r.hasAutoSelect||n.autoselect,r.hasDefault&&(e.hasDefaultAudio=!0),r.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function Ahe(t,e,n,r){return t.slice(n,r+1).reduce((s,o,i)=>{if(!o.codecSet)return s;const a=o.audioGroups;let u=s[o.codecSet];u||(s[o.codecSet]=u={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:i,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!a,fragmentError:0}),u.minBitrate=Math.min(u.minBitrate,o.bitrate);const l=Math.min(o.height,o.width);return u.minHeight=Math.min(u.minHeight,l),u.minFramerate=Math.min(u.minFramerate,o.frameRate),u.minIndex=Math.min(u.minIndex,i),u.maxScore=Math.max(u.maxScore,o.score),u.fragmentError+=o.fragmentError,u.videoRanges[o.videoRange]=(u.videoRanges[o.videoRange]||0)+1,a&&a.forEach(c=>{if(!c)return;const d=e.groups[c];d&&(u.hasDefaultAudio=u.hasDefaultAudio||e.hasDefaultAudio?d.hasDefault:d.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(d.channels).forEach(f=>{u.channels[f]=(u.channels[f]||0)+d.channels[f]}))}),s},{})}function WT(t){if(!t)return t;const{lang:e,assocLang:n,characteristics:r,channels:s,audioCodec:o}=t;return{lang:e,assocLang:n,characteristics:r,channels:s,audioCodec:o}}function Zo(t,e,n){if("attrs"in t){const r=e.indexOf(t);if(r!==-1)return r}for(let r=0;r<e.length;r++){const s=e[r];if(bl(t,s,n))return r}return-1}function bl(t,e,n){const{groupId:r,name:s,lang:o,assocLang:i,default:a}=t,u=t.forced;return(r===void 0||e.groupId===r)&&(s===void 0||e.name===s)&&(o===void 0||Rhe(o,e.lang))&&(o===void 0||e.assocLang===i)&&(a===void 0||e.default===a)&&(u===void 0||e.forced===u)&&(!("characteristics"in t)||Lhe(t.characteristics||"",e.characteristics))&&(n===void 0||n(t,e))}function Rhe(t,e="--"){return t.length===e.length?t===e:t.startsWith(e)||e.startsWith(t)}function Lhe(t,e=""){const n=t.split(","),r=e.split(",");return n.length===r.length&&!n.some(s=>r.indexOf(s)===-1)}function rl(t,e){const{audioCodec:n,channels:r}=t;return(n===void 0||(e.audioCodec||"").substring(0,4)===n.substring(0,4))&&(r===void 0||r===(e.channels||"2"))}function $he(t,e,n,r,s){const o=e[r],a=e.reduce((f,h,p)=>{const g=h.uri;return(f[g]||(f[g]=[])).push(p),f},{})[o.uri];a.length>1&&(r=Math.max.apply(Math,a));const u=o.videoRange,l=o.frameRate,c=o.codecSet.substring(0,4),d=GT(e,r,f=>{if(f.videoRange!==u||f.frameRate!==l||f.codecSet.substring(0,4)!==c)return!1;const h=f.audioGroups,p=n.filter(g=>!h||h.indexOf(g.groupId)!==-1);return Zo(t,p,s)>-1});return d>-1?d:GT(e,r,f=>{const h=f.audioGroups,p=n.filter(g=>!h||h.indexOf(g.groupId)!==-1);return Zo(t,p,s)>-1})}function GT(t,e,n){for(let r=e;r>-1;r--)if(n(t[r]))return r;for(let r=e+1;r<t.length;r++)if(n(t[r]))return r;return-1}function rm(t,e){var n;return!!t&&t!==((n=e.loadLevelObj)==null?void 0:n.uri)}class Phe extends Qi{constructor(e){super("abr",e.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.bwEstimator=void 0,this._abandonRulesCheck=n=>{var r;const{fragCurrent:s,partCurrent:o,hls:i}=this,{autoLevelEnabled:a,media:u}=i;if(!s||!u)return;const l=performance.now(),c=o?o.stats:s.stats,d=o?o.duration:s.duration,f=l-c.loading.start,h=i.minAutoLevel,p=s.level,g=this._nextAutoLevel;if(c.aborted||c.loaded&&c.loaded===c.total||p<=h){this.clearTimer(),this._nextAutoLevel=-1;return}if(!a)return;const v=g>-1&&g!==p,y=!!n||v;if(!y&&(u.paused||!u.playbackRate||!u.readyState))return;const _=i.mainForwardBufferInfo;if(!y&&_===null)return;const b=this.bwEstimator.getEstimateTTFB(),w=Math.abs(u.playbackRate);if(f<=Math.max(b,1e3*(d/(w*2))))return;const S=_?_.len/w:0,E=c.loading.first?c.loading.first-c.loading.start:-1,T=c.loaded&&E>-1,I=this.getBwEstimate(),k=i.levels,C=k[p],N=Math.max(c.loaded,Math.round(d*(s.bitrate||C.averageBitrate)/8));let D=T?f-E:f;D<1&&T&&(D=Math.min(f,c.loaded*8/I));const W=T?c.loaded*1e3/D:0,H=b/1e3,V=W?(N-c.loaded)/W:N*8/I+H;if(V<=S)return;const R=W?W*8:I,z=((r=(n==null?void 0:n.details)||this.hls.latestLevelDetails)==null?void 0:r.live)===!0,M=this.hls.config.abrBandWidthUpFactor;let B=Number.POSITIVE_INFINITY,j;for(j=p-1;j>h;j--){const ie=k[j].maxBitrate,fe=!k[j].details||z;if(B=this.getTimeToLoadFrag(H,R,d*ie,fe),B<Math.min(S,d+H))break}if(B>=V||B>d*10)return;T?this.bwEstimator.sample(f-Math.min(b,E),c.loaded):this.bwEstimator.sampleTTFB(f);const X=k[j].maxBitrate;this.getBwEstimate()*M>X&&this.resetEstimator(X);const se=this.findBestLevel(X,h,j,0,S,1,1);se>-1&&(j=se),this.warn(`Fragment ${s.sn}${o?" part "+o.index:""} of level ${p} is loading too slowly;
      Fragment duration: ${s.duration.toFixed(3)}
      Time to underbuffer: ${S.toFixed(3)} s
      Estimated load time for current fragment: ${V.toFixed(3)} s
      Estimated load time for down switch fragment: ${B.toFixed(3)} s
      TTFB estimate: ${E|0} ms
      Current BW estimate: ${jt(I)?I|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${j} @ ${X|0} bps`),i.nextLoadLevel=i.nextAutoLevel=j,this.clearTimer();const te=()=>{if(this.clearTimer(),this.fragCurrent===s&&this.hls.loadLevel===j&&j>0){const ie=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${j>0?"and switching down":""}
      Fragment duration: ${s.duration.toFixed(3)} s
      Time to underbuffer: ${ie.toFixed(3)} s`),s.abortRequests(),this.fragCurrent=this.partCurrent=null,j>h){let fe=this.findBestLevel(this.hls.levels[h].bitrate,h,j,0,ie,1,1);fe===-1&&(fe=h),this.hls.nextLoadLevel=this.hls.nextAutoLevel=fe,this.resetEstimator(this.hls.levels[fe].bitrate)}}};v||V>B*2?te():this.timer=self.setInterval(te,B*1e3),i.trigger(Q.FRAG_LOAD_EMERGENCY_ABORTED,{frag:s,part:o,stats:c})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(this.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new Hfe(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Q.FRAG_LOADING,this.onFragLoading,this),e.on(Q.FRAG_LOADED,this.onFragLoaded,this),e.on(Q.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Q.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Q.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Q.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Q.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(Q.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Q.FRAG_LOADING,this.onFragLoading,this),e.off(Q.FRAG_LOADED,this.onFragLoaded,this),e.off(Q.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Q.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Q.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Q.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Q.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(Q.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,n){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,n){const r=n.frag;if(!this.ignoreFragment(r)){if(!r.bitrateTest){var s;this.fragCurrent=r,this.partCurrent=(s=n.part)!=null?s:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,n){this.clearTimer()}onError(e,n){if(!n.fatal)switch(n.details){case Xe.BUFFER_ADD_CODEC_ERROR:case Xe.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case Xe.FRAG_LOAD_TIMEOUT:{const r=n.frag,{fragCurrent:s,partCurrent:o}=this;if(r&&s&&r.sn===s.sn&&r.level===s.level){const i=performance.now(),a=o?o.stats:r.stats,u=i-a.loading.start,l=a.loading.first?a.loading.first-a.loading.start:-1;if(a.loaded&&l>-1){const d=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(u-Math.min(d,l),a.loaded)}else this.bwEstimator.sampleTTFB(u)}break}}}getTimeToLoadFrag(e,n,r,s){const o=e+r/n,i=s?e+this.lastLevelLoadSec:0;return o+i}onLevelLoaded(e,n){const r=this.hls.config,{loading:s}=n.stats,o=s.end-s.first;jt(o)&&(this.lastLevelLoadSec=o/1e3),n.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(n.levelInfo)}onFragLoaded(e,{frag:n,part:r}){const s=r?r.stats:n.stats;if(n.type===en.MAIN&&this.bwEstimator.sampleTTFB(s.loading.first-s.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),n.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const o=r?r.duration:n.duration,i=this.hls.levels[n.level],a=(i.loaded?i.loaded.bytes:0)+s.loaded,u=(i.loaded?i.loaded.duration:0)+o;i.loaded={bytes:a,duration:u},i.realBitrate=Math.round(8*a/u)}if(n.bitrateTest){const o={stats:s,frag:n,part:r,id:n.type};this.onFragBuffered(Q.FRAG_BUFFERED,o),n.bitrateTest=!1}else this.lastLoadedFragLevel=n.level}}onFragBuffered(e,n){const{frag:r,part:s}=n,o=s!=null&&s.stats.loaded?s.stats:r.stats;if(o.aborted||this.ignoreFragment(r))return;const i=o.parsing.end-o.loading.start-Math.min(o.loading.first-o.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(i,o.loaded),o.bwEstimate=this.getBwEstimate(),r.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==en.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:n}=this.hls,r=this.getBwEstimate(),s=this.hls.config.maxStarvationDelay,o=this.findBestLevel(r,n,e,0,s,1,1);if(o>-1)return o;const i=this.hls.firstLevel,a=Math.min(Math.max(i,n),e);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${i} clamped to ${a}`),a}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,r=this.bwEstimator.canEstimate(),s=this.lastLoadedFragLevel>-1;if(e!==-1&&(!r||!s||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const o=r&&s?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const i=this.hls.levels;if(i.length>Math.max(e,o)&&i[e].loadError<=i[o].loadError)return e}return this._nextAutoLevel=o,this.nextAutoLevelKey=this.getAutoLevelKey(),o}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:n,hls:r}=this;if(r.levels.length<=1)return r.loadLevel;const{maxAutoLevel:s,config:o,minAutoLevel:i}=r,a=n?n.duration:e?e.duration:0,u=this.getBwEstimate(),l=this.getStarvationDelay();let c=o.abrBandWidthFactor,d=o.abrBandWidthUpFactor;if(l){const v=this.findBestLevel(u,i,s,l,0,c,d);if(v>=0)return this.rebufferNotice=-1,v}let f=a?Math.min(a,o.maxStarvationDelay):o.maxStarvationDelay;if(!l){const v=this.bitrateTestDelay;v&&(f=(a?Math.min(a,o.maxLoadingDelay):o.maxLoadingDelay)-v,this.info(`bitrate test took ${Math.round(1e3*v)}ms, set first fragment max fetchDuration to ${Math.round(1e3*f)} ms`),c=d=1)}const h=this.findBestLevel(u,i,s,l,f,c,d);if(this.rebufferNotice!==h&&(this.rebufferNotice=h,this.info(`${l?"rebuffering expected":"buffer is empty"}, optimal quality level ${h}`)),h>-1)return h;const p=r.levels[i],g=r.loadLevelObj;return g&&(p==null?void 0:p.bitrate)<g.bitrate?i:r.loadLevel}getStarvationDelay(){const e=this.hls,n=e.media;if(!n)return 1/0;const r=n&&n.playbackRate!==0?Math.abs(n.playbackRate):1,s=e.mainForwardBufferInfo;return(s?s.len:0)/r}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,n,r,s,o,i,a){var u;const l=s+o,c=this.lastLoadedFragLevel,d=c===-1?this.hls.firstLevel:c,{fragCurrent:f,partCurrent:h}=this,{levels:p,allAudioTracks:g,loadLevel:v,config:y}=this.hls;if(p.length===1)return 0;const _=p[d],b=!!((u=this.hls.latestLevelDetails)!=null&&u.live),w=v===-1||c===-1;let S,E="SDR",T=(_==null?void 0:_.frameRate)||0;const{audioPreference:I,videoPreference:k}=y,C=this.audioTracksByGroup||(this.audioTracksByGroup=zP(g));let N=-1;if(w){if(this.firstSelection!==-1)return this.firstSelection;const R=this.codecTiers||(this.codecTiers=Ahe(p,C,n,r)),z=Ihe(R,E,e,I,k),{codecSet:M,videoRanges:B,minFramerate:j,minBitrate:X,minIndex:se,preferHDR:te}=z;N=se,S=M,E=te?B[B.length-1]:B[0],T=j,e=Math.max(e,X),this.log(`picked start tier ${ar(z)}`)}else S=_==null?void 0:_.codecSet,E=_==null?void 0:_.videoRange;const D=h?h.duration:f?f.duration:0,W=this.bwEstimator.getEstimateTTFB()/1e3,H=[];for(let R=r;R>=n;R--){var V;const z=p[R],M=R>d;if(!z)continue;if(y.useMediaCapabilities&&!z.supportedResult&&!z.supportedPromise){const fe=navigator.mediaCapabilities;typeof(fe==null?void 0:fe.decodingInfo)=="function"&&(_he(z,C,E,T,e,I)||pg(z.videoCodec))?(z.supportedPromise=KP(z,C,fe),z.supportedPromise.then(ue=>{if(!this.hls)return;z.supportedResult=ue;const J=this.hls.levels,de=J.indexOf(z);ue.error?this.warn(`MediaCapabilities decodingInfo error: "${ue.error}" for level ${de} ${ar(ue)}`):ue.supported||(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${de} ${ar(ue)}`),de>-1&&J.length>1&&(this.log(`Removing unsupported level ${de}`),this.hls.removeLevel(de),this.hls.loadLevel===-1&&(this.hls.nextLoadLevel=0)))})):z.supportedResult=HP}if((S&&z.codecSet!==S||E&&z.videoRange!==E||M&&T>z.frameRate||!M&&T>0&&T<z.frameRate||z.supportedResult&&!((V=z.supportedResult.decodingInfoResults)!=null&&V[0].smooth))&&(!w||R!==N)){H.push(R);continue}const B=z.details,j=(h?B==null?void 0:B.partTarget:B==null?void 0:B.averagetargetduration)||D;let X;M?X=a*e:X=i*e;const se=D&&s>=D*2&&o===0?z.averageBitrate:z.maxBitrate,te=this.getTimeToLoadFrag(W,X,se*j,B===void 0);if(X>=se&&(R===c||z.loadError===0&&z.fragmentError===0)&&(te<=W||!jt(te)||b&&!this.bitrateTestDelay||te<l)){const fe=this.forcedAutoLevel;return R!==v&&(fe===-1||fe!==v)&&(H.length&&this.trace(`Skipped level(s) ${H.join(",")} of ${r} max with CODECS and VIDEO-RANGE:"${p[H[0]].codecs}" ${p[H[0]].videoRange}; not compatible with "${S}" ${E}`),this.info(`switch candidate:${d}->${R} adjustedbw(${Math.round(X)})-bitrate=${Math.round(X-se)} ttfb:${W.toFixed(1)} avgDuration:${j.toFixed(1)} maxFetchDuration:${l.toFixed(1)} fetchDuration:${te.toFixed(1)} firstSelection:${w} codecSet:${z.codecSet} videoRange:${z.videoRange} hls.loadLevel:${v}`)),w&&(this.firstSelection=R),R}}return-1}set nextAutoLevel(e){const n=this.deriveNextAutoLevel(e);this._nextAutoLevel!==n&&(this.nextAutoLevelKey="",this._nextAutoLevel=n)}deriveNextAutoLevel(e){const{maxAutoLevel:n,minAutoLevel:r}=this.hls;return Math.min(Math.max(e,r),n)}}const Nw={search:function(t,e){let n=0,r=t.length-1,s=null,o=null;for(;n<=r;){s=(n+r)/2|0,o=t[s];const i=e(o);if(i>0)n=s+1;else if(i<0)r=s-1;else return o}return null}};function Dhe(t,e,n){if(e===null||!Array.isArray(t)||!t.length||!jt(e))return null;const r=t[0].programDateTime;if(e<(r||0))return null;const s=t[t.length-1].endProgramDateTime;if(e>=(s||0))return null;n=n||0;for(let o=0;o<t.length;++o){const i=t[o];if(Mhe(e,n,i))return i}return null}function Rl(t,e,n=0,r=0,s=.005){let o=null;if(t){o=e[1+t.sn-e[0].sn]||null;const a=t.endDTS-n;a>0&&a<15e-7&&(n+=15e-7),o&&t.level!==o.level&&o.end<=t.end&&(o=e[2+t.sn-e[0].sn]||null)}else n===0&&e[0].start===0&&(o=e[0]);if(o&&((!t||t.level===o.level)&&qT(n,r,o)===0||Ohe(o,t,Math.min(s,r))))return o;const i=Nw.search(e,qT.bind(null,n,r));return i&&(i!==t||!o)?i:o}function Ohe(t,e,n){if(e&&e.start===0&&e.level<t.level&&(e.endPTS||0)>0){const r=e.tagList.reduce((s,o)=>(o[0]==="INF"&&(s+=parseFloat(o[1])),s),n);return t.start<=r}return!1}function qT(t=0,e=0,n){if(n.start<=t&&n.start+n.duration>t)return 0;const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}function Mhe(t,e,n){const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0))*1e3;return(n.endProgramDateTime||0)-r>t}function WP(t,e){return Nw.search(t,n=>n.cc<e?1:n.cc>e?-1:0)}function Nhe(t,e,n){if(t&&t.startCC<=e&&t.endCC>=e){const r=n.start,s=n.end;let o=t.fragments;if(!n.relurl){const{fragmentHint:i}=t;i&&(o=o.concat(i))}return Nw.search(o,i=>i.cc<e||i.end<=r?1:i.cc>e||i.start>=s?-1:0)}return null}function sm(t){switch(t.details){case Xe.FRAG_LOAD_TIMEOUT:case Xe.KEY_LOAD_TIMEOUT:case Xe.LEVEL_LOAD_TIMEOUT:case Xe.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function YT(t,e){const n=sm(e);return t.default[`${n?"timeout":"error"}Retry`]}function Fw(t,e){const n=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(n*t.retryDelayMs,t.maxRetryDelayMs)}function XT(t){return Hn(Hn({},t),{errorRetry:null,timeoutRetry:null})}function om(t,e,n,r){if(!t)return!1;const s=r==null?void 0:r.code,o=e<t.maxNumRetry&&(Fhe(s)||!!n);return t.shouldRetry?t.shouldRetry(t,e,n,r,o):o}function Fhe(t){return t===0&&navigator.onLine===!1||!!t&&(t<400||t>499)}var Xr={DoNothing:0,SendEndCallback:1,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,InsertDiscontinuity:4,RetryRequest:5},wo={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,SwitchToSDR:4};class Bhe extends Qi{constructor(e){super("error-controller",e.logger),this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(Q.ERROR,this.onError,this),e.on(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Q.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(Q.ERROR,this.onError,this),e.off(Q.ERROR,this.onErrorOut,this),e.off(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Q.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===en.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,n){var r;if(n.fatal)return;const s=this.hls,o=n.context;switch(n.details){case Xe.FRAG_LOAD_ERROR:case Xe.FRAG_LOAD_TIMEOUT:case Xe.KEY_LOAD_ERROR:case Xe.KEY_LOAD_TIMEOUT:n.errorAction=this.getFragRetryOrSwitchAction(n);return;case Xe.FRAG_PARSING_ERROR:if((r=n.frag)!=null&&r.gap){n.errorAction=Gd();return}case Xe.FRAG_GAP:case Xe.FRAG_DECRYPT_ERROR:{n.errorAction=this.getFragRetryOrSwitchAction(n),n.errorAction.action=Xr.SendAlternateToPenaltyBox;return}case Xe.LEVEL_EMPTY_ERROR:case Xe.LEVEL_PARSING_ERROR:{var i,a;const l=n.parent===en.MAIN?n.level:s.loadLevel;n.details===Xe.LEVEL_EMPTY_ERROR&&((i=n.context)!=null&&(a=i.levelDetails)!=null&&a.live)?n.errorAction=this.getPlaylistRetryOrSwitchAction(n,l):(n.levelRetry=!1,n.errorAction=this.getLevelSwitchAction(n,l))}return;case Xe.LEVEL_LOAD_ERROR:case Xe.LEVEL_LOAD_TIMEOUT:typeof(o==null?void 0:o.level)=="number"&&(n.errorAction=this.getPlaylistRetryOrSwitchAction(n,o.level));return;case Xe.AUDIO_TRACK_LOAD_ERROR:case Xe.AUDIO_TRACK_LOAD_TIMEOUT:case Xe.SUBTITLE_LOAD_ERROR:case Xe.SUBTITLE_TRACK_LOAD_TIMEOUT:if(o){const l=s.loadLevelObj;if(l&&(o.type===kn.AUDIO_TRACK&&l.hasAudioGroup(o.groupId)||o.type===kn.SUBTITLE_TRACK&&l.hasSubtitleGroup(o.groupId))){n.errorAction=this.getPlaylistRetryOrSwitchAction(n,s.loadLevel),n.errorAction.action=Xr.SendAlternateToPenaltyBox,n.errorAction.flags=wo.MoveAllAlternatesMatchingHost;return}}return;case Xe.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const l=s.loadLevelObj,c=l==null?void 0:l.attrs["HDCP-LEVEL"];c?n.errorAction={action:Xr.SendAlternateToPenaltyBox,flags:wo.MoveAllAlternatesMatchingHDCP,hdcpLevel:c}:this.keySystemError(n)}return;case Xe.BUFFER_ADD_CODEC_ERROR:case Xe.REMUX_ALLOC_ERROR:case Xe.BUFFER_APPEND_ERROR:if(!n.errorAction){var u;n.errorAction=this.getLevelSwitchAction(n,(u=n.level)!=null?u:s.loadLevel)}return;case Xe.INTERNAL_EXCEPTION:case Xe.BUFFER_APPENDING_ERROR:case Xe.BUFFER_FULL_ERROR:case Xe.LEVEL_SWITCH_ERROR:case Xe.BUFFER_STALLED_ERROR:case Xe.BUFFER_SEEK_OVER_HOLE:case Xe.BUFFER_NUDGE_ON_STALL:n.errorAction=Gd();return}n.type===tn.KEY_SYSTEM_ERROR&&this.keySystemError(n)}keySystemError(e){const n=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,n)}getPlaylistRetryOrSwitchAction(e,n){const r=this.hls,s=YT(r.config.playlistLoadPolicy,e),o=this.playlistError++;if(om(s,o,sm(e),e.response))return{action:Xr.RetryRequest,flags:wo.None,retryConfig:s,retryCount:o};const a=this.getLevelSwitchAction(e,n);return s&&(a.retryConfig=s,a.retryCount=o),a}getFragRetryOrSwitchAction(e){const n=this.hls,r=this.getVariantLevelIndex(e.frag),s=n.levels[r],{fragLoadPolicy:o,keyLoadPolicy:i}=n.config,a=YT(e.details.startsWith("key")?i:o,e),u=n.levels.reduce((c,d)=>c+d.fragmentError,0);if(s&&(e.details!==Xe.FRAG_GAP&&s.fragmentError++,om(a,u,sm(e),e.response)))return{action:Xr.RetryRequest,flags:wo.None,retryConfig:a,retryCount:u};const l=this.getLevelSwitchAction(e,r);return a&&(l.retryConfig=a,l.retryCount=u),l}getLevelSwitchAction(e,n){const r=this.hls;n==null&&(n=r.loadLevel);const s=this.hls.levels[n];if(s){var o,i;const l=e.details;s.loadError++,l===Xe.BUFFER_APPEND_ERROR&&s.fragmentError++;let c=-1;const{levels:d,loadLevel:f,minAutoLevel:h,maxAutoLevel:p}=r;r.autoLevelEnabled||(r.loadLevel=-1);const g=(o=e.frag)==null?void 0:o.type,y=(g===en.AUDIO&&l===Xe.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(l===Xe.BUFFER_ADD_CODEC_ERROR||l===Xe.BUFFER_APPEND_ERROR))&&d.some(({audioCodec:E})=>s.audioCodec!==E),b=e.sourceBufferName==="video"&&(l===Xe.BUFFER_ADD_CODEC_ERROR||l===Xe.BUFFER_APPEND_ERROR)&&d.some(({codecSet:E,audioCodec:T})=>s.codecSet!==E&&s.audioCodec===T),{type:w,groupId:S}=(i=e.context)!=null?i:{};for(let E=d.length;E--;){const T=(E+f)%d.length;if(T!==f&&T>=h&&T<=p&&d[T].loadError===0){var a,u;const I=d[T];if(l===Xe.FRAG_GAP&&g===en.MAIN&&e.frag){const k=d[T].details;if(k){const C=Rl(e.frag,k.fragments,e.frag.start);if(C!=null&&C.gap)continue}}else{if(w===kn.AUDIO_TRACK&&I.hasAudioGroup(S)||w===kn.SUBTITLE_TRACK&&I.hasSubtitleGroup(S))continue;if(g===en.AUDIO&&(a=s.audioGroups)!=null&&a.some(k=>I.hasAudioGroup(k))||g===en.SUBTITLE&&(u=s.subtitleGroups)!=null&&u.some(k=>I.hasSubtitleGroup(k))||y&&s.audioCodec===I.audioCodec||!y&&s.audioCodec!==I.audioCodec||b&&s.codecSet===I.codecSet)continue}c=T;break}}if(c>-1&&r.loadLevel!==c)return e.levelRetry=!0,this.playlistError=0,{action:Xr.SendAlternateToPenaltyBox,flags:wo.None,nextAutoLevel:c}}return{action:Xr.SendAlternateToPenaltyBox,flags:wo.MoveAllAlternatesMatchingHost}}onErrorOut(e,n){var r;switch((r=n.errorAction)==null?void 0:r.action){case Xr.DoNothing:break;case Xr.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(n),!n.errorAction.resolved&&n.details!==Xe.FRAG_GAP?n.fatal=!0:/MediaSource readyState: ended/.test(n.error.message)&&(this.warn(`MediaSource ended after "${n.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(n.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const n=this.hls,r=e.errorAction;if(!r)return;const{flags:s,hdcpLevel:o,nextAutoLevel:i}=r;switch(s){case wo.None:this.switchLevel(e,i);break;case wo.MoveAllAlternatesMatchingHDCP:o&&(n.maxHdcpLevel=Vy[Vy.indexOf(o)-1],r.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${n.maxHdcpLevel}" or lower`);break}r.resolved||this.switchLevel(e,i)}switchLevel(e,n){if(n!==void 0&&e.errorAction&&(this.warn(`switching to level ${n} after ${e.details}`),this.hls.nextAutoLevel=n,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,e.details===Xe.BUFFER_ADD_CODEC_ERROR&&e.mimeType&&e.sourceBufferName!=="audiovideo")){const r=UP(e.mimeType),s=this.hls.levels;for(let o=s.length;o--;)s[o][`${e.sourceBufferName}Codec`]===r&&this.hls.removeLevel(o)}}}function Gd(t){const e={action:Xr.DoNothing,flags:wo.None};return t&&(e.resolved=!0),e}var Ar={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class Vhe{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Q.BUFFER_APPENDED,this.onBufferAppended,this),e.on(Q.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Q.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Q.BUFFER_APPENDED,this.onBufferAppended,this),e.off(Q.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Q.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,n){const r=this.activePartLists[n];if(r)for(let s=r.length;s--;){const o=r[s];if(!o)break;const i=o.end;if(o.start<=e&&i!==null&&e<=i)return o}return this.getBufferedFrag(e,n)}getBufferedFrag(e,n){return this.getFragAtPos(e,n,!0)}getFragAtPos(e,n,r){const{fragments:s}=this,o=Object.keys(s);for(let i=o.length;i--;){const a=s[o[i]];if((a==null?void 0:a.body.type)===n&&(!r||a.buffered)){const u=a.body;if(u.start<=e&&e<=u.end)return u}}return null}detectEvictedFragments(e,n,r,s,o){this.timeRanges&&(this.timeRanges[e]=n);const i=(s==null?void 0:s.fragment.sn)||-1;Object.keys(this.fragments).forEach(a=>{const u=this.fragments[a];if(!u||i>=u.body.sn)return;if(!u.buffered&&(!u.loaded||o)){u.body.type===r&&this.removeFragment(u.body);return}const l=u.range[e];if(l){if(l.time.length===0){this.removeFragment(u.body);return}l.time.some(c=>{const d=!this.isTimeBuffered(c.startPTS,c.endPTS,n);return d&&this.removeFragment(u.body),d})}})}detectPartialFragments(e){const n=this.timeRanges;if(!n||e.frag.sn==="initSegment")return;const r=e.frag,s=Ql(r),o=this.fragments[s];if(!o||o.buffered&&r.gap)return;const i=!r.relurl;Object.keys(n).forEach(a=>{const u=r.elementaryStreams[a];if(!u)return;const l=n[a],c=i||u.partial===!0;o.range[a]=this.getBufferedTimes(r,e.part,c,l)}),o.loaded=null,Object.keys(o.range).length?(o.buffered=!0,(o.body.endList=r.endList||o.body.endList)&&(this.endListFragments[o.body.type]=o),_h(o)||this.removeParts(r.sn-1,r.type)):this.removeFragment(o.body)}removeParts(e,n){const r=this.activePartLists[n];r&&(this.activePartLists[n]=QT(r,s=>s.fragment.sn>=e))}fragBuffered(e,n){const r=Ql(e);let s=this.fragments[r];!s&&n&&(s=this.fragments[r]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),s&&(s.loaded=null,s.buffered=!0)}getBufferedTimes(e,n,r,s){const o={time:[],partial:r},i=e.start,a=e.end,u=e.minEndPTS||a,l=e.maxStartPTS||i;for(let c=0;c<s.length;c++){const d=s.start(c)-this.bufferPadding,f=s.end(c)+this.bufferPadding;if(l>=d&&u<=f){o.time.push({startPTS:Math.max(i,s.start(c)),endPTS:Math.min(a,s.end(c))});break}else if(i<f&&a>d){const h=Math.max(i,s.start(c)),p=Math.min(a,s.end(c));p>h&&(o.partial=!0,o.time.push({startPTS:h,endPTS:p}))}else if(a<=d)break}return o}getPartialFragment(e){let n=null,r,s,o,i=0;const{bufferPadding:a,fragments:u}=this;return Object.keys(u).forEach(l=>{const c=u[l];c&&_h(c)&&(s=c.body.start-a,o=c.body.end+a,e>=s&&e<=o&&(r=Math.min(e-s,o-e),i<=r&&(n=c.body,i=r)))}),n}isEndListAppended(e){const n=this.endListFragments[e];return n!==void 0&&(n.buffered||_h(n))}getState(e){const n=Ql(e),r=this.fragments[n];return r?r.buffered?_h(r)?Ar.PARTIAL:Ar.OK:Ar.APPENDING:Ar.NOT_LOADED}isTimeBuffered(e,n,r){let s,o;for(let i=0;i<r.length;i++){if(s=r.start(i)-this.bufferPadding,o=r.end(i)+this.bufferPadding,e>=s&&n<=o)return!0;if(n<=s)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(e,n){if(n.frag.sn==="initSegment"||n.frag.bitrateTest)return;const r=n.frag,s=n.part?null:n,o=Ql(r);this.fragments[o]={body:r,appendedPTS:null,loaded:s,buffered:!1,range:Object.create(null)}}onBufferAppended(e,n){const{frag:r,part:s,timeRanges:o,type:i}=n;if(r.sn==="initSegment")return;const a=r.type;if(s){let l=this.activePartLists[a];l||(this.activePartLists[a]=l=[]),l.push(s)}this.timeRanges=o;const u=o[i];this.detectEvictedFragments(i,u,a,s)}onFragBuffered(e,n){this.detectPartialFragments(n)}hasFragment(e){const n=Ql(e);return!!this.fragments[n]}hasFragments(e){const{fragments:n}=this,r=Object.keys(n);if(!e)return r.length>0;for(let s=r.length;s--;){const o=n[r[s]];if((o==null?void 0:o.body.type)===e)return!0}return!1}hasParts(e){var n;return!!((n=this.activePartLists[e])!=null&&n.length)}removeFragmentsInRange(e,n,r,s,o){s&&!this.hasGaps||Object.keys(this.fragments).forEach(i=>{const a=this.fragments[i];if(!a)return;const u=a.body;u.type!==r||s&&!u.gap||u.start<n&&u.end>e&&(a.buffered||o)&&this.removeFragment(u)})}removeFragment(e){const n=Ql(e);e.clearElementaryStreamInfo();const r=this.activePartLists[e.type];if(r){const s=e.sn;this.activePartLists[e.type]=QT(r,o=>o.fragment.sn!==s)}delete this.fragments[n],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){var e,n;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const r=(e=this.hls)==null||(n=e.latestLevelDetails)==null?void 0:n.partList;r&&r.forEach(s=>s.clearElementaryStreamInfo())}}function _h(t){var e,n,r;return t.buffered&&(t.body.gap||((e=t.range.video)==null?void 0:e.partial)||((n=t.range.audio)==null?void 0:n.partial)||((r=t.range.audiovideo)==null?void 0:r.partial))}function Ql(t){return`${t.type}_${t.level}_${t.sn}`}function QT(t,e){return t.filter(n=>{const r=e(n);return r||n.clearElementaryStreamInfo(),r})}var Ba={cbc:0,ctr:1};class Uhe{constructor(e,n,r){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=e,this.aesIV=n,this.aesMode=r}decrypt(e,n){switch(this.aesMode){case Ba.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},n,e);case Ba.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},n,e);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}function Hhe(t){const e=t.byteLength,n=e&&new DataView(t.buffer).getUint8(e-1);return n?t.slice(0,e-n):t}class jhe{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const n=new DataView(e),r=new Uint32Array(4);for(let s=0;s<4;s++)r[s]=n.getUint32(s*4);return r}initTable(){const e=this.sBox,n=this.invSBox,r=this.subMix,s=r[0],o=r[1],i=r[2],a=r[3],u=this.invSubMix,l=u[0],c=u[1],d=u[2],f=u[3],h=new Uint32Array(256);let p=0,g=0,v=0;for(v=0;v<256;v++)v<128?h[v]=v<<1:h[v]=v<<1^283;for(v=0;v<256;v++){let y=g^g<<1^g<<2^g<<3^g<<4;y=y>>>8^y&255^99,e[p]=y,n[y]=p;const _=h[p],b=h[_],w=h[b];let S=h[y]*257^y*16843008;s[p]=S<<24|S>>>8,o[p]=S<<16|S>>>16,i[p]=S<<8|S>>>24,a[p]=S,S=w*16843009^b*65537^_*257^p*16843008,l[y]=S<<24|S>>>8,c[y]=S<<16|S>>>16,d[y]=S<<8|S>>>24,f[y]=S,p?(p=_^h[h[h[w^_]]],g^=h[h[g]]):p=g=1}}expandKey(e){const n=this.uint8ArrayToUint32Array_(e);let r=!0,s=0;for(;s<n.length&&r;)r=n[s]===this.key[s],s++;if(r)return;this.key=n;const o=this.keySize=n.length;if(o!==4&&o!==6&&o!==8)throw new Error("Invalid aes key size="+o);const i=this.ksRows=(o+6+1)*4;let a,u;const l=this.keySchedule=new Uint32Array(i),c=this.invKeySchedule=new Uint32Array(i),d=this.sBox,f=this.rcon,h=this.invSubMix,p=h[0],g=h[1],v=h[2],y=h[3];let _,b;for(a=0;a<i;a++){if(a<o){_=l[a]=n[a];continue}b=_,a%o===0?(b=b<<8|b>>>24,b=d[b>>>24]<<24|d[b>>>16&255]<<16|d[b>>>8&255]<<8|d[b&255],b^=f[a/o|0]<<24):o>6&&a%o===4&&(b=d[b>>>24]<<24|d[b>>>16&255]<<16|d[b>>>8&255]<<8|d[b&255]),l[a]=_=(l[a-o]^b)>>>0}for(u=0;u<i;u++)a=i-u,u&3?b=l[a]:b=l[a-4],u<4||a<=4?c[u]=b:c[u]=p[d[b>>>24]]^g[d[b>>>16&255]]^v[d[b>>>8&255]]^y[d[b&255]],c[u]=c[u]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,n,r){const s=this.keySize+6,o=this.invKeySchedule,i=this.invSBox,a=this.invSubMix,u=a[0],l=a[1],c=a[2],d=a[3],f=this.uint8ArrayToUint32Array_(r);let h=f[0],p=f[1],g=f[2],v=f[3];const y=new Int32Array(e),_=new Int32Array(y.length);let b,w,S,E,T,I,k,C,N,D,W,H,V,R;const z=this.networkToHostOrderSwap;for(;n<y.length;){for(N=z(y[n]),D=z(y[n+1]),W=z(y[n+2]),H=z(y[n+3]),T=N^o[0],I=H^o[1],k=W^o[2],C=D^o[3],V=4,R=1;R<s;R++)b=u[T>>>24]^l[I>>16&255]^c[k>>8&255]^d[C&255]^o[V],w=u[I>>>24]^l[k>>16&255]^c[C>>8&255]^d[T&255]^o[V+1],S=u[k>>>24]^l[C>>16&255]^c[T>>8&255]^d[I&255]^o[V+2],E=u[C>>>24]^l[T>>16&255]^c[I>>8&255]^d[k&255]^o[V+3],T=b,I=w,k=S,C=E,V=V+4;b=i[T>>>24]<<24^i[I>>16&255]<<16^i[k>>8&255]<<8^i[C&255]^o[V],w=i[I>>>24]<<24^i[k>>16&255]<<16^i[C>>8&255]<<8^i[T&255]^o[V+1],S=i[k>>>24]<<24^i[C>>16&255]<<16^i[T>>8&255]<<8^i[I&255]^o[V+2],E=i[C>>>24]<<24^i[T>>16&255]<<16^i[I>>8&255]<<8^i[k&255]^o[V+3],_[n]=z(b^h),_[n+1]=z(E^p),_[n+2]=z(S^g),_[n+3]=z(w^v),h=N,p=D,g=W,v=H,n=n+4}return _.buffer}}class Khe{constructor(e,n,r){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=e,this.key=n,this.aesMode=r}expandKey(){const e=zhe(this.aesMode);return this.subtle.importKey("raw",this.key,{name:e},!1,["encrypt","decrypt"])}}function zhe(t){switch(t){case Ba.cbc:return"AES-CBC";case Ba.ctr:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${t}`)}}const Whe=16;class Bw{constructor(e,{removePKCS7Padding:n=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=e.enableSoftwareAES,this.removePKCS7Padding=n,n)try{const r=self.crypto;r&&(this.subtle=r.subtle||r.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:n}=this;if(!e||n)return this.reset(),null;const r=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?Hhe(r):r}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,n,r,s){return this.useSoftware?new Promise((o,i)=>{const a=ArrayBuffer.isView(e)?e:new Uint8Array(e);this.softwareDecrypt(a,n,r,s);const u=this.flush();u?o(u.buffer):i(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),n,r,s)}softwareDecrypt(e,n,r,s){const{currentIV:o,currentResult:i,remainderData:a}=this;if(s!==Ba.cbc||n.byteLength!==16)return $n.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),a&&(e=ho(a,e),this.remainderData=null);const u=this.getValidChunk(e);if(!u.length)return null;o&&(r=o);let l=this.softwareDecrypter;l||(l=this.softwareDecrypter=new jhe),l.expandKey(n);const c=i;return this.currentResult=l.decrypt(u.buffer,0,r),this.currentIV=u.slice(-16).buffer,c||null}webCryptoDecrypt(e,n,r,s){if(this.key!==n||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,n,r,s));this.key=n,this.fastAesKey=new Khe(this.subtle,n,s)}return this.fastAesKey.expandKey().then(o=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new Uhe(this.subtle,new Uint8Array(r),s).decrypt(e.buffer,o)):Promise.reject(new Error("web crypto not initialized"))).catch(o=>($n.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${o.name}: ${o.message}`),this.onWebCryptoError(e,n,r,s)))}onWebCryptoError(e,n,r,s){const o=this.enableSoftwareAES;if(o){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,n,r,s);const i=this.flush();if(i)return i.buffer}throw new Error("WebCrypto"+(o?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(e){let n=e;const r=e.length-e.length%Whe;return r!==e.length&&(n=e.slice(0,r),this.remainderData=e.slice(r)),n}logOnce(e){this.logEnabled&&($n.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const ZT=Math.pow(2,17);class Ghe{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,n){const r=e.url;if(!r)return Promise.reject(new ki({type:tn.NETWORK_ERROR,details:Xe.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${r?"part list":"url"}`),networkDetails:null}));this.abort();const s=this.config,o=s.fLoader,i=s.loader;return new Promise((a,u)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(p=>p[0]==="GAP")){u(e2(e));return}else e.gap=!1;const l=this.loader=o?new o(s):new i(s),c=JT(e);e.loader=l;const d=XT(s.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:ZT};e.stats=l.stats;const h={onSuccess:(p,g,v,y)=>{this.resetLoader(e,l);let _=p.data;v.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(_.slice(0,16)),_=_.slice(16)),a({frag:e,part:null,payload:_,networkDetails:y})},onError:(p,g,v,y)=>{this.resetLoader(e,l),u(new ki({type:tn.NETWORK_ERROR,details:Xe.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:Hn({url:r,data:void 0},p),error:new Error(`HTTP Error ${p.code} ${p.text}`),networkDetails:v,stats:y}))},onAbort:(p,g,v)=>{this.resetLoader(e,l),u(new ki({type:tn.NETWORK_ERROR,details:Xe.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:v,stats:p}))},onTimeout:(p,g,v)=>{this.resetLoader(e,l),u(new ki({type:tn.NETWORK_ERROR,details:Xe.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${f.timeout}ms`),networkDetails:v,stats:p}))}};n&&(h.onProgress=(p,g,v,y)=>n({frag:e,part:null,payload:v,networkDetails:y})),l.load(c,f,h)})}loadPart(e,n,r){this.abort();const s=this.config,o=s.fLoader,i=s.loader;return new Promise((a,u)=>{if(this.loader&&this.loader.destroy(),e.gap||n.gap){u(e2(e,n));return}const l=this.loader=o?new o(s):new i(s),c=JT(e,n);e.loader=l;const d=XT(s.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:ZT};n.stats=l.stats,l.load(c,f,{onSuccess:(h,p,g,v)=>{this.resetLoader(e,l),this.updateStatsFromPart(e,n);const y={frag:e,part:n,payload:h.data,networkDetails:v};r(y),a(y)},onError:(h,p,g,v)=>{this.resetLoader(e,l),u(new ki({type:tn.NETWORK_ERROR,details:Xe.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:n,response:Hn({url:c.url,data:void 0},h),error:new Error(`HTTP Error ${h.code} ${h.text}`),networkDetails:g,stats:v}))},onAbort:(h,p,g)=>{e.stats.aborted=n.stats.aborted,this.resetLoader(e,l),u(new ki({type:tn.NETWORK_ERROR,details:Xe.INTERNAL_ABORTED,fatal:!1,frag:e,part:n,error:new Error("Aborted"),networkDetails:g,stats:h}))},onTimeout:(h,p,g)=>{this.resetLoader(e,l),u(new ki({type:tn.NETWORK_ERROR,details:Xe.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:n,error:new Error(`Timeout after ${f.timeout}ms`),networkDetails:g,stats:h}))}})})}updateStatsFromPart(e,n){const r=e.stats,s=n.stats,o=s.total;if(r.loaded+=s.loaded,o){const u=Math.round(e.duration/n.duration),l=Math.min(Math.round(r.loaded/o),u),d=(u-l)*Math.round(r.loaded/l);r.total=r.loaded+d}else r.total=Math.max(r.loaded,r.total);const i=r.loading,a=s.loading;i.start?i.first+=a.first-a.start:(i.start=a.start,i.first=a.first),i.end=a.end}resetLoader(e,n){e.loader=null,this.loader===n&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),n.destroy()}}function JT(t,e=null){const n=e||t,r={frag:t,part:e,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},s=n.byteRangeStartOffset,o=n.byteRangeEndOffset;if(jt(s)&&jt(o)){var i;let a=s,u=o;if(t.sn==="initSegment"&&qhe((i=t.decryptdata)==null?void 0:i.method)){const l=o-s;l%16&&(u=o+(16-l%16)),s!==0&&(r.resetIV=!0,a=s-16)}r.rangeStart=a,r.rangeEnd=u}return r}function e2(t,e){const n=new Error(`GAP ${t.gap?"tag":"attribute"} found`),r={type:tn.MEDIA_ERROR,details:Xe.FRAG_GAP,fatal:!1,frag:t,error:n,networkDetails:null};return e&&(r.part=e),(e||t).stats.aborted=!0,new ki(r)}function qhe(t){return t==="AES-128"||t==="AES-256"}class ki extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class GP extends Qi{constructor(e,n){super(e,n),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class Vw{constructor(e,n,r,s=0,o=-1,i=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=Sh(),this.buffering={audio:Sh(),video:Sh(),audiovideo:Sh()},this.level=e,this.sn=n,this.id=r,this.size=s,this.part=o,this.partial=i}}function Sh(){return{start:0,executeStart:0,executeEnd:0,end:0}}const t2={length:0,start:()=>0,end:()=>0};class yn{static isBuffered(e,n){if(e){const r=yn.getBuffered(e);for(let s=r.length;s--;)if(n>=r.start(s)&&n<=r.end(s))return!0}return!1}static bufferedRanges(e){if(e){const n=yn.getBuffered(e);return yn.timeRangesToArray(n)}return[]}static timeRangesToArray(e){const n=[];for(let r=0;r<e.length;r++)n.push({start:e.start(r),end:e.end(r)});return n}static bufferInfo(e,n,r){if(e){const s=yn.bufferedRanges(e);if(s.length)return yn.bufferedInfo(s,n,r)}return{len:0,start:n,end:n,bufferedIndex:-1}}static bufferedInfo(e,n,r){n=Math.max(0,n),e.length>1&&e.sort((c,d)=>c.start-d.start||d.end-c.end);let s=-1,o=[];if(r)for(let c=0;c<e.length;c++){n>=e[c].start&&n<=e[c].end&&(s=c);const d=o.length;if(d){const f=o[d-1].end;e[c].start-f<r?e[c].end>f&&(o[d-1].end=e[c].end):o.push(e[c])}else o.push(e[c])}else o=e;let i=0,a,u=n,l=n;for(let c=0;c<o.length;c++){const d=o[c].start,f=o[c].end;if(s===-1&&n>=d&&n<=f&&(s=c),n+r>=d&&n<f)u=d,l=f,i=l-n;else if(n+r<d){a=d;break}}return{len:i,start:u||0,end:l||0,nextStart:a,buffered:e,bufferedIndex:s}}static getBuffered(e){try{return e.buffered||t2}catch(n){return $n.log("failed to get media.buffered",n),t2}}}const qP=/\{\$([a-zA-Z0-9-_]+)\}/g;function n2(t){return qP.test(t)}function Uy(t,e){if(t.variableList!==null||t.hasVariableRefs){const n=t.variableList;return e.replace(qP,r=>{const s=r.substring(2,r.length-1),o=n==null?void 0:n[s];return o===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${s}"`)),r):o})}return e}function r2(t,e,n){let r=t.variableList;r||(t.variableList=r={});let s,o;if("QUERYPARAM"in e){s=e.QUERYPARAM;try{const i=new self.URL(n).searchParams;if(i.has(s))o=i.get(s);else throw new Error(`"${s}" does not match any query parameter in URI: "${n}"`)}catch(i){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${i.message}`))}}else s=e.NAME,o=e.VALUE;s in r?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${s}"`)):r[s]=o||""}function Yhe(t,e,n){const r=e.IMPORT;if(n&&r in n){let s=t.variableList;s||(t.variableList=s={}),s[r]=n[r]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${r}"`))}const Xhe=/^(\d+)x(\d+)$/,s2=/(.+?)=(".*?"|.*?)(?:,|$)/g;class cr{constructor(e,n){typeof e=="string"&&(e=cr.parseAttrList(e,n)),Gn(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const n=parseInt(this[e],10);return n>Number.MAX_SAFE_INTEGER?1/0:n}hexadecimalInteger(e){if(this[e]){let n=(this[e]||"0x").slice(2);n=(n.length&1?"0":"")+n;const r=new Uint8Array(n.length/2);for(let s=0;s<n.length/2;s++)r[s]=parseInt(n.slice(s*2,s*2+2),16);return r}return null}hexadecimalIntegerAsNumber(e){const n=parseInt(this[e],16);return n>Number.MAX_SAFE_INTEGER?1/0:n}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,n){const r=this[e];return r?parseFloat(r):n}enumeratedString(e){return this[e]}enumeratedStringList(e,n){const r=this[e];return(r?r.split(/[ ,]+/):[]).reduce((s,o)=>(s[o.toLowerCase()]=!0,s),n)}bool(e){return this[e]==="YES"}decimalResolution(e){const n=Xhe.exec(this[e]);if(n!==null)return{width:parseInt(n[1],10),height:parseInt(n[2],10)}}static parseAttrList(e,n){let r;const s={},o='"';for(s2.lastIndex=0;(r=s2.exec(e))!==null;){const i=r[1].trim();let a=r[2];const u=a.indexOf(o)===0&&a.lastIndexOf(o)===a.length-1;let l=!1;if(u)a=a.slice(1,-1);else switch(i){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":l=!0}if(n&&(u||l))a=Uy(n,a);else if(!l&&!u)switch(i){case"CLOSED-CAPTIONS":if(a==="NONE")break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":$n.warn(`${e}: attribute ${i} is missing quotes`)}s[i]=a}return s}}const Qhe="com.apple.hls.interstitial";function Zhe(t){return t!=="ID"&&t!=="CLASS"&&t!=="CUE"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function Jhe(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"||t==="SCTE35-CMD"}class YP{constructor(e,n,r=0){var s;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=(n==null?void 0:n.tagAnchor)||null,this.tagOrder=(s=n==null?void 0:n.tagOrder)!=null?s:r,n){const o=n.attr;for(const i in o)if(Object.prototype.hasOwnProperty.call(e,i)&&e[i]!==o[i]){$n.warn(`DATERANGE tag attribute: "${i}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=i;break}e=Gn(new cr({}),o,e)}if(this.attr=e,n?(this._startDate=n._startDate,this._cue=n._cue,this._endDate=n._endDate,this._dateAtEnd=n._dateAtEnd):this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const o=(n==null?void 0:n.endDate)||new Date(this.attr["END-DATE"]);jt(o.getTime())&&(this._endDate=o)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const e=this._cue;return e===void 0?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):e}get startTime(){const{tagAnchor:e}=this;return e===null||e.programDateTime===null?($n.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${e}`),NaN):e.start+(this.startDate.getTime()-e.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const e=this._endDate||this._dateAtEnd;if(e)return e;const n=this.duration;return n!==null?this._dateAtEnd=new Date(this._startDate.getTime()+n*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(jt(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return this.class===Qhe}get isValid(){return!!this.id&&!this._badValueForSameId&&jt(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}const epe=10;class tpe{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const n=this.lastPartSn-e.lastPartSn,r=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!r||!!n||!this.live,this.advanced=this.endSN>e.endSN||n>0||n===0&&r>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1}get hasProgramDateTime(){return this.fragments.length?jt(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||epe}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const e=this.partList;if(e){const n=this.lastPartIndex;if(n!==-1){for(let r=e.length;r--;)if(e[r].index>n)return e[r].index;return n}}return 0}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const e=this.partEnd-this.fragmentStart;return this.age>Math.max(e,this.totalduration)+this.levelTargetDuration}return!1}}function Tu(t){return t==="AES-128"||t==="AES-256"||t==="AES-256-CTR"}function Uw(t){switch(t){case"AES-128":case"AES-256":return Ba.cbc;case"AES-256-CTR":return Ba.ctr;default:throw new Error(`invalid full segment method ${t}`)}}function Hw(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function Hy(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}function npe(t){const e=Hy(t).subarray(0,16),n=new Uint8Array(16);return n.set(e,16-e.length),n}function rpe(t){const e=function(r,s,o){const i=r[s];r[s]=r[o],r[o]=i};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function spe(t){const e=t.split(":");let n=null;if(e[0]==="data"&&e.length===2){const r=e[1].split(";"),s=r[r.length-1].split(",");if(s.length===2){const o=s[0]==="base64",i=s[1];o?(r.splice(-1,1),n=Hw(i)):n=npe(i)}}return n}const im=typeof self<"u"?self:void 0;var jn={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},xs={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function Bv(t){switch(t){case xs.FAIRPLAY:return jn.FAIRPLAY;case xs.PLAYREADY:return jn.PLAYREADY;case xs.WIDEVINE:return jn.WIDEVINE;case xs.CLEARKEY:return jn.CLEARKEY}}var Eh={CENC:"1077efecc0b24d02ace33c1e52e2fb4b",CLEARKEY:"e2719d58a985b3c9781ab030af78d30e",PLAYREADY:"9a04f07998404286ab92e65be0885f95",WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function Vv(t){if(t===Eh.WIDEVINE)return jn.WIDEVINE;if(t===Eh.PLAYREADY)return jn.PLAYREADY;if(t===Eh.CENC||t===Eh.CLEARKEY)return jn.CLEARKEY}function Uv(t){switch(t){case jn.FAIRPLAY:return xs.FAIRPLAY;case jn.PLAYREADY:return xs.PLAYREADY;case jn.WIDEVINE:return xs.WIDEVINE;case jn.CLEARKEY:return xs.CLEARKEY}}function xh(t){const{drmSystems:e,widevineLicenseUrl:n}=t,r=e?[jn.FAIRPLAY,jn.WIDEVINE,jn.PLAYREADY,jn.CLEARKEY].filter(s=>!!e[s]):[];return!r[jn.WIDEVINE]&&n&&r.push(jn.WIDEVINE),r}const XP=function(t){return im!=null&&(t=im.navigator)!=null&&t.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function ope(t,e,n,r){let s;switch(t){case jn.FAIRPLAY:s=["cenc","sinf"];break;case jn.WIDEVINE:case jn.PLAYREADY:s=["cenc"];break;case jn.CLEARKEY:s=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return ipe(s,e,n,r)}function ipe(t,e,n,r){return[{initDataTypes:t,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:e.map(o=>({contentType:`audio/mp4; codecs=${o}`,robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null})),videoCapabilities:n.map(o=>({contentType:`video/mp4; codecs=${o}`,robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null}))}]}function ape(t){var e;return t.sessionType==="persistent-license"||!!((e=t.sessionTypes)!=null&&e.some(n=>n==="persistent-license"))}function QP(t){const e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),n=String.fromCharCode.apply(null,Array.from(e)),r=n.substring(n.indexOf("<"),n.length),i=new DOMParser().parseFromString(r,"text/xml").getElementsByTagName("KID")[0];if(i){const a=i.childNodes[0]?i.childNodes[0].nodeValue:i.getAttribute("VALUE");if(a){const u=Hw(a).subarray(0,16);return rpe(u),u}}return null}let Th={};class qd{static clearKeyUriToKeyIdMap(){Th={}}constructor(e,n,r,s=[1],o=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=n,this.keyFormat=r,this.keyFormatVersions=s,this.iv=o,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&!Tu(e)}isSupported(){if(this.method){if(Tu(this.method)||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case xs.FAIRPLAY:case xs.WIDEVINE:case xs.PLAYREADY:case xs.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(Tu(this.method)&&this.uri&&!this.iv){typeof e!="number"&&($n.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const r=lpe(e);return new qd(this.method,this.uri,"identity",this.keyFormatVersions,r)}const n=spe(this.uri);if(n)switch(this.keyFormat){case xs.WIDEVINE:this.pssh=n,n.length>=22&&(this.keyId=n.subarray(n.length-22,n.length-6));break;case xs.PLAYREADY:{const r=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=hhe(r,null,n),this.keyId=QP(n);break}default:{let r=n.subarray(0,16);if(r.length!==16){const s=new Uint8Array(16);s.set(r,16-r.length),r=s}this.keyId=r;break}}if(!this.keyId||this.keyId.byteLength!==16){let r=Th[this.uri];if(!r){const s=Object.keys(Th).length%Number.MAX_SAFE_INTEGER;r=new Uint8Array(16),new DataView(r.buffer,12,4).setUint32(0,s),Th[this.uri]=r}this.keyId=r}return this}}function lpe(t){const e=new Uint8Array(16);for(let n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e}const o2=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,i2=/#EXT-X-MEDIA:(.*)/g,upe=/^#EXT(?:INF|-X-TARGETDURATION):/m,Hv=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),cpe=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Jo{static findGroup(e,n){for(let r=0;r<e.length;r++){const s=e[r];if(s.id===n)return s}}static resolve(e,n){return Dw.buildAbsoluteURL(n,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return upe.test(e)}static parseMasterPlaylist(e,n){const r=n2(e),s={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:r},o=[];o2.lastIndex=0;let i;for(;(i=o2.exec(e))!=null;)if(i[1]){var a;const l=new cr(i[1],s),c=Uy(s,i[2]),d={attrs:l,bitrate:l.decimalInteger("BANDWIDTH")||l.decimalInteger("AVERAGE-BANDWIDTH"),name:l.NAME,url:Jo.resolve(c,n)},f=l.decimalResolution("RESOLUTION");f&&(d.width=f.width,d.height=f.height),u2(l.CODECS,d);const h=l["SUPPLEMENTAL-CODECS"];h&&(d.supplemental={},u2(h,d.supplemental)),(a=d.unknownCodecs)!=null&&a.length||o.push(d),s.levels.push(d)}else if(i[3]){const l=i[3],c=i[4];switch(l){case"SESSION-DATA":{const d=new cr(c,s),f=d["DATA-ID"];f&&(s.sessionData===null&&(s.sessionData={}),s.sessionData[f]=d);break}case"SESSION-KEY":{const d=a2(c,n,s);d.encrypted&&d.isSupported()?(s.sessionKeys===null&&(s.sessionKeys=[]),s.sessionKeys.push(d)):$n.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${c}"`);break}case"DEFINE":{{const d=new cr(c,s);r2(s,d,n)}break}case"CONTENT-STEERING":{const d=new cr(c,s);s.contentSteering={uri:Jo.resolve(d["SERVER-URI"],n),pathwayId:d["PATHWAY-ID"]||"."};break}case"START":{s.startTimeOffset=l2(c);break}}}const u=o.length>0&&o.length<s.levels.length;return s.levels=u?o:s.levels,s.levels.length===0&&(s.playlistParsingError=new Error("no levels found in manifest")),s}static parseMasterPlaylistMedia(e,n,r){let s;const o={},i=r.levels,a={AUDIO:i.map(l=>({id:l.attrs.AUDIO,audioCodec:l.audioCodec})),SUBTITLES:i.map(l=>({id:l.attrs.SUBTITLES,textCodec:l.textCodec})),"CLOSED-CAPTIONS":[]};let u=0;for(i2.lastIndex=0;(s=i2.exec(e))!==null;){const l=new cr(s[1],r),c=l.TYPE;if(c){const d=a[c],f=o[c]||[];o[c]=f;const h=l.LANGUAGE,p=l["ASSOC-LANGUAGE"],g=l.CHANNELS,v=l.CHARACTERISTICS,y=l["INSTREAM-ID"],_={attrs:l,bitrate:0,id:u++,groupId:l["GROUP-ID"]||"",name:l.NAME||h||"",type:c,default:l.bool("DEFAULT"),autoselect:l.bool("AUTOSELECT"),forced:l.bool("FORCED"),lang:h,url:l.URI?Jo.resolve(l.URI,n):""};if(p&&(_.assocLang=p),g&&(_.channels=g),v&&(_.characteristics=v),y&&(_.instreamId=y),d!=null&&d.length){const b=Jo.findGroup(d,_.groupId)||d[0];c2(_,b,"audioCodec"),c2(_,b,"textCodec")}f.push(_)}}return o}static parseLevelPlaylist(e,n,r,s,o,i){var a;const u={url:n},l=new tpe(n),c=l.fragments,d=[];let f=null,h=0,p=0,g=0,v=0,y=0,_=null,b=new Ov(s,u),w,S,E,T=-1,I=!1,k=null,C;if(Hv.lastIndex=0,l.m3u8=e,l.hasVariableRefs=n2(e),((a=Hv.exec(e))==null?void 0:a[0])!=="#EXTM3U")return l.playlistParsingError=new Error("Missing format identifier #EXTM3U"),l;for(;(w=Hv.exec(e))!==null;){I&&(I=!1,b=new Ov(s,u),b.playlistOffset=g,b.start=g,b.sn=h,b.cc=v,y&&(b.bitrate=y),b.level=r,f&&(b.initSegment=f,f.rawProgramDateTime&&(b.rawProgramDateTime=f.rawProgramDateTime,f.rawProgramDateTime=null),k&&(b.setByteRange(k),k=null)));const H=w[1];if(H){b.duration=parseFloat(H);const V=(" "+w[2]).slice(1);b.title=V||null,b.tagList.push(V?["INF",H,V]:["INF",H])}else if(w[3]){if(jt(b.duration)){b.playlistOffset=g,b.start=g,E&&f2(b,E,l),b.sn=h,b.level=r,b.cc=v,c.push(b);const V=(" "+w[3]).slice(1);b.relurl=Uy(l,V),jy(b,_,d),_=b,g+=b.duration,h++,p=0,I=!0}}else{if(w=w[0].match(cpe),!w){$n.warn("No matches on slow regex match for level playlist!");continue}for(S=1;S<w.length&&w[S]===void 0;S++);const V=(" "+w[S]).slice(1),R=(" "+w[S+1]).slice(1),z=w[S+2]?(" "+w[S+2]).slice(1):null;switch(V){case"BYTERANGE":_?b.setByteRange(R,_):b.setByteRange(R);break;case"PROGRAM-DATE-TIME":b.rawProgramDateTime=R,b.tagList.push(["PROGRAM-DATE-TIME",R]),T===-1&&(T=c.length);break;case"PLAYLIST-TYPE":l.type&&Ei(l,V,w),l.type=R.toUpperCase();break;case"MEDIA-SEQUENCE":l.startSN!==0?Ei(l,V,w):c.length>0&&h2(l,V,w),h=l.startSN=parseInt(R);break;case"SKIP":{l.skippedSegments&&Ei(l,V,w);const M=new cr(R,l),B=M.decimalInteger("SKIPPED-SEGMENTS");if(jt(B)){l.skippedSegments+=B;for(let X=B;X--;)c.push(null);h+=B}const j=M.enumeratedString("RECENTLY-REMOVED-DATERANGES");j&&(l.recentlyRemovedDateranges=(l.recentlyRemovedDateranges||[]).concat(j.split("	")));break}case"TARGETDURATION":l.targetduration!==0&&Ei(l,V,w),l.targetduration=Math.max(parseInt(R),1);break;case"VERSION":l.version!==null&&Ei(l,V,w),l.version=parseInt(R);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":l.live||Ei(l,V,w),l.live=!1;break;case"#":(R||z)&&b.tagList.push(z?[R,z]:[R]);break;case"DISCONTINUITY":v++,b.tagList.push(["DIS"]);break;case"GAP":b.gap=!0,b.tagList.push([V]);break;case"BITRATE":b.tagList.push([V,R]),y=parseInt(R)*1e3,jt(y)?b.bitrate=y:y=0;break;case"DATERANGE":{const M=new cr(R,l),B=new YP(M,l.dateRanges[M.ID],l.dateRangeTagCount);l.dateRangeTagCount++,B.isValid||l.skippedSegments?l.dateRanges[B.id]=B:$n.warn(`Ignoring invalid DATERANGE tag: "${R}"`),b.tagList.push(["EXT-X-DATERANGE",R]);break}case"DEFINE":{{const M=new cr(R,l);"IMPORT"in M?Yhe(l,M,i):r2(l,M,n)}break}case"DISCONTINUITY-SEQUENCE":l.startCC!==0?Ei(l,V,w):c.length>0&&h2(l,V,w),l.startCC=v=parseInt(R);break;case"KEY":{const M=a2(R,n,l);if(M.isSupported()){if(M.method==="NONE"){E=void 0;break}E||(E={}),E[M.keyFormat]&&(E=Gn({},E)),E[M.keyFormat]=M}else $n.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${R}"`);break}case"START":l.startTimeOffset=l2(R);break;case"MAP":{const M=new cr(R,l);if(b.duration){const B=new Ov(s,u);d2(B,M,r,E),f=B,b.initSegment=f,f.rawProgramDateTime&&!b.rawProgramDateTime&&(b.rawProgramDateTime=f.rawProgramDateTime)}else{const B=b.byteRangeEndOffset;if(B){const j=b.byteRangeStartOffset;k=`${B-j}@${j}`}else k=null;d2(b,M,r,E),f=b,I=!0}f.cc=v;break}case"SERVER-CONTROL":{C&&Ei(l,V,w),C=new cr(R),l.canBlockReload=C.bool("CAN-BLOCK-RELOAD"),l.canSkipUntil=C.optionalFloat("CAN-SKIP-UNTIL",0),l.canSkipDateRanges=l.canSkipUntil>0&&C.bool("CAN-SKIP-DATERANGES"),l.partHoldBack=C.optionalFloat("PART-HOLD-BACK",0),l.holdBack=C.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{l.partTarget&&Ei(l,V,w);const M=new cr(R);l.partTarget=M.decimalFloatingPoint("PART-TARGET");break}case"PART":{let M=l.partList;M||(M=l.partList=[]);const B=p>0?M[M.length-1]:void 0,j=p++,X=new cr(R,l),se=new Zfe(X,b,u,j,B);M.push(se),b.duration+=se.duration;break}case"PRELOAD-HINT":{const M=new cr(R,l);l.preloadHint=M;break}case"RENDITION-REPORT":{const M=new cr(R,l);l.renditionReports=l.renditionReports||[],l.renditionReports.push(M);break}default:$n.warn(`line parsed but not handled: ${w}`);break}}}_&&!_.relurl?(c.pop(),g-=_.duration,l.partList&&(l.fragmentHint=_)):l.partList&&(jy(b,_,d),b.cc=v,l.fragmentHint=b,E&&f2(b,E,l)),l.targetduration||(l.playlistParsingError=new Error("#EXT-X-TARGETDURATION is required"));const N=c.length,D=c[0],W=c[N-1];if(g+=l.skippedSegments*l.targetduration,g>0&&N&&W){l.averagetargetduration=g/N;const H=W.sn;l.endSN=H!=="initSegment"?H:0,l.live||(W.endList=!0),D&&l.startCC===void 0&&(l.startCC=D.cc),T>0&&(fpe(c,T),D&&d.unshift(D))}else l.endSN=0,l.startCC=0;return l.fragmentHint&&(g+=l.fragmentHint.duration),l.totalduration=g,d.length&&l.dateRangeTagCount&&D&&ZP(d,l),l.endCC=v,l}}function ZP(t,e){const n=t.length,r=t[n-1],s=e.live?1/0:e.totalduration,o=Object.keys(e.dateRanges);for(let i=o.length;i--;){const a=e.dateRanges[o[i]],u=a.startDate.getTime();a.tagAnchor=r.ref;for(let l=n;l--;){const c=dpe(e,u,t,l,s);if(c!==-1){a.tagAnchor=e.fragments[c].ref;break}}}}function dpe(t,e,n,r,s){const o=n[r];if(o){const a=o.programDateTime;if(e>=a||r===0){var i;const u=(((i=n[r+1])==null?void 0:i.start)||s)-o.start;if(e<=a+u*1e3){const l=n[r].sn-t.startSN,c=t.fragments;if(c.length>n.length){const f=(n[r+1]||c[c.length-1]).sn-t.startSN;for(let h=f;h>l;h--){const p=c[h].programDateTime;if(e>=p&&e<p+c[h].duration*1e3)return h}}return l}}}return-1}function a2(t,e,n){var r,s;const o=new cr(t,n),i=(r=o.METHOD)!=null?r:"",a=o.URI,u=o.hexadecimalInteger("IV"),l=o.KEYFORMATVERSIONS,c=(s=o.KEYFORMAT)!=null?s:"identity";a&&o.IV&&!u&&$n.error(`Invalid IV: ${o.IV}`);const d=a?Jo.resolve(a,e):"",f=(l||"1").split("/").map(Number).filter(Number.isFinite);return new qd(i,d,c,f,u)}function l2(t){const n=new cr(t).decimalFloatingPoint("TIME-OFFSET");return jt(n)?n:null}function u2(t,e){let n=(t||"").split(/[ ,]+/).filter(r=>r);["video","audio","text"].forEach(r=>{const s=n.filter(o=>BP(o,r));s.length&&(e[`${r}Codec`]=s.map(o=>o.split("/")[0]).join(","),n=n.filter(o=>s.indexOf(o)===-1))}),e.unknownCodecs=n}function c2(t,e,n){const r=e[n];r&&(t[n]=r)}function fpe(t,e){let n=t[e];for(let r=e;r--;){const s=t[r];if(!s)return;s.programDateTime=n.programDateTime-s.duration*1e3,n=s}}function jy(t,e,n){t.rawProgramDateTime?n.push(t):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime)}function d2(t,e,n,r){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=n,t.sn="initSegment",r&&(t.levelkeys=r),t.initSegment=null}function f2(t,e,n){t.levelkeys=e;const{encryptedFragments:r}=n;(!r.length||r[r.length-1].levelkeys!==e)&&Object.keys(e).some(s=>e[s].isCommonEncryption)&&r.push(t)}function Ei(t,e,n){t.playlistParsingError=new Error(`#EXT-X-${e} must not appear more than once (${n[0]})`)}function h2(t,e,n){t.playlistParsingError=new Error(`#EXT-X-${e} must appear before the first Media Segment (${n[0]})`)}function jv(t,e){const n=e.startPTS;if(jt(n)){let r=0,s;e.sn>t.sn?(r=n-t.start,s=t):(r=t.start-n,s=e),s.duration!==r&&s.setDuration(r)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.setStart(t.start+(t.minEndPTS-t.start)):e.setStart(t.start+t.duration):e.setStart(Math.max(t.start-e.duration,0))}function JP(t,e,n,r,s,o){r-n<=0&&($n.warn("Fragment should have a positive duration",e),r=n+e.duration,o=s+e.duration);let a=n,u=r;const l=e.startPTS,c=e.endPTS;if(jt(l)){const v=Math.abs(l-n);jt(e.deltaPTS)?e.deltaPTS=Math.max(v,e.deltaPTS):e.deltaPTS=v,a=Math.max(n,l),n=Math.min(n,l),s=Math.min(s,e.startDTS),u=Math.min(r,c),r=Math.max(r,c),o=Math.max(o,e.endDTS)}const d=n-e.start;e.start!==0&&e.setStart(n),e.setDuration(r-e.start),e.startPTS=n,e.maxStartPTS=a,e.startDTS=s,e.endPTS=r,e.minEndPTS=u,e.endDTS=o;const f=e.sn;if(!t||f<t.startSN||f>t.endSN)return 0;let h;const p=f-t.startSN,g=t.fragments;for(g[p]=e,h=p;h>0;h--)jv(g[h],g[h-1]);for(h=p;h<g.length-1;h++)jv(g[h],g[h+1]);return t.fragmentHint&&jv(g[g.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,d}function hpe(t,e){if(t===e)return;let n=null;const r=t.fragments;for(let u=r.length-1;u>=0;u--){const l=r[u].initSegment;if(l){n=l;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let s;gpe(t,e,(u,l,c,d)=>{if(!e.startCC&&l.cc!==u.cc){var f,h;const p=u.cc-l.cc;for(let g=c;g<d.length;g++)d[g].cc+=p;e.startCC=(f=(h=nD(t,e.startSN-1))==null?void 0:h.cc)!=null?f:d[0].cc,e.endCC=d[d.length-1].cc}jt(u.startPTS)&&jt(u.endPTS)&&(l.setStart(l.startPTS=u.startPTS),l.startDTS=u.startDTS,l.maxStartPTS=u.maxStartPTS,l.endPTS=u.endPTS,l.endDTS=u.endDTS,l.minEndPTS=u.minEndPTS,l.setDuration(u.endPTS-u.startPTS),l.duration&&(s=l),e.PTSKnown=e.alignedSliding=!0),u.hasStreams&&(l.elementaryStreams=u.elementaryStreams),l.loader=u.loader,u.hasStats&&(l.stats=u.stats),u.initSegment&&(l.initSegment=u.initSegment,n=u.initSegment)});const o=e.fragments,i=e.fragmentHint?o.concat(e.fragmentHint):o;if(n&&i.forEach(u=>{var l;u&&(!u.initSegment||u.initSegment.relurl===((l=n)==null?void 0:l.relurl))&&(u.initSegment=n)}),e.skippedSegments)if(e.deltaUpdateFailed=o.some(u=>!u),e.deltaUpdateFailed){$n.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let u=e.skippedSegments;u--;)o.shift();e.startSN=o[0].sn}else{e.endCC=o[o.length-1].cc,e.canSkipDateRanges&&(e.dateRanges=ppe(t.dateRanges,e));const u=t.fragments.filter(l=>l.rawProgramDateTime);if(t.hasProgramDateTime&&!e.hasProgramDateTime)for(let l=1;l<i.length;l++)i[l].programDateTime===null&&jy(i[l],i[l-1],u);ZP(u,e)}mpe(t.partList,e.partList,(u,l)=>{l.elementaryStreams=u.elementaryStreams,l.stats=u.stats}),s?JP(e,s,s.startPTS,s.endPTS,s.startDTS,s.endDTS):eD(t,e),o.length&&(e.totalduration=e.edge-o[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const a=e.advancedDateTime;if(e.advanced&&a){const u=e.edge;e.driftStart||(e.driftStartTime=a,e.driftStart=u),e.driftEndTime=a,e.driftEnd=u}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime;e.requestScheduled===-1&&(e.requestScheduled=t.requestScheduled)}function ppe(t,e){const{dateRanges:n,recentlyRemovedDateranges:r}=e,s=Gn({},t);r&&r.forEach(a=>{delete s[a]});const i=Object.keys(s).length;return i&&Object.keys(n).forEach(a=>{const u=s[a],l=new YP(n[a].attr,u);l.isValid?(s[a]=l,u||(l.tagOrder+=i)):$n.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${ar(n[a].attr)}"`)}),s}function mpe(t,e,n){if(t&&e){let r=0;for(let s=0,o=t.length;s<=o;s++){const i=t[s],a=e[s+r];i&&a&&i.index===a.index&&i.fragment.sn===a.fragment.sn?n(i,a):r--}}}function gpe(t,e,n){const r=e.skippedSegments,s=Math.max(t.startSN,e.startSN)-e.startSN,o=(t.fragmentHint?1:0)+(r?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,i=e.startSN-t.startSN,a=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,u=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let l=s;l<=o;l++){const c=u[i+l];let d=a[l];if(r&&!d&&c&&(d=e.fragments[l]=c),c&&d){if(n(c,d,l,a),c.url&&c.url!==d.url){e.playlistParsingError=p2(`media sequence mismatch ${d.sn}:`,t,e,c,d);return}else if(c.cc!==d.cc){e.playlistParsingError=p2(`discontinuity sequence mismatch (${c.cc}!=${d.cc})`,t,e,c,d);return}}}}function p2(t,e,n,r,s){return new Error(`${t} ${s.url}
Playlist starting @${e.startSN}
${e.m3u8}

Playlist starting @${n.startSN}
${n.m3u8}`)}function eD(t,e,n=!0){const r=e.startSN+e.skippedSegments-t.startSN,s=t.fragments,o=r>=0;let i=0;if(o&&r<s.length)i=s[r].start;else if(o&&e.startSN===t.endSN+1)i=t.fragmentEnd;else if(o&&n)i=t.fragmentStart+r*e.levelTargetDuration;else if(!e.skippedSegments&&e.fragmentStart===0)i=t.fragmentStart;else return;Ky(e,i)}function Ky(t,e){if(e){const n=t.fragments;for(let r=t.skippedSegments;r<n.length;r++)n[r].addStart(e);t.fragmentHint&&t.fragmentHint.addStart(e)}}function tD(t,e=1/0){let n=1e3*t.targetduration;if(t.updated){const r=t.fragments,s=4;if(r.length&&n*s>e){const o=r[r.length-1].duration*1e3;o<n&&(n=o)}}else n/=2;return Math.round(n)}function nD(t,e,n){if(!t)return null;let r=t.fragments[e-t.startSN];return r||(r=t.fragmentHint,r&&r.sn===e)?r:e<t.startSN&&n&&n.sn===e?n:null}function m2(t,e,n){return t?rD(t.partList,e,n):null}function rD(t,e,n){if(t)for(let r=t.length;r--;){const s=t[r];if(s.index===n&&s.fragment.sn===e)return s}return null}function sD(t){t.forEach((e,n)=>{var r;(r=e.details)==null||r.fragments.forEach(s=>{s.level=n,s.initSegment&&(s.initSegment.level=n)})})}function ld(t,e){for(let r=0,s=t.length;r<s;r++){var n;if(((n=t[r])==null?void 0:n.cc)===e)return t[r]}return null}function vpe(t,e){return!!(t&&e.startCC<t.endCC&&e.endCC>t.startCC)}function g2(t,e){if(t){const n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}}function oD(t,e){const n=e.fragments;for(let r=0,s=n.length;r<s;r++)g2(n[r],t);e.fragmentHint&&g2(e.fragmentHint,t),e.alignedSliding=!0}function ype(t,e){t&&(iD(e,t),!e.alignedSliding&&t&&am(e,t),!e.alignedSliding&&t&&!e.skippedSegments&&eD(t,e,!1))}function iD(t,e){if(!vpe(e,t))return;const n=Math.min(e.endCC,t.endCC),r=ld(e.fragments,n),s=ld(t.fragments,n);if(!r||!s)return;$n.log(`Aligning playlist at start of dicontinuity sequence ${n}`);const o=r.start-s.start;oD(o,t)}function am(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const n=t.fragments,r=e.fragments;if(!n.length||!r.length)return;let s,o;const i=Math.min(e.endCC,t.endCC);e.startCC<i&&t.startCC<i&&(s=ld(r,i),o=ld(n,i)),(!s||!o)&&(s=r[Math.floor(r.length/2)],o=ld(n,s.cc)||n[Math.floor(n.length/2)]);const a=s.programDateTime,u=o.programDateTime;if(!a||!u)return;const l=(u-a)/1e3-(o.start-s.start);oD(l,t)}const bpe={toString:function(t){let e="";const n=t.length;for(let r=0;r<n;r++)e+=`[${t.start(r).toFixed(3)}-${t.end(r).toFixed(3)}]`;return e}},ct={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class jw extends GP{constructor(e,n,r,s,o){super(s,e.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=ct.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:i,fragCurrent:a,media:u,mediaBuffer:l,state:c}=this,d=u?u.currentTime:0,f=yn.bufferInfo(l||u,d,i.maxBufferHole);if(this.log(`media seeking to ${jt(d)?d.toFixed(3):d}, state: ${c}`),this.state===ct.ENDED)this.resetLoadingState();else if(a){const h=i.maxFragLookUpTolerance,p=a.start-h,g=a.start+a.duration+h;if(!f.len||g<f.start||p>f.end){const v=d>g;(d<p||v)&&(v&&a.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),a.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(u){this.fragmentTracker.removeFragmentsInRange(d,1/0,this.playlistType,!0);const h=this.lastCurrentTime;if(d>h&&(this.lastCurrentTime=d),!this.loadingParts){const p=Math.max(f.end,d),g=this.shouldLoadParts(this.getLevelDetails(),p);g&&(this.log(`LL-Part loading ON after seeking to ${d.toFixed(2)} with buffer @${p.toFixed(2)}`),this.loadingParts=g)}}!this.hls.hasEnoughToStart&&!f.len&&(this.log(`setting startPosition to ${d} because of seek before start`),this.nextLoadPosition=this.startPosition=d),this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=o,this.hls=e,this.fragmentLoader=new Ghe(e.config),this.keyLoader=r,this.fragmentTracker=n,this.config=e.config,this.decrypter=new Bw(e.config)}registerListeners(){const{hls:e}=this;e.on(Q.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Q.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Q.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Q.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Q.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Q.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Q.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Q.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){if(this.state===ct.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=ct.STOPPED}get startPositionValue(){const{nextLoadPosition:e,startPosition:n}=this;return n===-1&&e?e:n}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(e,n){if(n.live||!this.media)return!1;const r=e.end||0,s=this.config.timelineOffset||0;if(r<=s)return!1;const o=e.nextStart;if(o&&o>s&&o<n.edge||this.media.currentTime<e.start)return!1;const a=n.partList;if(a!=null&&a.length){const l=a[a.length-1];return yn.isBuffered(this.media,l.start+l.duration/2)}const u=n.fragments[n.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(u)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levelLastLoaded)==null?void 0:e.details}}get timelineOffset(){const e=this.config.timelineOffset;if(e){var n;return((n=this.getLevelDetails())==null?void 0:n.appliedTimelineOffset)||e}return 0}onMediaAttached(e,n){const r=this.media=this.mediaBuffer=n.media;r.removeEventListener("seeking",this.onMediaSeeking),r.removeEventListener("ended",this.onMediaEnded),r.addEventListener("seeking",this.onMediaSeeking),r.addEventListener("ended",this.onMediaEnded);const s=this.config;this.levels&&s.autoStartLoad&&this.state===ct.STOPPED&&this.startLoad(s.startPosition)}onMediaDetaching(e,n){const r=!!n.transferMedia,s=this.media;if(s!==null){if(s.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),s.removeEventListener("seeking",this.onMediaSeeking),s.removeEventListener("ended",this.onMediaEnded),this.keyLoader&&!r&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,r){this.resetLoadingState(),this.resetTransmuxer();return}this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(e,n){}onManifestLoaded(e,n){this.startTimeOffset=n.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=ct.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,n,r){this.startFragRequested=!0,this._loadFragForPlayback(e,n,r)}_loadFragForPlayback(e,n,r){const s=o=>{const i=o.frag;if(this.fragContextChanged(i)){this.warn(`${i.type} sn: ${i.sn}${o.part?" part: "+o.part.index:""} of ${this.fragInfo(i,!1,o.part)}) was dropped during download.`),this.fragmentTracker.removeFragment(i);return}i.stats.chunkCount++,this._handleFragmentLoadProgress(o)};this._doFragLoad(e,n,r,s).then(o=>{if(!o)return;const i=this.state,a=o.frag;if(this.fragContextChanged(a)){(i===ct.FRAG_LOADING||!this.fragCurrent&&i===ct.PARSING)&&(this.fragmentTracker.removeFragment(a),this.state=ct.IDLE);return}"payload"in o&&(this.log(`Loaded ${a.type} sn: ${a.sn} of ${this.playlistLabel()} ${a.level}`),this.hls.trigger(Q.FRAG_LOADED,o)),this._handleFragmentLoadComplete(o)}).catch(o=>{this.state===ct.STOPPED||this.state===ct.ERROR||(this.warn(`Frag error: ${(o==null?void 0:o.message)||o}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var n;const{fragmentTracker:r}=this;if(r.getState(e)===Ar.APPENDING){const o=e.type,i=this.getFwdBufferInfo(this.mediaBuffer,o),a=Math.max(e.duration,i?i.len:this.config.maxBufferLength),u=this.backtrackFragment;((u?e.sn-u.sn:0)===1||this.reduceMaxBufferLength(a,e.duration))&&r.removeFragment(e)}else((n=this.mediaBuffer)==null?void 0:n.buffered.length)===0?r.removeAllFragments():r.hasParts(e.type)&&(r.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),r.getState(e)===Ar.PARTIAL&&r.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const n=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:n,part:null,stats:n.stats,id:n.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}waitForLive(e){const n=e.details;return(n==null?void 0:n.live)&&n.type!=="EVENT"&&(this.levelLastLoaded!==e||n.expired)}flushMainBuffer(e,n,r=null){if(!(e-n))return;const s={startOffset:e,endOffset:n,type:r};this.hls.trigger(Q.BUFFER_FLUSHING,s)}_loadInitSegment(e,n){this._doFragLoad(e,n).then(r=>{const s=r==null?void 0:r.frag;if(!s||this.fragContextChanged(s)||!this.levels)throw new Error("init load aborted");return r}).then(r=>{const{hls:s}=this,{frag:o,payload:i}=r,a=o.decryptdata;if(i&&i.byteLength>0&&a!=null&&a.key&&a.iv&&Tu(a.method)){const u=self.performance.now();return this.decrypter.decrypt(new Uint8Array(i),a.key.buffer,a.iv.buffer,Uw(a.method)).catch(l=>{throw s.trigger(Q.ERROR,{type:tn.MEDIA_ERROR,details:Xe.FRAG_DECRYPT_ERROR,fatal:!1,error:l,reason:l.message,frag:o}),l}).then(l=>{const c=self.performance.now();return s.trigger(Q.FRAG_DECRYPTED,{frag:o,payload:l,stats:{tstart:u,tdecrypt:c}}),r.payload=l,this.completeInitSegmentLoad(r)})}return this.completeInitSegmentLoad(r)}).catch(r=>{this.state===ct.STOPPED||this.state===ct.ERROR||(this.warn(r),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:n}=this;if(!n)throw new Error("init load aborted, missing levels");const r=e.frag.stats;this.state!==ct.STOPPED&&(this.state=ct.IDLE),e.frag.data=new Uint8Array(e.payload),r.parsing.start=r.buffering.start=self.performance.now(),r.parsing.end=r.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:n}=this;return!e||!n||e.sn!==n.sn||e.level!==n.level}fragBufferedComplete(e,n){const r=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${n?" part: "+n.index:""} of ${this.fragInfo(e,!1,n)} > buffer:${r?bpe.toString(yn.getBuffered(r)):"(detached)"})`),Mr(e)){var s;if(e.type!==en.SUBTITLE){const i=e.elementaryStreams;if(!Object.keys(i).some(a=>!!i[a])){this.state=ct.IDLE;return}}const o=(s=this.levels)==null?void 0:s[e.level];o!=null&&o.fragmentError&&(this.log(`Resetting level fragment error count of ${o.fragmentError} on frag buffered`),o.fragmentError=0)}this.state=ct.IDLE}_handleFragmentLoadComplete(e){const{transmuxer:n}=this;if(!n)return;const{frag:r,part:s,partsLoaded:o}=e,i=!o||o.length===0||o.some(u=>!u),a=new Vw(r.level,r.sn,r.stats.chunkCount+1,0,s?s.index:-1,!i);n.flush(a)}_handleFragmentLoadProgress(e){}_doFragLoad(e,n,r=null,s){var o;this.fragCurrent=e;const i=n==null?void 0:n.details;if(!this.levels||!i)throw new Error(`frag load aborted, missing level${i?"":" detail"}s`);let a=null;e.encrypted&&!((o=e.decryptdata)!=null&&o.key)?(this.log(`Loading key for ${e.sn} of [${i.startSN}-${i.endSN}], ${this.playlistLabel()} ${e.level}`),this.state=ct.KEY_LOADING,this.fragCurrent=e,a=this.keyLoader.load(e).then(d=>{if(!this.fragContextChanged(d.frag))return this.hls.trigger(Q.KEY_LOADED,d),this.state===ct.KEY_LOADING&&(this.state=ct.IDLE),d}),this.hls.trigger(Q.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(a=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):!e.encrypted&&i.encryptedFragments.length&&this.keyLoader.loadClear(e,i.encryptedFragments);const u=this.fragPrevious;if(Mr(e)&&(!u||e.sn!==u.sn)){const d=this.shouldLoadParts(n.details,e.end);d!==this.loadingParts&&(this.log(`LL-Part loading ${d?"ON":"OFF"} loading sn ${u==null?void 0:u.sn}->${e.sn}`),this.loadingParts=d)}if(r=Math.max(e.start,r||0),this.loadingParts&&Mr(e)){const d=i.partList;if(d&&s){r>e.end&&i.fragmentHint&&(e=i.fragmentHint);const f=this.getNextPart(d,e,r);if(f>-1){const h=d[f];e=this.fragCurrent=h.fragment,this.log(`Loading ${e.type} sn: ${e.sn} part: ${h.index} (${f}/${d.length-1}) of ${this.fragInfo(e,!1,h)}) cc: ${e.cc} [${i.startSN}-${i.endSN}], target: ${parseFloat(r.toFixed(3))}`),this.nextLoadPosition=h.start+h.duration,this.state=ct.FRAG_LOADING;let p;return a?p=a.then(g=>!g||this.fragContextChanged(g.frag)?null:this.doFragPartsLoad(e,h,n,s)).catch(g=>this.handleFragLoadError(g)):p=this.doFragPartsLoad(e,h,n,s).catch(g=>this.handleFragLoadError(g)),this.hls.trigger(Q.FRAG_LOADING,{frag:e,part:h,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):p}else if(!e.url||this.loadedEndOfParts(d,r))return Promise.resolve(null)}}if(Mr(e)&&this.loadingParts)this.log(`LL-Part loading OFF after next part miss @${r.toFixed(2)}`),this.loadingParts=!1;else if(!e.url)return Promise.resolve(null);this.log(`Loading ${e.type} sn: ${e.sn} of ${this.fragInfo(e,!1)}) cc: ${e.cc} ${i?"["+i.startSN+"-"+i.endSN+"]":""}, target: ${parseFloat(r.toFixed(3))}`),jt(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=ct.FRAG_LOADING;const l=this.config.progressive;let c;return l&&a?c=a.then(d=>!d||this.fragContextChanged(d==null?void 0:d.frag)?null:this.fragmentLoader.load(e,s)).catch(d=>this.handleFragLoadError(d)):c=Promise.all([this.fragmentLoader.load(e,l?s:void 0),a]).then(([d])=>(!l&&d&&s&&s(d),d)).catch(d=>this.handleFragLoadError(d)),this.hls.trigger(Q.FRAG_LOADING,{frag:e,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):c}doFragPartsLoad(e,n,r,s){return new Promise((o,i)=>{var a;const u=[],l=(a=r.details)==null?void 0:a.partList,c=d=>{this.fragmentLoader.loadPart(e,d,s).then(f=>{u[d.index]=f;const h=f.part;this.hls.trigger(Q.FRAG_LOADED,f);const p=m2(r.details,e.sn,d.index+1)||rD(l,e.sn,d.index+1);if(p)c(p);else return o({frag:e,part:h,partsLoaded:u})}).catch(i)};c(n)})}handleFragLoadError(e){if("data"in e){const n=e.data;e.data&&n.details===Xe.INTERNAL_ABORTED?this.handleFragLoadAborted(n.frag,n.part):this.hls.trigger(Q.ERROR,n)}else this.hls.trigger(Q.ERROR,{type:tn.OTHER_ERROR,details:Xe.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const n=this.getCurrentContext(e);if(!n||this.state!==ct.PARSING){!this.fragCurrent&&this.state!==ct.STOPPED&&this.state!==ct.ERROR&&(this.state=ct.IDLE);return}const{frag:r,part:s,level:o}=n,i=self.performance.now();r.stats.parsing.end=i,s&&(s.stats.parsing.end=i);const a=this.getLevelDetails(),l=a&&r.sn>a.endSN||this.shouldLoadParts(a,r.end);l!==this.loadingParts&&(this.log(`LL-Part loading ${l?"ON":"OFF"} after parsing segment ending @${r.end.toFixed(2)}`),this.loadingParts=l),this.updateLevelTiming(r,s,o,e.partial)}shouldLoadParts(e,n){if(this.config.lowLatencyMode){if(!e)return this.loadingParts;if(e!=null&&e.partList){var r;const o=e.partList[0],i=o.end+(((r=e.fragmentHint)==null?void 0:r.duration)||0);if(n>=i){var s;if((this.hls.hasEnoughToStart?((s=this.media)==null?void 0:s.currentTime)||this.lastCurrentTime:this.getLoadPosition())>o.start-o.fragment.duration)return!0}}}return!1}getCurrentContext(e){const{levels:n,fragCurrent:r}=this,{level:s,sn:o,part:i}=e;if(!(n!=null&&n[s]))return this.warn(`Levels object was unset while buffering fragment ${o} of ${this.playlistLabel()} ${s}. The current chunk will not be buffered.`),null;const a=n[s],u=a.details,l=i>-1?m2(u,o,i):null,c=l?l.fragment:nD(u,o,r);return c?(r&&r!==c&&(c.stats=r.stats),{frag:c,part:l,level:a}):null}bufferFragmentData(e,n,r,s,o){var i;if(!e||this.state!==ct.PARSING)return;const{data1:a,data2:u}=e;let l=a;if(a&&u&&(l=ho(a,u)),!((i=l)!=null&&i.length))return;const c={type:e.type,frag:n,part:r,chunkMeta:s,parent:n.type,data:l};if(this.hls.trigger(Q.BUFFER_APPENDING,c),e.dropped&&e.independent&&!r){if(o)return;this.flushBufferGap(n)}}flushBufferGap(e){const n=this.media;if(!n)return;if(!yn.isBuffered(n,n.currentTime)){this.flushMainBuffer(0,e.start);return}const r=n.currentTime,s=yn.bufferInfo(n,r,0),o=e.duration,i=Math.min(this.config.maxFragLookUpTolerance*2,o*.25),a=Math.max(Math.min(e.start-i,s.end-i),r+i);e.start-a>i&&this.flushMainBuffer(a,e.start)}getFwdBufferInfo(e,n){var r;const s=this.getLoadPosition();if(!jt(s))return null;const i=this.lastCurrentTime>s||(r=this.media)!=null&&r.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(e,s,n,i)}getFwdBufferInfoAtPos(e,n,r,s){const o=yn.bufferInfo(e,n,s);if(o.len===0&&o.nextStart!==void 0){const i=this.fragmentTracker.getBufferedFrag(n,r);if(i&&(o.nextStart<=i.end||i.gap)){const a=Math.max(Math.min(o.nextStart,i.end)-n,s);return yn.bufferInfo(e,n,a)}}return o}getMaxBufferLength(e){const{config:n}=this;let r;return e?r=Math.max(8*n.maxBufferSize/e,n.maxBufferLength):r=n.maxBufferLength,Math.min(r,n.maxMaxBufferLength)}reduceMaxBufferLength(e,n){const r=this.config,s=Math.max(Math.min(e-n,r.maxBufferLength),n),o=Math.max(e-n*3,r.maxMaxBufferLength/2,s);return o>=s?(r.maxMaxBufferLength=o,this.warn(`Reduce max buffer length to ${o}s`),!0):!1}getAppendedFrag(e,n=en.MAIN){var r;const s=(r=this.fragmentTracker)==null?void 0:r.getAppendedFrag(e,n);return s&&"fragment"in s?s.fragment:s}getNextFragment(e,n){const r=n.fragments,s=r.length;if(!s)return null;const{config:o}=this,i=r[0].start,a=o.lowLatencyMode&&!!n.partList;let u=null;if(n.live){const d=o.initialLiveManifestSize;if(s<d)return this.warn(`Not enough fragments to start playback (have: ${s}, need: ${d})`),null;if(!n.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<i){var l;a&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),u=this.getInitialLiveFragment(n,r);const f=this.hls.startPosition,h=this.hls.liveSyncPosition,p=u?(f!==-1&&f>=i?f:h)||u.start:e;this.log(`Setting startPosition to ${p} to match start frag at live edge. mainStart: ${f} liveSyncPosition: ${h} frag.start: ${(l=u)==null?void 0:l.start}`),this.startPosition=this.nextLoadPosition=p}}else e<=i&&(u=r[0]);if(!u){const d=this.loadingParts?n.partEnd:n.fragmentEnd;u=this.getFragmentAtPosition(e,d,n)}let c=this.filterReplacedPrimary(u,n);if(!c&&u){const d=u.sn-n.startSN;c=this.filterReplacedPrimary(r[d+1]||null,n)}return this.mapToInitFragWhenRequired(c)}isLoopLoading(e,n){const r=this.fragmentTracker.getState(e);return(r===Ar.OK||r===Ar.PARTIAL&&!!e.gap)&&this.nextLoadPosition>n}getNextFragmentLoopLoading(e,n,r,s,o){let i=null;if(e.gap&&(i=this.getNextFragment(this.nextLoadPosition,n),i&&!i.gap&&r.nextStart)){const a=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,r.nextStart,s,0);if(a!==null&&r.len+a.len>=o){const u=i.sn;return this.loopSn!==u&&(this.log(`buffer full after gaps in "${s}" playlist starting at sn: ${u}`),this.loopSn=u),null}}return this.loopSn=void 0,i}get primaryPrefetch(){if(v2(this.hls.config)){var e,n;if((e=this.hls.interstitialsManager)==null||(n=e.playingItem)==null?void 0:n.event)return!0}return!1}filterReplacedPrimary(e,n){if(!e)return e;if(v2(this.hls.config)&&e.type!==en.SUBTITLE){const r=this.hls.interstitialsManager,s=r==null?void 0:r.bufferingItem;if(s){const i=s.event;if(i){if(i.appendInPlace||Math.abs(e.start-s.start)>1||s.start===0)return null}else if(e.end<=s.start&&(n==null?void 0:n.live)===!1||e.start>s.end&&s.nextEvent&&(s.nextEvent.appendInPlace||e.start-s.end>1))return null}const o=r==null?void 0:r.playerQueue;if(o)for(let i=o.length;i--;){const a=o[i].interstitial;if(a.appendInPlace&&e.start>=a.startTime&&e.end<=a.resumeTime)return null}}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,n,r){let s=-1,o=!1,i=!0;for(let a=0,u=e.length;a<u;a++){const l=e[a];if(i=i&&!l.independent,s>-1&&r<l.start)break;const c=l.loaded;c?s=-1:(o||l.independent||i)&&l.fragment===n&&(s=a),o=c}return s}loadedEndOfParts(e,n){const r=e[e.length-1];return r&&n>r.start&&r.loaded}getInitialLiveFragment(e,n){const r=this.fragPrevious;let s=null;if(r){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${r.programDateTime}`),s=Dhe(n,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!s){const o=r.sn+1;if(o>=e.startSN&&o<=e.endSN){const i=n[o-e.startSN];r.cc===i.cc&&(s=i,this.log(`Live playlist, switching playlist, load frag with next SN: ${s.sn}`))}s||(s=WP(n,r.cc),s&&this.log(`Live playlist, switching playlist, load frag with same CC: ${s.sn}`))}}else{const o=this.hls.liveSyncPosition;o!==null&&(s=this.getFragmentAtPosition(o,this.bitrateTest?e.fragmentEnd:e.edge,e))}return s}getFragmentAtPosition(e,n,r){const{config:s}=this;let{fragPrevious:o}=this,{fragments:i,endSN:a}=r;const{fragmentHint:u}=r,{maxFragLookUpTolerance:l}=s,c=r.partList,d=!!(this.loadingParts&&c!=null&&c.length&&u);d&&u&&!this.bitrateTest&&c[c.length-1].fragment.sn===u.sn&&(i=i.concat(u),a=u.sn);let f;if(e<n){var h;const g=e<this.lastCurrentTime||e>n-l||(h=this.media)!=null&&h.paused||!this.startFragRequested?0:l;f=Rl(o,i,e,g)}else f=i[i.length-1];if(f){const p=f.sn-r.startSN,g=this.fragmentTracker.getState(f);if((g===Ar.OK||g===Ar.PARTIAL&&f.gap)&&(o=f),o&&f.sn===o.sn&&(!d||c[0].fragment.sn>f.sn||!r.live&&!d)&&o&&f.level===o.level){const y=i[p+1];f.sn<a&&this.fragmentTracker.getState(y)!==Ar.OK?f=y:f=null}}return f}alignPlaylists(e,n,r){const s=e.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;const o=e.fragmentStart,i=!n,a=e.alignedSliding&&jt(o);if(i||!a&&!o){ype(r,e);const u=e.fragmentStart;return this.log(`Live playlist sliding: ${u.toFixed(2)} start-sn: ${n?n.startSN:"na"}->${e.startSN} fragments: ${s}`),u}return o}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,n){let r=this.startPosition;r<n&&(r=-1);const s=this.timelineOffset;if(r===-1){const o=this.startTimeOffset!==null,i=o?this.startTimeOffset:e.startTimeOffset;i!==null&&jt(i)?(r=n+i,i<0&&(r+=e.edge),r=Math.min(Math.max(n,r),n+e.totalduration),this.log(`Setting startPosition to ${r} for start time offset ${i} found in ${o?"multivariant":"media"} playlist`),this.startPosition=r):e.live?(r=this.hls.liveSyncPosition||n,this.log(`Setting startPosition to -1 to start at live edge ${r}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=r=0),this.lastCurrentTime=r+s}this.nextLoadPosition=r+s}getLoadPosition(){var e;const{media:n}=this;let r=0;return(e=this.hls)!=null&&e.hasEnoughToStart&&n?r=n.currentTime:this.nextLoadPosition>=0&&(r=this.nextLoadPosition),r}handleFragLoadAborted(e,n){this.transmuxer&&e.type===this.playlistType&&Mr(e)&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${n?" part "+n.index:""} of ${this.playlistLabel()} ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==ct.FRAG_LOADING_WAITING_RETRY)&&(this.state=ct.IDLE)}onFragmentOrKeyLoadError(e,n){if(n.chunkMeta&&!n.frag){const p=this.getCurrentContext(n.chunkMeta);p&&(n.frag=p.frag)}const r=n.frag;if(!r||r.type!==e||!this.levels)return;if(this.fragContextChanged(r)){var s;this.warn(`Frag load error must match current frag to retry ${r.url} > ${(s=this.fragCurrent)==null?void 0:s.url}`);return}const o=n.details===Xe.FRAG_GAP;o&&this.fragmentTracker.fragBuffered(r,!0);const i=n.errorAction,{action:a,flags:u,retryCount:l=0,retryConfig:c}=i||{},d=!!i&&!!c,f=d&&a===Xr.RetryRequest,h=d&&!i.resolved&&u===wo.MoveAllAlternatesMatchingHost;if(!f&&h&&Mr(r)&&!r.endList)this.resetFragmentErrors(e),this.treatAsGap(r),i.resolved=!0;else if((f||h)&&l<c.maxNumRetry){this.resetStartWhenNotLoaded(this.levelLastLoaded);const p=Fw(c,l);this.warn(`Fragment ${r.sn} of ${e} ${r.level} errored with ${n.details}, retrying loading ${l+1}/${c.maxNumRetry} in ${p}ms`),i.resolved=!0,this.retryDate=self.performance.now()+p,this.state=ct.FRAG_LOADING_WAITING_RETRY}else if(c&&i)if(this.resetFragmentErrors(e),l<c.maxNumRetry)!o&&a!==Xr.RemoveAlternatePermanently&&(i.resolved=!0);else{this.warn(`${n.details} reached or exceeded max retry (${l})`);return}else a===Xr.SendAlternateToPenaltyBox?this.state=ct.WAITING_LEVEL:this.state=ct.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===ct.PARSING||this.state===ct.PARSED){const n=e.frag,r=e.parent,s=this.getFwdBufferInfo(this.mediaBuffer,r),o=s&&s.len>.5;o&&this.reduceMaxBufferLength(s.len,(n==null?void 0:n.duration)||10);const i=!o;return i&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${r} buffer`),n&&(this.fragmentTracker.removeFragment(n),this.nextLoadPosition=n.start),this.resetLoadingState(),i}return!1}resetFragmentErrors(e){e===en.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==ct.STOPPED&&(this.state=ct.IDLE)}afterBufferFlushed(e,n,r){if(!e)return;const s=yn.getBuffered(e);this.fragmentTracker.detectEvictedFragments(n,s,r),this.state===ct.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==ct.STOPPED&&(this.state=ct.IDLE)}resetStartWhenNotLoaded(e){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const n=e?e.details:null;n!=null&&n.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(n,n.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of ${this.playlistLabel()} ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,n,r,s){const o=r.details;if(!o){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((u,l)=>{const c=e.elementaryStreams[l];if(c){const d=c.endPTS-c.startPTS;if(d<=0)return this.warn(`Could not parse fragment ${e.sn} ${l} duration reliably (${d})`),u||!1;const f=s?0:JP(o,e,c.startPTS,c.endPTS,c.startDTS,c.endDTS);return this.hls.trigger(Q.LEVEL_PTS_UPDATED,{details:o,level:r,drift:f,type:l,frag:e,start:c.startPTS,end:c.endPTS}),!0}return u},!1)){var a;if(r.fragmentError===0&&this.treatAsGap(e,r),((a=this.transmuxer)==null?void 0:a.error)===null){const u=new Error(`Found no media in fragment ${e.sn} of ${this.playlistLabel()} ${e.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(u.message),this.hls.trigger(Q.ERROR,{type:tn.MEDIA_ERROR,details:Xe.FRAG_PARSING_ERROR,fatal:!1,error:u,frag:e,reason:`Found no media in msn ${e.sn} of ${this.playlistLabel()} "${r.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=ct.PARSED,this.log(`Parsed ${e.type} sn: ${e.sn}${n?" part: "+n.index:""} of ${this.fragInfo(e,!1,n)})`),this.hls.trigger(Q.FRAG_PARSED,{frag:e,part:n})}playlistLabel(){return this.playlistType===en.MAIN?"level":"track"}fragInfo(e,n=!0,r){var s,o;return`${this.playlistLabel()} ${e.level} (${r?"part":"frag"}:[${((s=n&&!r?e.startPTS:(r||e).start)!=null?s:NaN).toFixed(3)}-${((o=n&&!r?e.endPTS:(r||e).end)!=null?o:NaN).toFixed(3)}]${r&&e.type==="main"?"INDEPENDENT="+(r.independent?"YES":"NO"):""}`}treatAsGap(e,n){n&&n.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)}resetTransmuxer(){var e;(e=this.transmuxer)==null||e.reset()}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const n=this._state;n!==e&&(this._state=e,this.log(`${n}->${e}`))}get state(){return this._state}}function v2(t){return!!t.interstitialsController&&t.enableInterstitialPlayback!==!1}class aD{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:n}=this;let r;if(e.length)e.length===1?r=e[0]:r=wpe(e,n);else return new Uint8Array(0);return this.reset(),r}reset(){this.chunks.length=0,this.dataLength=0}}function wpe(t,e){const n=new Uint8Array(e);let r=0;for(let s=0;s<t.length;s++){const o=t[s];n.set(o,r),r+=o.length}return n}var Kv={exports:{}},y2;function _pe(){return y2||(y2=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(u,l,c){this.fn=u,this.context=l,this.once=c||!1}function o(u,l,c,d,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new s(c,d||u,f),p=n?n+l:l;return u._events[p]?u._events[p].fn?u._events[p]=[u._events[p],h]:u._events[p].push(h):(u._events[p]=h,u._eventsCount++),u}function i(u,l){--u._eventsCount===0?u._events=new r:delete u._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],c,d;if(this._eventsCount===0)return l;for(d in c=this._events)e.call(c,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},a.prototype.listeners=function(l){var c=n?n+l:l,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},a.prototype.listenerCount=function(l){var c=n?n+l:l,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,c,d,f,h,p){var g=n?n+l:l;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,_,b;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,f),!0;case 5:return v.fn.call(v.context,c,d,f,h),!0;case 6:return v.fn.call(v.context,c,d,f,h,p),!0}for(b=1,_=new Array(y-1);b<y;b++)_[b-1]=arguments[b];v.fn.apply(v.context,_)}else{var w=v.length,S;for(b=0;b<w;b++)switch(v[b].once&&this.removeListener(l,v[b].fn,void 0,!0),y){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,c);break;case 3:v[b].fn.call(v[b].context,c,d);break;case 4:v[b].fn.call(v[b].context,c,d,f);break;default:if(!_)for(S=1,_=new Array(y-1);S<y;S++)_[S-1]=arguments[S];v[b].fn.apply(v[b].context,_)}}return!0},a.prototype.on=function(l,c,d){return o(this,l,c,d,!1)},a.prototype.once=function(l,c,d){return o(this,l,c,d,!0)},a.prototype.removeListener=function(l,c,d,f){var h=n?n+l:l;if(!this._events[h])return this;if(!c)return i(this,h),this;var p=this._events[h];if(p.fn)p.fn===c&&(!f||p.once)&&(!d||p.context===d)&&i(this,h);else{for(var g=0,v=[],y=p.length;g<y;g++)(p[g].fn!==c||f&&!p[g].once||d&&p[g].context!==d)&&v.push(p[g]);v.length?this._events[h]=v.length===1?v[0]:v:i(this,h)}return this},a.prototype.removeAllListeners=function(l){var c;return l?(c=n?n+l:l,this._events[c]&&i(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(Kv)),Kv.exports}var Spe=_pe(),Kw=Xfe(Spe);const Yd="1.6.2",Yu={};function Epe(){return typeof __HLS_WORKER_BUNDLE__=="function"}function xpe(){const t=Yu[Yd];if(t)return t.clientCount++,t;const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),n=self.URL.createObjectURL(e),s={worker:new self.Worker(n),objectURL:n,clientCount:1};return Yu[Yd]=s,s}function Tpe(t){const e=Yu[t];if(e)return e.clientCount++,e;const n=new self.URL(t,self.location.href).href,s={worker:new self.Worker(n),scriptURL:n,clientCount:1};return Yu[t]=s,s}function Cpe(t){const e=Yu[t||Yd];if(e&&e.clientCount--===1){const{worker:r,objectURL:s}=e;delete Yu[t||Yd],s&&self.URL.revokeObjectURL(s),r.terminate()}}function lD(t,e){return e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function zw(t,e){return e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function mg(t,e){let n=0;return n=(t[e]&127)<<21,n|=(t[e+1]&127)<<14,n|=(t[e+2]&127)<<7,n|=t[e+3]&127,n}function Xd(t,e){const n=e;let r=0;for(;zw(t,e);){r+=10;const s=mg(t,e+6);r+=s,lD(t,e+10)&&(r+=10),e+=r}if(r>0)return t.subarray(n,n+r)}function kpe(t,e,n,r){const s=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],o=e[n+2],i=o>>2&15;if(i>12){const h=new Error(`invalid ADTS sampling index:${i}`);t.emit(Q.ERROR,Q.ERROR,{type:tn.MEDIA_ERROR,details:Xe.FRAG_PARSING_ERROR,fatal:!0,error:h,reason:h.message});return}const a=(o>>6&3)+1,u=e[n+3]>>6&3|(o&1)<<2,l="mp4a.40."+a,c=s[i];let d=i;(a===5||a===29)&&(d-=3);const f=[a<<3|(d&14)>>1,(d&1)<<7|u<<3];return $n.log(`manifest codec:${r}, parsed codec:${l}, channels:${u}, rate:${c} (ADTS object type:${a} sampling index:${i})`),{config:f,samplerate:c,channelCount:u,codec:l,parsedCodec:l,manifestCodec:r}}function uD(t,e){return t[e]===255&&(t[e+1]&246)===240}function cD(t,e){return t[e+1]&1?7:9}function Ww(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function Ipe(t,e){return e+5<t.length}function lm(t,e){return e+1<t.length&&uD(t,e)}function Ape(t,e){return Ipe(t,e)&&uD(t,e)&&Ww(t,e)<=t.length-e}function Rpe(t,e){if(lm(t,e)){const n=cD(t,e);if(e+n>=t.length)return!1;const r=Ww(t,e);if(r<=n)return!1;const s=e+r;return s===t.length||lm(t,s)}return!1}function dD(t,e,n,r,s){if(!t.samplerate){const o=kpe(e,n,r,s);if(!o)return;Gn(t,o)}}function fD(t){return 1024*9e4/t}function Lpe(t,e){const n=cD(t,e);if(e+n<=t.length){const r=Ww(t,e)-n;if(r>0)return{headerLength:n,frameLength:r}}}function hD(t,e,n,r,s){const o=fD(t.samplerate),i=r+s*o,a=Lpe(e,n);let u;if(a){const{frameLength:d,headerLength:f}=a,h=f+d,p=Math.max(0,n+h-e.length);p?(u=new Uint8Array(h-f),u.set(e.subarray(n+f,e.length),0)):u=e.subarray(n+f,n+h);const g={unit:u,pts:i};return p||t.samples.push(g),{sample:g,length:h,missing:p}}const l=e.length-n;return u=new Uint8Array(l),u.set(e.subarray(n,e.length),0),{sample:{unit:u,pts:i},length:l,missing:-1}}function $pe(t,e){return zw(t,e)&&mg(t,e+6)+10<=t.length-e}function Ppe(t){if(t.size<2)return;const e=Us(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}}function Dpe(t){if(t.size<2)return;if(t.type==="TXXX"){let n=1;const r=Us(t.data.subarray(n),!0);n+=r.length+1;const s=Us(t.data.subarray(n));return{key:t.type,info:r,data:s}}const e=Us(t.data.subarray(1));return{key:t.type,info:"",data:e}}function Ope(t){if(t.type==="WXXX"){if(t.size<2)return;let n=1;const r=Us(t.data.subarray(n),!0);n+=r.length+1;const s=Us(t.data.subarray(n));return{key:t.type,info:r,data:s}}const e=Us(t.data);return{key:t.type,info:"",data:e}}function Mpe(t){return btoa(String.fromCharCode(...t))}function pD(t,e){if(t<0)return-pD(-t,e);const n=Math.pow(10,e);if(Math.abs(t*n%1-.5)<Number.EPSILON){const s=Math.floor(t*n);return(s%2===0?s:s+1)/n}else return Math.round(t*n)/n}function Npe(t,e){const n=new URL(t),r=new URL(e);if(n.origin!==r.origin)return t;const s=n.pathname.split("/").slice(1),o=r.pathname.split("/").slice(1,-1);for(;s[0]===o[0];)s.shift(),o.shift();for(;o.length;)o.shift(),s.unshift("..");return s.join("/")}function Fpe(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),n=e.toString();return URL.revokeObjectURL(e),n.slice(n.lastIndexOf("/")+1)}catch{let n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{const o=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(s=="x"?o:o&3|8).toString(16)})}}}function Bpe(t){return t instanceof ArrayBuffer?t:t.byteOffset==0&&t.byteLength==t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer}function zv(t,e=0,n=1/0){return Vpe(t,e,n,Uint8Array)}function Vpe(t,e,n,r){const s=Upe(t);let o=1;"BYTES_PER_ELEMENT"in r&&(o=r.BYTES_PER_ELEMENT);const i=Hpe(t)?t.byteOffset:0,a=(i+t.byteLength)/o,u=(i+e)/o,l=Math.floor(Math.max(0,Math.min(u,a))),c=Math.floor(Math.min(l+Math.max(n,0),a));return new r(s,l,c-l)}function Upe(t){return t instanceof ArrayBuffer?t:t.buffer}function Hpe(t){return t&&t.buffer instanceof ArrayBuffer&&t.byteLength!==void 0&&t.byteOffset!==void 0}function jpe(t){const e={key:t.type,description:"",data:"",mimeType:null,pictureType:null},n=3;if(t.size<2)return;if(t.data[0]!==n){console.log("Ignore frame with unrecognized character encoding");return}const r=t.data.subarray(1).indexOf(0);if(r===-1)return;const s=Us(zv(t.data,1,r)),o=t.data[2+r],i=t.data.subarray(3+r).indexOf(0);if(i===-1)return;const a=Us(zv(t.data,3+r,i));let u;return s==="-->"?u=Us(zv(t.data,4+r+i)):u=Bpe(t.data.subarray(4+r+i)),e.mimeType=s,e.pictureType=o,e.description=a,e.data=u,e}function Kpe(t){return t.type==="PRIV"?Ppe(t):t.type[0]==="W"?Ope(t):t.type==="APIC"?jpe(t):Dpe(t)}function zpe(t){const e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=mg(t,4),r=10;return{type:e,size:n,data:t.subarray(r,r+n)}}const Ch=10,Wpe=10;function mD(t){let e=0;const n=[];for(;zw(t,e);){const r=mg(t,e+6);t[e+5]>>6&1&&(e+=Ch),e+=Ch;const s=e+r;for(;e+Wpe<s;){const o=zpe(t.subarray(e)),i=Kpe(o);i&&n.push(i),e+=o.size+Ch}lD(t,e)&&(e+=Ch)}return n}function gD(t){return t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp"}function Gpe(t){if(t.data.byteLength===8){const e=new Uint8Array(t.data),n=e[3]&1;let r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=4772185884e-2),Math.round(r)}}function Gw(t){const e=mD(t);for(let n=0;n<e.length;n++){const r=e[n];if(gD(r))return Gpe(r)}}let Ps=function(t){return t.audioId3="org.id3",t.dateRange="com.apple.quicktime.HLS",t.emsg="https://aomedia.org/emsg/ID3",t.misbklv="urn:misb:KLV:bin:1910.1",t}({});function Yo(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class qw{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,n,r,s){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,n){return!1}appendFrame(e,n,r){}demux(e,n){this.cachedData&&(e=ho(this.cachedData,e),this.cachedData=null);let r=Xd(e,0),s=r?r.length:0,o;const i=this._audioTrack,a=this._id3Track,u=r?Gw(r):void 0,l=e.length;for((this.basePTS===null||this.frameIndex===0&&jt(u))&&(this.basePTS=qpe(u,n,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),r&&r.length>0&&a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Ps.audioId3,duration:Number.POSITIVE_INFINITY});s<l;){if(this.canParse(e,s)){const c=this.appendFrame(i,e,s);c?(this.frameIndex++,this.lastPTS=c.sample.pts,s+=c.length,o=s):s=l}else $pe(e,s)?(r=Xd(e,s),a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Ps.audioId3,duration:Number.POSITIVE_INFINITY}),s+=r.length,o=s):s++;if(s===l&&o!==l){const c=e.slice(o);this.cachedData?this.cachedData=ho(this.cachedData,c):this.cachedData=c}}return{audioTrack:i,videoTrack:Yo(),id3Track:a,textTrack:Yo()}}demuxSampleAes(e,n,r){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const n=this.cachedData;return n&&(this.cachedData=null,this.demux(n,0)),{audioTrack:this._audioTrack,videoTrack:Yo(),id3Track:this._id3Track,textTrack:Yo()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const qpe=(t,e,n)=>{if(jt(t))return t*90;const r=n?n.baseTime*9e4/n.timescale:0;return e*9e4+r};let kh=null;const Ype=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Xpe=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Qpe=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Zpe=[0,1,1,4];function vD(t,e,n,r,s){if(n+24>e.length)return;const o=yD(e,n);if(o&&n+o.frameLength<=e.length){const i=o.samplesPerFrame*9e4/o.sampleRate,a=r+s*i,u={unit:e.subarray(n,n+o.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=o.channelCount,t.samplerate=o.sampleRate,t.samples.push(u),{sample:u,length:o.frameLength,missing:0}}}function yD(t,e){const n=t[e+1]>>3&3,r=t[e+1]>>1&3,s=t[e+2]>>4&15,o=t[e+2]>>2&3;if(n!==1&&s!==0&&s!==15&&o!==3){const i=t[e+2]>>1&1,a=t[e+3]>>6,u=n===3?3-r:r===3?3:4,l=Ype[u*14+s-1]*1e3,d=Xpe[(n===3?0:n===2?1:2)*3+o],f=a===3?1:2,h=Qpe[n][r],p=Zpe[r],g=h*8*p,v=Math.floor(h*l/d+i)*p;if(kh===null){const b=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);kh=b?parseInt(b[1]):0}return!!kh&&kh<=87&&r===2&&l>=224e3&&a===0&&(t[e+3]=t[e+3]|128),{sampleRate:d,channelCount:f,frameLength:v,samplesPerFrame:g}}}function Yw(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function bD(t,e){return e+1<t.length&&Yw(t,e)}function Jpe(t,e){return Yw(t,e)&&4<=t.length-e}function wD(t,e){if(e+1<t.length&&Yw(t,e)){const r=yD(t,e);let s=4;r!=null&&r.frameLength&&(s=r.frameLength);const o=e+s;return o===t.length||bD(t,o)}return!1}class eme extends qw{constructor(e,n){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=n}resetInitSegment(e,n,r,s){super.resetInitSegment(e,n,r,s),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:n,duration:s,inputTimeScale:9e4,dropped:0}}static probe(e,n){if(!e)return!1;const r=Xd(e,0);let s=(r==null?void 0:r.length)||0;if(wD(e,s))return!1;for(let o=e.length;s<o;s++)if(Rpe(e,s))return n.log("ADTS sync word found !"),!0;return!1}canParse(e,n){return Ape(e,n)}appendFrame(e,n,r){dD(e,this.observer,n,r,e.manifestCodec);const s=hD(e,n,r,this.basePTS,this.frameIndex);if(s&&s.missing===0)return s}}const _D=(t,e)=>{let n=0,r=5;e+=r;const s=new Uint32Array(1),o=new Uint32Array(1),i=new Uint8Array(1);for(;r>0;){i[0]=t[e];const a=Math.min(r,8),u=8-a;o[0]=4278190080>>>24+u<<u,s[0]=(i[0]&o[0])>>u,n=n?n<<a|s[0]:s[0],e+=1,r-=a}return n};class tme extends qw{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,n,r,s){super.resetInitSegment(e,n,r,s),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:n,duration:s,inputTimeScale:9e4,dropped:0}}canParse(e,n){return n+64<e.length}appendFrame(e,n,r){const s=SD(e,n,r,this.basePTS,this.frameIndex);if(s!==-1)return{sample:e.samples[e.samples.length-1],length:s,missing:0}}static probe(e){if(!e)return!1;const n=Xd(e,0);if(!n)return!1;const r=n.length;return e[r]===11&&e[r+1]===119&&Gw(n)!==void 0&&_D(e,r)<16}}function SD(t,e,n,r,s){if(n+8>e.length||e[n]!==11||e[n+1]!==119)return-1;const o=e[n+4]>>6;if(o>=3)return-1;const a=[48e3,44100,32e3][o],u=e[n+4]&63,c=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][u*3+o]*2;if(n+c>e.length)return-1;const d=e[n+6]>>5;let f=0;d===2?f+=2:(d&1&&d!==1&&(f+=2),d&4&&(f+=2));const h=(e[n+6]<<8|e[n+7])>>12-f&1,g=[2,1,2,3,3,4,4,5][d]+h,v=e[n+5]>>3,y=e[n+5]&7,_=new Uint8Array([o<<6|v<<1|y>>2,(y&3)<<6|d<<3|h<<2|u>>4,u<<4&224]),b=1536/a*9e4,w=r+s*b,S=e.subarray(n,n+c);return t.config=_,t.channelCount=g,t.samplerate=a,t.samples.push({unit:S,pts:w}),c}class nme extends qw{resetInitSegment(e,n,r,s){super.resetInitSegment(e,n,r,s),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:n,duration:s,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const n=Xd(e,0);let r=(n==null?void 0:n.length)||0;if(n&&e[r]===11&&e[r+1]===119&&Gw(n)!==void 0&&_D(e,r)<=16)return!1;for(let s=e.length;r<s;r++)if(wD(e,r))return $n.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,n){return Jpe(e,n)}appendFrame(e,n,r){if(this.basePTS!==null)return vD(e,n,r,this.basePTS,this.frameIndex)}}const rme=/\/emsg[-/]ID3/i;class sme{constructor(e,n){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=n}resetTimeStamp(){}resetInitSegment(e,n,r,s){const o=this.videoTrack=Yo("video",1),i=this.audioTrack=Yo("audio",1),a=this.txtTrack=Yo("text",1);if(this.id3Track=Yo("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const u=OP(e);if(u.video){const{id:l,timescale:c,codec:d,supplemental:f}=u.video;o.id=l,o.timescale=a.timescale=c,o.codec=d,o.supplemental=f}if(u.audio){const{id:l,timescale:c,codec:d}=u.audio;i.id=l,i.timescale=c,i.codec=d}a.id=$P.text,o.sampleDuration=0,o.duration=i.duration=s}resetContiguity(){this.remainderData=null}static probe(e){return the(e)}demux(e,n){this.timeOffset=n;let r=e;const s=this.videoTrack,o=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=ho(this.remainderData,e));const a=uhe(r);this.remainderData=a.remainder,s.samples=a.valid||new Uint8Array}else s.samples=r;const i=this.extractID3Track(s,n);return o.samples=BT(n,s),{videoTrack:s,audioTrack:this.audioTrack,id3Track:i,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,n=this.videoTrack,r=this.txtTrack;n.samples=this.remainderData||new Uint8Array,this.remainderData=null;const s=this.extractID3Track(n,this.timeOffset);return r.samples=BT(e,n),{videoTrack:n,audioTrack:Yo(),id3Track:s,textTrack:Yo()}}extractID3Track(e,n){const r=this.id3Track;if(e.samples.length){const s=hn(e.samples,["emsg"]);s&&s.forEach(o=>{const i=dhe(o);if(rme.test(i.schemeIdUri)){const a=b2(i,n);let u=i.eventDuration===4294967295?Number.POSITIVE_INFINITY:i.eventDuration/i.timeScale;u<=.001&&(u=Number.POSITIVE_INFINITY);const l=i.payload;r.samples.push({data:l,len:l.byteLength,dts:a,pts:a,type:Ps.emsg,duration:u})}else if(this.config.enableEmsgKLVMetadata&&i.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const a=b2(i,n);r.samples.push({data:i.payload,len:i.payload.byteLength,dts:a,pts:a,type:Ps.misbklv,duration:Number.POSITIVE_INFINITY})}})}return r}demuxSampleAes(e,n,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}}function b2(t,e){return jt(t.presentationTime)?t.presentationTime/t.timeScale:e+t.presentationTimeDelta/t.timeScale}class ome{constructor(e,n,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new Bw(n,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,Ba.cbc)}decryptAacSample(e,n,r){const s=e[n].unit;if(s.length<=16)return;const o=s.subarray(16,s.length-s.length%16),i=o.buffer.slice(o.byteOffset,o.byteOffset+o.length);this.decryptBuffer(i).then(a=>{const u=new Uint8Array(a);s.set(u,16),this.decrypter.isSync()||this.decryptAacSamples(e,n+1,r)})}decryptAacSamples(e,n,r){for(;;n++){if(n>=e.length){r();return}if(!(e[n].unit.length<32)&&(this.decryptAacSample(e,n,r),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const n=Math.floor((e.length-48)/160)*16+16,r=new Int8Array(n);let s=0;for(let o=32;o<e.length-16;o+=160,s+=16)r.set(e.subarray(o,o+16),s);return r}getAvcDecryptedUnit(e,n){const r=new Uint8Array(n);let s=0;for(let o=32;o<e.length-16;o+=160,s+=16)e.set(r.subarray(s,s+16),o);return e}decryptAvcSample(e,n,r,s,o){const i=NP(o.data),a=this.getAvcEncryptedData(i);this.decryptBuffer(a.buffer).then(u=>{o.data=this.getAvcDecryptedUnit(i,u),this.decrypter.isSync()||this.decryptAvcSamples(e,n,r+1,s)})}decryptAvcSamples(e,n,r,s){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;n++,r=0){if(n>=e.length){s();return}const o=e[n].units;for(;!(r>=o.length);r++){const i=o[r];if(!(i.data.length<=48||i.type!==1&&i.type!==5)&&(this.decryptAvcSample(e,n,r,s,i),!this.decrypter.isSync()))return}}}}class ED{constructor(){this.VideoSample=null}createVideoSample(e,n,r){return{key:e,frame:!1,pts:n,dts:r,units:[],length:0}}getLastNalUnit(e){var n;let r=this.VideoSample,s;if((!r||r.units.length===0)&&(r=e[e.length-1]),(n=r)!=null&&n.units){const o=r.units;s=o[o.length-1]}return s}pushAccessUnit(e,n){if(e.units.length&&e.frame){if(e.pts===void 0){const r=n.samples,s=r.length;if(s){const o=r[s-1];e.pts=o.pts,e.dts=o.dts}else{n.dropped++;return}}n.samples.push(e)}}parseNALu(e,n,r){const s=n.byteLength;let o=e.naluState||0;const i=o,a=[];let u=0,l,c,d,f=-1,h=0;for(o===-1&&(f=0,h=this.getNALuType(n,0),o=0,u=1);u<s;){if(l=n[u++],!o){o=l?0:1;continue}if(o===1){o=l?0:2;continue}if(!l)o=3;else if(l===1){if(c=u-o-1,f>=0){const p={data:n.subarray(f,c),type:h};a.push(p)}else{const p=this.getLastNalUnit(e.samples);p&&(i&&u<=4-i&&p.state&&(p.data=p.data.subarray(0,p.data.byteLength-i)),c>0&&(p.data=ho(p.data,n.subarray(0,c)),p.state=0))}u<s?(d=this.getNALuType(n,u),f=u,h=d,o=0):o=-1}else o=0}if(f>=0&&o>=0){const p={data:n.subarray(f,s),type:h,state:o};a.push(p)}if(a.length===0){const p=this.getLastNalUnit(e.samples);p&&(p.data=ho(p.data,n))}return e.naluState=o,a}}class ud{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,n=this.bytesAvailable,r=e.byteLength-n,s=new Uint8Array(4),o=Math.min(4,n);if(o===0)throw new Error("no bytes available");s.set(e.subarray(r,r+o)),this.word=new DataView(s.buffer).getUint32(0),this.bitsAvailable=o*8,this.bytesAvailable-=o}skipBits(e){let n;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,n=e>>3,e-=n<<3,this.bytesAvailable-=n,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let n=Math.min(this.bitsAvailable,e);const r=this.word>>>32-n;if(e>32&&$n.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=n,this.bitsAvailable>0)this.word<<=n;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return n=e-n,n>0&&this.bitsAvailable?r<<n|this.readBits(n):r}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class w2 extends ED{parsePES(e,n,r,s){const o=this.parseNALu(e,r.data,s);let i=this.VideoSample,a,u=!1;r.data=null,i&&o.length&&!e.audFound&&(this.pushAccessUnit(i,e),i=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts)),o.forEach(l=>{var c,d;switch(l.type){case 1:{let g=!1;a=!0;const v=l.data;if(u&&v.length>4){const y=this.readSliceType(v);(y===2||y===4||y===7||y===9)&&(g=!0)}if(g){var f;(f=i)!=null&&f.frame&&!i.key&&(this.pushAccessUnit(i,e),i=this.VideoSample=null)}i||(i=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),i.frame=!0,i.key=g;break}case 5:a=!0,(c=i)!=null&&c.frame&&!i.key&&(this.pushAccessUnit(i,e),i=this.VideoSample=null),i||(i=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),i.key=!0,i.frame=!0;break;case 6:{a=!0,Mw(l.data,1,r.pts,n.samples);break}case 7:{var h,p;a=!0,u=!0;const g=l.data,v=this.readSPS(g);if(!e.sps||e.width!==v.width||e.height!==v.height||((h=e.pixelRatio)==null?void 0:h[0])!==v.pixelRatio[0]||((p=e.pixelRatio)==null?void 0:p[1])!==v.pixelRatio[1]){e.width=v.width,e.height=v.height,e.pixelRatio=v.pixelRatio,e.sps=[g];const y=g.subarray(1,4);let _="avc1.";for(let b=0;b<3;b++){let w=y[b].toString(16);w.length<2&&(w="0"+w),_+=w}e.codec=_}break}case 8:a=!0,e.pps=[l.data];break;case 9:a=!0,e.audFound=!0,(d=i)!=null&&d.frame&&(this.pushAccessUnit(i,e),i=null),i||(i=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts));break;case 12:a=!0;break;default:a=!1;break}i&&a&&i.units.push(l)}),s&&i&&(this.pushAccessUnit(i,e),this.VideoSample=null)}getNALuType(e,n){return e[n]&31}readSliceType(e){const n=new ud(e);return n.readUByte(),n.readUEG(),n.readUEG()}skipScalingList(e,n){let r=8,s=8,o;for(let i=0;i<e;i++)s!==0&&(o=n.readEG(),s=(r+o+256)%256),r=s===0?r:s}readSPS(e){const n=new ud(e);let r=0,s=0,o=0,i=0,a,u,l;const c=n.readUByte.bind(n),d=n.readBits.bind(n),f=n.readUEG.bind(n),h=n.readBoolean.bind(n),p=n.skipBits.bind(n),g=n.skipEG.bind(n),v=n.skipUEG.bind(n),y=this.skipScalingList.bind(this);c();const _=c();if(d(5),p(3),c(),v(),_===100||_===110||_===122||_===244||_===44||_===83||_===86||_===118||_===128){const I=f();if(I===3&&p(1),v(),v(),p(1),h())for(u=I!==3?8:12,l=0;l<u;l++)h()&&(l<6?y(16,n):y(64,n))}v();const b=f();if(b===0)f();else if(b===1)for(p(1),g(),g(),a=f(),l=0;l<a;l++)g();v(),p(1);const w=f(),S=f(),E=d(1);E===0&&p(1),p(1),h()&&(r=f(),s=f(),o=f(),i=f());let T=[1,1];if(h()&&h())switch(c()){case 1:T=[1,1];break;case 2:T=[12,11];break;case 3:T=[10,11];break;case 4:T=[16,11];break;case 5:T=[40,33];break;case 6:T=[24,11];break;case 7:T=[20,11];break;case 8:T=[32,11];break;case 9:T=[80,33];break;case 10:T=[18,11];break;case 11:T=[15,11];break;case 12:T=[64,33];break;case 13:T=[160,99];break;case 14:T=[4,3];break;case 15:T=[3,2];break;case 16:T=[2,1];break;case 255:{T=[c()<<8|c(),c()<<8|c()];break}}return{width:Math.ceil((w+1)*16-r*2-s*2),height:(2-E)*(S+1)*16-(E?2:4)*(o+i),pixelRatio:T}}}class _2 extends ED{constructor(...e){super(...e),this.initVPS=null}parsePES(e,n,r,s){const o=this.parseNALu(e,r.data,s);let i=this.VideoSample,a,u=!1;r.data=null,i&&o.length&&!e.audFound&&(this.pushAccessUnit(i,e),i=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts)),o.forEach(l=>{var c,d;switch(l.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:i||(i=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts)),i.frame=!0,a=!0;break;case 16:case 17:case 18:case 21:if(a=!0,u){var f;(f=i)!=null&&f.frame&&!i.key&&(this.pushAccessUnit(i,e),i=this.VideoSample=null)}i||(i=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),i.key=!0,i.frame=!0;break;case 19:case 20:a=!0,(c=i)!=null&&c.frame&&!i.key&&(this.pushAccessUnit(i,e),i=this.VideoSample=null),i||(i=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),i.key=!0,i.frame=!0;break;case 39:a=!0,Mw(l.data,2,r.pts,n.samples);break;case 32:a=!0,e.vps||(typeof e.params!="object"&&(e.params={}),e.params=Gn(e.params,this.readVPS(l.data)),this.initVPS=l.data),e.vps=[l.data];break;case 33:if(a=!0,u=!0,e.vps!==void 0&&e.vps[0]!==this.initVPS&&e.sps!==void 0&&!this.matchSPS(e.sps[0],l.data)&&(this.initVPS=e.vps[0],e.sps=e.pps=void 0),!e.sps){const h=this.readSPS(l.data);e.width=h.width,e.height=h.height,e.pixelRatio=h.pixelRatio,e.codec=h.codecString,e.sps=[],typeof e.params!="object"&&(e.params={});for(const p in h.params)e.params[p]=h.params[p]}this.pushParameterSet(e.sps,l.data,e.vps),i||(i=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),i.key=!0;break;case 34:if(a=!0,typeof e.params=="object"){if(!e.pps){e.pps=[];const h=this.readPPS(l.data);for(const p in h)e.params[p]=h[p]}this.pushParameterSet(e.pps,l.data,e.vps)}break;case 35:a=!0,e.audFound=!0,(d=i)!=null&&d.frame&&(this.pushAccessUnit(i,e),i=null),i||(i=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts));break;default:a=!1;break}i&&a&&i.units.push(l)}),s&&i&&(this.pushAccessUnit(i,e),this.VideoSample=null)}pushParameterSet(e,n,r){(r&&r[0]===this.initVPS||!r&&!e.length)&&e.push(n)}getNALuType(e,n){return(e[n]&126)>>>1}ebsp2rbsp(e){const n=new Uint8Array(e.byteLength);let r=0;for(let s=0;s<e.byteLength;s++)s>=2&&e[s]===3&&e[s-1]===0&&e[s-2]===0||(n[r]=e[s],r++);return new Uint8Array(n.buffer,0,r)}pushAccessUnit(e,n){super.pushAccessUnit(e,n),this.initVPS&&(this.initVPS=null)}readVPS(e){const n=new ud(e);n.readUByte(),n.readUByte(),n.readBits(4),n.skipBits(2),n.readBits(6);const r=n.readBits(3),s=n.readBoolean();return{numTemporalLayers:r+1,temporalIdNested:s}}readSPS(e){const n=new ud(this.ebsp2rbsp(e));n.readUByte(),n.readUByte(),n.readBits(4);const r=n.readBits(3);n.readBoolean();const s=n.readBits(2),o=n.readBoolean(),i=n.readBits(5),a=n.readUByte(),u=n.readUByte(),l=n.readUByte(),c=n.readUByte(),d=n.readUByte(),f=n.readUByte(),h=n.readUByte(),p=n.readUByte(),g=n.readUByte(),v=n.readUByte(),y=n.readUByte(),_=[],b=[];for(let Ce=0;Ce<r;Ce++)_.push(n.readBoolean()),b.push(n.readBoolean());if(r>0)for(let Ce=r;Ce<8;Ce++)n.readBits(2);for(let Ce=0;Ce<r;Ce++)_[Ce]&&(n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte()),b[Ce]&&n.readUByte();n.readUEG();const w=n.readUEG();w==3&&n.skipBits(1);const S=n.readUEG(),E=n.readUEG(),T=n.readBoolean();let I=0,k=0,C=0,N=0;T&&(I+=n.readUEG(),k+=n.readUEG(),C+=n.readUEG(),N+=n.readUEG());const D=n.readUEG(),W=n.readUEG(),H=n.readUEG(),V=n.readBoolean();for(let Ce=V?0:r;Ce<=r;Ce++)n.skipUEG(),n.skipUEG(),n.skipUEG();if(n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG(),n.readBoolean()&&n.readBoolean())for(let Ee=0;Ee<4;Ee++)for(let we=0;we<(Ee===3?2:6);we++)if(!n.readBoolean())n.readUEG();else{const Be=Math.min(64,1<<4+(Ee<<1));Ee>1&&n.readEG();for(let Ue=0;Ue<Be;Ue++)n.readEG()}n.readBoolean(),n.readBoolean(),n.readBoolean()&&(n.readUByte(),n.skipUEG(),n.skipUEG(),n.readBoolean());const M=n.readUEG();let B=0;for(let Ce=0;Ce<M;Ce++){let Ee=!1;if(Ce!==0&&(Ee=n.readBoolean()),Ee){Ce===M&&n.readUEG(),n.readBoolean(),n.readUEG();let we=0;for(let Le=0;Le<=B;Le++){const Be=n.readBoolean();let Ue=!1;Be||(Ue=n.readBoolean()),(Be||Ue)&&we++}B=we}else{const we=n.readUEG(),Le=n.readUEG();B=we+Le;for(let Be=0;Be<we;Be++)n.readUEG(),n.readBoolean();for(let Be=0;Be<Le;Be++)n.readUEG(),n.readBoolean()}}if(n.readBoolean()){const Ce=n.readUEG();for(let Ee=0;Ee<Ce;Ee++){for(let we=0;we<H+4;we++)n.readBits(1);n.readBits(1)}}let X=0,se=1,te=1,ie=!0,fe=1,ue=0;n.readBoolean(),n.readBoolean();let J=!1;if(n.readBoolean()){if(n.readBoolean()){const je=n.readUByte(),at=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],Ie=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];je>0&&je<16?(se=at[je-1],te=Ie[je-1]):je===255&&(se=n.readBits(16),te=n.readBits(16))}if(n.readBoolean()&&n.readBoolean(),n.readBoolean()&&(n.readBits(3),n.readBoolean(),n.readBoolean()&&(n.readUByte(),n.readUByte(),n.readUByte())),n.readBoolean()&&(n.readUEG(),n.readUEG()),n.readBoolean(),n.readBoolean(),n.readBoolean(),J=n.readBoolean(),J&&(I+=n.readUEG(),k+=n.readUEG(),C+=n.readUEG(),N+=n.readUEG()),n.readBoolean()&&(fe=n.readBits(32),ue=n.readBits(32),n.readBoolean()&&n.readUEG(),n.readBoolean())){const Ie=n.readBoolean(),Ze=n.readBoolean();let mt=!1;(Ie||Ze)&&(mt=n.readBoolean(),mt&&(n.readUByte(),n.readBits(5),n.readBoolean(),n.readBits(5)),n.readBits(4),n.readBits(4),mt&&n.readBits(4),n.readBits(5),n.readBits(5),n.readBits(5));for(let Pt=0;Pt<=r;Pt++){ie=n.readBoolean();const Vt=ie||n.readBoolean();let Ht=!1;Vt?n.readEG():Ht=n.readBoolean();const Jt=Ht?1:n.readUEG()+1;if(Ie)for(let fn=0;fn<Jt;fn++)n.readUEG(),n.readUEG(),mt&&(n.readUEG(),n.readUEG()),n.skipBits(1);if(Ze)for(let fn=0;fn<Jt;fn++)n.readUEG(),n.readUEG(),mt&&(n.readUEG(),n.readUEG()),n.skipBits(1)}}n.readBoolean()&&(n.readBoolean(),n.readBoolean(),n.readBoolean(),X=n.readUEG())}let ae=S,Ae=E;if(T||J){let Ce=1,Ee=1;w===1?Ce=Ee=2:w==2&&(Ce=2),ae=S-Ce*k-Ce*I,Ae=E-Ee*N-Ee*C}const Re=s?["A","B","C"][s]:"",pe=a<<24|u<<16|l<<8|c;let ne=0;for(let Ce=0;Ce<32;Ce++)ne=(ne|(pe>>Ce&1)<<31-Ce)>>>0;let le=ne.toString(16);return i===1&&le==="2"&&(le="6"),{codecString:`hvc1.${Re}${i}.${le}.${o?"H":"L"}${y}.B0`,params:{general_tier_flag:o,general_profile_idc:i,general_profile_space:s,general_profile_compatibility_flags:[a,u,l,c],general_constraint_indicator_flags:[d,f,h,p,g,v],general_level_idc:y,bit_depth:D+8,bit_depth_luma_minus8:D,bit_depth_chroma_minus8:W,min_spatial_segmentation_idc:X,chroma_format_idc:w,frame_rate:{fixed:ie,fps:ue/fe}},width:ae,height:Ae,pixelRatio:[se,te]}}readPPS(e){const n=new ud(this.ebsp2rbsp(e));n.readUByte(),n.readUByte(),n.skipUEG(),n.skipUEG(),n.skipBits(2),n.skipBits(3),n.skipBits(2),n.skipUEG(),n.skipUEG(),n.skipEG(),n.skipBits(2),n.readBoolean()&&n.skipUEG(),n.skipEG(),n.skipEG(),n.skipBits(4);const s=n.readBoolean(),o=n.readBoolean();let i=1;return o&&s?i=0:o?i=3:s&&(i=2),{parallelismType:i}}matchSPS(e,n){return String.fromCharCode.apply(null,e).substr(3)===String.fromCharCode.apply(null,n).substr(3)}}const Or=188;class _a{constructor(e,n,r,s){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.logger=s,this.videoParser=null}static probe(e,n){const r=_a.syncOffset(e);return r>0&&n.warn(`MPEG2-TS detected but first sync word found @ offset ${r}`),r!==-1}static syncOffset(e){const n=e.length;let r=Math.min(Or*5,n-Or)+1,s=0;for(;s<r;){let o=!1,i=-1,a=0;for(let u=s;u<n;u+=Or)if(e[u]===71&&(n-u===Or||e[u+Or]===71)){if(a++,i===-1&&(i=u,i!==0&&(r=Math.min(i+Or*99,e.length-Or)+1)),o||(o=zy(e,u)===0),o&&a>1&&(i===0&&a>2||u+Or>r))return i}else{if(a)return-1;break}s++}return-1}static createTrack(e,n){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:$P[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?n:void 0}}resetInitSegment(e,n,r,s){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=_a.createTrack("video"),this._videoTrack.duration=s,this._audioTrack=_a.createTrack("audio",s),this._id3Track=_a.createTrack("id3"),this._txtTrack=_a.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=n,this.videoCodec=r}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:n,_id3Track:r}=this;e&&(e.pesData=null),n&&(n.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,n,r=!1,s=!1){r||(this.sampleAes=null);let o;const i=this._videoTrack,a=this._audioTrack,u=this._id3Track,l=this._txtTrack;let c=i.pid,d=i.pesData,f=a.pid,h=u.pid,p=a.pesData,g=u.pesData,v=null,y=this.pmtParsed,_=this._pmtId,b=e.length;if(this.remainderData&&(e=ho(this.remainderData,e),b=e.length,this.remainderData=null),b<Or&&!s)return this.remainderData=e,{audioTrack:a,videoTrack:i,id3Track:u,textTrack:l};const w=Math.max(0,_a.syncOffset(e));b-=(b-w)%Or,b<e.byteLength&&!s&&(this.remainderData=new Uint8Array(e.buffer,b,e.buffer.byteLength-b));let S=0;for(let T=w;T<b;T+=Or)if(e[T]===71){const I=!!(e[T+1]&64),k=zy(e,T),C=(e[T+3]&48)>>4;let N;if(C>1){if(N=T+5+e[T+4],N===T+Or)continue}else N=T+4;switch(k){case c:if(I){if(d&&(o=Zl(d,this.logger))){if(this.videoParser===null)switch(i.segmentCodec){case"avc":this.videoParser=new w2;break;case"hevc":this.videoParser=new _2;break}this.videoParser!==null&&this.videoParser.parsePES(i,l,o,!1)}d={data:[],size:0}}d&&(d.data.push(e.subarray(N,T+Or)),d.size+=T+Or-N);break;case f:if(I){if(p&&(o=Zl(p,this.logger)))switch(a.segmentCodec){case"aac":this.parseAACPES(a,o);break;case"mp3":this.parseMPEGPES(a,o);break;case"ac3":this.parseAC3PES(a,o);break}p={data:[],size:0}}p&&(p.data.push(e.subarray(N,T+Or)),p.size+=T+Or-N);break;case h:I&&(g&&(o=Zl(g,this.logger))&&this.parseID3PES(u,o),g={data:[],size:0}),g&&(g.data.push(e.subarray(N,T+Or)),g.size+=T+Or-N);break;case 0:I&&(N+=e[N]+1),_=this._pmtId=ime(e,N);break;case _:{I&&(N+=e[N]+1);const D=ame(e,N,this.typeSupported,r,this.observer,this.logger);c=D.videoPid,c>0&&(i.pid=c,i.segmentCodec=D.segmentVideoCodec),f=D.audioPid,f>0&&(a.pid=f,a.segmentCodec=D.segmentAudioCodec),h=D.id3Pid,h>0&&(u.pid=h),v!==null&&!y&&(this.logger.warn(`MPEG-TS PMT found at ${T} after unknown PID '${v}'. Backtracking to sync byte @${w} to parse all TS packets.`),v=null,T=w-188),y=this.pmtParsed=!0;break}case 17:case 8191:break;default:v=k;break}}else S++;S>0&&Wy(this.observer,new Error(`Found ${S} TS packet/s that do not start with 0x47`),void 0,this.logger),i.pesData=d,a.pesData=p,u.pesData=g;const E={audioTrack:a,videoTrack:i,id3Track:u,textTrack:l};return s&&this.extractRemainingSamples(E),E}flush(){const{remainderData:e}=this;this.remainderData=null;let n;return e?n=this.demux(e,-1,!1,!0):n={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(n),this.sampleAes?this.decrypt(n,this.sampleAes):n}extractRemainingSamples(e){const{audioTrack:n,videoTrack:r,id3Track:s,textTrack:o}=e,i=r.pesData,a=n.pesData,u=s.pesData;let l;if(i&&(l=Zl(i,this.logger))){if(this.videoParser===null)switch(r.segmentCodec){case"avc":this.videoParser=new w2;break;case"hevc":this.videoParser=new _2;break}this.videoParser!==null&&(this.videoParser.parsePES(r,o,l,!0),r.pesData=null)}else r.pesData=i;if(a&&(l=Zl(a,this.logger))){switch(n.segmentCodec){case"aac":this.parseAACPES(n,l);break;case"mp3":this.parseMPEGPES(n,l);break;case"ac3":this.parseAC3PES(n,l);break}n.pesData=null}else a!=null&&a.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=a;u&&(l=Zl(u,this.logger))?(this.parseID3PES(s,l),s.pesData=null):s.pesData=u}demuxSampleAes(e,n,r){const s=this.demux(e,r,!0,!this.config.progressive),o=this.sampleAes=new ome(this.observer,this.config,n);return this.decrypt(s,o)}decrypt(e,n){return new Promise(r=>{const{audioTrack:s,videoTrack:o}=e;s.samples&&s.segmentCodec==="aac"?n.decryptAacSamples(s.samples,0,()=>{o.samples?n.decryptAvcSamples(o.samples,0,0,()=>{r(e)}):r(e)}):o.samples&&n.decryptAvcSamples(o.samples,0,0,()=>{r(e)})})}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(e,n){let r=0;const s=this.aacOverFlow;let o=n.data;if(s){this.aacOverFlow=null;const d=s.missing,f=s.sample.unit.byteLength;if(d===-1)o=ho(s.sample.unit,o);else{const h=f-d;s.sample.unit.set(o.subarray(0,d),h),e.samples.push(s.sample),r=s.missing}}let i,a;for(i=r,a=o.length;i<a-1&&!lm(o,i);i++);if(i!==r){let d;const f=i<a-1;if(f?d=`AAC PES did not start with ADTS header,offset:${i}`:d="No ADTS header found in AAC PES",Wy(this.observer,new Error(d),f,this.logger),!f)return}dD(e,this.observer,o,i,this.audioCodec);let u;if(n.pts!==void 0)u=n.pts;else if(s){const d=fD(e.samplerate);u=s.sample.pts+d}else{this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let l=0,c;for(;i<a;)if(c=hD(e,o,i,u,l),i+=c.length,c.missing){this.aacOverFlow=c;break}else for(l++;i<a-1&&!lm(o,i);i++);}parseMPEGPES(e,n){const r=n.data,s=r.length;let o=0,i=0;const a=n.pts;if(a===void 0){this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;i<s;)if(bD(r,i)){const u=vD(e,r,i,a,o);if(u)i+=u.length,o++;else break}else i++}parseAC3PES(e,n){{const r=n.data,s=n.pts;if(s===void 0){this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const o=r.length;let i=0,a=0,u;for(;a<o&&(u=SD(e,r,a,s,i++))>0;)a+=u}}parseID3PES(e,n){if(n.pts===void 0){this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const r=Gn({},n,{type:this._videoTrack?Ps.emsg:Ps.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(r)}}function zy(t,e){return((t[e+1]&31)<<8)+t[e+2]}function ime(t,e){return(t[e+10]&31)<<8|t[e+11]}function ame(t,e,n,r,s,o){const i={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},a=(t[e+1]&15)<<8|t[e+2],u=e+3+a-4,l=(t[e+10]&15)<<8|t[e+11];for(e+=12+l;e<u;){const c=zy(t,e),d=(t[e+3]&15)<<8|t[e+4];switch(t[e]){case 207:if(!r){Wv("ADTS AAC",o);break}case 15:i.audioPid===-1&&(i.audioPid=c);break;case 21:i.id3Pid===-1&&(i.id3Pid=c);break;case 219:if(!r){Wv("H.264",o);break}case 27:i.videoPid===-1&&(i.videoPid=c);break;case 3:case 4:!n.mpeg&&!n.mp3?o.log("MPEG audio found, not supported in this browser"):i.audioPid===-1&&(i.audioPid=c,i.segmentAudioCodec="mp3");break;case 193:if(!r){Wv("AC-3",o);break}case 129:n.ac3?i.audioPid===-1&&(i.audioPid=c,i.segmentAudioCodec="ac3"):o.log("AC-3 audio found, not supported in this browser");break;case 6:if(i.audioPid===-1&&d>0){let f=e+5,h=d;for(;h>2;){switch(t[f]){case 106:n.ac3!==!0?o.log("AC-3 audio found, not supported in this browser for now"):(i.audioPid=c,i.segmentAudioCodec="ac3");break}const g=t[f+1]+2;f+=g,h-=g}}break;case 194:case 135:return Wy(s,new Error("Unsupported EC-3 in M2TS found"),void 0,o),i;case 36:i.videoPid===-1&&(i.videoPid=c,i.segmentVideoCodec="hevc",o.log("HEVC in M2TS found"));break}e+=d+5}return i}function Wy(t,e,n,r){r.warn(`parsing error: ${e.message}`),t.emit(Q.ERROR,Q.ERROR,{type:tn.MEDIA_ERROR,details:Xe.FRAG_PARSING_ERROR,fatal:!1,levelRetry:n,error:e,reason:e.message})}function Wv(t,e){e.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function Zl(t,e){let n=0,r,s,o,i,a;const u=t.data;if(!t||t.size===0)return null;for(;u[0].length<19&&u.length>1;)u[0]=ho(u[0],u[1]),u.splice(1,1);if(r=u[0],(r[0]<<16)+(r[1]<<8)+r[2]===1){if(s=(r[4]<<8)+r[5],s&&s>t.size-6)return null;const c=r[7];c&192&&(i=(r[9]&14)*536870912+(r[10]&255)*4194304+(r[11]&254)*16384+(r[12]&255)*128+(r[13]&254)/2,c&64?(a=(r[14]&14)*536870912+(r[15]&255)*4194304+(r[16]&254)*16384+(r[17]&255)*128+(r[18]&254)/2,i-a>60*9e4&&(e.warn(`${Math.round((i-a)/9e4)}s delta between PTS and DTS, align them`),i=a)):a=i),o=r[8];let d=o+9;if(t.size<=d)return null;t.size-=d;const f=new Uint8Array(t.size);for(let h=0,p=u.length;h<p;h++){r=u[h];let g=r.byteLength;if(d)if(d>g){d-=g;continue}else r=r.subarray(d),g-=d,d=0;f.set(r,n),n+=g}return s&&(s-=o+3),{data:f,pts:i,dts:a,len:s}}return null}class lme{static getSilentFrame(e,n){switch(e){case"mp4a.40.2":if(n===1)return new Uint8Array([0,200,0,128,35,128]);if(n===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(n===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(n===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(n===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(n===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(n===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const da=Math.pow(2,32)-1;class Ge{static init(){Ge.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in Ge.types)Ge.types.hasOwnProperty(e)&&(Ge.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);Ge.HDLR_TYPES={video:n,audio:r};const s=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);Ge.STTS=Ge.STSC=Ge.STCO=o,Ge.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Ge.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),Ge.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),Ge.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const i=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);Ge.FTYP=Ge.box(Ge.types.ftyp,i,u,i,a),Ge.DINF=Ge.box(Ge.types.dinf,Ge.box(Ge.types.dref,s))}static box(e,...n){let r=8,s=n.length;const o=s;for(;s--;)r+=n[s].byteLength;const i=new Uint8Array(r);for(i[0]=r>>24&255,i[1]=r>>16&255,i[2]=r>>8&255,i[3]=r&255,i.set(e,4),s=0,r=8;s<o;s++)i.set(n[s],r),r+=n[s].byteLength;return i}static hdlr(e){return Ge.box(Ge.types.hdlr,Ge.HDLR_TYPES[e])}static mdat(e){return Ge.box(Ge.types.mdat,e)}static mdhd(e,n){n*=e;const r=Math.floor(n/(da+1)),s=Math.floor(n%(da+1));return Ge.box(Ge.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,s>>24,s>>16&255,s>>8&255,s&255,85,196,0,0]))}static mdia(e){return Ge.box(Ge.types.mdia,Ge.mdhd(e.timescale||0,e.duration||0),Ge.hdlr(e.type),Ge.minf(e))}static mfhd(e){return Ge.box(Ge.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?Ge.box(Ge.types.minf,Ge.box(Ge.types.smhd,Ge.SMHD),Ge.DINF,Ge.stbl(e)):Ge.box(Ge.types.minf,Ge.box(Ge.types.vmhd,Ge.VMHD),Ge.DINF,Ge.stbl(e))}static moof(e,n,r){return Ge.box(Ge.types.moof,Ge.mfhd(e),Ge.traf(r,n))}static moov(e){let n=e.length;const r=[];for(;n--;)r[n]=Ge.trak(e[n]);return Ge.box.apply(null,[Ge.types.moov,Ge.mvhd(e[0].timescale||0,e[0].duration||0)].concat(r).concat(Ge.mvex(e)))}static mvex(e){let n=e.length;const r=[];for(;n--;)r[n]=Ge.trex(e[n]);return Ge.box.apply(null,[Ge.types.mvex,...r])}static mvhd(e,n){n*=e;const r=Math.floor(n/(da+1)),s=Math.floor(n%(da+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,s>>24,s>>16&255,s>>8&255,s&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return Ge.box(Ge.types.mvhd,o)}static sdtp(e){const n=e.samples||[],r=new Uint8Array(4+n.length);let s,o;for(s=0;s<n.length;s++)o=n[s].flags,r[s+4]=o.dependsOn<<4|o.isDependedOn<<2|o.hasRedundancy;return Ge.box(Ge.types.sdtp,r)}static stbl(e){return Ge.box(Ge.types.stbl,Ge.stsd(e),Ge.box(Ge.types.stts,Ge.STTS),Ge.box(Ge.types.stsc,Ge.STSC),Ge.box(Ge.types.stsz,Ge.STSZ),Ge.box(Ge.types.stco,Ge.STCO))}static avc1(e){let n=[],r=[],s,o,i;for(s=0;s<e.sps.length;s++)o=e.sps[s],i=o.byteLength,n.push(i>>>8&255),n.push(i&255),n=n.concat(Array.prototype.slice.call(o));for(s=0;s<e.pps.length;s++)o=e.pps[s],i=o.byteLength,r.push(i>>>8&255),r.push(i&255),r=r.concat(Array.prototype.slice.call(o));const a=Ge.box(Ge.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|e.sps.length].concat(n).concat([e.pps.length]).concat(r))),u=e.width,l=e.height,c=e.pixelRatio[0],d=e.pixelRatio[1];return Ge.box(Ge.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,u&255,l>>8&255,l&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,Ge.box(Ge.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Ge.box(Ge.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,c&255,d>>24,d>>16&255,d>>8&255,d&255])))}static esds(e){const n=e.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...n,6,1,2])}static audioStsd(e){const n=e.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount||0,0,16,0,0,0,0,n>>8&255,n&255,0,0])}static mp4a(e){return Ge.box(Ge.types.mp4a,Ge.audioStsd(e),Ge.box(Ge.types.esds,Ge.esds(e)))}static mp3(e){return Ge.box(Ge.types[".mp3"],Ge.audioStsd(e))}static ac3(e){return Ge.box(Ge.types["ac-3"],Ge.audioStsd(e),Ge.box(Ge.types.dac3,e.config))}static stsd(e){const{segmentCodec:n}=e;if(e.type==="audio"){if(n==="aac")return Ge.box(Ge.types.stsd,Ge.STSD,Ge.mp4a(e));if(n==="ac3"&&e.config)return Ge.box(Ge.types.stsd,Ge.STSD,Ge.ac3(e));if(n==="mp3"&&e.codec==="mp3")return Ge.box(Ge.types.stsd,Ge.STSD,Ge.mp3(e))}else if(e.pps&&e.sps){if(n==="avc")return Ge.box(Ge.types.stsd,Ge.STSD,Ge.avc1(e));if(n==="hevc"&&e.vps)return Ge.box(Ge.types.stsd,Ge.STSD,Ge.hvc1(e))}else throw new Error("video track missing pps or sps");throw new Error(`unsupported ${e.type} segment codec (${n}/${e.codec})`)}static tkhd(e){const n=e.id,r=(e.duration||0)*(e.timescale||0),s=e.width||0,o=e.height||0,i=Math.floor(r/(da+1)),a=Math.floor(r%(da+1));return Ge.box(Ge.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,n&255,0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255,a>>24,a>>16&255,a>>8&255,a&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,s>>8&255,s&255,0,0,o>>8&255,o&255,0,0]))}static traf(e,n){const r=Ge.sdtp(e),s=e.id,o=Math.floor(n/(da+1)),i=Math.floor(n%(da+1));return Ge.box(Ge.types.traf,Ge.box(Ge.types.tfhd,new Uint8Array([0,0,0,0,s>>24,s>>16&255,s>>8&255,s&255])),Ge.box(Ge.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,o&255,i>>24,i>>16&255,i>>8&255,i&255])),Ge.trun(e,r.length+16+20+8+16+8+8),r)}static trak(e){return e.duration=e.duration||4294967295,Ge.box(Ge.types.trak,Ge.tkhd(e),Ge.mdia(e))}static trex(e){const n=e.id;return Ge.box(Ge.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,n&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,n){const r=e.samples||[],s=r.length,o=12+16*s,i=new Uint8Array(o);let a,u,l,c,d,f;for(n+=8+o,i.set([e.type==="video"?1:0,0,15,1,s>>>24&255,s>>>16&255,s>>>8&255,s&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255],0),a=0;a<s;a++)u=r[a],l=u.duration,c=u.size,d=u.flags,f=u.cts,i.set([l>>>24&255,l>>>16&255,l>>>8&255,l&255,c>>>24&255,c>>>16&255,c>>>8&255,c&255,d.isLeading<<2|d.dependsOn,d.isDependedOn<<6|d.hasRedundancy<<4|d.paddingValue<<1|d.isNonSync,d.degradPrio&61440,d.degradPrio&15,f>>>24&255,f>>>16&255,f>>>8&255,f&255],12+16*a);return Ge.box(Ge.types.trun,i)}static initSegment(e){Ge.types||Ge.init();const n=Ge.moov(e);return ho(Ge.FTYP,n)}static hvc1(e){const n=e.params,r=[e.vps,e.sps,e.pps],s=4,o=new Uint8Array([1,n.general_profile_space<<6|(n.general_tier_flag?32:0)|n.general_profile_idc,n.general_profile_compatibility_flags[0],n.general_profile_compatibility_flags[1],n.general_profile_compatibility_flags[2],n.general_profile_compatibility_flags[3],n.general_constraint_indicator_flags[0],n.general_constraint_indicator_flags[1],n.general_constraint_indicator_flags[2],n.general_constraint_indicator_flags[3],n.general_constraint_indicator_flags[4],n.general_constraint_indicator_flags[5],n.general_level_idc,240|n.min_spatial_segmentation_idc>>8,255&n.min_spatial_segmentation_idc,252|n.parallelismType,252|n.chroma_format_idc,248|n.bit_depth_luma_minus8,248|n.bit_depth_chroma_minus8,0,parseInt(n.frame_rate.fps),s-1|n.temporal_id_nested<<2|n.num_temporal_layers<<3|(n.frame_rate.fixed?64:0),r.length]);let i=o.length;for(let p=0;p<r.length;p+=1){i+=3;for(let g=0;g<r[p].length;g+=1)i+=2+r[p][g].length}const a=new Uint8Array(i);a.set(o,0),i=o.length;const u=r.length-1;for(let p=0;p<r.length;p+=1){a.set(new Uint8Array([32+p|(p===u?128:0),0,r[p].length]),i),i+=3;for(let g=0;g<r[p].length;g+=1)a.set(new Uint8Array([r[p][g].length>>8,r[p][g].length&255]),i),i+=2,a.set(r[p][g],i),i+=r[p][g].length}const l=Ge.box(Ge.types.hvcC,a),c=e.width,d=e.height,f=e.pixelRatio[0],h=e.pixelRatio[1];return Ge.box(Ge.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c>>8&255,c&255,d>>8&255,d&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),l,Ge.box(Ge.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Ge.box(Ge.types.pasp,new Uint8Array([f>>24,f>>16&255,f>>8&255,f&255,h>>24,h>>16&255,h>>8&255,h&255])))}}Ge.types=void 0;Ge.HDLR_TYPES=void 0;Ge.STTS=void 0;Ge.STSC=void 0;Ge.STCO=void 0;Ge.STSZ=void 0;Ge.VMHD=void 0;Ge.SMHD=void 0;Ge.STSD=void 0;Ge.FTYP=void 0;Ge.DINF=void 0;const xD=9e4;function Xw(t,e,n=1,r=!1){const s=t*e*n;return r?Math.round(s):s}function ume(t,e,n=1,r=!1){return Xw(t,e,1/n,r)}function Fc(t,e=!1){return Xw(t,1e3,1/xD,e)}function cme(t,e=1){return Xw(t,xD,1/e)}const dme=10*1e3,fme=1024,hme=1152,pme=1536;let Jl=null,Gv=null;function S2(t,e,n,r){return{duration:e,size:n,cts:r,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:t?2:1,isNonSync:t?0:1}}}class lp{constructor(e,n,r,s){if(this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.logger=s,this.ISGenerated=!1,Jl===null){const i=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Jl=i?parseInt(i[1]):0}if(Gv===null){const o=navigator.userAgent.match(/Safari\/(\d+)/i);Gv=o?parseInt(o[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){this.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){this.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let n=!1;const r=e[0].pts,s=e.reduce((o,i)=>{let a=i.pts,u=a-o;return u<-4294967296&&(n=!0,a=Qs(a,r),u=a-o),u>0?o:a},r);return n&&this.logger.debug("PTS rollover detected"),s}remux(e,n,r,s,o,i,a,u){let l,c,d,f,h,p,g=o,v=o;const y=e.pid>-1,_=n.pid>-1,b=n.samples.length,w=e.samples.length>0,S=a&&b>0||b>1;if((!y||w)&&(!_||S)||this.ISGenerated||a){if(this.ISGenerated){var T,I,k,C;const H=this.videoTrackConfig;(H&&(n.width!==H.width||n.height!==H.height||((T=n.pixelRatio)==null?void 0:T[0])!==((I=H.pixelRatio)==null?void 0:I[0])||((k=n.pixelRatio)==null?void 0:k[1])!==((C=H.pixelRatio)==null?void 0:C[1]))||!H&&S||this.nextAudioPts===null&&w)&&this.resetInitSegment()}this.ISGenerated||(d=this.generateIS(e,n,o,i));const N=this.isVideoContiguous;let D=-1,W;if(S&&(D=mme(n.samples),!N&&this.config.forceKeyFrameOnDiscontinuity))if(p=!0,D>0){this.logger.warn(`[mp4-remuxer]: Dropped ${D} out of ${b} video samples due to a missing keyframe`);const H=this.getVideoStartPts(n.samples);n.samples=n.samples.slice(D),n.dropped+=D,v+=(n.samples[0].pts-H)/n.inputTimeScale,W=v}else D===-1&&(this.logger.warn(`[mp4-remuxer]: No keyframe found out of ${b} video samples`),p=!1);if(this.ISGenerated){if(w&&S){const H=this.getVideoStartPts(n.samples),R=(Qs(e.samples[0].pts,H)-H)/n.inputTimeScale;g+=Math.max(0,R),v+=Math.max(0,-R)}if(w){if(e.samplerate||(this.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),d=this.generateIS(e,n,o,i)),c=this.remuxAudio(e,g,this.isAudioContiguous,i,_||S||u===en.AUDIO?v:void 0),S){const H=c?c.endPTS-c.startPTS:0;n.inputTimeScale||(this.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),d=this.generateIS(e,n,o,i)),l=this.remuxVideo(n,v,N,H)}}else S&&(l=this.remuxVideo(n,v,N,0));l&&(l.firstKeyFrame=D,l.independent=D!==-1,l.firstKeyFramePTS=W)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(r.samples.length&&(h=TD(r,o,this._initPTS,this._initDTS)),s.samples.length&&(f=CD(s,o,this._initPTS))),{audio:c,video:l,initSegment:d,independent:p,text:f,id3:h}}generateIS(e,n,r,s){const o=e.samples,i=n.samples,a=this.typeSupported,u={},l=this._initPTS;let c=!l||s,d="audio/mp4",f,h,p;if(c&&(f=h=1/0),e.config&&o.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":a.mpeg?(d="audio/mpeg",e.codec=""):a.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}u.audio={id:"audio",container:d,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&a.mpeg?new Uint8Array(0):Ge.initSegment([e]),metadata:{channelCount:e.channelCount}},c&&(p=e.inputTimeScale,!l||p!==l.timescale?f=h=o[0].pts-Math.round(p*r):c=!1)}if(n.sps&&n.pps&&i.length){if(n.timescale=n.inputTimeScale,u.video={id:"main",container:"video/mp4",codec:n.codec,initSegment:Ge.initSegment([n]),metadata:{width:n.width,height:n.height}},c)if(p=n.inputTimeScale,!l||p!==l.timescale){const g=this.getVideoStartPts(i),v=Math.round(p*r);h=Math.min(h,Qs(i[0].dts,g)-v),f=Math.min(f,g-v)}else c=!1;this.videoTrackConfig={width:n.width,height:n.height,pixelRatio:n.pixelRatio}}if(Object.keys(u).length)return this.ISGenerated=!0,c?(this._initPTS={baseTime:f,timescale:p},this._initDTS={baseTime:h,timescale:p}):f=p=void 0,{tracks:u,initPTS:f,timescale:p}}remuxVideo(e,n,r,s){const o=e.inputTimeScale,i=e.samples,a=[],u=i.length,l=this._initPTS;let c=this.nextAvcDts,d=8,f=this.videoSampleDuration,h,p,g=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,y=!1;if(!r||c===null){const B=n*o,j=i[0].pts-Qs(i[0].dts,i[0].pts);Jl&&c!==null&&Math.abs(B-j-c)<15e3?r=!0:c=B-j}const _=l.baseTime*o/l.timescale;for(let B=0;B<u;B++){const j=i[B];j.pts=Qs(j.pts-_,c),j.dts=Qs(j.dts-_,c),j.dts<i[B>0?B-1:B].dts&&(y=!0)}y&&i.sort(function(B,j){const X=B.dts-j.dts,se=B.pts-j.pts;return X||se}),h=i[0].dts,p=i[i.length-1].dts;const b=p-h,w=b?Math.round(b/(u-1)):f||e.inputTimeScale/30;if(r){const B=h-c,j=B>w,X=B<-1;if((j||X)&&(j?this.logger.warn(`${(e.segmentCodec||"").toUpperCase()}: ${Fc(B,!0)} ms (${B}dts) hole between fragments detected at ${n.toFixed(3)}`):this.logger.warn(`${(e.segmentCodec||"").toUpperCase()}: ${Fc(-B,!0)} ms (${B}dts) overlapping between fragments detected at ${n.toFixed(3)}`),!X||c>=i[0].pts||Jl)){h=c;const se=i[0].pts-B;if(j)i[0].dts=h,i[0].pts=se;else{let te=!0;for(let ie=0;ie<i.length&&!(i[ie].dts>se&&te);ie++){const fe=i[ie].pts;if(i[ie].dts-=B,i[ie].pts-=B,ie<i.length-1){const ue=i[ie+1].pts,J=i[ie].pts,de=ue<=J,ae=ue<=fe;te=de==ae}}}this.logger.log(`Video: Initial PTS/DTS adjusted: ${Fc(se,!0)}/${Fc(h,!0)}, delta: ${Fc(B,!0)} ms`)}}h=Math.max(0,h);let S=0,E=0,T=h;for(let B=0;B<u;B++){const j=i[B],X=j.units,se=X.length;let te=0;for(let ie=0;ie<se;ie++)te+=X[ie].data.length;E+=te,S+=se,j.length=te,j.dts<T?(j.dts=T,T+=w/4|0||1):T=j.dts,g=Math.min(j.pts,g),v=Math.max(j.pts,v)}p=i[u-1].dts;const I=E+4*S+8;let k;try{k=new Uint8Array(I)}catch(B){this.observer.emit(Q.ERROR,Q.ERROR,{type:tn.MUX_ERROR,details:Xe.REMUX_ALLOC_ERROR,fatal:!1,error:B,bytes:I,reason:`fail allocating video mdat ${I}`});return}const C=new DataView(k.buffer);C.setUint32(0,I),k.set(Ge.types.mdat,4);let N=!1,D=Number.POSITIVE_INFINITY,W=Number.POSITIVE_INFINITY,H=Number.NEGATIVE_INFINITY,V=Number.NEGATIVE_INFINITY;for(let B=0;B<u;B++){const j=i[B],X=j.units;let se=0;for(let fe=0,ue=X.length;fe<ue;fe++){const J=X[fe],de=J.data,ae=J.data.byteLength;C.setUint32(d,ae),d+=4,k.set(de,d),d+=ae,se+=4+ae}let te;if(B<u-1)f=i[B+1].dts-j.dts,te=i[B+1].pts-j.pts;else{const fe=this.config,ue=B>0?j.dts-i[B-1].dts:w;if(te=B>0?j.pts-i[B-1].pts:w,fe.stretchShortVideoTrack&&this.nextAudioPts!==null){const J=Math.floor(fe.maxBufferHole*o),de=(s?g+s*o:this.nextAudioPts)-j.pts;de>J?(f=de-ue,f<0?f=ue:N=!0,this.logger.log(`[mp4-remuxer]: It is approximately ${de/90} ms to the next segment; using duration ${f/90} ms for the last video frame.`)):f=ue}else f=ue}const ie=Math.round(j.pts-j.dts);D=Math.min(D,f),H=Math.max(H,f),W=Math.min(W,te),V=Math.max(V,te),a.push(S2(j.key,f,se,ie))}if(a.length){if(Jl){if(Jl<70){const B=a[0].flags;B.dependsOn=2,B.isNonSync=0}}else if(Gv&&V-W<H-D&&w/H<.025&&a[0].cts===0){this.logger.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let B=h;for(let j=0,X=a.length;j<X;j++){const se=B+a[j].duration,te=B+a[j].cts;if(j<X-1){const ie=se+a[j+1].cts;a[j].duration=ie-te}else a[j].duration=j?a[j-1].duration:w;a[j].cts=0,B=se}}}f=N||!f?w:f,this.nextAvcDts=c=p+f,this.videoSampleDuration=f,this.isVideoContiguous=!0;const R=Ge.moof(e.sequenceNumber++,h,Gn(e,{samples:a})),z="video",M={data1:R,data2:k,startPTS:g/o,endPTS:(v+f)/o,startDTS:h/o,endDTS:c/o,type:z,hasAudio:!1,hasVideo:!0,nb:a.length,dropped:e.dropped};return e.samples=[],e.dropped=0,M}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return hme;case"ac3":return pme;default:return fme}}remuxAudio(e,n,r,s,o){const i=e.inputTimeScale,a=e.samplerate?e.samplerate:i,u=i/a,l=this.getSamplesPerFrame(e),c=l*u,d=this._initPTS,f=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,h=[],p=o!==void 0;let g=e.samples,v=f?0:8,y=this.nextAudioPts||-1;const _=n*i,b=d.baseTime*i/d.timescale;if(this.isAudioContiguous=r=r||g.length&&y>0&&(s&&Math.abs(_-y)<9e3||Math.abs(Qs(g[0].pts-b,_)-y)<20*c),g.forEach(function(R){R.pts=Qs(R.pts-b,_)}),!r||y<0){if(g=g.filter(R=>R.pts>=0),!g.length)return;o===0?y=0:s&&!p?y=Math.max(0,_):y=g[0].pts}if(e.segmentCodec==="aac"){const R=this.config.maxAudioFramesDrift;for(let z=0,M=y;z<g.length;z++){const B=g[z],j=B.pts,X=j-M,se=Math.abs(1e3*X/i);if(X<=-R*c&&p)z===0&&(this.logger.warn(`Audio frame @ ${(j/i).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*X/i)} ms.`),this.nextAudioPts=y=M=j);else if(X>=R*c&&se<dme&&p){let te=Math.round(X/c);M=j-te*c,M<0&&(te--,M+=c),z===0&&(this.nextAudioPts=y=M),this.logger.warn(`[mp4-remuxer]: Injecting ${te} audio frame @ ${(M/i).toFixed(3)}s due to ${Math.round(1e3*X/i)} ms gap.`);for(let ie=0;ie<te;ie++){const fe=Math.max(M,0);let ue=lme.getSilentFrame(e.parsedCodec||e.manifestCodec||e.codec,e.channelCount);ue||(this.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),ue=B.unit.subarray()),g.splice(z,0,{unit:ue,pts:fe}),M+=c,z++}}B.pts=M,M+=c}}let w=null,S=null,E,T=0,I=g.length;for(;I--;)T+=g[I].unit.byteLength;for(let R=0,z=g.length;R<z;R++){const M=g[R],B=M.unit;let j=M.pts;if(S!==null){const se=h[R-1];se.duration=Math.round((j-S)/u)}else if(r&&e.segmentCodec==="aac"&&(j=y),w=j,T>0){T+=v;try{E=new Uint8Array(T)}catch(se){this.observer.emit(Q.ERROR,Q.ERROR,{type:tn.MUX_ERROR,details:Xe.REMUX_ALLOC_ERROR,fatal:!1,error:se,bytes:T,reason:`fail allocating audio mdat ${T}`});return}f||(new DataView(E.buffer).setUint32(0,T),E.set(Ge.types.mdat,4))}else return;E.set(B,v);const X=B.byteLength;v+=X,h.push(S2(!0,l,X,0)),S=j}const k=h.length;if(!k)return;const C=h[h.length-1];this.nextAudioPts=y=S+u*C.duration;const N=f?new Uint8Array(0):Ge.moof(e.sequenceNumber++,w/u,Gn({},e,{samples:h}));e.samples=[];const D=w/i,W=y/i,V={data1:N,data2:E,startPTS:D,endPTS:W,startDTS:D,endDTS:W,type:"audio",hasAudio:!0,hasVideo:!1,nb:k};return this.isAudioContiguous=!0,V}}function Qs(t,e){let n;if(e===null)return t;for(e<t?n=-8589934592:n=8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}function mme(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function TD(t,e,n,r){const s=t.samples.length;if(!s)return;const o=t.inputTimeScale;for(let a=0;a<s;a++){const u=t.samples[a];u.pts=Qs(u.pts-n.baseTime*o/n.timescale,e*o)/o,u.dts=Qs(u.dts-r.baseTime*o/r.timescale,e*o)/o}const i=t.samples;return t.samples=[],{samples:i}}function CD(t,e,n){const r=t.samples.length;if(!r)return;const s=t.inputTimeScale;for(let i=0;i<r;i++){const a=t.samples[i];a.pts=Qs(a.pts-n.baseTime*s/n.timescale,e*s)/s}t.samples.sort((i,a)=>i.pts-a.pts);const o=t.samples;return t.samples=[],{samples:o}}class gme{constructor(e,n,r,s){this.logger=void 0,this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.logger=s}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,n,r,s){this.audioCodec=n,this.videoCodec=r,this.generateInitSegment(she(e,s)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:n,videoCodec:r}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const s=this.initData=OP(e);s.audio&&(n=E2(s.audio,Wn.AUDIO)),s.video&&(r=E2(s.video,Wn.VIDEO));const o={};s.audio&&s.video?o.audiovideo={container:"video/mp4",codec:n+","+r,supplemental:s.video.supplemental,initSegment:e,id:"main"}:s.audio?o.audio={container:"audio/mp4",codec:n,initSegment:e,id:"audio"}:s.video?o.video={container:"video/mp4",codec:r,supplemental:s.video.supplemental,initSegment:e,id:"main"}:this.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=o}remux(e,n,r,s,o,i){var a,u;let{initPTS:l,lastEndTime:c}=this;const d={audio:void 0,video:void 0,text:s,id3:r,initSegment:void 0};jt(c)||(c=this.lastEndTime=o||0);const f=n.samples;if(!(f!=null&&f.length))return d;const h={initPTS:void 0,timescale:1};let p=this.initData;if((a=p)!=null&&a.length||(this.generateInitSegment(f),p=this.initData),!((u=p)!=null&&u.length))return this.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),d;this.emitInitSegment&&(h.tracks=this.initTracks,this.emitInitSegment=!1);const g=ihe(f,p),v=ohe(p,f),y=v===null?o:v;(i||!l)&&(vme(l,y,o,g)||h.timescale!==l.timescale)&&(h.initPTS=y-o,l&&l.timescale===1&&this.logger.warn(`Adjusting initPTS @${o} from ${l.baseTime/l.timescale} to ${h.initPTS}`),this.initPTS=l={baseTime:h.initPTS,timescale:1});const _=e?y-l.baseTime/l.timescale:c,b=_+g;lhe(p,f,l.baseTime/l.timescale),g>0?this.lastEndTime=b:(this.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const w=!!p.audio,S=!!p.video;let E="";w&&(E+="audio"),S&&(E+="video");const T={data1:f,startPTS:_,startDTS:_,endPTS:b,endDTS:b,type:E,hasAudio:w,hasVideo:S,nb:1,dropped:0};return d.audio=T.type==="audio"?T:void 0,d.video=T.type!=="audio"?T:void 0,d.initSegment=h,d.id3=TD(r,o,l,l),s.samples.length&&(d.text=CD(s,o,l)),d}}function vme(t,e,n,r){if(t===null)return!0;const s=Math.max(r,1),o=e-t.baseTime/t.timescale;return Math.abs(o-n)>s}function E2(t,e){const n=t==null?void 0:t.codec;return n&&n.length>4?n:e===Wn.AUDIO?n==="ec-3"||n==="ac-3"||n==="alac"?n:n==="fLaC"||n==="Opus"?tm(n,!1):($n.warn(`Unhandled audio codec "${n}" in mp4 MAP`),n||"mp4a"):($n.warn(`Unhandled video codec "${n}" in mp4 MAP`),n||"avc1")}let Ii;try{Ii=self.performance.now.bind(self.performance)}catch{Ii=Date.now}const up=[{demux:sme,remux:gme},{demux:_a,remux:lp},{demux:eme,remux:lp},{demux:nme,remux:lp}];up.splice(2,0,{demux:tme,remux:lp});class x2{constructor(e,n,r,s,o,i){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=n,this.config=r,this.id=o,this.logger=i}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,n,r,s){const o=r.transmuxing;o.executeStart=Ii();let i=new Uint8Array(e);const{currentTransmuxState:a,transmuxConfig:u}=this;s&&(this.currentTransmuxState=s);const{contiguous:l,discontinuity:c,trackSwitch:d,accurateTimeOffset:f,timeOffset:h,initSegmentChange:p}=s||a,{audioCodec:g,videoCodec:v,defaultInitPts:y,duration:_,initSegmentData:b}=u,w=yme(i,n);if(w&&Tu(w.method)){const I=this.getDecrypter(),k=Uw(w.method);if(I.isSync()){let C=I.softwareDecrypt(i,w.key.buffer,w.iv.buffer,k);if(r.part>-1){const D=I.flush();C=D&&D.buffer}if(!C)return o.executeEnd=Ii(),qv(r);i=new Uint8Array(C)}else return this.asyncResult=!0,this.decryptionPromise=I.webCryptoDecrypt(i,w.key.buffer,w.iv.buffer,k).then(C=>{const N=this.push(C,null,r);return this.decryptionPromise=null,N}),this.decryptionPromise}const S=this.needsProbing(c,d);if(S){const I=this.configureTransmuxer(i);if(I)return this.logger.warn(`[transmuxer] ${I.message}`),this.observer.emit(Q.ERROR,Q.ERROR,{type:tn.MEDIA_ERROR,details:Xe.FRAG_PARSING_ERROR,fatal:!1,error:I,reason:I.message}),o.executeEnd=Ii(),qv(r)}(c||d||p||S)&&this.resetInitSegment(b,g,v,_,n),(c||p||S)&&this.resetInitialTimestamp(y),l||this.resetContiguity();const E=this.transmux(i,w,h,f,r);this.asyncResult=Qd(E);const T=this.currentTransmuxState;return T.contiguous=!0,T.discontinuity=!1,T.trackSwitch=!1,o.executeEnd=Ii(),E}flush(e){const n=e.transmuxing;n.executeStart=Ii();const{decrypter:r,currentTransmuxState:s,decryptionPromise:o}=this;if(o)return this.asyncResult=!0,o.then(()=>this.flush(e));const i=[],{timeOffset:a}=s;if(r){const d=r.flush();d&&i.push(this.push(d.buffer,null,e))}const{demuxer:u,remuxer:l}=this;if(!u||!l){n.executeEnd=Ii();const d=[qv(e)];return this.asyncResult?Promise.resolve(d):d}const c=u.flush(a);return Qd(c)?(this.asyncResult=!0,c.then(d=>(this.flushRemux(i,d,e),i))):(this.flushRemux(i,c,e),this.asyncResult?Promise.resolve(i):i)}flushRemux(e,n,r){const{audioTrack:s,videoTrack:o,id3Track:i,textTrack:a}=n,{accurateTimeOffset:u,timeOffset:l}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${r.sn}${r.part>-1?" part: "+r.part:""} of ${this.id===en.MAIN?"level":"track"} ${r.level}`);const c=this.remuxer.remux(s,o,i,a,l,u,!0,this.id);e.push({remuxResult:c,chunkMeta:r}),r.transmuxing.executeEnd=Ii()}resetInitialTimestamp(e){const{demuxer:n,remuxer:r}=this;!n||!r||(n.resetTimeStamp(e),r.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:n}=this;!e||!n||(e.resetContiguity(),n.resetNextTimestamp())}resetInitSegment(e,n,r,s,o){const{demuxer:i,remuxer:a}=this;!i||!a||(i.resetInitSegment(e,n,r,s),a.resetInitSegment(e,n,r,o))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,n,r,s,o){let i;return n&&n.method==="SAMPLE-AES"?i=this.transmuxSampleAes(e,n,r,s,o):i=this.transmuxUnencrypted(e,r,s,o),i}transmuxUnencrypted(e,n,r,s){const{audioTrack:o,videoTrack:i,id3Track:a,textTrack:u}=this.demuxer.demux(e,n,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(o,i,a,u,n,r,!1,this.id),chunkMeta:s}}transmuxSampleAes(e,n,r,s,o){return this.demuxer.demuxSampleAes(e,n,r).then(i=>({remuxResult:this.remuxer.remux(i.audioTrack,i.videoTrack,i.id3Track,i.textTrack,r,s,!1,this.id),chunkMeta:o}))}configureTransmuxer(e){const{config:n,observer:r,typeSupported:s}=this;let o;for(let d=0,f=up.length;d<f;d++){var i;if((i=up[d].demux)!=null&&i.probe(e,this.logger)){o=up[d];break}}if(!o)return new Error("Failed to find demuxer by probing fragment data");const a=this.demuxer,u=this.remuxer,l=o.remux,c=o.demux;(!u||!(u instanceof l))&&(this.remuxer=new l(r,n,s,this.logger)),(!a||!(a instanceof c))&&(this.demuxer=new c(r,n,s,this.logger),this.probe=c.probe)}needsProbing(e,n){return!this.demuxer||!this.remuxer||e||n}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new Bw(this.config)),e}}function yme(t,e){let n=null;return t.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(n=e),n}const qv=t=>({remuxResult:{},chunkMeta:t});function Qd(t){return"then"in t&&t.then instanceof Function}class bme{constructor(e,n,r,s,o){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=n,this.initSegmentData=r,this.duration=s,this.defaultInitPts=o||null}}class wme{constructor(e,n,r,s,o,i){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=n,this.accurateTimeOffset=r,this.trackSwitch=s,this.timeOffset=o,this.initSegmentChange=i}}let T2=0;class kD{constructor(e,n,r,s){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=T2++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=u=>{const l=u.data,c=this.hls;if(!(!c||!(l!=null&&l.event)||l.instanceNo!==this.instanceNo))switch(l.event){case"init":{var d;const f=(d=this.workerContext)==null?void 0:d.objectURL;f&&self.URL.revokeObjectURL(f);break}case"transmuxComplete":{this.handleTransmuxComplete(l.data);break}case"flush":{this.onFlush(l.data);break}case"workerLog":{c.logger[l.data.logType]&&c.logger[l.data.logType](l.data.message);break}default:{l.data=l.data||{},l.data.frag=this.frag,l.data.part=this.part,l.data.id=this.id,c.trigger(l.event,l.data);break}}},this.onWorkerError=u=>{if(!this.hls)return;const l=new Error(`${u.message}  (${u.filename}:${u.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(Q.ERROR,{type:tn.OTHER_ERROR,details:Xe.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:l})};const o=e.config;this.hls=e,this.id=n,this.useWorker=!!o.enableWorker,this.onTransmuxComplete=r,this.onFlush=s;const i=(u,l)=>{l=l||{},l.frag=this.frag||void 0,u===Q.ERROR&&(l=l,l.parent=this.id,l.part=this.part,this.error=l.error),this.hls.trigger(u,l)};this.observer=new Kw,this.observer.on(Q.FRAG_DECRYPTED,i),this.observer.on(Q.ERROR,i);const a=UT(o.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){const u=this.hls.logger;if(o.workerPath||Epe()){try{o.workerPath?(u.log(`loading Web Worker ${o.workerPath} for "${n}"`),this.workerContext=Tpe(o.workerPath)):(u.log(`injecting Web Worker for "${n}"`),this.workerContext=xpe());const{worker:c}=this.workerContext;c.addEventListener("message",this.onWorkerMessage),c.addEventListener("error",this.onWorkerError),c.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:a,id:n,config:ar(o)})}catch(c){u.warn(`Error setting up "${n}" Web Worker, fallback to inline`,c),this.terminateWorker(),this.error=null,this.transmuxer=new x2(this.observer,a,o,"",n,e.logger)}return}}this.transmuxer=new x2(this.observer,a,o,"",n,e.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const e=this.instanceNo;this.instanceNo=T2++;const n=this.hls.config,r=UT(n.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:e,typeSupported:r,id:this.id,config:ar(n)})}}terminateWorker(){if(this.workerContext){const{worker:e}=this.workerContext;this.workerContext=null,e.removeEventListener("message",this.onWorkerMessage),e.removeEventListener("error",this.onWorkerError),Cpe(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const n=this.transmuxer;n&&(n.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(e,n,r,s,o,i,a,u,l,c){var d,f;l.transmuxing.start=self.performance.now();const{instanceNo:h,transmuxer:p}=this,g=i?i.start:o.start,v=o.decryptdata,y=this.frag,_=!(y&&o.cc===y.cc),b=!(y&&l.level===y.level),w=y?l.sn-y.sn:-1,S=this.part?l.part-this.part.index:-1,E=w===0&&l.id>1&&l.id===(y==null?void 0:y.stats.chunkCount),T=!b&&(w===1||w===0&&(S===1||E&&S<=0)),I=self.performance.now();(b||w||o.stats.parsing.start===0)&&(o.stats.parsing.start=I),i&&(S||!T)&&(i.stats.parsing.start=I);const k=!(y&&((d=o.initSegment)==null?void 0:d.url)===((f=y.initSegment)==null?void 0:f.url)),C=new wme(_,T,u,b,g,k);if(!T||_||k){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${o.type} sn: ${l.sn}${l.part>-1?" part: "+l.part:""} ${this.id===en.MAIN?"level":"track"}: ${l.level} id: ${l.id}
        discontinuity: ${_}
        trackSwitch: ${b}
        contiguous: ${T}
        accurateTimeOffset: ${u}
        timeOffset: ${g}
        initSegmentChange: ${k}`);const N=new bme(r,s,n,a,c);this.configureTransmuxer(N)}if(this.frag=o,this.part=i,this.workerContext)this.workerContext.worker.postMessage({instanceNo:h,cmd:"demux",data:e,decryptdata:v,chunkMeta:l,state:C},e instanceof ArrayBuffer?[e]:[]);else if(p){const N=p.push(e,v,l,C);Qd(N)?N.then(D=>{this.handleTransmuxComplete(D)}).catch(D=>{this.transmuxerError(D,l,"transmuxer-interface push error")}):this.handleTransmuxComplete(N)}}flush(e){e.transmuxing.start=self.performance.now();const{instanceNo:n,transmuxer:r}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:n,cmd:"flush",chunkMeta:e});else if(r){const s=r.flush(e);Qd(s)?s.then(o=>{this.handleFlushResult(o,e)}).catch(o=>{this.transmuxerError(o,e,"transmuxer-interface flush error")}):this.handleFlushResult(s,e)}}transmuxerError(e,n,r){this.hls&&(this.error=e,this.hls.trigger(Q.ERROR,{type:tn.MEDIA_ERROR,details:Xe.FRAG_PARSING_ERROR,chunkMeta:n,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:e,err:e,reason:r}))}handleFlushResult(e,n){e.forEach(r=>{this.handleTransmuxComplete(r)}),this.onFlush(n)}configureTransmuxer(e){const{instanceNo:n,transmuxer:r}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:n,cmd:"configure",config:e}):r&&r.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const C2=100;class _me extends jw{constructor(e,n,r){super(e,n,r,"audio-stream-controller",en.AUDIO),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(Q.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Q.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(Q.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Q.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(Q.BUFFER_RESET,this.onBufferReset,this),e.on(Q.BUFFER_CREATED,this.onBufferCreated,this),e.on(Q.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Q.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Q.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(Q.FRAG_LOADING,this.onFragLoading,this),e.on(Q.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:e}=this;e&&(super.unregisterListeners(),e.off(Q.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Q.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(Q.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Q.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(Q.BUFFER_RESET,this.onBufferReset,this),e.off(Q.BUFFER_CREATED,this.onBufferCreated,this),e.off(Q.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Q.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Q.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(Q.FRAG_LOADING,this.onFragLoading,this),e.off(Q.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(e,{frag:n,id:r,initPTS:s,timescale:o}){if(r===en.MAIN){const i=n.cc,a=this.fragCurrent;if(this.initPTS[i]={baseTime:s,timescale:o},this.log(`InitPTS for cc: ${i} found from main: ${s}/${o}`),this.mainAnchor=n,this.state===ct.WAITING_INIT_PTS){const u=this.waitingData;(!u&&!this.loadingParts||u&&u.frag.cc!==i)&&(this.nextLoadPosition=this.findSyncFrag(n).start),this.tick()}else!this.hls.hasEnoughToStart&&a&&a.cc!==i?(this.startFragRequested=!1,this.nextLoadPosition=this.findSyncFrag(n).start,a.abortRequests(),this.resetLoadingState()):this.state===ct.IDLE&&this.tick()}}findSyncFrag(e){const n=this.getLevelDetails(),r=e.cc;return Nhe(n,r,e)||n&&WP(n.fragments,r)||e}startLoad(e,n){if(!this.levels){this.startPosition=e,this.state=ct.STOPPED;return}const r=this.lastCurrentTime;this.stopLoad(),this.setInterval(C2),r>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${r.toFixed(3)}`),e=r,this.state=ct.IDLE):this.state=ct.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=n?-1:e,this.tick()}doTick(){switch(this.state){case ct.IDLE:this.doTickIdle();break;case ct.WAITING_TRACK:{const{levels:n,trackId:r}=this,s=n==null?void 0:n[r],o=s==null?void 0:s.details;if(o&&!this.waitForLive(s)){if(this.waitForCdnTuneIn(o))break;this.state=ct.WAITING_INIT_PTS}break}case ct.FRAG_LOADING_WAITING_RETRY:{var e;const n=performance.now(),r=this.retryDate;if(!r||n>=r||(e=this.media)!=null&&e.seeking){const{levels:s,trackId:o}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((s==null?void 0:s[o])||null),this.state=ct.IDLE}break}case ct.WAITING_INIT_PTS:{const n=this.waitingData;if(n){const{frag:r,part:s,cache:o,complete:i}=n,a=this.mainAnchor;if(this.initPTS[r.cc]!==void 0){this.waitingData=null,this.state=ct.FRAG_LOADING;const u=o.flush().buffer,l={frag:r,part:s,payload:u,networkDetails:null};this._handleFragmentLoadProgress(l),i&&super._handleFragmentLoadComplete(l)}else a&&a.cc!==n.frag.cc&&(this.log(`Waiting fragment cc (${r.cc}) cancelled because video is at cc ${a.cc}`),this.nextLoadPosition=this.findSyncFrag(a).start,this.clearWaitingFragment())}else this.state=ct.IDLE}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.state!==ct.STOPPED&&(this.state=ct.IDLE))}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){var e;const{hls:n,levels:r,media:s,trackId:o}=this,i=n.config;if(!this.buffering||!s&&!this.primaryPrefetch&&(this.startFragRequested||!i.startFragPrefetch)||!(r!=null&&r[o]))return;const a=r[o],u=a.details;if(!u||this.waitForLive(a)||this.waitForCdnTuneIn(u)){this.state=ct.WAITING_TRACK,this.startFragRequested=!1;return}const l=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&l&&(this.bufferFlushed=!1,this.afterBufferFlushed(l,Wn.AUDIO,en.AUDIO));const c=this.getFwdBufferInfo(l,en.AUDIO);if(c===null)return;if(!this.switchingTrack&&this._streamEnded(c,u)){n.trigger(Q.BUFFER_EOS,{type:"audio"}),this.state=ct.ENDED;return}const d=c.len,f=n.maxBufferLength,h=u.fragments,p=h[0].start,g=this.getLoadPosition(),v=this.flushing?g:c.end;if(this.switchingTrack&&s){const b=g;u.PTSKnown&&b<p&&(c.end>p||c.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),s.currentTime=p+.05)}if(d>=f&&!this.switchingTrack&&v<h[h.length-1].start)return;let y=this.getNextFragment(v,u);if(y&&this.isLoopLoading(y,v)&&(y=this.getNextFragmentLoopLoading(y,u,c,en.MAIN,f)),!y){this.bufferFlushed=!0;return}let _=((e=this.mainFragLoading)==null?void 0:e.frag)||null;if(!this.audioOnly&&this.startFragRequested&&_&&Mr(y)&&!y.endList&&(!u.live||!this.loadingParts&&v<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(_)===Ar.OK&&(this.mainFragLoading=_=null),_&&Mr(_))){if(y.start>_.end){const w=this.fragmentTracker.getFragAtPos(v,en.MAIN);w&&w.end>_.end&&(_=w,this.mainFragLoading={frag:w,targetBufferTime:null})}if(y.start>_.end)return}this.loadFragment(y,a,v)}onMediaDetaching(e,n){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(e,n)}onAudioTracksUpdated(e,{audioTracks:n}){this.resetTransmuxer(),this.levels=n.map(r=>new Wd(r))}onAudioTrackSwitching(e,n){const r=!!n.url;this.trackId=n.id;const{fragCurrent:s}=this;s&&(s.abortRequests(),this.removeUnbufferedFrags(s.start)),this.resetLoadingState(),r?(this.switchingTrack=n,this.flushAudioIfNeeded(n),this.state!==ct.STOPPED&&(this.setInterval(C2),this.state=ct.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=n,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(e,n){this.mainDetails=n.details;const r=this.cachedTrackLoadedData;r&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(Q.AUDIO_TRACK_LOADED,r))}onAudioTrackLoaded(e,n){var r;const{levels:s}=this,{details:o,id:i,groupId:a,track:u}=n;if(!s){this.warn(`Audio tracks reset while loading track ${i} "${u.name}" of "${a}"`);return}const l=this.mainDetails;if(!l||o.endCC>l.endCC||l.expired){this.cachedTrackLoadedData=n,this.state!==ct.STOPPED&&(this.state=ct.WAITING_TRACK);return}this.cachedTrackLoadedData=null,this.log(`Audio track ${i} "${u.name}" of "${a}" loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""},duration:${o.totalduration}`);const c=s[i];let d=0;if(o.live||(r=c.details)!=null&&r.live){if(this.checkLiveUpdate(o),o.deltaUpdateFailed)return;if(c.details){var f;d=this.alignPlaylists(o,c.details,(f=this.levelLastLoaded)==null?void 0:f.details)}o.alignedSliding||(iD(o,l),o.alignedSliding||am(o,l),d=o.fragmentStart)}c.details=o,this.levelLastLoaded=c,this.startFragRequested||this.setStartPosition(l,d),this.hls.trigger(Q.AUDIO_TRACK_UPDATED,{details:o,id:i,groupId:n.groupId}),this.state===ct.WAITING_TRACK&&!this.waitForCdnTuneIn(o)&&(this.state=ct.IDLE),this.tick()}_handleFragmentLoadProgress(e){var n;const r=e.frag,{part:s,payload:o}=e,{config:i,trackId:a,levels:u}=this;if(!u){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const l=u[a];if(!l){this.warn("Audio track is undefined on fragment load progress");return}const c=l.details;if(!c){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(r.start);return}const d=i.defaultAudioCodec||l.audioCodec||"mp4a.40.2";let f=this.transmuxer;f||(f=this.transmuxer=new kD(this.hls,en.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const h=this.initPTS[r.cc],p=(n=r.initSegment)==null?void 0:n.data;if(h!==void 0){const v=s?s.index:-1,y=v!==-1,_=new Vw(r.level,r.sn,r.stats.chunkCount,o.byteLength,v,y);f.push(o,p,d,"",r,s,c.totalduration,!1,_,h)}else{this.log(`Unknown video PTS for cc ${r.cc}, waiting for video PTS before demuxing audio frag ${r.sn} of [${c.startSN} ,${c.endSN}],track ${a}`);const{cache:g}=this.waitingData=this.waitingData||{frag:r,part:s,cache:new aD,complete:!1};g.push(new Uint8Array(o)),this.state!==ct.STOPPED&&(this.state=ct.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(e,n){this.bufferFlushed=this.flushing=!1;const r=n.tracks.audio;r&&(this.mediaBuffer=r.buffer||null)}onFragLoading(e,n){!this.audioOnly&&n.frag.type===en.MAIN&&Mr(n.frag)&&(this.mainFragLoading=n,this.state===ct.IDLE&&this.tick())}onFragBuffered(e,n){const{frag:r,part:s}=n;if(r.type!==en.AUDIO){!this.audioOnly&&r.type===en.MAIN&&!r.elementaryStreams.video&&!r.elementaryStreams.audiovideo&&(this.audioOnly=!0,this.mainFragLoading=null);return}if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${s?" p: "+s.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(Mr(r)){this.fragPrevious=r;const o=this.switchingTrack;o&&(this.bufferedTrack=o,this.switchingTrack=null,this.hls.trigger(Q.AUDIO_TRACK_SWITCHED,Hn({},o)))}this.fragBufferedComplete(r,s),this.media&&this.tick()}onError(e,n){var r;if(n.fatal){this.state=ct.ERROR;return}switch(n.details){case Xe.FRAG_GAP:case Xe.FRAG_PARSING_ERROR:case Xe.FRAG_DECRYPT_ERROR:case Xe.FRAG_LOAD_ERROR:case Xe.FRAG_LOAD_TIMEOUT:case Xe.KEY_LOAD_ERROR:case Xe.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(en.AUDIO,n);break;case Xe.AUDIO_TRACK_LOAD_ERROR:case Xe.AUDIO_TRACK_LOAD_TIMEOUT:case Xe.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===ct.WAITING_TRACK&&((r=n.context)==null?void 0:r.type)===kn.AUDIO_TRACK&&(this.state=ct.IDLE);break;case Xe.BUFFER_ADD_CODEC_ERROR:case Xe.BUFFER_APPEND_ERROR:if(n.parent!=="audio")return;this.resetLoadingState();break;case Xe.BUFFER_FULL_ERROR:if(n.parent!=="audio")return;this.reduceLengthAndFlushBuffer(n)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case Xe.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onBufferFlushing(e,{type:n}){n!==Wn.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:n}){if(n!==Wn.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===ct.ENDED&&(this.state=ct.IDLE);const r=this.mediaBuffer||this.media;r&&(this.afterBufferFlushed(r,n,en.AUDIO),this.tick())}}_handleTransmuxComplete(e){var n;const r="audio",{hls:s}=this,{remuxResult:o,chunkMeta:i}=e,a=this.getCurrentContext(i);if(!a){this.resetWhenMissingContext(i);return}const{frag:u,part:l,level:c}=a,{details:d}=c,{audio:f,text:h,id3:p,initSegment:g}=o;if(this.fragContextChanged(u)||!d){this.fragmentTracker.removeFragment(u);return}if(this.state=ct.PARSING,this.switchingTrack&&f&&this.completeAudioSwitch(this.switchingTrack),g!=null&&g.tracks){const v=u.initSegment||u;this._bufferInitSegment(c,g.tracks,v,i),s.trigger(Q.FRAG_PARSING_INIT_SEGMENT,{frag:v,id:r,tracks:g.tracks})}if(f){const{startPTS:v,endPTS:y,startDTS:_,endDTS:b}=f;l&&(l.elementaryStreams[Wn.AUDIO]={startPTS:v,endPTS:y,startDTS:_,endDTS:b}),u.setElementaryStreamInfo(Wn.AUDIO,v,y,_,b),this.bufferFragmentData(f,u,l,i)}if(p!=null&&(n=p.samples)!=null&&n.length){const v=Gn({id:r,frag:u,details:d},p);s.trigger(Q.FRAG_PARSING_METADATA,v)}if(h){const v=Gn({id:r,frag:u,details:d},h);s.trigger(Q.FRAG_PARSING_USERDATA,v)}}_bufferInitSegment(e,n,r,s){if(this.state!==ct.PARSING||(n.video&&delete n.video,n.audiovideo&&delete n.audiovideo,!n.audio))return;const o=n.audio;o.id=en.AUDIO;const i=e.audioCodec;this.log(`Init audio buffer, container:${o.container}, codecs[level/parsed]=[${i}/${o.codec}]`),i&&i.split(",").length===1&&(o.levelCodec=i),this.hls.trigger(Q.BUFFER_CODECS,n);const a=o.initSegment;if(a!=null&&a.byteLength){const u={type:"audio",frag:r,part:null,chunkMeta:s,parent:r.type,data:a};this.hls.trigger(Q.BUFFER_APPENDING,u)}this.tickImmediate()}loadFragment(e,n,r){const s=this.fragmentTracker.getState(e);if(this.switchingTrack||s===Ar.NOT_LOADED||s===Ar.PARTIAL){var o;if(!Mr(e))this._loadInitSegment(e,n);else if((o=n.details)!=null&&o.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=ct.WAITING_INIT_PTS;const i=this.mainDetails;i&&i.fragmentStart!==n.details.fragmentStart&&am(n.details,i)}else super.loadFragment(e,n,r)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:n,lang:r,assocLang:s,characteristics:o,audioCodec:i,channels:a}=this.bufferedTrack;bl({name:n,lang:r,assocLang:s,characteristics:o,audioCodec:i,channels:a},e,rl)||(rm(e.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=e)}}completeAudioSwitch(e){const{hls:n}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,n.trigger(Q.AUDIO_TRACK_SWITCHED,Hn({},e))}}class Qw extends Qi{constructor(e,n){super(n,e.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,n,r){const s=n==null?void 0:n.renditionReports;if(s){let o=-1;for(let i=0;i<s.length;i++){const a=s[i];let u;try{u=new self.URL(a.URI,n.url).href}catch(l){this.warn(`Could not construct new URL for Rendition Report: ${l}`),u=a.URI||""}if(u===e){o=i;break}else u===e.substring(0,u.length)&&(o=i)}if(o!==-1){const i=s[o],a=parseInt(i["LAST-MSN"])||(n==null?void 0:n.lastPartSn);let u=parseInt(i["LAST-PART"])||(n==null?void 0:n.lastPartIndex);if(this.hls.config.lowLatencyMode){const c=Math.min(n.age-n.partTarget,n.targetduration);u>=0&&c>n.partTarget&&(u+=1)}const l=r&&jT(r);return new KT(a,u>=0?u:void 0,l)}}}loadPlaylist(e){this.clearTimer()}loadingPlaylist(e,n){this.clearTimer()}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}getUrlWithDirectives(e,n){if(n)try{return n.addDirectives(e)}catch(r){this.warn(`Could not construct new URL with HLS Delivery Directives: ${r}`)}return e}playlistLoaded(e,n,r){const{details:s,stats:o}=n,i=self.performance.now(),a=o.loading.first?Math.max(0,i-o.loading.first):0;s.advancedDateTime=Date.now()-a;const u=this.hls.config.timelineOffset;if(u!==s.appliedTimelineOffset){const c=Math.max(u||0,0);s.appliedTimelineOffset=c,s.fragments.forEach(d=>{d.start=d.playlistOffset+c})}if(s.live||r!=null&&r.live){const c="levelInfo"in n?n.levelInfo:n.track;if(s.reloaded(r),r&&s.fragments.length>0){hpe(r,s);const _=s.playlistParsingError;if(_){this.warn(_);const b=this.hls;if(!b.config.ignorePlaylistParsingErrors){var l;const{networkDetails:w}=n;b.trigger(Q.ERROR,{type:tn.NETWORK_ERROR,details:Xe.LEVEL_PARSING_ERROR,fatal:!1,url:s.url,error:_,reason:_.message,level:n.level||void 0,parent:(l=s.fragments[0])==null?void 0:l.type,networkDetails:w,stats:o});return}s.playlistParsingError=null}}s.requestScheduled===-1&&(s.requestScheduled=o.loading.start);const d=this.hls.mainForwardBufferInfo,f=d?d.end-d.len:0,h=(s.edge-f)*1e3,p=tD(s,h);if(s.requestScheduled+p<i?s.requestScheduled=i:s.requestScheduled+=p,this.log(`live playlist ${e} ${s.advanced?"REFRESHED "+s.lastPartSn+"-"+s.lastPartIndex:s.updated?"UPDATED":"MISSED"}`),!this.canLoad||!s.live)return;let g,v,y;if(s.canBlockReload&&s.endSN&&s.advanced){const _=this.hls.config.lowLatencyMode,b=s.lastPartSn,w=s.endSN,S=s.lastPartIndex,E=S!==-1,T=b===w;E?T?(v=w+1,y=_?0:S):(v=b,y=_?S+1:s.maxPartIndex):v=w+1;const I=s.age,k=I+s.ageHeader;let C=Math.min(k-s.partTarget,s.targetduration*1.5);if(C>0){if(k>s.targetduration*3)this.log(`Playlist last advanced ${I.toFixed(2)}s ago. Omitting segment and part directives.`),v=void 0,y=void 0;else if(r!=null&&r.tuneInGoal&&k-s.partTarget>r.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${r.tuneInGoal} to: ${C} with playlist age: ${s.age}`),C=0;else{const N=Math.floor(C/s.targetduration);if(v+=N,y!==void 0){const D=Math.round(C%s.targetduration/s.partTarget);y+=D}this.log(`CDN Tune-in age: ${s.ageHeader}s last advanced ${I.toFixed(2)}s goal: ${C} skip sn ${N} to part ${y}`)}s.tuneInGoal=C}if(g=this.getDeliveryDirectives(s,n.deliveryDirectives,v,y),_||!T){s.requestScheduled=i,this.loadingPlaylist(c,g);return}}else(s.canBlockReload||s.canSkipUntil)&&(g=this.getDeliveryDirectives(s,n.deliveryDirectives,v,y));g&&v!==void 0&&s.canBlockReload&&(s.requestScheduled=o.loading.first+Math.max(p-a*2,p/2)),this.scheduleLoading(c,g,s)}else this.clearTimer()}scheduleLoading(e,n,r){const s=r||e.details;if(!s){this.loadingPlaylist(e,n);return}const o=self.performance.now(),i=s.requestScheduled;if(o>=i){this.loadingPlaylist(e,n);return}const a=i-o;this.log(`reload live playlist ${e.name||e.bitrate+"bps"} in ${Math.round(a)} ms`),this.clearTimer(),this.timer=self.setTimeout(()=>this.loadingPlaylist(e,n),a)}getDeliveryDirectives(e,n,r,s){let o=jT(e);return n!=null&&n.skip&&e.deltaUpdateFailed&&(r=n.msn,s=n.part,o=ap.No),new KT(r,s,o)}checkRetry(e){const n=e.details,r=sm(e),s=e.errorAction,{action:o,retryCount:i=0,retryConfig:a}=s||{},u=!!s&&!!a&&(o===Xr.RetryRequest||!s.resolved&&o===Xr.SendAlternateToPenaltyBox);if(u){var l;if(i>=a.maxNumRetry)return!1;if(r&&(l=e.context)!=null&&l.deliveryDirectives)this.warn(`Retrying playlist loading ${i+1}/${a.maxNumRetry} after "${n}" without delivery-directives`),this.loadPlaylist();else{const c=Fw(a,i);this.clearTimer(),this.timer=self.setTimeout(()=>this.loadPlaylist(),c),this.warn(`Retrying playlist loading ${i+1}/${a.maxNumRetry} after "${n}" in ${c}ms`)}e.levelRetry=!0,s.resolved=!0}return u}}function ID(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Zd(t[n].attrs,e[n].attrs))return!1;return!0}function Zd(t,e,n){const r=t["STABLE-RENDITION-ID"];return r&&!n?r===e["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(s=>t[s]!==e[s])}function Gy(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}class Sme extends Qw{constructor(e){super(e,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Q.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Q.LEVEL_LOADING,this.onLevelLoading,this),e.on(Q.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Q.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(Q.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Q.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Q.LEVEL_LOADING,this.onLevelLoading,this),e.off(Q.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Q.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(Q.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.audioTracks||[]}onAudioTrackLoaded(e,n){const{id:r,groupId:s,details:o}=n,i=this.tracksInGroup[r];if(!i||i.groupId!==s){this.warn(`Audio track with id:${r} and group:${s} not found in active group ${i==null?void 0:i.groupId}`);return}const a=i.details;i.details=n.details,this.log(`Audio track ${r} "${i.name}" lang:${i.lang} group:${s} loaded [${o.startSN}-${o.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,a)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.audioGroups||null,s=this.groupIds;let o=this.currentTrack;if(!r||(s==null?void 0:s.length)!==(r==null?void 0:r.length)||r!=null&&r.some(a=>(s==null?void 0:s.indexOf(a))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const a=this.tracks.filter(f=>!r||r.indexOf(f.groupId)!==-1);if(a.length)this.selectDefaultTrack&&!a.some(f=>f.default)&&(this.selectDefaultTrack=!1),a.forEach((f,h)=>{f.id=h});else if(!o&&!this.tracksInGroup.length)return;this.tracksInGroup=a;const u=this.hls.config.audioPreference;if(!o&&u){const f=Zo(u,a,rl);if(f>-1)o=a[f];else{const h=Zo(u,this.tracks);o=this.tracks[h]}}let l=this.findTrackId(o);l===-1&&o&&(l=this.findTrackId(null));const c={audioTracks:a};this.log(`Updating audio tracks, ${a.length} track(s) found in group(s): ${r==null?void 0:r.join(",")}`),this.hls.trigger(Q.AUDIO_TRACKS_UPDATED,c);const d=this.trackId;if(l!==-1&&d===-1)this.setAudioTrack(l);else if(a.length&&d===-1){var i;const f=new Error(`No audio track selected for current audio group-ID(s): ${(i=this.groupIds)==null?void 0:i.join(",")} track count: ${a.length}`);this.warn(f.message),this.hls.trigger(Q.ERROR,{type:tn.MEDIA_ERROR,details:Xe.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:f})}}}onError(e,n){n.fatal||!n.context||n.context.type===kn.AUDIO_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&this.checkRetry(n)}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const n=this.hls;if(n.config.audioPreference=e,e){const r=this.allAudioTracks;if(this.selectDefaultTrack=!1,r.length){const s=this.currentTrack;if(s&&bl(e,s,rl))return s;const o=Zo(e,this.tracksInGroup,rl);if(o>-1){const i=this.tracksInGroup[o];return this.setAudioTrack(o),i}else if(s){let i=n.loadLevel;i===-1&&(i=n.firstAutoLevel);const a=$he(e,n.levels,r,i,rl);if(a===-1)return null;n.nextLoadLevel=a}if(e.channels||e.audioCodec){const i=Zo(e,r);if(i>-1)return r[i]}}}return null}setAudioTrack(e){const n=this.tracksInGroup;if(e<0||e>=n.length){this.warn(`Invalid audio track id: ${e}`);return}this.selectDefaultTrack=!1;const r=this.currentTrack,s=n[e],o=s.details&&!s.details.live;if(e===this.trackId&&s===r&&o||(this.log(`Switching to audio-track ${e} "${s.name}" lang:${s.lang} group:${s.groupId} channels:${s.channels}`),this.trackId=e,this.currentTrack=s,this.hls.trigger(Q.AUDIO_TRACK_SWITCHING,Hn({},s)),o))return;const i=this.switchParams(s.url,r==null?void 0:r.details,s.details);this.loadPlaylist(i)}findTrackId(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const s=n[r];if(!(this.selectDefaultTrack&&!s.default)&&(!e||bl(e,s,rl)))return r}if(e){const{name:r,lang:s,assocLang:o,characteristics:i,audioCodec:a,channels:u}=e;for(let l=0;l<n.length;l++){const c=n[l];if(bl({name:r,lang:s,assocLang:o,characteristics:i,audioCodec:a,channels:u},c,rl))return l}for(let l=0;l<n.length;l++){const c=n[l];if(Zd(e.attrs,c.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return l}for(let l=0;l<n.length;l++){const c=n[l];if(Zd(e.attrs,c.attrs,["LANGUAGE"]))return l}}return-1}loadPlaylist(e){super.loadPlaylist();const n=this.currentTrack;this.shouldLoadPlaylist(n)&&rm(n.url,this.hls)&&this.scheduleLoading(n,e)}loadingPlaylist(e,n){super.loadingPlaylist(e,n);const r=e.id,s=e.groupId,o=this.getUrlWithDirectives(e.url,n),i=e.details,a=i==null?void 0:i.age;this.log(`Loading audio-track ${r} "${e.name}" lang:${e.lang} group:${s}${(n==null?void 0:n.msn)!==void 0?" at sn "+n.msn+" part "+n.part:""}${a&&i.live?" age "+a.toFixed(1)+(i.type&&" "+i.type||""):""} ${o}`),this.hls.trigger(Q.AUDIO_TRACK_LOADING,{url:o,id:r,groupId:s,deliveryDirectives:n||null,track:e})}}class Eme{constructor(e){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=e}destroy(){this.tracks=this.queues=null}append(e,n,r){if(this.queues===null||this.tracks===null)return;const s=this.queues[n];s.push(e),s.length===1&&!r&&this.executeNext(n)}appendBlocker(e){return new Promise(n=>{const r={label:"async-blocker",execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(r,e)})}prependBlocker(e){return new Promise(n=>{if(this.queues){const r={label:"async-blocker-prepend",execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[e].unshift(r)}})}removeBlockers(){this.queues!==null&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(e=>{var n;const r=(n=e[0])==null?void 0:n.label;(r==="async-blocker"||r==="async-blocker-prepend")&&(e[0].execute(),e.splice(0,1))})}unblockAudio(e){if(this.queues===null)return;this.queues.audio[0]===e&&this.shiftAndExecuteNext("audio")}executeNext(e){if(this.queues===null||this.tracks===null)return;const n=this.queues[e];if(n.length){const s=n[0];try{s.execute()}catch(o){var r;if(s.onError(o),this.queues===null||this.tracks===null)return;const i=(r=this.tracks[e])==null?void 0:r.buffer;i!=null&&i.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues!==null&&(this.queues[e].shift(),this.executeNext(e))}current(e){var n;return((n=this.queues)==null?void 0:n[e][0])||null}toString(){const{queues:e,tracks:n}=this;return e===null||n===null?"<destroyed>":`
${this.list("video")}
${this.list("audio")}
${this.list("audiovideo")}}`}list(e){var n,r;return(n=this.queues)!=null&&n[e]||(r=this.tracks)!=null&&r[e]?`${e}: (${this.listSbInfo(e)}) ${this.listOps(e)}`:""}listSbInfo(e){var n;const r=(n=this.tracks)==null?void 0:n[e],s=r==null?void 0:r.buffer;return s?`SourceBuffer${s.updating?" updating":""}${r.ended?" ended":""}${r.ending?" ending":""}`:"none"}listOps(e){var n;return((n=this.queues)==null?void 0:n[e].map(r=>r.label).join(", "))||""}}const k2=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,AD="HlsJsTrackRemovedError";class xme extends Error{constructor(e){super(e),this.name=AD}}class Tme extends Qi{constructor(e,n){super("buffer-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=r=>{var s;this.hls&&((s=this.mediaSource)==null?void 0:s.readyState)==="open"&&this.hls.pauseBuffering()},this._onStartStreaming=r=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=r=>{const{media:s,mediaSource:o}=this;r&&this.log("Media source opened"),!(!s||!o)&&(o.removeEventListener("sourceopen",this._onMediaSourceOpen),s.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(Q.MEDIA_ATTACHED,{media:s,mediaSource:o}),this.mediaSource!==null&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:r,_objectUrl:s}=this;r!==s&&this.error(`Media element src was set while attaching MediaSource (${s} > ${r})`)},this.hls=e,this.fragmentTracker=n,this.appendSource=Yfe(Fa(e.config.preferManagedMediaSource)),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:e}=this;e.on(Q.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Q.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Q.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Q.BUFFER_RESET,this.onBufferReset,this),e.on(Q.BUFFER_APPENDING,this.onBufferAppending,this),e.on(Q.BUFFER_CODECS,this.onBufferCodecs,this),e.on(Q.BUFFER_EOS,this.onBufferEos,this),e.on(Q.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Q.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Q.FRAG_PARSED,this.onFragParsed,this),e.on(Q.FRAG_CHANGED,this.onFragChanged,this),e.on(Q.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Q.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Q.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Q.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Q.BUFFER_RESET,this.onBufferReset,this),e.off(Q.BUFFER_APPENDING,this.onBufferAppending,this),e.off(Q.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Q.BUFFER_EOS,this.onBufferEos,this),e.off(Q.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Q.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Q.FRAG_PARSED,this.onFragParsed,this),e.off(Q.FRAG_CHANGED,this.onFragChanged,this),e.off(Q.ERROR,this.onError,this)}transferMedia(){const{media:e,mediaSource:n}=this;if(!e)return null;const r={};if(this.operationQueue){const o=this.isUpdating();o||this.operationQueue.removeBlockers();const i=this.isQueued();(o||i)&&this.warn(`Transfering MediaSource with${i?" operations in queue":""}${o?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const s=this.transferData;return!this.sourceBufferCount&&s&&s.mediaSource===n?Gn(r,s.tracks):this.sourceBuffers.forEach(o=>{const[i]=o;i&&(r[i]=Gn({},this.tracks[i]),this.removeBuffer(i)),o[0]=o[1]=null}),{media:e,mediaSource:n,tracks:r}}initTracks(){const e={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=e,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,n){var r;let s=2;(n.audio&&!n.video||!n.altAudio)&&(s=1),this.bufferCodecEventsTotal=s,this.log(`${s} bufferCodec event(s) expected.`),(r=this.transferData)!=null&&r.mediaSource&&this.sourceBufferCount&&s&&this.bufferCreated()}onMediaAttaching(e,n){const r=this.media=n.media,s=Fa(this.appendSource);if(this.transferData=this.overrides=void 0,r&&s){const o=!!n.mediaSource;(o||n.overrides)&&(this.transferData=n,this.overrides=n.overrides);const i=this.mediaSource=n.mediaSource||new s;if(this.assignMediaSource(i),o)this._objectUrl=r.src,this.attachTransferred();else{const a=this._objectUrl=self.URL.createObjectURL(i);if(this.appendSource)try{r.removeAttribute("src");const u=self.ManagedMediaSource;r.disableRemotePlayback=r.disableRemotePlayback||u&&i instanceof u,I2(r),Cme(r,a),r.load()}catch{r.src=a}else r.src=a}r.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(e){var n,r;this.log(`${((n=this.transferData)==null?void 0:n.mediaSource)===e?"transferred":"created"} media source: ${(r=e.constructor)==null?void 0:r.name}`),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const e=this.media,n=this.transferData;if(!n||!e)return;const r=this.tracks,s=n.tracks,o=s?Object.keys(s):null,i=o?o.length:0,a=()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()};if(s&&o&&i){if(!this.tracksReady){this.hls.config.startFragPrefetch=!0,this.log("attachTransferred: waiting for SourceBuffer track info");return}if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})
required tracks: ${ar(r,(u,l)=>u==="initSegment"?void 0:l)};
transfer tracks: ${ar(s,(u,l)=>u==="initSegment"?void 0:l)}}`),!AP(s,r)){n.mediaSource=null,n.tracks=void 0;const u=e.currentTime,l=this.details,c=Math.max(u,(l==null?void 0:l.fragments[0].start)||0);if(c-u>1){this.log(`attachTransferred: waiting for playback to reach new tracks start time ${u} -> ${c}`);return}this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(s)}"->"${Object.keys(r)}") start time: ${c} currentTime: ${u}`),this.onMediaDetaching(Q.MEDIA_DETACHING,{}),this.onMediaAttaching(Q.MEDIA_ATTACHING,n),e.currentTime=c;return}this.transferData=void 0,o.forEach(u=>{const l=u,c=s[l];if(c){const d=c.buffer;if(d){const f=this.fragmentTracker,h=c.id;if(f.hasFragments(h)||f.hasParts(h)){const v=yn.getBuffered(d);f.detectEvictedFragments(l,v,h,null,!0)}const p=Yv(l),g=[l,d];this.sourceBuffers[p]=g,d.updating&&this.operationQueue&&this.operationQueue.prependBlocker(l),this.trackSourceBuffer(l,c)}}}),a(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),a()}get mediaSourceOpenOrEnded(){var e;const n=(e=this.mediaSource)==null?void 0:e.readyState;return n==="open"||n==="ended"}onMediaDetaching(e,n){const r=!!n.transferMedia;this.transferData=this.overrides=void 0;const{media:s,mediaSource:o,_objectUrl:i}=this;if(o){if(this.log(`media source ${r?"transferring":"detaching"}`),r)this.sourceBuffers.forEach(([a])=>{a&&this.removeBuffer(a)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const a=o.readyState==="open";try{const u=o.sourceBuffers;for(let l=u.length;l--;)a&&u[l].abort(),o.removeSourceBuffer(u[l]);a&&o.endOfStream()}catch(u){this.warn(`onMediaDetaching: ${u.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}o.removeEventListener("sourceopen",this._onMediaSourceOpen),o.removeEventListener("sourceended",this._onMediaSourceEnded),o.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(o.removeEventListener("startstreaming",this._onStartStreaming),o.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}s&&(s.removeEventListener("emptied",this._onMediaEmptied),r||(i&&self.URL.revokeObjectURL(i),this.mediaSrc===i?(s.removeAttribute("src"),this.appendSource&&I2(s),s.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(Q.MEDIA_DETACHED,n)}onBufferReset(){this.sourceBuffers.forEach(([e])=>{e&&this.resetBuffer(e)}),this.initTracks()}resetBuffer(e){var n;const r=(n=this.tracks[e])==null?void 0:n.buffer;if(this.removeBuffer(e),r)try{var s;(s=this.mediaSource)!=null&&s.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(r)}catch(o){this.warn(`onBufferReset ${e}`,o)}delete this.tracks[e]}removeBuffer(e){this.removeBufferListeners(e),this.sourceBuffers[Yv(e)]=[null,null];const n=this.tracks[e];n&&(n.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new Eme(this.tracks)}onBufferCodecs(e,n){const r=this.tracks,s=Object.keys(n);this.log(`BUFFER_CODECS: "${s}" (current SB count ${this.sourceBufferCount})`);const o="audiovideo"in n&&(r.audio||r.video)||r.audiovideo&&("audio"in n||"video"in n),i=!o&&this.sourceBufferCount&&this.media&&s.some(a=>!r[a]);if(o||i){this.warn(`Unsupported transition between "${Object.keys(r)}" and "${s}" SourceBuffers`);return}s.forEach(a=>{var u,l,c;const d=n[a],{id:f,codec:h,levelCodec:p,container:g,metadata:v,supplemental:y}=d;let _=r[a];const b=(u=this.transferData)==null||(l=u.tracks)==null?void 0:l[a],w=b!=null&&b.buffer?b:_,S=(w==null?void 0:w.pendingCodec)||(w==null?void 0:w.codec),E=w==null?void 0:w.levelCodec;_||(_=r[a]={buffer:void 0,listeners:[],codec:h,supplemental:y,container:g,levelCodec:p,metadata:v,id:f});const T=ip(S,E),I=T==null?void 0:T.replace(k2,"$1");let k=ip(h,p);const C=(c=k)==null?void 0:c.replace(k2,"$1");k&&T&&I!==C&&(a.slice(0,5)==="audio"&&(k=tm(k,this.appendSource)),this.log(`switching codec ${S} to ${k}`),k!==(_.pendingCodec||_.codec)&&(_.pendingCodec=k),_.container=g,this.appendChangeType(a,g,k))}),(this.tracksReady||this.sourceBufferCount)&&(n.tracks=this.sourceBufferTracks),!this.sourceBufferCount&&this.mediaSourceOpenOrEnded&&this.checkPendingTracks()}get sourceBufferTracks(){return Object.keys(this.tracks).reduce((e,n)=>{const r=this.tracks[n];return e[n]={id:r.id,container:r.container,codec:r.codec,levelCodec:r.levelCodec},e},{})}appendChangeType(e,n,r){const s=`${n};codecs=${r}`,o={label:`change-type=${s}`,execute:()=>{const i=this.tracks[e];if(i){const a=i.buffer;a!=null&&a.changeType&&(this.log(`changing ${e} sourceBuffer type to ${s}`),a.changeType(s),i.codec=r,i.container=n)}this.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:i=>{this.warn(`Failed to change ${e} SourceBuffer type`,i)}};this.append(o,e,this.isPending(this.tracks[e]))}blockAudio(e){var n;const r=e.start,s=r+e.duration*.05;if(((n=this.fragmentTracker.getAppendedFrag(r,en.MAIN))==null?void 0:n.gap)===!0)return;const i={label:"block-audio",execute:()=>{var a;const u=this.tracks.video;(this.lastVideoAppendEnd>s||u!=null&&u.buffer&&yn.isBuffered(u.buffer,s)||((a=this.fragmentTracker.getAppendedFrag(s,en.MAIN))==null?void 0:a.gap)===!0)&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:a=>{this.warn("Error executing block-audio operation",a)}};this.blockedAudioAppend={op:i,frag:e},this.append(i,"audio",!0)}unblockAudio(){const{blockedAudioAppend:e,operationQueue:n}=this;e&&n&&(this.blockedAudioAppend=null,n.unblockAudio(e.op))}onBufferAppending(e,n){const{tracks:r}=this,{data:s,type:o,parent:i,frag:a,part:u,chunkMeta:l}=n,c=l.buffering[o],d=a.sn,f=self.performance.now();c.start=f;const h=a.stats.buffering,p=u?u.stats.buffering:null;h.start===0&&(h.start=f),p&&p.start===0&&(p.start=f);const g=r.audio;let v=!1;o==="audio"&&(g==null?void 0:g.container)==="audio/mpeg"&&(v=!this.lastMpegAudioChunk||l.id===1||this.lastMpegAudioChunk.sn!==l.sn,this.lastMpegAudioChunk=l);const y=this.tracks.video,_=y==null?void 0:y.buffer;if(_&&d!=="initSegment"){const S=u||a,E=this.blockedAudioAppend;if(o==="audio"&&i!=="main"&&!this.blockedAudioAppend){const I=S.start+S.duration*.05,k=_.buffered,C=this.currentOp("video");!k.length&&!C?this.blockAudio(S):!C&&!yn.isBuffered(_,I)&&this.lastVideoAppendEnd<I&&this.blockAudio(S)}else if(o==="video"){const T=S.end;if(E){const I=E.frag.start;(T>I||T<this.lastVideoAppendEnd||yn.isBuffered(_,I))&&this.unblockAudio()}this.lastVideoAppendEnd=T}}const b=(u||a).start,w={label:`append-${o}`,execute:()=>{if(c.executeStart=self.performance.now(),v){const S=this.tracks[o];if(S){const E=S.buffer;if(E){const T=b-E.timestampOffset;Math.abs(T)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${b} (delta: ${T}) sn: ${d})`),E.timestampOffset=b)}}}this.appendExecutor(s,o)},onStart:()=>{},onComplete:()=>{const S=self.performance.now();c.executeEnd=c.end=S,h.first===0&&(h.first=S),p&&p.first===0&&(p.first=S);const E={};this.sourceBuffers.forEach(([T,I])=>{T&&(E[T]=yn.getBuffered(I))}),this.appendErrors[o]=0,o==="audio"||o==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(Q.BUFFER_APPENDED,{type:o,frag:a,part:u,chunkMeta:l,parent:a.type,timeRanges:E})},onError:S=>{var E;const T={type:tn.MEDIA_ERROR,parent:a.type,details:Xe.BUFFER_APPEND_ERROR,sourceBufferName:o,frag:a,part:u,chunkMeta:l,error:S,err:S,fatal:!1},I=(E=this.media)==null?void 0:E.error;if(S.code===DOMException.QUOTA_EXCEEDED_ERR)T.details=Xe.BUFFER_FULL_ERROR;else if(S.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!I)T.errorAction=Gd(!0);else if(S.name===AD&&this.sourceBufferCount===0)T.errorAction=Gd(!0);else{const k=++this.appendErrors[o];this.warn(`Failed ${k}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${o}" sourceBuffer (${I||"no media error"})`),(k>=this.hls.config.appendErrorMaxRetry||I)&&(T.fatal=!0)}this.hls.trigger(Q.ERROR,T)}};this.append(w,o,this.isPending(this.tracks[o]))}getFlushOp(e,n,r){return this.log(`queuing "${e}" remove ${n}-${r}`),{label:"remove",execute:()=>{this.removeExecutor(e,n,r)},onStart:()=>{},onComplete:()=>{this.hls.trigger(Q.BUFFER_FLUSHED,{type:e})},onError:s=>{this.warn(`Failed to remove ${n}-${r} from "${e}" SourceBuffer`,s)}}}onBufferFlushing(e,n){const{type:r,startOffset:s,endOffset:o}=n;r?this.append(this.getFlushOp(r,s,o),r):this.sourceBuffers.forEach(([i])=>{i&&this.append(this.getFlushOp(i,s,o),i)})}onFragParsed(e,n){const{frag:r,part:s}=n,o=[],i=s?s.elementaryStreams:r.elementaryStreams;i[Wn.AUDIOVIDEO]?o.push("audiovideo"):(i[Wn.AUDIO]&&o.push("audio"),i[Wn.VIDEO]&&o.push("video"));const a=()=>{const u=self.performance.now();r.stats.buffering.end=u,s&&(s.stats.buffering.end=u);const l=s?s.stats:r.stats;this.hls.trigger(Q.FRAG_BUFFERED,{frag:r,part:s,stats:l,id:r.type})};o.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${r.type} level: ${r.level} sn: ${r.sn}`),this.blockBuffers(a,o).catch(u=>{this.warn(`Fragment buffered callback ${u}`),this.stepOperationQueue(this.sourceBufferTypes)})}onFragChanged(e,n){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some(([e])=>{var n,r;return e&&(!((n=this.tracks[e])!=null&&n.ended)||((r=this.tracks[e])==null?void 0:r.ending))})}onBufferEos(e,n){var r;this.sourceBuffers.forEach(([i])=>{if(i){const a=this.tracks[i];(!n.type||n.type===i)&&(a.ending=!0,a.ended||(a.ended=!0,this.log(`${i} buffer reached EOS`)))}});const s=((r=this.overrides)==null?void 0:r.endOfStream)!==!1;this.sourceBufferCount>0&&!this.sourceBuffers.some(([i])=>{var a;return i&&!((a=this.tracks[i])!=null&&a.ended)})&&(s?(this.log("Queueing EOS"),this.blockUntilOpen(()=>{this.tracksEnded();const{mediaSource:i}=this;if(!i||i.readyState!=="open"){i&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${i.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),i.endOfStream(),this.hls.trigger(Q.BUFFERED_TO_END,void 0)})):(this.tracksEnded(),this.hls.trigger(Q.BUFFERED_TO_END,void 0)))}tracksEnded(){this.sourceBuffers.forEach(([e])=>{if(e!==null){const n=this.tracks[e];n&&(n.ending=!1)}})}onLevelUpdated(e,{details:n}){n.fragments.length&&(this.details=n,this.updateDuration())}updateDuration(){const e=this.getDurationAndRange();e&&this.blockUntilOpen(()=>this.updateMediaSource(e))}onError(e,n){if(n.details===Xe.BUFFER_APPEND_ERROR&&n.frag){var r;const s=(r=n.errorAction)==null?void 0:r.nextAutoLevel;jt(s)&&s!==n.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:e,details:n,media:r}=this;if(!r||n===null||!this.sourceBufferCount)return;const s=e.config,o=r.currentTime,i=n.levelTargetDuration,a=n.live&&s.liveBackBufferLength!==null?s.liveBackBufferLength:s.backBufferLength;if(jt(a)&&a>=0){const u=Math.max(a,i),l=Math.floor(o/i)*i-u;this.flushBackBuffer(o,i,l)}if(jt(s.frontBufferFlushThreshold)&&s.frontBufferFlushThreshold>0){const u=Math.max(s.maxBufferLength,s.frontBufferFlushThreshold),l=Math.max(u,i),c=Math.floor(o/i)*i+l;this.flushFrontBuffer(o,i,c)}}flushBackBuffer(e,n,r){this.sourceBuffers.forEach(([s,o])=>{if(o){const a=yn.getBuffered(o);if(a.length>0&&r>a.start(0)){var i;this.hls.trigger(Q.BACK_BUFFER_REACHED,{bufferEnd:r});const u=this.tracks[s];if((i=this.details)!=null&&i.live)this.hls.trigger(Q.LIVE_BACK_BUFFER_REACHED,{bufferEnd:r});else if(u!=null&&u.ended){this.log(`Cannot flush ${s} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(Q.BUFFER_FLUSHING,{startOffset:0,endOffset:r,type:s})}}})}flushFrontBuffer(e,n,r){this.sourceBuffers.forEach(([s,o])=>{if(o){const i=yn.getBuffered(o),a=i.length;if(a<2)return;const u=i.start(a-1),l=i.end(a-1);if(r>u||e>=u&&e<=l)return;this.hls.trigger(Q.BUFFER_FLUSHING,{startOffset:u,endOffset:1/0,type:s})}})}getDurationAndRange(){var e;const{details:n,mediaSource:r}=this;if(!n||!this.media||(r==null?void 0:r.readyState)!=="open")return null;const s=n.edge;if(n.live&&this.hls.config.liveDurationInfinity){if(n.fragments.length&&n.live&&r.setLiveSeekableRange){const l=Math.max(0,n.fragmentStart),c=Math.max(l,s);return{duration:1/0,start:l,end:c}}return{duration:1/0}}const o=(e=this.overrides)==null?void 0:e.duration;if(o)return jt(o)?{duration:o}:null;const i=this.media.duration,a=jt(r.duration)?r.duration:0;return s>a&&s>i||!jt(i)?{duration:s}:null}updateMediaSource({duration:e,start:n,end:r}){const s=this.mediaSource;!this.media||!s||s.readyState!=="open"||(s.duration!==e&&(jt(e)&&this.log(`Updating MediaSource duration to ${e.toFixed(3)}`),s.duration=e),n!==void 0&&r!==void 0&&(this.log(`MediaSource duration is set to ${s.duration}. Setting seekable range to ${n}-${r}.`),s.setLiveSeekableRange(n,r)))}get tracksReady(){const e=this.pendingTrackCount;return e>0&&(e>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:e,pendingTrackCount:n,tracks:r}=this;if(this.log(`checkPendingTracks (pending: ${n} codec events expected: ${e}) ${ar(r)}`),this.tracksReady){var s;const o=(s=this.transferData)==null?void 0:s.tracks;o&&Object.keys(o).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const e={};this.sourceBuffers.forEach(([n,r])=>{if(n){const s=this.tracks[n];e[n]={buffer:r,container:s.container,codec:s.codec,supplemental:s.supplemental,levelCodec:s.levelCodec,id:s.id,metadata:s.metadata}}}),this.hls.trigger(Q.BUFFER_CREATED,{tracks:e}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach(([n])=>{this.executeNext(n)})}else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(Q.ERROR,{type:tn.MEDIA_ERROR,details:Xe.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}createSourceBuffers(){const{tracks:e,sourceBuffers:n,mediaSource:r}=this;if(!r)throw new Error("createSourceBuffers called when mediaSource was null");for(const o in e){const i=o,a=e[i];if(this.isPending(a)){const u=this.getTrackCodec(a,i),l=`${a.container};codecs=${u}`;a.codec=u,this.log(`creating sourceBuffer(${l})${this.currentOp(i)?" Queued":""} ${ar(a)}`);try{const c=r.addSourceBuffer(l),d=Yv(i),f=[i,c];n[d]=f,a.buffer=c}catch(c){var s;this.error(`error while trying to add sourceBuffer: ${c.message}`),this.shiftAndExecuteNext(i),(s=this.operationQueue)==null||s.removeBlockers(),delete this.tracks[i],this.hls.trigger(Q.ERROR,{type:tn.MEDIA_ERROR,details:Xe.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:c,sourceBufferName:i,mimeType:l,parent:a.id});return}this.trackSourceBuffer(i,a)}}this.bufferCreated()}getTrackCodec(e,n){const r=e.supplemental;let s=e.codec;r&&(n==="video"||n==="audiovideo")&&By(r,"video")&&(s=yhe(s,r));const o=ip(s,e.levelCodec);return o?n.slice(0,5)==="audio"?tm(o,this.appendSource):o:""}trackSourceBuffer(e,n){const r=n.buffer;if(!r)return;const s=this.getTrackCodec(n,e);this.tracks[e]={buffer:r,codec:s,container:n.container,levelCodec:n.levelCodec,supplemental:n.supplemental,metadata:n.metadata,id:n.id,listeners:[]},this.removeBufferListeners(e),this.addBufferListener(e,"updatestart",this.onSBUpdateStart),this.addBufferListener(e,"updateend",this.onSBUpdateEnd),this.addBufferListener(e,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(e,"bufferedchange",(o,i)=>{const a=i.removedRanges;a!=null&&a.length&&this.hls.trigger(Q.BUFFER_FLUSHED,{type:o})})}get mediaSrc(){var e,n;const r=((e=this.media)==null||(n=e.querySelector)==null?void 0:n.call(e,"source"))||this.media;return r==null?void 0:r.src}onSBUpdateStart(e){const n=this.currentOp(e);n&&n.onStart()}onSBUpdateEnd(e){var n;if(((n=this.mediaSource)==null?void 0:n.readyState)==="closed"){this.resetBuffer(e);return}const r=this.currentOp(e);r&&(r.onComplete(),this.shiftAndExecuteNext(e))}onSBUpdateError(e,n){var r;const s=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(r=this.mediaSource)==null?void 0:r.readyState}`);this.error(`${s}`,n),this.hls.trigger(Q.ERROR,{type:tn.MEDIA_ERROR,details:Xe.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:s,fatal:!1});const o=this.currentOp(e);o&&o.onError(s)}removeExecutor(e,n,r){const{media:s,mediaSource:o}=this,i=this.tracks[e],a=i==null?void 0:i.buffer;if(!s||!o||!a){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),this.shiftAndExecuteNext(e);return}const u=jt(s.duration)?s.duration:1/0,l=jt(o.duration)?o.duration:1/0,c=Math.max(0,n),d=Math.min(r,u,l);d>c&&(!i.ending||i.ended)?(i.ended=!1,this.log(`Removing [${c},${d}] from the ${e} SourceBuffer`),a.remove(c,d)):this.shiftAndExecuteNext(e)}appendExecutor(e,n){const r=this.tracks[n],s=r==null?void 0:r.buffer;if(!s)throw new xme(`Attempting to append to the ${n} SourceBuffer, but it does not exist`);r.ending=!1,r.ended=!1,s.appendBuffer(e)}blockUntilOpen(e){if(this.isUpdating()||this.isQueued())this.blockBuffers(e).catch(n=>{this.warn(`SourceBuffer blocked callback ${n}`),this.stepOperationQueue(this.sourceBufferTypes)});else try{e()}catch(n){this.warn(`Callback run without blocking ${this.operationQueue} ${n}`)}}isUpdating(){return this.sourceBuffers.some(([e,n])=>e&&n.updating)}isQueued(){return this.sourceBuffers.some(([e])=>e&&!!this.currentOp(e))}isPending(e){return!!e&&!e.buffer}blockBuffers(e,n=this.sourceBufferTypes){if(!n.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);const{operationQueue:r}=this,s=n.map(i=>this.appendBlocker(i));return n.length>1&&!!this.blockedAudioAppend&&this.unblockAudio(),Promise.all(s).then(i=>{r===this.operationQueue&&(e(),this.stepOperationQueue(this.sourceBufferTypes))})}stepOperationQueue(e){e.forEach(n=>{var r;const s=(r=this.tracks[n])==null?void 0:r.buffer;!s||s.updating||this.shiftAndExecuteNext(n)})}append(e,n,r){this.operationQueue&&this.operationQueue.append(e,n,r)}appendBlocker(e){if(this.operationQueue)return this.operationQueue.appendBlocker(e)}currentOp(e){return this.operationQueue?this.operationQueue.current(e):null}executeNext(e){e&&this.operationQueue&&this.operationQueue.executeNext(e)}shiftAndExecuteNext(e){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(e)}get pendingTrackCount(){return Object.keys(this.tracks).reduce((e,n)=>e+(this.isPending(this.tracks[n])?1:0),0)}get sourceBufferCount(){return this.sourceBuffers.reduce((e,[n])=>e+(n?1:0),0)}get sourceBufferTypes(){return this.sourceBuffers.map(([e])=>e).filter(e=>!!e)}addBufferListener(e,n,r){const s=this.tracks[e];if(!s)return;const o=s.buffer;if(!o)return;const i=r.bind(this,e);s.listeners.push({event:n,listener:i}),o.addEventListener(n,i)}removeBufferListeners(e){const n=this.tracks[e];if(!n)return;const r=n.buffer;r&&(n.listeners.forEach(s=>{r.removeEventListener(s.event,s.listener)}),n.listeners.length=0)}}function I2(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach(n=>{t.removeChild(n)})}function Cme(t,e){const n=self.document.createElement("source");n.type="video/mp4",n.src=e,t.appendChild(n)}function Yv(t){return t==="audio"?1:0}class Zw{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(Q.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(Q.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Q.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Q.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Q.BUFFER_CODECS,this.onBufferCodecs,this),e.on(Q.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(Q.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(Q.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Q.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Q.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Q.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Q.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,n){const r=this.hls.levels[n.droppedLevel];this.isLevelAllowed(r)&&this.restrictedLevels.push({bitrate:r.bitrate,height:r.height,width:r.width})}onMediaAttaching(e,n){this.media=n.media instanceof HTMLVideoElement?n.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,n){const r=this.hls;this.restrictedLevels=[],this.firstLevel=n.firstLevel,r.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onLevelsUpdated(e,n){this.timer&&jt(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,n){this.hls.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const n=this.hls,r=this.getMaxLevel(e.length-1);r!==this.autoLevelCapping&&n.logger.log(`Setting autoLevelCapping to ${r}: ${e[r].height}p@${e[r].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),n.autoLevelCapping=r,n.autoLevelEnabled&&n.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=n.autoLevelCapping}}}getMaxLevel(e){const n=this.hls.levels;if(!n.length)return-1;const r=n.filter((s,o)=>this.isLevelAllowed(s)&&o<=e);return this.clientRect=null,Zw.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,n={width:0,height:0};if(e){const r=e.getBoundingClientRect();n.width=r.width,n.height=r.height,!n.width&&!n.height&&(n.width=r.right-r.left||e.width||0,n.height=r.bottom-r.top||e.height||0)}return this.clientRect=n,n}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return Math.min(e,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(e){return!this.restrictedLevels.some(r=>e.bitrate===r.bitrate&&e.width===r.width&&e.height===r.height)}static getMaxLevelByMediaSize(e,n,r){if(!(e!=null&&e.length))return-1;const s=(a,u)=>u?a.width!==u.width||a.height!==u.height:!0;let o=e.length-1;const i=Math.max(n,r);for(let a=0;a<e.length;a+=1){const u=e[a];if((u.width>=i||u.height>=i)&&s(u,e[a+1])){o=a;break}}return o}}const kme={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},Ss=kme,Ime={HLS:"h"},Ame=Ime,Rme="CMCD-Object",Lme="CMCD-Request",$me="CMCD-Session",Pme="CMCD-Status",jc={OBJECT:Rme,REQUEST:Lme,SESSION:$me,STATUS:Pme},Dme={[jc.OBJECT]:["br","d","ot","tb"],[jc.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[jc.SESSION]:["cid","pr","sf","sid","st","v"],[jc.STATUS]:["bs","rtp"]};class Xu{constructor(e,n){Array.isArray(e)&&(e=e.map(r=>r instanceof Xu?r:new Xu(r))),this.value=e,this.params=n}}const Ome="Dict";function Mme(t){return Array.isArray(t)?JSON.stringify(t):t instanceof Map?"Map{}":t instanceof Set?"Set{}":typeof t=="object"?JSON.stringify(t):String(t)}function Nme(t,e,n,r){return new Error(`failed to ${t} "${Mme(e)}" as ${n}`,{cause:r})}function ci(t,e,n){return Nme("serialize",t,e,n)}class RD{constructor(e){this.description=e}}const A2="Bare Item",Fme="Boolean";function Bme(t){if(typeof t!="boolean")throw ci(t,Fme);return t?"?1":"?0"}const Vme="Byte Sequence";function Ume(t){if(ArrayBuffer.isView(t)===!1)throw ci(t,Vme);return`:${Mpe(t)}:`}const Hme="Integer";function jme(t){return t<-999999999999999||999999999999999<t}function LD(t){if(jme(t))throw ci(t,Hme);return t.toString()}function Kme(t){return`@${LD(t.getTime()/1e3)}`}const zme="Decimal";function Wme(t){const e=pD(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw ci(t,zme);const n=e.toString();return n.includes(".")?n:`${n}.0`}const Gme="String",qme=/[\x00-\x1f\x7f]+/;function Yme(t){if(qme.test(t))throw ci(t,Gme);return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function Xme(t){return t.description||t.toString().slice(7,-1)}const Qme="Token";function R2(t){const e=Xme(t);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw ci(e,Qme);return e}function qy(t){switch(typeof t){case"number":if(!jt(t))throw ci(t,A2);return Number.isInteger(t)?LD(t):Wme(t);case"string":return Yme(t);case"symbol":return R2(t);case"boolean":return Bme(t);case"object":if(t instanceof Date)return Kme(t);if(t instanceof Uint8Array)return Ume(t);if(t instanceof RD)return R2(t);default:throw ci(t,A2)}}const Zme="Key";function Yy(t){if(/^[a-z*][a-z0-9\-_.*]*$/.test(t)===!1)throw ci(t,Zme);return t}function Jw(t){return t==null?"":Object.entries(t).map(([e,n])=>n===!0?`;${Yy(e)}`:`;${Yy(e)}=${qy(n)}`).join("")}function $D(t){return t instanceof Xu?`${qy(t.value)}${Jw(t.params)}`:qy(t)}function Jme(t){return`(${t.value.map($D).join(" ")})${Jw(t.params)}`}function ege(t,e={whitespace:!0}){if(typeof t!="object")throw ci(t,Ome);const n=t instanceof Map?t.entries():Object.entries(t),r=e!=null&&e.whitespace?" ":"";return Array.from(n).map(([s,o])=>{o instanceof Xu||(o=new Xu(o));let i=Yy(s);return o.value===!0?i+=Jw(o.params):(i+="=",Array.isArray(o.value)?i+=Jme(o):i+=$D(o)),i}).join(`,${r}`)}function tge(t,e){return ege(t,e)}function nge(t){return t==="ot"||t==="sf"||t==="st"}function rge(t){return typeof t=="number"?jt(t):t!=null&&t!==""&&t!==!1}const cp=t=>Math.round(t),sge=(t,e)=>(e!=null&&e.baseUrl&&(t=Npe(t,e.baseUrl)),encodeURIComponent(t)),Ih=t=>cp(t/100)*100,oge={br:cp,d:cp,bl:Ih,dl:Ih,mtp:Ih,nor:sge,rtp:Ih,tb:cp};function ige(t,e){const n={};if(t==null||typeof t!="object")return n;const r=Object.keys(t).sort(),s=Gn({},oge,e==null?void 0:e.formatters),o=e==null?void 0:e.filter;return r.forEach(i=>{if(o!=null&&o(i))return;let a=t[i];const u=s[i];u&&(a=u(a,e)),!(i==="v"&&a===1)&&(i=="pr"&&a===1||rge(a)&&(nge(i)&&typeof a=="string"&&(a=new RD(a)),n[i]=a))}),n}function PD(t,e={}){return t?tge(ige(t,e),Gn({whitespace:!1},e)):""}function age(t,e={}){const n={};if(!t)return n;const r=Object.entries(t),s=Object.entries(Dme).concat(Object.entries((e==null?void 0:e.customHeaderMap)||{})),o=r.reduce((i,a)=>{var u,l;const[c,d]=a,f=((u=s.find(h=>h[1].includes(c)))===null||u===void 0?void 0:u[0])||jc.REQUEST;return(l=i[f])!==null&&l!==void 0||(i[f]={}),i[f][c]=d,i},{});return Object.entries(o).reduce((i,[a,u])=>(i[a]=PD(u,e),i),n)}function lge(t,e,n){return Gn(t,age(e,n))}const uge="CMCD";function cge(t,e={}){if(!t)return"";const n=PD(t,e);return`${uge}=${encodeURIComponent(n)}`}const L2=/CMCD=[^&#]+/;function dge(t,e,n){const r=cge(e,n);if(!r)return t;if(L2.test(t))return t.replace(L2,r);const s=t.includes("?")?"&":"?";return`${t}${s}${r}`}class fge{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=s=>{try{this.apply(s,{ot:Ss.MANIFEST,su:!this.initialized})}catch(o){this.hls.logger.warn("Could not generate manifest CMCD data.",o)}},this.applyFragmentData=s=>{try{const{frag:o,part:i}=s,a=this.hls.levels[o.level],u=this.getObjectType(o),l={d:(i||o).duration*1e3,ot:u};(u===Ss.VIDEO||u===Ss.AUDIO||u==Ss.MUXED)&&(l.br=a.bitrate/1e3,l.tb=this.getTopBandwidth(u)/1e3,l.bl=this.getBufferLength(u));const c=i?this.getNextPart(i):this.getNextFrag(o);c!=null&&c.url&&c.url!==o.url&&(l.nor=c.url),this.apply(s,l)}catch(o){this.hls.logger.warn("Could not generate segment CMCD data.",o)}},this.hls=e;const n=this.config=e.config,{cmcd:r}=n;r!=null&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=r.sessionId||e.sessionId,this.cid=r.contentId,this.useHeaders=r.useHeaders===!0,this.includeKeys=r.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(Q.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Q.MEDIA_DETACHED,this.onMediaDetached,this),e.on(Q.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(Q.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Q.MEDIA_DETACHED,this.onMediaDetached,this),e.off(Q.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,n){var r,s;this.audioBuffer=(r=n.tracks.audio)==null?void 0:r.buffer,this.videoBuffer=(s=n.tracks.video)==null?void 0:s.buffer}createData(){var e;return{v:1,sf:Ame.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,n={}){Gn(n,this.createData());const r=n.ot===Ss.INIT||n.ot===Ss.VIDEO||n.ot===Ss.MUXED;this.starved&&r&&(n.bs=!0,n.su=!0,this.starved=!1),n.su==null&&(n.su=this.buffering);const{includeKeys:s}=this;s&&(n=Object.keys(n).reduce((i,a)=>(s.includes(a)&&(i[a]=n[a]),i),{}));const o={baseUrl:e.url};this.useHeaders?(e.headers||(e.headers={}),lge(e.headers,n,o)):e.url=dge(e.url,n,o)}getNextFrag(e){var n;const r=(n=this.hls.levels[e.level])==null?void 0:n.details;if(r){const s=e.sn-r.startSN;return r.fragments[s+1]}}getNextPart(e){var n,r;const{index:s,fragment:o}=e,i=(n=this.hls.levels[o.level])==null||(r=n.details)==null?void 0:r.partList;if(i){const{sn:a}=o;for(let u=i.length-1;u>=0;u--){const l=i[u];if(l.index===s&&l.fragment.sn===a)return i[u+1]}}}getObjectType(e){const{type:n}=e;if(n==="subtitle")return Ss.TIMED_TEXT;if(e.sn==="initSegment")return Ss.INIT;if(n==="audio")return Ss.AUDIO;if(n==="main")return this.hls.audioTracks.length?Ss.VIDEO:Ss.MUXED}getTopBandwidth(e){let n=0,r;const s=this.hls;if(e===Ss.AUDIO)r=s.audioTracks;else{const o=s.maxAutoLevel,i=o>-1?o+1:s.levels.length;r=s.levels.slice(0,i)}for(const o of r)o.bitrate>n&&(n=o.bitrate);return n>0?n:NaN}getBufferLength(e){const n=this.media,r=e===Ss.AUDIO?this.audioBuffer:this.videoBuffer;return!r||!n?NaN:yn.bufferInfo(r,n.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,n=this.applyPlaylistData,r=e||this.config.loader;return class{constructor(o){this.loader=void 0,this.loader=new r(o)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(o,i,a){n(o),this.loader.load(o,i,a)}}}createFragmentLoader(){const{fLoader:e}=this.config,n=this.applyFragmentData,r=e||this.config.loader;return class{constructor(o){this.loader=void 0,this.loader=new r(o)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(o,i,a){n(o),this.loader.load(o,i,a)}}}}const hge=3e5;class pge extends Qi{constructor(e){super("content-steering",e.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Q.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Q.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Q.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Q.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Q.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Q.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce((e,n)=>(e.indexOf(n.pathwayId)===-1&&e.push(n.pathwayId),e),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(e){this.updatePathwayPriority(e)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const n=this.levels;n&&(this.levels=n.filter(r=>r!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,n){const{contentSteering:r}=n;r!==null&&(this.pathwayId=r.pathwayId,this.uri=r.uri,this.started&&this.startLoad())}onManifestParsed(e,n){this.audioTracks=n.audioTracks,this.subtitleTracks=n.subtitleTracks}onError(e,n){const{errorAction:r}=n;if((r==null?void 0:r.action)===Xr.SendAlternateToPenaltyBox&&r.flags===wo.MoveAllAlternatesMatchingHost){const s=this.levels;let o=this._pathwayPriority,i=this.pathwayId;if(n.context){const{groupId:a,pathwayId:u,type:l}=n.context;a&&s?i=this.getPathwayForGroupId(a,l,i):u&&(i=u)}i in this.penalizedPathways||(this.penalizedPathways[i]=performance.now()),!o&&s&&(o=this.pathways()),o&&o.length>1&&(this.updatePathwayPriority(o),r.resolved=this.pathwayId!==i),r.resolved||this.warn(`Could not resolve ${n.details} ("${n.error.message}") with content-steering for Pathway: ${i} levels: ${s&&s.length} priorities: ${ar(o)} penalized: ${ar(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let n=this.getLevelsForPathway(this.pathwayId);if(n.length===0){const r=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${r}"`),n=this.getLevelsForPathway(r),this.pathwayId=r}return n.length!==e.length&&this.log(`Found ${n.length}/${e.length} levels in Pathway "${this.pathwayId}"`),n}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(n=>e===n.pathwayId)}updatePathwayPriority(e){this._pathwayPriority=e;let n;const r=this.penalizedPathways,s=performance.now();Object.keys(r).forEach(o=>{s-r[o]>hge&&delete r[o]});for(let o=0;o<e.length;o++){const i=e[o];if(i in r)continue;if(i===this.pathwayId)return;const a=this.hls.nextLoadLevel,u=this.hls.levels[a];if(n=this.getLevelsForPathway(i),n.length>0){this.log(`Setting Pathway to "${i}"`),this.pathwayId=i,sD(n),this.hls.trigger(Q.LEVELS_UPDATED,{levels:n});const l=this.hls.levels[a];u&&l&&this.levels&&(l.attrs["STABLE-VARIANT-ID"]!==u.attrs["STABLE-VARIANT-ID"]&&l.bitrate!==u.bitrate&&this.log(`Unstable Pathways change from bitrate ${u.bitrate} to ${l.bitrate}`),this.hls.nextLoadLevel=a);break}}}getPathwayForGroupId(e,n,r){const s=this.getLevelsForPathway(r).concat(this.levels||[]);for(let o=0;o<s.length;o++)if(n===kn.AUDIO_TRACK&&s[o].hasAudioGroup(e)||n===kn.SUBTITLE_TRACK&&s[o].hasSubtitleGroup(e))return s[o].pathwayId;return r}clonePathways(e){const n=this.levels;if(!n)return;const r={},s={};e.forEach(o=>{const{ID:i,"BASE-ID":a,"URI-REPLACEMENT":u}=o;if(n.some(c=>c.pathwayId===i))return;const l=this.getLevelsForPathway(a).map(c=>{const d=new cr(c.attrs);d["PATHWAY-ID"]=i;const f=d.AUDIO&&`${d.AUDIO}_clone_${i}`,h=d.SUBTITLES&&`${d.SUBTITLES}_clone_${i}`;f&&(r[d.AUDIO]=f,d.AUDIO=f),h&&(s[d.SUBTITLES]=h,d.SUBTITLES=h);const p=DD(c.uri,d["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",u),g=new Wd({attrs:d,audioCodec:c.audioCodec,bitrate:c.bitrate,height:c.height,name:c.name,url:p,videoCodec:c.videoCodec,width:c.width});if(c.audioGroups)for(let v=1;v<c.audioGroups.length;v++)g.addGroupId("audio",`${c.audioGroups[v]}_clone_${i}`);if(c.subtitleGroups)for(let v=1;v<c.subtitleGroups.length;v++)g.addGroupId("text",`${c.subtitleGroups[v]}_clone_${i}`);return g});n.push(...l),$2(this.audioTracks,r,u,i),$2(this.subtitleTracks,s,u,i)})}loadSteeringManifest(e){const n=this.hls.config,r=n.loader;this.loader&&this.loader.destroy(),this.loader=new r(n);let s;try{s=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(s.protocol!=="data:"){const c=(this.hls.bandwidthEstimate||n.abrEwmaDefaultEstimate)|0;s.searchParams.set("_HLS_pathway",this.pathwayId),s.searchParams.set("_HLS_throughput",""+c)}const o={responseType:"json",url:s.href},i=n.steeringManifestLoadPolicy.default,a=i.errorRetry||i.timeoutRetry||{},u={loadPolicy:i,timeout:i.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},l={onSuccess:(c,d,f,h)=>{this.log(`Loaded steering manifest: "${s}"`);const p=c.data;if((p==null?void 0:p.VERSION)!==1){this.log(`Steering VERSION ${p.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=p.TTL;const{"RELOAD-URI":g,"PATHWAY-CLONES":v,"PATHWAY-PRIORITY":y}=p;if(g)try{this.uri=new self.URL(g,s).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${g}`);return}this.scheduleRefresh(this.uri||f.url),v&&this.clonePathways(v);const _={steeringManifest:p,url:s.toString()};this.hls.trigger(Q.STEERING_MANIFEST_LOADED,_),y&&this.updatePathwayPriority(y)},onError:(c,d,f,h)=>{if(this.log(`Error loading steering manifest: ${c.code} ${c.text} (${d.url})`),this.stopLoad(),c.code===410){this.enabled=!1,this.log(`Steering manifest ${d.url} no longer available`);return}let p=this.timeToLoad*1e3;if(c.code===429){const g=this.loader;if(typeof(g==null?void 0:g.getResponseHeader)=="function"){const v=g.getResponseHeader("Retry-After");v&&(p=parseFloat(v)*1e3)}this.log(`Steering manifest ${d.url} rate limited`);return}this.scheduleRefresh(this.uri||d.url,p)},onTimeout:(c,d,f)=>{this.log(`Timeout loading steering manifest (${d.url})`),this.scheduleRefresh(this.uri||d.url)}};this.log(`Requesting steering manifest: ${s}`),this.loader.load(o,u,l)}scheduleRefresh(e,n=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var r;const s=(r=this.hls)==null?void 0:r.media;if(s&&!s.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},n)}}function $2(t,e,n,r){t&&Object.keys(e).forEach(s=>{const o=t.filter(i=>i.groupId===s).map(i=>{const a=Gn({},i);return a.details=void 0,a.attrs=new cr(a.attrs),a.url=a.attrs.URI=DD(i.url,i.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),a.groupId=a.attrs["GROUP-ID"]=e[s],a.attrs["PATHWAY-ID"]=r,a});t.push(...o)})}function DD(t,e,n,r){const{HOST:s,PARAMS:o,[n]:i}=r;let a;e&&(a=i==null?void 0:i[e],a&&(t=a));const u=new self.URL(t);return s&&!a&&(u.host=s),o&&Object.keys(o).sort().forEach(l=>{l&&u.searchParams.set(l,o[l])}),u.href}class Cu extends Qi{constructor(e){super("eme",e.logger),this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=Cu.CDMCleanupPromise?[Cu.CDMCleanupPromise]:[],this.onMediaEncrypted=n=>{const{initDataType:r,initData:s}=n,o=`"${n.type}" event: init data type: "${r}"`;if(this.debug(o),s!==null){if(!this.keyFormatPromise){let i=Object.keys(this.keySystemAccessPromises);i.length||(i=xh(this.config));const a=i.map(Uv).filter(u=>!!u);this.keyFormatPromise=this.getKeyFormatPromise(a)}this.keyFormatPromise.then(i=>{const a=Bv(i);let u,l;if(r==="sinf"){if(a!==jn.FAIRPLAY){this.warn(`Ignoring unexpected "${n.type}" event with init data type: "${r}" for selected key-system ${a}`);return}const p=Ir(new Uint8Array(s));try{const g=Hw(JSON.parse(p).sinf),v=MP(g);if(!v)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");u=new Uint8Array(v.subarray(8,24)),l=jn.FAIRPLAY}catch(g){this.warn(`${o} Failed to parse sinf: ${g}`);return}}else{if(a!==jn.WIDEVINE&&a!==jn.PLAYREADY){this.warn(`Ignoring unexpected "${n.type}" event with init data type: "${r}" for selected key-system ${a}`);return}const p=phe(s),g=p.filter(y=>!!y.systemId&&Vv(y.systemId)===a);g.length>1&&this.warn(`${o} Using first of ${g.length} pssh found for selected key-system ${a}`);const v=g[0];if(!v){p.length===0||p.some(y=>!y.systemId)?this.warn(`${o} contains incomplete or invalid pssh data`):this.log(`ignoring ${o} for ${p.map(y=>Vv(y.systemId)).join(",")} pssh data in favor of playlist keys`);return}if(l=Vv(v.systemId),v.version===0&&v.data)if(l===jn.WIDEVINE){const y=v.data.length-22;u=new Uint8Array(v.data.subarray(y,y+16))}else l===jn.PLAYREADY&&(u=QP(v.data))}if(!l||!u)return;const c=Go.hexDump(u),{keyIdToKeySessionPromise:d,mediaKeySessions:f}=this;let h=d[c];for(let p=0;p<f.length;p++){const g=f[p],v=g.decryptdata;if(!v.keyId)continue;const y=Go.hexDump(v.keyId);if(c===y||v.uri.replace(/-/g,"").indexOf(c)!==-1){if(h=d[y],v.pssh)break;delete d[y],v.pssh=new Uint8Array(s),v.keyId=u,h=d[c]=h.then(()=>this.generateRequestWithPreferredKeySession(g,r,s,"encrypted-event-key-match")),h.catch(_=>this.handleError(_));break}}if(!h){if(l!==a){this.log(`Ignoring "${n.type}" event with ${l} init data for selected key-system ${a}`);return}h=d[c]=this.getKeySystemSelectionPromise([l]).then(({keySystem:p,mediaKeys:g})=>{var v;this.throwIfDestroyed();const y=new qd("ISO-23001-7",c,(v=Uv(p))!=null?v:"");return y.pssh=new Uint8Array(s),y.keyId=u,this.attemptSetMediaKeys(p,g).then(()=>{this.throwIfDestroyed();const _=this.createMediaKeySessionContext({decryptdata:y,keySystem:p,mediaKeys:g});return this.generateRequestWithPreferredKeySession(_,r,s,"encrypted-event-no-match")})}),h.catch(p=>this.handleError(p))}})}},this.onWaitingForKey=n=>{this.log(`"${n.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){const e=this.media;this.unregisterListeners(),this.onMediaDetached(),this._clear(e);const n=this.config;n.requestMediaKeySystemAccessFunc=null,n.licenseXhrSetup=n.licenseResponseCallback=void 0,n.drmSystems=n.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(Q.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Q.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Q.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Q.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(Q.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Q.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Q.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Q.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:n,widevineLicenseUrl:r}=this.config,s=n[e];if(s)return s.licenseUrl;if(e===jn.WIDEVINE&&r)return r}getLicenseServerUrlOrThrow(e){const n=this.getLicenseServerUrl(e);if(n===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return n}getServerCertificateUrl(e){const{drmSystems:n}=this.config,r=n[e];if(r)return r.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const n=this.hls.levels,r=(i,a,u)=>!!i&&u.indexOf(i)===a,s=n.map(i=>i.audioCodec).filter(r),o=n.map(i=>i.videoCodec).filter(r);return s.length+o.length===0&&o.push("avc1.42e01e"),new Promise((i,a)=>{const u=l=>{const c=l.shift();this.getMediaKeysPromise(c,s,o).then(d=>i({keySystem:c,mediaKeys:d})).catch(d=>{l.length?u(l):d instanceof Ys?a(d):a(new Ys({type:tn.KEY_SYSTEM_ERROR,details:Xe.KEY_SYSTEM_NO_ACCESS,error:d,fatal:!0},d.message))})};u(e)})}requestMediaKeySystemAccess(e,n){const{requestMediaKeySystemAccessFunc:r}=this.config;if(typeof r!="function"){let s=`Configured requestMediaKeySystemAccess is not a function ${r}`;return XP===null&&self.location.protocol==="http:"&&(s=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(s))}return r(e,n)}getMediaKeysPromise(e,n,r){const s=ope(e,n,r,this.config.drmSystemOptions),o=this.keySystemAccessPromises[e];let i=o==null?void 0:o.keySystemAccess;if(!i){this.log(`Requesting encrypted media "${e}" key-system access with config: ${ar(s)}`),i=this.requestMediaKeySystemAccess(e,s);const a=this.keySystemAccessPromises[e]={keySystemAccess:i};return i.catch(u=>{this.log(`Failed to obtain access to key-system "${e}": ${u}`)}),i.then(u=>{this.log(`Access for key-system "${u.keySystem}" obtained`);const l=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),a.mediaKeys=u.createMediaKeys().then(c=>(this.log(`Media-keys created for "${e}"`),l.then(d=>d?this.setMediaKeysServerCertificate(c,e,d):c))),a.mediaKeys.catch(c=>{this.error(`Failed to create media-keys for "${e}"}: ${c}`)}),a.mediaKeys})}return i.then(()=>o.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:n,mediaKeys:r}){this.log(`Creating key-system session "${n}" keyId: ${Go.hexDump(e.keyId||[])}`);const s=r.createSession(),o={decryptdata:e,keySystem:n,mediaKeys:r,mediaKeysSession:s,keyStatus:"status-pending"};return this.mediaKeySessions.push(o),o}renewKeySession(e){const n=e.decryptdata;if(n.pssh){const r=this.createMediaKeySessionContext(e),s=this.getKeyIdString(n),o="cenc";this.keyIdToKeySessionPromise[s]=this.generateRequestWithPreferredKeySession(r,o,n.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return Go.hexDump(e.keyId)}updateKeySession(e,n){var r;const s=e.mediaKeysSession;return this.log(`Updating key-session "${s.sessionId}" for keyID ${Go.hexDump(((r=e.decryptdata)==null?void 0:r.keyId)||[])}
      } (data length: ${n&&n.byteLength})`),s.update(n)}selectKeySystemFormat(e){const n=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((n,r)=>{const s=xh(this.config),o=e.map(Bv).filter(i=>!!i&&s.indexOf(i)!==-1);return this.getKeySystemSelectionPromise(o).then(({keySystem:i})=>{const a=Uv(i);a?n(a):r(new Error(`Unable to find format for key-system "${i}"`))}).catch(r)})}loadKey(e){const n=e.keyInfo.decryptdata,r=this.getKeyIdString(n),s=`(keyId: ${r} format: "${n.keyFormat}" method: ${n.method} uri: ${n.uri})`;this.log(`Starting session for key ${s}`);let o=this.keyIdToKeySessionPromise[r];return o||(o=this.getKeySystemForKeyPromise(n).then(({keySystem:a,mediaKeys:u})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${s}`),this.attemptSetMediaKeys(a,u).then(()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:a,mediaKeys:u,decryptdata:n}))))),(this.keyIdToKeySessionPromise[r]=o.then(a=>{const u="cenc",l=n.pssh?n.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(a,u,l,"playlist-key")})).catch(a=>this.handleError(a))),o}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof Ys?this.hls.trigger(Q.ERROR,e.data):this.hls.trigger(Q.ERROR,{type:tn.KEY_SYSTEM_ERROR,details:Xe.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const n=this.getKeyIdString(e),r=this.keyIdToKeySessionPromise[n];if(!r){const s=Bv(e.keyFormat),o=s?[s]:xh(this.config);return this.attemptKeySystemAccess(o)}return r}getKeySystemSelectionPromise(e){if(e.length||(e=xh(this.config)),e.length===0)throw new Ys({type:tn.KEY_SYSTEM_ERROR,details:Xe.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${ar({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,n){const r=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const s=Promise.all(r).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(n)});return this.setMediaKeysQueue.push(s),s.then(()=>{this.log(`Media-keys set for "${e}"`),r.push(s),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(o=>r.indexOf(o)===-1)})}generateRequestWithPreferredKeySession(e,n,r,s){var o,i;const a=(o=this.config.drmSystems)==null||(i=o[e.keySystem])==null?void 0:i.generateRequest;if(a)try{const p=a.call(this.hls,n,r,e);if(!p)throw new Error("Invalid response from configured generateRequest filter");n=p.initDataType,r=p.initData?p.initData:null,e.decryptdata.pssh=r?new Uint8Array(r):null}catch(p){var u;if(this.warn(p.message),(u=this.hls)!=null&&u.config.debug)throw p}if(r===null)return this.log(`Skipping key-session request for "${s}" (no initData)`),Promise.resolve(e);const l=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${s}": ${l} (init data type: ${n} length: ${r?r.byteLength:null})`);const c=new Kw,d=e._onmessage=p=>{const g=e.mediaKeysSession;if(!g){c.emit("error",new Error("invalid state"));return}const{messageType:v,message:y}=p;this.log(`"${v}" message event for session "${g.sessionId}" message size: ${y.byteLength}`),v==="license-request"||v==="license-renewal"?this.renewLicense(e,y).catch(_=>{c.eventNames().length?c.emit("error",_):this.handleError(_)}):v==="license-release"?e.keySystem===jn.FAIRPLAY&&(this.updateKeySession(e,Hy("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${v}"`)},f=e._onkeystatuseschange=p=>{if(!e.mediaKeysSession){c.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const v=e.keyStatus;c.emit("keyStatus",v),v==="expired"&&(this.warn(`${e.keySystem} expired for key ${l}`),this.renewKeySession(e))};e.mediaKeysSession.addEventListener("message",d),e.mediaKeysSession.addEventListener("keystatuseschange",f);const h=new Promise((p,g)=>{c.on("error",g),c.on("keyStatus",v=>{v.startsWith("usable")?p():v==="output-restricted"?g(new Ys({type:tn.KEY_SYSTEM_ERROR,details:Xe.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):v==="internal-error"?g(new Ys({type:tn.KEY_SYSTEM_ERROR,details:Xe.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${v}"`)):v==="expired"?g(new Error("key expired while generating request")):this.warn(`unhandled key status change "${v}"`)})});return e.mediaKeysSession.generateRequest(n,r).then(()=>{var p;this.log(`Request generated for key-session "${(p=e.mediaKeysSession)==null?void 0:p.sessionId}" keyId: ${l}`)}).catch(p=>{throw new Ys({type:tn.KEY_SYSTEM_ERROR,details:Xe.KEY_SYSTEM_NO_SESSION,error:p,fatal:!1},`Error generating key-session request: ${p}`)}).then(()=>h).catch(p=>{throw c.removeAllListeners(),this.removeSession(e),p}).then(()=>(c.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((n,r)=>{if(typeof r=="string"&&typeof n=="object"){const s=r;r=n,n=s}this.log(`key status change "${n}" for keyStatuses keyId: ${Go.hexDump("buffer"in r?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r))} session keyId: ${Go.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=n})}fetchServerCertificate(e){const n=this.config,r=n.loader,s=new r(n),o=this.getServerCertificateUrl(e);return o?(this.log(`Fetching server certificate for "${e}"`),new Promise((i,a)=>{const u={responseType:"arraybuffer",url:o},l=n.certLoadPolicy.default,c={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(f,h,p,g)=>{i(f.data)},onError:(f,h,p,g)=>{a(new Ys({type:tn.KEY_SYSTEM_ERROR,details:Xe.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:p,response:Hn({url:u.url,data:void 0},f)},`"${e}" certificate request failed (${o}). Status: ${f.code} (${f.text})`))},onTimeout:(f,h,p)=>{a(new Ys({type:tn.KEY_SYSTEM_ERROR,details:Xe.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:p,response:{url:u.url,data:void 0}},`"${e}" certificate request timed out (${o})`))},onAbort:(f,h,p)=>{a(new Error("aborted"))}};s.load(u,c,d)})):Promise.resolve()}setMediaKeysServerCertificate(e,n,r){return new Promise((s,o)=>{e.setServerCertificate(r).then(i=>{this.log(`setServerCertificate ${i?"success":"not supported by CDM"} (${r==null?void 0:r.byteLength}) on "${n}"`),s(e)}).catch(i=>{o(new Ys({type:tn.KEY_SYSTEM_ERROR,details:Xe.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:i,fatal:!0},i.message))})})}renewLicense(e,n){return this.requestLicense(e,new Uint8Array(n)).then(r=>this.updateKeySession(e,new Uint8Array(r)).catch(s=>{throw new Ys({type:tn.KEY_SYSTEM_ERROR,details:Xe.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:s,fatal:!0},s.message)}))}unpackPlayReadyKeyMessage(e,n){const r=String.fromCharCode.apply(null,new Uint16Array(n.buffer));if(!r.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),n;const s=new DOMParser().parseFromString(r,"application/xml"),o=s.querySelectorAll("HttpHeader");if(o.length>0){let c;for(let d=0,f=o.length;d<f;d++){var i,a;c=o[d];const h=(i=c.querySelector("name"))==null?void 0:i.textContent,p=(a=c.querySelector("value"))==null?void 0:a.textContent;h&&p&&e.setRequestHeader(h,p)}}const u=s.querySelector("Challenge"),l=u==null?void 0:u.textContent;if(!l)throw new Error("Cannot find <Challenge> in key message");return Hy(atob(l))}setupLicenseXHR(e,n,r,s){const o=this.config.licenseXhrSetup;return o?Promise.resolve().then(()=>{if(!r.decryptdata)throw new Error("Key removed");return o.call(this.hls,e,n,r,s)}).catch(i=>{if(!r.decryptdata)throw i;return e.open("POST",n,!0),o.call(this.hls,e,n,r,s)}).then(i=>(e.readyState||e.open("POST",n,!0),{xhr:e,licenseChallenge:i||s})):(e.open("POST",n,!0),Promise.resolve({xhr:e,licenseChallenge:s}))}requestLicense(e,n){const r=this.config.keyLoadPolicy.default;return new Promise((s,o)=>{const i=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${i}`);const a=new XMLHttpRequest;a.responseType="arraybuffer",a.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return o(new Error("invalid state"));if(a.readyState===4)if(a.status===200){this._requestLicenseFailureCount=0;let u=a.response;this.log(`License received ${u instanceof ArrayBuffer?u.byteLength:u}`);const l=this.config.licenseResponseCallback;if(l)try{u=l.call(this.hls,a,i,e)}catch(c){this.error(c)}s(u)}else{const u=r.errorRetry,l=u?u.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>l||a.status>=400&&a.status<500)o(new Ys({type:tn.KEY_SYSTEM_ERROR,details:Xe.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:a,response:{url:i,data:void 0,code:a.status,text:a.statusText}},`License Request XHR failed (${i}). Status: ${a.status} (${a.statusText})`));else{const c=l-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${c} attempts left`),this.requestLicense(e,n).then(s,o)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=a,this.setupLicenseXHR(a,i,e,n).then(({xhr:u,licenseChallenge:l})=>{e.keySystem==jn.PLAYREADY&&(l=this.unpackPlayReadyKeyMessage(u,l)),u.send(l)})})}onMediaAttached(e,n){if(!this.config.emeEnabled)return;const r=n.media;this.media=r,r.removeEventListener("encrypted",this.onMediaEncrypted),r.removeEventListener("waitingforkey",this.onWaitingForKey),r.addEventListener("encrypted",this.onMediaEncrypted),r.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null)}_clear(e){var n;const r=this.mediaKeySessions;this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},qd.clearKeyUriToKeyIdMap();const s=r.length;Cu.CDMCleanupPromise=Promise.all(r.map(o=>this.removeSession(o)).concat(e==null||(n=e.setMediaKeys(null))==null?void 0:n.catch(o=>{var i;this.log(`Could not clear media keys: ${o}`),(i=this.hls)==null||i.trigger(Q.ERROR,{type:tn.OTHER_ERROR,details:Xe.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${o}`)})}))).then(()=>{s&&(this.log("finished closing key sessions and clearing media keys"),r.length=0)}).catch(o=>{var i;this.log(`Could not close sessions and clear media keys: ${o}`),(i=this.hls)==null||i.trigger(Q.ERROR,{type:tn.OTHER_ERROR,details:Xe.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${o}`)})})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:n}){if(!(!n||!this.config.emeEnabled)&&!this.keyFormatPromise){const r=n.reduce((s,o)=>(s.indexOf(o.keyFormat)===-1&&s.push(o.keyFormat),s),[]);this.log(`Selecting key-system from session-keys ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)}}removeSession(e){const{mediaKeysSession:n,licenseXhr:r}=e;if(n){this.log(`Remove licenses and keys and close session ${n.sessionId}`),e._onmessage&&(n.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(n.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),r&&r.readyState!==XMLHttpRequest.DONE&&r.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const s=this.mediaKeySessions.indexOf(e);s>-1&&this.mediaKeySessions.splice(s,1);const{drmSystemOptions:o}=this.config;return(ape(o)?new Promise((a,u)=>{self.setTimeout(()=>u(new Error("MediaKeySession.remove() timeout")),8e3),n.remove().then(a)}):Promise.resolve()).catch(a=>{var u;this.log(`Could not remove session: ${a}`),(u=this.hls)==null||u.trigger(Q.ERROR,{type:tn.OTHER_ERROR,details:Xe.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${a}`)})}).then(()=>n.close()).catch(a=>{var u;this.log(`Could not close session: ${a}`),(u=this.hls)==null||u.trigger(Q.ERROR,{type:tn.OTHER_ERROR,details:Xe.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${a}`)})})}}}Cu.CDMCleanupPromise=void 0;class Ys extends Error{constructor(e,n){super(n),this.data=void 0,e.error||(e.error=new Error(n)),this.data=e,e.err=e.error}}class mge{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(Q.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(Q.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(Q.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(Q.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,n){const r=this.hls.config;if(r.capLevelOnFPSDrop){const s=n.media instanceof self.HTMLVideoElement?n.media:null;this.media=s,s&&typeof s.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(e,n,r){const s=performance.now();if(n){if(this.lastTime){const o=s-this.lastTime,i=r-this.lastDroppedFrames,a=n-this.lastDecodedFrames,u=1e3*i/o,l=this.hls;if(l.trigger(Q.FPS_DROP,{currentDropped:i,currentDecoded:a,totalDroppedFrames:r}),u>0&&i>l.config.fpsDroppedMonitoringThreshold*a){let c=l.currentLevel;l.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+c),c>0&&(l.autoLevelCapping===-1||l.autoLevelCapping>=c)&&(c=c-1,l.trigger(Q.FPS_DROP_LEVEL_CAPPING,{level:c,droppedLevel:l.currentLevel}),l.autoLevelCapping=c,this.streamController.nextLevelSwitch())}}this.lastTime=s,this.lastDroppedFrames=r,this.lastDecodedFrames=n}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const n=e.getVideoPlaybackQuality();this.checkFPS(e,n.totalVideoFrames,n.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}function OD(t,e){let n;try{n=new Event("addtrack")}catch{n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function MD(t,e){const n=t.mode;if(n==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(r){$n.debug(`[texttrack-utils]: ${r}`);try{const s=new self.TextTrackCue(e.startTime,e.endTime,e.text);s.id=e.id,t.addCue(s)}catch(s){$n.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${s}`)}}n==="disabled"&&(t.mode=n)}function uu(t,e){const n=t.mode;if(n==="disabled"&&(t.mode="hidden"),t.cues)for(let r=t.cues.length;r--;)e&&t.cues[r].removeEventListener("enter",e),t.removeCue(t.cues[r]);n==="disabled"&&(t.mode=n)}function Xy(t,e,n,r){const s=t.mode;if(s==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const o=vge(t.cues,e,n);for(let i=0;i<o.length;i++)(!r||r(o[i]))&&t.removeCue(o[i])}s==="disabled"&&(t.mode=s)}function gge(t,e){if(e<=t[0].startTime)return 0;const n=t.length-1;if(e>t[n].endTime)return-1;let r=0,s=n,o;for(;r<=s;)if(o=Math.floor((s+r)/2),e<t[o].startTime)s=o-1;else if(e>t[o].startTime&&r<n)r=o+1;else return o;return t[r].startTime-e<e-t[s].startTime?r:s}function vge(t,e,n){const r=[],s=gge(t,e);if(s>-1)for(let o=s,i=t.length;o<i;o++){const a=t[o];if(a.startTime>=e&&a.endTime<=n)r.push(a);else if(a.startTime>n)return r}return r}function dp(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];(r.kind==="subtitles"||r.kind==="captions")&&r.label&&e.push(t[n])}return e}class yge extends Qw{constructor(e){super(e,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let n=null;const r=dp(this.media.textTracks);for(let o=0;o<r.length;o++)if(r[o].mode==="hidden")n=r[o];else if(r[o].mode==="showing"){n=r[o];break}const s=this.findTrackForTextTrack(n);this.subtitleTrack!==s&&this.setSubtitleTrack(s)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(Q.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Q.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Q.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Q.LEVEL_LOADING,this.onLevelLoading,this),e.on(Q.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Q.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(Q.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Q.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Q.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Q.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Q.LEVEL_LOADING,this.onLevelLoading,this),e.off(Q.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Q.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(Q.ERROR,this.onError,this)}onMediaAttached(e,n){this.media=n.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(e,n){const r=this.media;if(!r)return;const s=!!n.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||r.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,s)return;dp(r.textTracks).forEach(i=>{uu(i)})}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.subtitleTracks}onSubtitleTrackLoaded(e,n){const{id:r,groupId:s,details:o}=n,i=this.tracksInGroup[r];if(!i||i.groupId!==s){this.warn(`Subtitle track with id:${r} and group:${s} not found in active group ${i==null?void 0:i.groupId}`);return}const a=i.details;i.details=n.details,this.log(`Subtitle track ${r} "${i.name}" lang:${i.lang} group:${s} loaded [${o.startSN}-${o.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,a)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.subtitleGroups||null,s=this.groupIds;let o=this.currentTrack;if(!r||(s==null?void 0:s.length)!==(r==null?void 0:r.length)||r!=null&&r.some(i=>(s==null?void 0:s.indexOf(i))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const i=this.tracks.filter(c=>!r||r.indexOf(c.groupId)!==-1);if(i.length)this.selectDefaultTrack&&!i.some(c=>c.default)&&(this.selectDefaultTrack=!1),i.forEach((c,d)=>{c.id=d});else if(!o&&!this.tracksInGroup.length)return;this.tracksInGroup=i;const a=this.hls.config.subtitlePreference;if(!o&&a){this.selectDefaultTrack=!1;const c=Zo(a,i);if(c>-1)o=i[c];else{const d=Zo(a,this.tracks);o=this.tracks[d]}}let u=this.findTrackId(o);u===-1&&o&&(u=this.findTrackId(null));const l={subtitleTracks:i};this.log(`Updating subtitle tracks, ${i.length} track(s) found in "${r==null?void 0:r.join(",")}" group-id`),this.hls.trigger(Q.SUBTITLE_TRACKS_UPDATED,l),u!==-1&&this.trackId===-1&&this.setSubtitleTrack(u)}}findTrackId(e){const n=this.tracksInGroup,r=this.selectDefaultTrack;for(let s=0;s<n.length;s++){const o=n[s];if(!(r&&!o.default||!r&&!e)&&(!e||bl(o,e)))return s}if(e){for(let s=0;s<n.length;s++){const o=n[s];if(Zd(e.attrs,o.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return s}for(let s=0;s<n.length;s++){const o=n[s];if(Zd(e.attrs,o.attrs,["LANGUAGE"]))return s}}return-1}findTrackForTextTrack(e){if(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const s=n[r];if(Gy(s,e))return r}}return-1}onError(e,n){n.fatal||!n.context||n.context.type===kn.SUBTITLE_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&this.checkRetry(n)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){if(e.id===-1)return this.setSubtitleTrack(-1),null;const n=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,n.length){const r=this.currentTrack;if(r&&bl(e,r))return r;const s=Zo(e,this.tracksInGroup);if(s>-1){const o=this.tracksInGroup[s];return this.setSubtitleTrack(s),o}else{if(r)return null;{const o=Zo(e,n);if(o>-1)return n[o]}}}}return null}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,e)}loadingPlaylist(e,n){super.loadingPlaylist(e,n);const r=e.id,s=e.groupId,o=this.getUrlWithDirectives(e.url,n),i=e.details,a=i==null?void 0:i.age;this.log(`Loading subtitle ${r} "${e.name}" lang:${e.lang} group:${s}${(n==null?void 0:n.msn)!==void 0?" at sn "+n.msn+" part "+n.part:""}${a&&i.live?" age "+a.toFixed(1)+(i.type&&" "+i.type||""):""} ${o}`),this.hls.trigger(Q.SUBTITLE_TRACK_LOADING,{url:o,id:r,groupId:s,deliveryDirectives:n||null,track:e})}toggleTrackModes(){const{media:e}=this;if(!e)return;const n=dp(e.textTracks),r=this.currentTrack;let s;if(r&&(s=n.filter(o=>Gy(r,o))[0],s||this.warn(`Unable to find subtitle TextTrack with name "${r.name}" and language "${r.lang}"`)),[].slice.call(n).forEach(o=>{o.mode!=="disabled"&&o!==s&&(o.mode="disabled")}),s){const o=this.subtitleDisplay?"showing":"hidden";s.mode!==o&&(s.mode=o)}}setSubtitleTrack(e){const n=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=n.length||!jt(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.selectDefaultTrack=!1;const r=this.currentTrack,s=n[e]||null;if(this.trackId=e,this.currentTrack=s,this.toggleTrackModes(),!s){this.hls.trigger(Q.SUBTITLE_TRACK_SWITCH,{id:e});return}const o=!!s.details&&!s.details.live;if(e===this.trackId&&s===r&&o)return;this.log(`Switching to subtitle-track ${e}`+(s?` "${s.name}" lang:${s.lang} group:${s.groupId}`:""));const{id:i,groupId:a="",name:u,type:l,url:c}=s;this.hls.trigger(Q.SUBTITLE_TRACK_SWITCH,{id:i,groupId:a,name:u,type:l,url:c});const d=this.switchParams(s.url,r==null?void 0:r.details,s.details);this.loadPlaylist(d)}}function cd(t){let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return(e>>>0).toString()}const ku=.025;let um=function(t){return t[t.Point=0]="Point",t[t.Range=1]="Range",t}({});function bge(t,e,n){return`${t.identifier}-${n+1}-${cd(e)}`}class wge{constructor(e,n){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=n,this.dateRange=e,this.setDateRange(e)}setDateRange(e){this.dateRange=e,this.resumeOffset=e.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=e.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=e.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=e.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var e;this.appendInPlaceStarted=!1,(e=this.assetListLoader)==null||e.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(e){if(e>=this.assetList.length)return!0;const n=this.playoutLimit;return e<=0||isNaN(n)?!1:this.assetList[e].startOffset>n}findAssetIndex(e){return this.assetList.indexOf(e)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const e=this.dateRange.startTime;if(this.snapOptions.out){const n=this.dateRange.tagAnchor;if(n)return Xv(e,n)}return e}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(this.startTime===0||this.snapOptions.out)return!0;const e=this.dateRange.tagAnchor;if(e){const n=this.dateRange.startTime,r=Xv(n,e);return n-r<.1}return!1}get resumptionOffset(){const e=this.resumeOffset,n=jt(e)?e:this.duration;return this.cumulativeDuration+n}get resumeTime(){const e=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const n=this.resumeAnchor;if(n)return Xv(e,n)}return e}get appendInPlace(){return this.appendInPlaceStarted?!0:this.appendInPlaceDisabled?!1:!!(!this.cue.once&&!this.cue.pre&&this.startIsAligned&&(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<ku))}set appendInPlace(e){if(this.appendInPlaceStarted){this.resetOnResume=!e;return}this.appendInPlaceDisabled=!e}get timelineStart(){return this._timelineStart!==null?this._timelineStart:this.startTime}set timelineStart(e){this._timelineStart=e}get duration(){const e=this.playoutLimit;let n;return this._duration!==null?n=this._duration:this.dateRange.duration?n=this.dateRange.duration:n=this.dateRange.plannedDuration||0,!isNaN(e)&&e<n&&(n=e),n}set duration(e){this._duration=e}get cue(){return this.dateRange.cue}get timelineOccupancy(){return this.dateRange.attr["X-TIMELINE-OCCUPIES"]==="RANGE"?um.Range:um.Point}get supplementsPrimary(){return this.dateRange.attr["X-TIMELINE-STYLE"]==="PRIMARY"}get contentMayVary(){return this.dateRange.attr["X-CONTENT-MAY-VARY"]!=="NO"}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||this.assetListResponse!==null}toString(){return _ge(this)}}function Xv(t,e){return t-e.start<e.duration/2&&!(Math.abs(t-(e.start+e.duration))<ku)?e.start:e.start+e.duration}function ND(t,e,n){const r=new self.URL(t,n);return r.protocol!=="data:"&&r.searchParams.set("_HLS_primary_id",e),r}function _ge(t){return`["${t.identifier}" ${t.cue.pre?"<pre>":t.cue.post?"<post>":""}${t.timelineStart.toFixed(2)}-${t.resumeTime.toFixed(2)}]`}function Qy(t){const e=t.timelineStart,n=t.duration||0;return`["${t.identifier}" ${e.toFixed(2)}-${(e+n).toFixed(2)}]`}class Sge{constructor(e,n,r,s){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{const l=this.interstitial.playoutLimit,c=this.currentTime;this.startOffset+c>=l&&this.hls.trigger(Q.PLAYOUT_LIMIT_REACHED,{})};const o=this.hls=new e(n);this.interstitial=r,this.assetItem=s;let i=s.uri;try{i=ND(i,o.sessionId).href}catch{}o.loadSource(i);const a=()=>{this.hasDetails=!0};o.once(Q.LEVEL_LOADED,a),o.once(Q.AUDIO_TRACK_LOADED,a),o.once(Q.SUBTITLE_TRACK_LOADED,a),o.on(Q.MEDIA_ATTACHING,(u,{media:l})=>{this.removeMediaListeners(),this.mediaAttached=l,this.interstitial.playoutLimit&&l.addEventListener("timeupdate",this.checkPlayout)})}bufferedInPlaceToEnd(e){var n;if(!this.interstitial.appendInPlace)return!1;if((n=this.hls)!=null&&n.bufferedToEnd)return!0;if(!e||!this._bufferedEosTime)return!1;const r=this.timelineOffset,s=yn.bufferInfo(e,r,0);return this.getAssetTime(s.end)>=this._bufferedEosTime-.02}get destroyed(){var e;return!((e=this.hls)!=null&&e.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var e;return((e=this.hls)==null?void 0:e.media)||null}get bufferedEnd(){const e=this.media||this.mediaAttached;if(!e)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const n=yn.bufferInfo(e,e.currentTime,.001);return this.getAssetTime(n.end)}get currentTime(){const e=this.media||this.mediaAttached;return e?this.getAssetTime(e.currentTime):this._currentTime||0}get duration(){const e=this.assetItem.duration;return e||0}get remaining(){const e=this.duration;return e?Math.max(0,e-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var e;return((e=this.hls)==null?void 0:e.config.timelineOffset)||0}set timelineOffset(e){const n=this.timelineOffset;if(e!==n){const r=e-n;if(Math.abs(r)>1/9e4){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=e}}}getAssetTime(e){const n=this.timelineOffset,r=this.duration;return Math.min(Math.max(0,e-n),r)}removeMediaListeners(){const e=this.mediaAttached;e&&(this._currentTime=e.currentTime,this.bufferSnapShot(),e.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){if(this.mediaAttached){var e;(e=this.hls)!=null&&e.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)}}destroy(){this.removeMediaListeners(),this.hls.destroy(),this.hls=this.interstitial=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(e){this.hls.attachMedia(e)}detachMedia(){this.removeMediaListeners(),this.mediaAttached=null,this.hls.detachMedia()}resumeBuffering(){this.hls.resumeBuffering()}pauseBuffering(){this.hls.pauseBuffering()}transferMedia(){return this.bufferSnapShot(),this.hls.transferMedia()}on(e,n,r){this.hls.on(e,n)}once(e,n,r){this.hls.once(e,n)}off(e,n,r){this.hls.off(e,n)}toString(){var e,n;return`HlsAssetPlayer: ${Qy(this.assetItem)} ${(e=this.hls)==null?void 0:e.sessionId} ${(n=this.interstitial)!=null&&n.appendInPlace?"append-in-place":""}`}}const P2=.033;class Ege extends Qi{constructor(e,n){super("interstitials-sched",n),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=e}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(e=>e.reset()),this.events=this.items=null}resetErrorsInRange(e,n){return this.events?this.events.reduce((r,s)=>e<=s.startOffset&&n>s.startOffset?(delete s.error,r+1):r,0):0}get duration(){const e=this.items;return e?e[e.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(e){return e&&this.eventMap[e]||null}hasEvent(e){return e in this.eventMap}findItemIndex(e,n){if(e.event)return this.findEventIndex(e.event.identifier);let r=-1;e.nextEvent?r=this.findEventIndex(e.nextEvent.identifier)-1:e.previousEvent&&(r=this.findEventIndex(e.previousEvent.identifier)+1);const s=this.items;if(s)for(s[r]||(n===void 0&&(n=e.start),r=this.findItemIndexAtTime(n));r>=0&&(o=s[r])!=null&&o.event;){var o;r--}return r}findItemIndexAtTime(e,n){const r=this.items;if(r)for(let s=0;s<r.length;s++){let o=r[s];if(n&&n!=="primary"&&(o=o[n]),e===o.start||e>o.start&&e<o.end)return s}return-1}findJumpRestrictedIndex(e,n){const r=this.items;if(r)for(let s=e;s<=n&&r[s];s++){const o=r[s].event;if(o!=null&&o.restrictions.jump&&!o.appendInPlace)return s}return-1}findEventIndex(e){const n=this.items;if(n)for(let s=n.length;s--;){var r;if(((r=n[s].event)==null?void 0:r.identifier)===e)return s}return-1}findAssetIndex(e,n){const r=e.assetList,s=r.length;if(s>1)for(let o=0;o<s;o++){const i=r[o];if(!i.error){const a=i.timelineStart;if(n===a||n>a&&n<a+(i.duration||0))return o}}return 0}get assetIdAtEnd(){var e,n;const r=(e=this.items)==null||(n=e[this.length-1])==null?void 0:n.event;if(r){const s=r.assetList,o=s[s.length-1];if(o)return o.identifier}return null}parseInterstitialDateRanges(e,n){const r=e.main.details,{dateRanges:s}=r,o=this.events,i=this.parseDateRanges(s,{url:r.url},n),a=Object.keys(s),u=o?o.filter(l=>!a.includes(l.identifier)):[];i.length&&i.sort((l,c)=>{const d=l.cue.pre,f=l.cue.post,h=c.cue.pre,p=c.cue.post;if(d&&!h)return-1;if(h&&!d||f&&!p)return 1;if(p&&!f)return-1;if(!d&&!h&&!f&&!p){const g=l.startTime,v=c.startTime;if(g!==v)return g-v}return l.dateRange.tagOrder-c.dateRange.tagOrder}),this.events=i,u.forEach(l=>{this.removeEvent(l)}),this.updateSchedule(e,u)}updateSchedule(e,n=[]){const r=this.events||[];if(r.length||n.length||this.length<2){const s=this.items,o=this.parseSchedule(r,e);(n.length||(s==null?void 0:s.length)!==o.length||o.some((a,u)=>Math.abs(a.playout.start-s[u].playout.start)>.005||Math.abs(a.playout.end-s[u].playout.end)>.005))&&(this.items=o,this.onScheduleUpdate(n,s))}}parseDateRanges(e,n,r){const s=[],o=Object.keys(e);for(let i=0;i<o.length;i++){const a=o[i],u=e[a];if(u.isInterstitial){let l=this.eventMap[a];l?l.setDateRange(u):(l=new wge(u,n),this.eventMap[a]=l,r===!1&&(l.appendInPlace=r)),s.push(l)}}return s}parseSchedule(e,n){const r=[],s=n.main.details,o=s.live?1/0:s.edge;let i=0;if(e=e.filter(u=>!u.error&&!(u.cue.once&&u.hasPlayed)),e.length){this.resolveOffsets(e,n);let u=0,l=0;if(e.forEach((c,d)=>{const f=c.cue.pre,h=c.cue.post,p=e[d-1]||null,g=c.appendInPlace,v=h?o:c.startOffset,y=c.duration,_=c.timelineOccupancy===um.Range?y:0,b=c.resumptionOffset,w=(p==null?void 0:p.startTime)===v,S=v+c.cumulativeDuration;let E=g?S+y:v+b;if(f||!h&&v<=0){const I=l;l+=_,c.timelineStart=S;const k=i;i+=y,r.push({event:c,start:S,end:E,playout:{start:k,end:i},integrated:{start:I,end:l}})}else if(v<=o){if(!w){const C=v-u;if(C>P2){const N=u,D=l;l+=C;const W=i;i+=C;const H={previousEvent:e[d-1]||null,nextEvent:c,start:N,end:N+C,playout:{start:W,end:i},integrated:{start:D,end:l}};r.push(H)}else C>0&&p&&(p.cumulativeDuration+=C,r[r.length-1].end=v)}h&&(E=S),c.timelineStart=S;const I=l;l+=_;const k=i;i+=y,r.push({event:c,start:S,end:E,playout:{start:k,end:i},integrated:{start:I,end:l}})}else return;const T=c.resumeTime;h||T>o?u=o:u=T}),u<o){var a;const c=u,d=l,f=o-u;l+=f;const h=i;i+=f,r.push({previousEvent:((a=r[r.length-1])==null?void 0:a.event)||null,nextEvent:null,start:u,end:c+f,playout:{start:h,end:i},integrated:{start:d,end:l}})}this.setDurations(o,i,l)}else r.push({previousEvent:null,nextEvent:null,start:0,end:o,playout:{start:0,end:o},integrated:{start:0,end:o}}),this.setDurations(o,o,o);return r}setDurations(e,n,r){this.durations={primary:e,playout:n,integrated:r}}resolveOffsets(e,n){const r=n.main.details,s=r.live?1/0:r.edge;let o=0,i=-1;e.forEach((a,u)=>{const l=a.cue.pre,c=a.cue.post,d=l?0:c?s:a.startTime;this.updateAssetDurations(a),i===d?a.cumulativeDuration=o:(o=0,i=d),!c&&a.snapOptions.in&&(a.resumeAnchor=Rl(null,r.fragments,a.startOffset+a.resumptionOffset,0,0)||void 0),a.appendInPlace&&!a.appendInPlaceStarted&&(this.primaryCanResumeInPlaceAt(a,n)||(a.appendInPlace=!1)),!a.appendInPlace&&u+1<e.length&&e[u+1].startTime-e[u].resumeTime<P2&&(e[u+1].appendInPlace=!1,e[u+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${a}`));const h=jt(a.resumeOffset)?a.resumeOffset:a.duration;o+=h})}primaryCanResumeInPlaceAt(e,n){const r=e.resumeTime,s=e.startTime+e.resumptionOffset;return Math.abs(r-s)>ku?(this.log(`"${e.identifier}" resumption ${r} not aligned with estimated timeline end ${s}`),!1):n?!Object.keys(n).some(i=>{const a=n[i].details,u=a.edge;if(r>=u)return this.log(`"${e.identifier}" resumption ${r} past ${i} playlist end ${u}`),!1;const l=Rl(null,a.fragments,r);if(!l)return this.log(`"${e.identifier}" resumption ${r} does not align with any fragments in ${i} playlist (${a.fragStart}-${a.fragmentEnd})`),!0;const c=i==="audio"?.175:0;return Math.abs(l.start-r)<ku+c||Math.abs(l.end-r)<ku+c?!1:(this.log(`"${e.identifier}" resumption ${r} not aligned with ${i} fragment bounds (${l.start}-${l.end} sn: ${l.sn} cc: ${l.cc})`),!0)}):(this.log(`"${e.identifier}" resumption ${r} can not be aligned with media (none selected)`),!1)}updateAssetDurations(e){if(!e.assetListLoaded)return;const n=e.timelineStart;let r=0,s=!1,o=!1;e.assetList.forEach((i,a)=>{const u=n+r;i.startOffset=r,i.timelineStart=u,s||(s=i.duration===null),o||(o=!!i.error);const l=i.error?0:i.duration||0;r+=l}),s&&!o?e.duration=Math.max(r,e.duration):e.duration=r}removeEvent(e){e.reset(),delete this.eventMap[e.identifier]}}function fa(t){return`[${t.event?'"'+t.event.identifier+'"':"primary"}: ${t.start.toFixed(2)}-${t.end.toFixed(2)}]`}class xge{constructor(e){this.hls=void 0,this.hls=e}destroy(){this.hls=null}loadAssetList(e,n){const r=e.assetListUrl;let s;try{s=ND(r,this.hls.sessionId,e.baseUrl)}catch(f){const h=this.assignAssetListError(e,Xe.ASSET_LIST_LOAD_ERROR,f,r);this.hls.trigger(Q.ERROR,h);return}n&&s.protocol!=="data:"&&s.searchParams.set("_HLS_start_offset",""+n);const o=this.hls.config,i=o.loader,a=new i(o),u={responseType:"json",url:s.href},l=o.interstitialAssetListLoadPolicy.default,c={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(f,h,p,g)=>{const v=f.data,y=v==null?void 0:v.ASSETS;if(!Array.isArray(y)){const _=this.assignAssetListError(e,Xe.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),p.url,h,g);this.hls.trigger(Q.ERROR,_);return}e.assetListResponse=v,this.hls.trigger(Q.ASSET_LIST_LOADED,{event:e,assetListResponse:v,networkDetails:g})},onError:(f,h,p,g)=>{const v=this.assignAssetListError(e,Xe.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${f.code} ${f.text} (${h.url})`),h.url,g,p);this.hls.trigger(Q.ERROR,v)},onTimeout:(f,h,p)=>{const g=this.assignAssetListError(e,Xe.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${h.url})`),h.url,f,p);this.hls.trigger(Q.ERROR,g)}};return a.load(u,c,d),this.hls.trigger(Q.ASSET_LIST_LOADING,{event:e}),a}assignAssetListError(e,n,r,s,o,i){return e.error=r,{type:tn.NETWORK_ERROR,details:n,fatal:!1,interstitial:e,url:s,error:r,networkDetails:i,stats:o}}}function Mi(t,e,n){ei(t,e,n),t.addEventListener(e,n)}function ei(t,e,n){t.removeEventListener(e,n)}function D2(t){t==null||t.play().catch(()=>{})}class Tge extends Qi{constructor(e,n){super("interstitials",e.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const r=this.currentTime;if(r===void 0||this.playbackDisabled)return;const s=r-this.timelinePos;if(Math.abs(s)<1/7056e5)return;const i=s<=-.01;this.timelinePos=r,this.bufferedPos=r;const a=this.playingItem;if(!a){this.checkBuffer();return}if(i&&this.schedule.resetErrorsInRange(r,r-s)&&this.updateSchedule(),this.checkBuffer(),i&&r<a.start||r>=a.end){var u;const f=this.schedule.findItemIndexAtTime(this.timelinePos);if(!this.isInterstitial(a)&&(u=this.media)!=null&&u.paused&&(this.shouldPlay=!1),!i){const h=this.findItemIndex(a);if(f>h){const p=this.schedule.findJumpRestrictedIndex(h+1,f);if(p>h){this.setSchedulePosition(p);return}}}this.setSchedulePosition(f);return}const l=this.playingAsset;if(!l){if(this.playingLastItem&&this.isInterstitial(a)){const f=a.event.assetList[0];f&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(r,f))}return}const c=l.timelineStart,d=l.duration||0;(i&&r<c||r>=c+d)&&this.setScheduleToAssetAtTime(r,l)},this.onTimeupdate=()=>{const r=this.currentTime;if(r===void 0||this.playbackDisabled)return;if(r>this.timelinePos)this.timelinePos=r,r>this.bufferedPos&&this.checkBuffer();else return;const s=this.playingItem;if(!s||this.playingLastItem)return;if(r>=s.end){this.timelinePos=s.end;const a=this.findItemIndex(s);this.setSchedulePosition(a+1)}const o=this.playingAsset;if(!o)return;const i=o.timelineStart+(o.duration||0);r>=i&&this.setScheduleToAssetAtTime(r,o)},this.onScheduleUpdate=(r,s)=>{const o=this.schedule,i=this.playingItem,a=o.events||[],u=o.items||[],l=o.durations,c=r.map(h=>h.identifier),d=!!(a.length||c.length);if(d&&this.log(`INTERSTITIALS_UPDATED (${a.length}): ${a}
Schedule: ${u.map(h=>fa(h))}`),c.length&&this.log(`Removed events ${c}`),this.playerQueue.forEach(h=>{if(h.interstitial.appendInPlace){const p=h.assetItem.timelineStart,g=h.timelineOffset-p;if(g)try{h.timelineOffset=p}catch(v){Math.abs(g)>ku&&this.warn(`${v} ("${h.assetId}" ${h.timelineOffset}->${p})`)}}}),i){const h=this.updateItem(i,this.timelinePos);this.itemsMatch(i,h)&&(this.playingItem=h,this.waitingItem=this.endedItem=null)}else this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const f=this.bufferingItem;if(f){const h=this.updateItem(f,this.bufferedPos);this.itemsMatch(f,h)?this.bufferingItem=h:f.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(f.event,null))}if(r.forEach(h=>{h.assetList.forEach(p=>{this.clearAssetPlayer(p.identifier,null)})}),d||s){if(this.hls.trigger(Q.INTERSTITIALS_UPDATED,{events:a.slice(0),schedule:u.slice(0),durations:l,removedIds:c}),this.isInterstitial(i)&&c.includes(i.event.identifier)){this.warn(`Interstitial "${i.event.identifier}" removed while playing`),this.primaryFallback(i.event);return}this.checkBuffer()}},this.hls=e,this.HlsPlayerClass=n,this.assetListLoader=new xge(e),this.schedule=new Ege(this.onScheduleUpdate,e.logger),this.registerListeners()}registerListeners(){const e=this.hls;e.on(Q.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Q.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Q.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Q.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Q.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Q.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.on(Q.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(Q.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.on(Q.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.on(Q.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.on(Q.BUFFER_APPENDED,this.onBufferAppended,this),e.on(Q.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Q.BUFFERED_TO_END,this.onBufferedToEnd,this),e.on(Q.MEDIA_ENDED,this.onMediaEnded,this),e.on(Q.ERROR,this.onError,this),e.on(Q.DESTROYING,this.onDestroying,this)}unregisterListeners(){const e=this.hls;e&&(e.off(Q.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Q.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Q.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Q.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Q.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Q.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.off(Q.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(Q.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.off(Q.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.off(Q.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.off(Q.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Q.BUFFER_APPENDED,this.onBufferAppended,this),e.off(Q.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Q.BUFFERED_TO_END,this.onBufferedToEnd,this),e.off(Q.MEDIA_ENDED,this.onMediaEnded,this),e.off(Q.ERROR,this.onError,this),e.off(Q.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var e;(e=this.getBufferingPlayer())==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.getBufferingPlayer())==null||e.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.manager=null,this.hls=this.HlsPlayerClass=this.schedule=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const e=this.primaryMedia||this.media;e&&this.removeMediaListeners(e)}removeMediaListeners(e){ei(e,"play",this.onPlay),ei(e,"pause",this.onPause),ei(e,"seeking",this.onSeeking),ei(e,"timeupdate",this.onTimeupdate)}onMediaAttaching(e,n){const r=this.media=n.media;Mi(r,"seeking",this.onSeeking),Mi(r,"timeupdate",this.onTimeupdate),Mi(r,"play",this.onPlay),Mi(r,"pause",this.onPause)}onMediaAttached(e,n){const r=this.effectivePlayingItem,s=this.detachedData;if(this.detachedData=null,r===null)this.checkStart();else if(!s){this.clearScheduleState();const o=this.findItemIndex(r);this.setSchedulePosition(o)}}clearScheduleState(){this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(e,n){const r=!!n.transferMedia,s=this.media;if(this.media=null,!r&&(s&&this.removeMediaListeners(s),this.detachedData)){const o=this.getBufferingPlayer();o&&(this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,o.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.manager){if(!this.hls)return null;const e=this,n=()=>e.bufferingItem||e.waitingItem,r=d=>d&&e.getAssetPlayer(d.identifier),s=(d,f,h,p,g)=>{if(d){let v=d[f].start;const y=d.event;if(y){if(f==="playout"||y.timelineOccupancy!==um.Point){const _=r(h);(_==null?void 0:_.interstitial)===y&&(v+=_.assetItem.startOffset+_[g])}}else{const _=p==="bufferedPos"?i():e[p];v+=_-d.start}return v}return 0},o=(d,f)=>{if(d!==0&&f!=="primary"&&e.schedule.length){var h;const p=e.schedule.findItemIndexAtTime(d),g=(h=e.schedule.items)==null?void 0:h[p];if(g){const v=g[f].start-g.start;return d+v}}return d},i=()=>{const d=e.bufferedPos;return d===Number.MAX_VALUE?a("primary"):Math.max(d,0)},a=d=>{var f;return(f=e.primaryDetails)!=null&&f.live?e.primaryDetails.edge:e.schedule.durations[d]},u=(d,f)=>{var h,p;const g=e.effectivePlayingItem;if(g!=null&&(h=g.event)!=null&&h.restrictions.skip)return;e.log(`seek to ${d} "${f}"`);const v=e.effectivePlayingItem,y=e.schedule.findItemIndexAtTime(d,f),_=(p=e.schedule.items)==null?void 0:p[y],b=e.getBufferingPlayer(),w=b==null?void 0:b.interstitial,S=w==null?void 0:w.appendInPlace,E=v&&e.itemsMatch(v,_);if(v&&(S||E)){const I=r(e.playingAsset),k=(I==null?void 0:I.media)||e.primaryMedia;if(k){const C=f==="primary"?k.currentTime:s(v,f,e.playingAsset,"timelinePos","currentTime"),N=d-C,D=(S?C:k.currentTime)+N;if(D>=0&&(!I||S||D<=I.duration)){k.currentTime=D;return}}}if(_){let I=d;if(f!=="primary"){const C=_[f].start,N=d-C;I=_.start+N}const k=!e.isInterstitial(_);if((!e.isInterstitial(v)||v.event.appendInPlace)&&(k||_.event.appendInPlace)){const C=e.media||(S?b==null?void 0:b.media:null);C&&(C.currentTime=I)}else if(v){const C=e.findItemIndex(v);if(y>C){const D=e.schedule.findJumpRestrictedIndex(C+1,y);if(D>C){e.setSchedulePosition(D);return}}let N=0;if(k)e.timelinePos=I,e.checkBuffer();else{var T;const D=_==null||(T=_.event)==null?void 0:T.assetList;if(D){const W=d-(_[f]||_).start;for(let H=D.length;H--;){const V=D[H];if(V.duration&&W>=V.startOffset&&W<V.startOffset+V.duration){N=H;break}}}}e.setSchedulePosition(y,N)}}},l=()=>{const d=e.effectivePlayingItem;if(e.isInterstitial(d))return d;const f=n();return e.isInterstitial(f)?f:null},c={get currentTime(){const d=l(),f=e.effectivePlayingItem;return f&&f===d?s(f,"playout",e.effectivePlayingAsset,"timelinePos","currentTime")-f.playout.start:0},set currentTime(d){const f=l(),h=e.effectivePlayingItem;h&&h===f&&u(d+h.playout.start,"playout")},get duration(){const d=l();return d?d.playout.end-d.playout.start:0},get assetPlayers(){var d;const f=(d=l())==null?void 0:d.event.assetList;return f?f.map(h=>e.getAssetPlayer(h.identifier)):[]},get playingIndex(){var d;const f=(d=l())==null?void 0:d.event;return f&&e.effectivePlayingAsset?f.findAssetIndex(e.effectivePlayingAsset):-1},get scheduleItem(){return l()}};this.manager={get events(){var d,f;return((d=e.schedule)==null||(f=d.events)==null?void 0:f.slice(0))||[]},get schedule(){var d,f;return((d=e.schedule)==null||(f=d.items)==null?void 0:f.slice(0))||[]},get interstitialPlayer(){return l()?c:null},get playerQueue(){return e.playerQueue.slice(0)},get bufferingAsset(){return e.bufferingAsset},get bufferingItem(){return n()},get bufferingIndex(){const d=n();return e.findItemIndex(d)},get playingAsset(){return e.effectivePlayingAsset},get playingItem(){return e.effectivePlayingItem},get playingIndex(){const d=e.effectivePlayingItem;return e.findItemIndex(d)},primary:{get bufferedEnd(){return i()},get currentTime(){const d=e.timelinePos;return d>0?d:0},set currentTime(d){u(d,"primary")},get duration(){return a("primary")},get seekableStart(){var d;return((d=e.primaryDetails)==null?void 0:d.fragmentStart)||0}},integrated:{get bufferedEnd(){return s(n(),"integrated",e.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return s(e.effectivePlayingItem,"integrated",e.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(d){u(d,"integrated")},get duration(){return a("integrated")},get seekableStart(){var d;return o(((d=e.primaryDetails)==null?void 0:d.fragmentStart)||0,"integrated")}},skip:()=>{const d=e.effectivePlayingItem,f=d==null?void 0:d.event;if(f&&!f.restrictions.skip){const h=e.findItemIndex(d);if(f.appendInPlace){const p=d.playout.start+d.event.duration;u(p+.001,"playout")}else e.advanceAfterAssetEnded(f,h,1/0)}}}}return this.manager}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var e;const n=this.playingItem,r=(e=this.schedule)==null?void 0:e.items;return!this.playbackStarted||!n||!r?!1:this.findItemIndex(n)===r.length-1}get playbackStarted(){return this.effectivePlayingItem!==null}get currentTime(){var e,n,r;if(this.mediaSelection===null)return;const s=this.waitingItem||this.playingItem;if(this.isInterstitial(s)&&!s.event.appendInPlace)return;let o=this.media;!o&&(e=this.bufferingItem)!=null&&(n=e.event)!=null&&n.appendInPlace&&(o=this.primaryMedia);const i=(r=o)==null?void 0:r.currentTime;if(!(i===void 0||!jt(i)))return i}get primaryMedia(){var e;return this.media||((e=this.detachedData)==null?void 0:e.media)||null}isInterstitial(e){return!!(e!=null&&e.event)}retreiveMediaSource(e,n){const r=this.getAssetPlayer(e);r&&this.transferMediaFromPlayer(r,n)}transferMediaFromPlayer(e,n){const r=e.interstitial.appendInPlace,s=e.media;if(r&&s===this.primaryMedia){if(this.bufferingAsset=null,(!n||this.isInterstitial(n)&&!n.event.appendInPlace)&&n&&s){this.detachedData={media:s};return}const o=e.transferMedia();this.log(`transfer MediaSource from ${e} ${ar(o)}`),this.detachedData=o}else n&&s&&(this.shouldPlay||(this.shouldPlay=!s.paused))}transferMediaTo(e,n){var r,s;if(e.media===n)return;let o=null;const i=this.hls,a=e!==i,u=a&&e.interstitial.appendInPlace,l=(r=this.detachedData)==null?void 0:r.mediaSource;let c;if(i.media)u&&(o=i.transferMedia(),this.detachedData=o),c="Primary";else if(l){const h=this.getBufferingPlayer();h?(o=h.transferMedia(),c=`${h}`):c="detached MediaSource"}else c="detached media";if(!o){if(l)o=this.detachedData,this.log(`using detachedData: MediaSource ${ar(o)}`);else if(!this.detachedData||i.media===n){const h=this.playerQueue;h.length>1&&h.forEach(p=>{if(a&&p.interstitial.appendInPlace!==u){const g=p.interstitial;this.clearInterstitial(p.interstitial,null),g.appendInPlace=!1,g.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${g}`)}}),this.hls.detachMedia(),this.detachedData={media:n}}}const d=o&&"mediaSource"in o&&((s=o.mediaSource)==null?void 0:s.readyState)!=="closed",f=d&&o?o:n;if(this.log(`${d?"transfering MediaSource":"attaching media"} to ${a?e:"Primary"} from ${c}`),f===o){const h=a&&e.assetId===this.schedule.assetIdAtEnd;f.overrides={duration:this.schedule.duration,endOfStream:!a||h,cueRemoval:!a}}e.attachMedia(f)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const e=this.schedule,n=e.events;if(!n||this.playbackDisabled||!this.media)return;this.bufferedPos===-1&&(this.bufferedPos=0);const r=this.timelinePos,s=this.effectivePlayingItem;if(r===-1){const o=this.hls.startPosition;if(this.timelinePos=o,n.length&&n[0].cue.pre){const i=e.findEventIndex(n[0].identifier);this.setSchedulePosition(i)}else if(o>=0||!this.primaryLive){const i=this.timelinePos=o>0?o:0,a=e.findItemIndexAtTime(i);this.setSchedulePosition(a)}}else if(s&&!this.playingItem){const o=e.findItemIndex(s);this.setSchedulePosition(o)}}advanceAfterAssetEnded(e,n,r){const s=r+1;if(!e.isAssetPastPlayoutLimit(s)&&!e.assetList[s].error)this.setSchedulePosition(n,s);else{const o=this.schedule.items;if(o){const i=n+1,a=o.length;if(i>=a){this.setSchedulePosition(-1);return}const u=e.resumeTime;this.timelinePos<u&&(this.timelinePos=u,this.checkBuffer()),this.setSchedulePosition(i)}}}setScheduleToAssetAtTime(e,n){const r=this.schedule,s=n.parentIdentifier,o=r.getEvent(s);if(o){const i=r.findEventIndex(s),a=r.findAssetIndex(o,e);this.setSchedulePosition(i,a)}}setSchedulePosition(e,n){const r=this.schedule.items;if(!r||this.playbackDisabled)return;this.log(`setSchedulePosition ${e}, ${n}`);const s=e>=0?r[e]:null,o=this.playingItem,i=this.playingLastItem;if(this.isInterstitial(o)){var a;const l=o.event,c=this.playingAsset,d=c==null?void 0:c.identifier,f=d?this.getAssetPlayer(d):null;if(f&&d&&(!this.eventItemsMatch(o,s)||n!==void 0&&d!==((a=l.assetList)==null?void 0:a[n].identifier))){var u;const h=l.findAssetIndex(c);this.log(`INTERSTITIAL_ASSET_ENDED ${h+1}/${l.assetList.length} ${Qy(c)}`),this.endedAsset=c,this.playingAsset=null,this.hls.trigger(Q.INTERSTITIAL_ASSET_ENDED,{asset:c,assetListIndex:h,event:l,schedule:r.slice(0),scheduleIndex:e,player:f}),this.retreiveMediaSource(d,s),f.media&&!((u=this.detachedData)!=null&&u.mediaSource)&&f.detachMedia()}if(!this.eventItemsMatch(o,s)&&(this.endedItem=o,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${l} ${fa(o)}`),l.hasPlayed=!0,this.hls.trigger(Q.INTERSTITIAL_ENDED,{event:l,schedule:r.slice(0),scheduleIndex:e}),l.cue.once)){this.updateSchedule();const h=this.schedule.items;if(s&&h){const p=this.schedule.findItemIndex(s);this.advanceSchedule(p,h,n,o,i)}return}}this.advanceSchedule(e,r,n,o,i)}advanceSchedule(e,n,r,s,o){const i=e>=0?n[e]:null,a=this.primaryMedia,u=this.playerQueue;if(u.length&&u.forEach(l=>{const c=l.interstitial,d=this.schedule.findEventIndex(c.identifier);(d<e||d>e+1)&&this.clearInterstitial(c,i)}),this.isInterstitial(i)){this.timelinePos=Math.min(Math.max(this.timelinePos,i.start),i.end);const l=i.event;r===void 0&&(r=this.schedule.findAssetIndex(l,this.timelinePos));const c=this.waitingItem;this.assetsBuffered(i,a)||this.setBufferingItem(i);let d=this.preloadAssets(l,r);if(this.eventItemsMatch(i,c||s)||(this.waitingItem=i,this.log(`INTERSTITIAL_STARTED ${fa(i)} ${l.appendInPlace?"append in place":""}`),this.hls.trigger(Q.INTERSTITIAL_STARTED,{event:l,schedule:n.slice(0),scheduleIndex:e})),!l.assetListLoaded){this.log(`Waiting for ASSET-LIST to complete loading ${l}`);return}if(l.assetListLoader&&(l.assetListLoader.destroy(),l.assetListLoader=void 0),!a){this.log(`Waiting for attachMedia to start Interstitial ${l}`);return}this.waitingItem=this.endedItem=null,this.playingItem=i;const f=l.assetList[r];if(!f){const h=n[e+1],p=this.media;h&&p&&!this.isInterstitial(h)&&p.currentTime<h.start&&(p.currentTime=this.timelinePos=h.start),this.advanceAfterAssetEnded(l,e,r||0);return}if(d||(d=this.getAssetPlayer(f.identifier)),d===null||d.destroyed){const h=l.assetList.length;this.warn(`asset ${r+1}/${h} player destroyed ${l}`),d=this.createAssetPlayer(l,f,r)}if(!this.eventItemsMatch(i,this.bufferingItem)&&l.appendInPlace&&this.isAssetBuffered(f))return;this.startAssetPlayer(d,r,n,e,a),this.shouldPlay&&D2(d.media)}else i!==null?(this.resumePrimary(i,e,s),this.shouldPlay&&D2(this.hls.media)):o&&this.isInterstitial(s)&&(this.endedItem=null,this.playingItem=s,s.event.appendInPlace||this.attachPrimary(this.schedule.durations.primary,null))}get playbackDisabled(){return this.hls.config.enableInterstitialPlayback===!1}get primaryDetails(){var e,n;return(e=this.mediaSelection)==null||(n=e.main)==null?void 0:n.details}get primaryLive(){var e;return!!((e=this.primaryDetails)!=null&&e.live)}resumePrimary(e,n,r){var s;if(this.playingItem=e,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(e),this.log(`resuming ${fa(e)}`),!((s=this.detachedData)!=null&&s.mediaSource)){let i=this.timelinePos;(i<e.start||i>=e.end)&&(i=this.getPrimaryResumption(e,n),this.timelinePos=i),this.attachPrimary(i,e)}if(!r)return;const o=this.schedule.items;o&&(this.log(`resumed ${fa(e)}`),this.hls.trigger(Q.INTERSTITIALS_PRIMARY_RESUMED,{schedule:o.slice(0),scheduleIndex:n}),this.checkBuffer())}getPrimaryResumption(e,n){const r=e.start;if(this.primaryLive){const s=this.primaryDetails;if(n===0)return this.hls.startPosition;if(s&&(r<s.fragmentStart||r>s.edge))return this.hls.liveSyncPosition||-1}return r}isAssetBuffered(e){const n=this.getAssetPlayer(e.identifier);return n!=null&&n.hls?n.hls.bufferedToEnd:yn.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=e.timelineStart+(e.duration||0)}attachPrimary(e,n,r){n?this.setBufferingItem(n):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const s=this.primaryMedia;if(!s)return;const o=this.hls;o.media?this.checkBuffer():(this.transferMediaTo(o,s),r&&this.startLoadingPrimaryAt(e,r)),r||(this.timelinePos=e,this.startLoadingPrimaryAt(e,r))}startLoadingPrimaryAt(e,n){var r;const s=this.hls;!s.loadingEnabled||!s.media||Math.abs((((r=s.mainForwardBufferInfo)==null?void 0:r.start)||s.media.currentTime)-e)>.5?s.startLoad(e,n):s.bufferingEnabled||s.resumeBuffering()}onManifestLoading(){this.stopLoad(),this.schedule.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(Q.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(Q.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(e,n){if(n.level===-1)return;const r=this.hls.levels[n.level],s=Hn(Hn({},this.mediaSelection||this.altSelection),{},{main:r});this.mediaSelection=s,this.schedule.parseInterstitialDateRanges(s,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(e,n){const r=this.hls.audioTracks[n.id],s=this.mediaSelection;if(!s){this.altSelection=Hn(Hn({},this.altSelection),{},{audio:r});return}const o=Hn(Hn({},s),{},{audio:r});this.mediaSelection=o}onSubtitleTrackUpdated(e,n){const r=this.hls.subtitleTracks[n.id],s=this.mediaSelection;if(!s){this.altSelection=Hn(Hn({},this.altSelection),{},{subtitles:r});return}const o=Hn(Hn({},s),{},{subtitles:r});this.mediaSelection=o}onAudioTrackSwitching(e,n){const r=WT(n);this.playerQueue.forEach(s=>s.hls.setAudioOption(n)||s.hls.setAudioOption(r))}onSubtitleTrackSwitch(e,n){const r=WT(n);this.playerQueue.forEach(s=>s.hls.setSubtitleOption(n)||n.id!==-1&&s.hls.setSubtitleOption(r))}onBufferCodecs(e,n){const r=n.tracks;r&&(this.requiredTracks=r)}onBufferAppended(e,n){this.checkBuffer()}onBufferFlushed(e,n){const r=this.playingItem;if(r&&!this.itemsMatch(r,this.bufferingItem)&&!this.isInterstitial(r)){const s=this.timelinePos;this.bufferedPos=s,this.checkBuffer()}}onBufferedToEnd(e){const n=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&n){for(let s=0;s<n.length;s++){const o=n[s];if(o.cue.post){var r;const i=this.schedule.findEventIndex(o.identifier),a=(r=this.schedule.items)==null?void 0:r[i];this.isInterstitial(a)&&this.eventItemsMatch(a,this.bufferingItem)&&this.bufferedToItem(a,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(e){const n=this.playingItem;if(!this.playingLastItem&&n){const r=this.findItemIndex(n);this.setSchedulePosition(r+1)}else this.shouldPlay=!1}updateItem(e,n){const r=this.schedule.items;if(e&&r){const s=this.findItemIndex(e,n);return r[s]||null}return null}itemsMatch(e,n){return!!n&&(e===n||e.event&&n.event&&this.eventItemsMatch(e,n)||!e.event&&!n.event&&this.findItemIndex(e)===this.findItemIndex(n))}eventItemsMatch(e,n){var r;return!!n&&(e===n||e.event.identifier===((r=n.event)==null?void 0:r.identifier))}findItemIndex(e,n){return e?this.schedule.findItemIndex(e,n):-1}updateSchedule(){const e=this.mediaSelection;e&&this.schedule.updateSchedule(e,[])}checkBuffer(e){const n=this.schedule.items;if(!n)return;const r=yn.bufferInfo(this.primaryMedia,this.timelinePos,0);e&&(this.bufferedPos=this.timelinePos),e||(e=r.len<1),this.updateBufferedPos(r.end,n,e)}updateBufferedPos(e,n,r){const s=this.schedule,o=this.bufferingItem;if(this.bufferedPos>e)return;if(n.length===1&&this.itemsMatch(n[0],o)){this.bufferedPos=e;return}const i=this.playingItem,a=this.findItemIndex(i);let u=s.findItemIndexAtTime(e);if(this.bufferedPos<e){var l,c;const d=this.findItemIndex(o),f=Math.min(d+1,n.length-1),h=n[f];if((u===-1&&o&&e>=o.end||(l=h.event)!=null&&l.appendInPlace&&e+.01>=h.start)&&(u=f),f-a>1&&(o==null||(c=o.event)==null?void 0:c.appendInPlace)===!1)return;if(this.bufferedPos=e,u>d&&u>a)this.bufferedToItem(h);else{const p=this.primaryDetails;this.primaryLive&&p&&e>p.edge-p.targetduration&&h.start<p.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(h)&&this.preloadAssets(h.event,0)}}else r&&i&&!this.itemsMatch(i,o)&&(u===a?this.bufferedToItem(i):u===a+1&&this.bufferedToItem(n[u]))}assetsBuffered(e,n){return e.event.assetList.length===0?!1:!e.event.assetList.some(s=>{const o=this.getAssetPlayer(s.identifier);return!(o!=null&&o.bufferedInPlaceToEnd(n))})}setBufferingItem(e){const n=this.bufferingItem,r=this.schedule;if(this.itemsMatch(e,n))this.bufferingItem!==e&&(this.bufferingItem=e);else{const{items:s,events:o}=r;if(!s||!o)return n;const i=this.isInterstitial(e),a=this.getBufferingPlayer();if(this.bufferingItem=e,this.bufferedPos=Math.max(e.start,Math.min(e.end,this.timelinePos)),!this.playbackDisabled){const u=a?a.remaining:n?n.end-this.timelinePos:0;this.log(`buffered to boundary ${fa(e)}`+(n?` (${u.toFixed(2)} remaining)`:"")),i?e.event.assetList.forEach(l=>{const c=this.getAssetPlayer(l.identifier);c&&c.resumeBuffering()}):(this.hls.resumeBuffering(),this.playerQueue.forEach(l=>l.pauseBuffering()))}this.hls.trigger(Q.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:o.slice(0),schedule:s.slice(0),bufferingIndex:this.findItemIndex(e),playingIndex:this.findItemIndex(this.playingItem)})}return n}bufferedToItem(e,n=0){const r=this.setBufferingItem(e);if(!this.playbackDisabled){if(this.isInterstitial(e))this.bufferedToEvent(e,n);else if(r!==null){this.bufferingAsset=null;const s=this.detachedData;s?s.mediaSource?this.attachPrimary(e.start,e,!0):this.preloadPrimary(e):this.preloadPrimary(e)}}}preloadPrimary(e){const n=this.findItemIndex(e),r=this.getPrimaryResumption(e,n);this.startLoadingPrimaryAt(r)}bufferedToEvent(e,n){const r=e.event,s=r.assetList.length===0&&!r.assetListLoader,o=r.cue.once;if(s||!o){const i=this.preloadAssets(r,n);if(i!=null&&i.interstitial.appendInPlace){const a=r.assetList[n],u=this.primaryMedia;a&&u&&this.bufferAssetPlayer(i,u)}}}preloadAssets(e,n){const r=e.assetUrl,s=e.assetList.length,o=s===0&&!e.assetListLoader,i=e.cue.once;if(o){const u=e.timelineStart;if(e.appendInPlace){var a;const f=this.playingItem;!this.isInterstitial(f)&&(f==null||(a=f.nextEvent)==null?void 0:a.identifier)===e.identifier&&this.flushFrontBuffer(u+.25)}let l,c=0;if(!this.playingItem&&this.primaryLive&&(c=this.hls.startPosition,c===-1&&(c=this.hls.liveSyncPosition||0)),c&&!(e.cue.pre||e.cue.post)){const f=c-u;f>0&&(l=Math.round(f*1e3)/1e3)}if(this.log(`Load interstitial asset ${n+1}/${r?1:s} ${e}${l?` live-start: ${c} start-offset: ${l}`:""}`),r)return this.createAsset(e,0,0,u,e.duration,r);const d=this.assetListLoader.loadAssetList(e,l);d&&(e.assetListLoader=d)}else if(!i&&s){for(let u=n;u<s;u++){const l=e.assetList[u],c=this.getAssetPlayerQueueIndex(l.identifier);(c===-1||this.playerQueue[c].destroyed)&&!l.error&&this.createAssetPlayer(e,l,u)}return this.getAssetPlayer(e.assetList[n].identifier)}return null}flushFrontBuffer(e){const n=this.requiredTracks;if(!n)return;this.log(`Removing front buffer starting at ${e}`),Object.keys(n).forEach(s=>{this.hls.trigger(Q.BUFFER_FLUSHING,{startOffset:e,endOffset:1/0,type:s})})}getAssetPlayerQueueIndex(e){const n=this.playerQueue;for(let r=0;r<n.length;r++)if(e===n[r].assetId)return r;return-1}getAssetPlayer(e){const n=this.getAssetPlayerQueueIndex(e);return this.playerQueue[n]||null}getBufferingPlayer(){const{playerQueue:e,primaryMedia:n}=this;if(n){for(let r=0;r<e.length;r++)if(e[r].media===n)return e[r]}return null}createAsset(e,n,r,s,o,i){const a={parentIdentifier:e.identifier,identifier:bge(e,i,n),duration:o,startOffset:r,timelineStart:s,uri:i};return this.createAssetPlayer(e,a,n)}createAssetPlayer(e,n,r){this.log(`create HLSAssetPlayer for ${Qy(n)}`);const s=this.hls,o=s.userConfig;let i=o.videoPreference;const a=s.loadLevelObj||s.levels[s.currentLevel];(i||a)&&(i=Gn({},i),a.videoCodec&&(i.videoCodec=a.videoCodec),a.videoRange&&(i.allowedVideoRanges=[a.videoRange]));const u=s.audioTracks[s.audioTrack],l=s.subtitleTracks[s.subtitleTrack];let c=0;if(this.primaryLive||e.appendInPlace){const b=this.timelinePos-n.timelineStart;if(b>1){const w=n.duration;w&&b<w&&(c=b)}}const d=n.identifier,f=Hn(Hn({},o),{},{autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:s.sessionId,assetPlayerId:d,abrEwmaDefaultEstimate:s.bandwidthEstimate,interstitialsController:void 0,startPosition:c,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:i,audioPreference:u||o.audioPreference,subtitlePreference:l||o.subtitlePreference});e.appendInPlace&&(e.appendInPlaceStarted=!0,n.timelineStart&&(f.timelineOffset=n.timelineStart));const h=f.cmcd;h!=null&&h.sessionId&&h.contentId&&(f.cmcd=Gn({},h,{contentId:cd(n.uri)})),this.getAssetPlayer(d)&&this.warn(`Duplicate date range identifier ${e} and asset ${d}`);const p=new Sge(this.HlsPlayerClass,f,e,n);this.playerQueue.push(p),e.assetList[r]=n;const g=b=>{if(b.live){const E=new Error(`Interstitials MUST be VOD assets ${e}`),T={fatal:!0,type:tn.OTHER_ERROR,details:Xe.INTERSTITIAL_ASSET_ITEM_ERROR,error:E};this.handleAssetItemError(T,e,this.schedule.findEventIndex(e.identifier),r,E.message);return}const w=b.edge-b.fragmentStart,S=n.duration;(S===null||w>S)&&(this.log(`Interstitial asset "${d}" duration change ${S} > ${w}`),n.duration=w,this.updateSchedule())};p.on(Q.LEVEL_UPDATED,(b,{details:w})=>g(w)),p.on(Q.LEVEL_PTS_UPDATED,(b,{details:w})=>g(w));const v=(b,w)=>{const S=this.getAssetPlayer(d);if(S&&w.tracks){S.off(Q.BUFFER_CODECS,v),S.tracks=w.tracks;const E=this.primaryMedia;this.bufferingAsset===S.assetItem&&E&&!S.media&&this.bufferAssetPlayer(S,E)}};p.on(Q.BUFFER_CODECS,v);const y=()=>{var b;const w=this.getAssetPlayer(d);if(this.log(`buffered to end of asset ${w}`),!w)return;const S=this.schedule.findEventIndex(e.identifier),E=e.findAssetIndex(n),T=E+1,I=(b=this.schedule.items)==null?void 0:b[S];if(this.isInterstitial(I))if(E!==-1&&!e.isAssetPastPlayoutLimit(T)&&!e.assetList[T].error)this.bufferedToItem(I,T);else{var k;const C=(k=this.schedule.items)==null?void 0:k[S+1];C&&this.bufferedToItem(C)}};p.on(Q.BUFFERED_TO_END,y);const _=b=>()=>{if(!this.getAssetPlayer(d))return;this.shouldPlay=!0;const S=this.schedule.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,S,b)};return p.once(Q.MEDIA_ENDED,_(r)),p.once(Q.PLAYOUT_LIMIT_REACHED,_(1/0)),p.on(Q.ERROR,(b,w)=>{const S=this.getAssetPlayer(d);if(w.details===Xe.BUFFER_STALLED_ERROR){if(S!=null&&S.media){const E=S.currentTime,T=S.duration-E;E&&e.appendInPlace&&T/S.media.playbackRate<.5?(this.log(`Advancing buffer past end of asset ${d} ${e} at ${S.media.currentTime}`),y()):(this.warn(`Stalled at ${E} of ${E+T} in asset ${d} ${e}`),this.onTimeupdate(),this.checkBuffer(!0))}return}this.handleAssetItemError(w,e,this.schedule.findEventIndex(e.identifier),r,`Asset player error ${w.error} ${e}`)}),p.on(Q.DESTROYING,()=>{if(!this.getAssetPlayer(d))return;const w=new Error(`Asset player destroyed unexpectedly ${d}`),S={fatal:!0,type:tn.OTHER_ERROR,details:Xe.INTERSTITIAL_ASSET_ITEM_ERROR,error:w};this.handleAssetItemError(S,e,this.schedule.findEventIndex(e.identifier),r,w.message)}),this.hls.trigger(Q.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:n,assetListIndex:r,event:e,player:p}),p}clearInterstitial(e,n){e.assetList.forEach(r=>{this.clearAssetPlayer(r.identifier,n)}),e.reset()}clearAssetPlayer(e,n){const r=this.getAssetPlayerQueueIndex(e);if(r!==-1){this.log(`clearAssetPlayer "${e}" toSegment: ${n&&fa(n)}`);const s=this.playerQueue[r];this.transferMediaFromPlayer(s,n),this.playerQueue.splice(r,1),s.destroy()}}emptyPlayerQueue(){let e;for(;e=this.playerQueue.pop();)e.destroy();this.playerQueue=[]}startAssetPlayer(e,n,r,s,o){const{interstitial:i,assetItem:a,assetId:u}=e,l=i.assetList.length,c=this.playingAsset;this.endedAsset=null,this.playingAsset=a,(!c||c.identifier!==u)&&(c&&(this.clearAssetPlayer(c.identifier,r[s]),delete c.error),this.log(`INTERSTITIAL_ASSET_STARTED ${n+1}/${l} ${e}`),this.hls.trigger(Q.INTERSTITIAL_ASSET_STARTED,{asset:a,assetListIndex:n,event:i,schedule:r.slice(0),scheduleIndex:s,player:e})),this.bufferAssetPlayer(e,o)}bufferAssetPlayer(e,n){var r,s;const{interstitial:o,assetItem:i,assetId:a}=e,u=this.schedule.findEventIndex(o.identifier),l=(r=this.schedule.items)==null?void 0:r[u];if(!l)return;this.setBufferingItem(l),this.bufferingAsset=i;const c=this.getBufferingPlayer();if(c===e)return;const d=o.appendInPlace;if(d&&(c==null?void 0:c.interstitial.appendInPlace)===!1)return;const f=(c==null?void 0:c.tracks)||((s=this.detachedData)==null?void 0:s.tracks)||this.requiredTracks;if(d&&i!==this.playingAsset){if(!e.tracks)return;if(f&&!AP(f,e.tracks)){const h=new Error(`Asset "${a}" SourceBuffer tracks ('${Object.keys(e.tracks)}') are not compatible with primary content tracks ('${Object.keys(f)}')`),p={fatal:!0,type:tn.OTHER_ERROR,details:Xe.INTERSTITIAL_ASSET_ITEM_ERROR,error:h},g=o.findAssetIndex(i);this.handleAssetItemError(p,o,u,g,h.message);return}}this.transferMediaTo(e,n)}handleAssetItemError(e,n,r,s,o){if(e.details===Xe.BUFFER_STALLED_ERROR)return;const i=n.assetList[s]||null;let a=null;if(i){const d=this.getAssetPlayerQueueIndex(i.identifier);a=this.playerQueue[d]||null}const u=this.schedule.items,l=Gn({},e,{fatal:!1,errorAction:Gd(!0),asset:i,assetListIndex:s,event:n,schedule:u,scheduleIndex:r,player:a});if(this.warn(`Asset item error: ${e.error}`),this.hls.trigger(Q.INTERSTITIAL_ASSET_ERROR,l),!e.fatal)return;const c=new Error(o);i&&(this.playingAsset!==i&&this.clearAssetPlayer(i.identifier,null),i.error=c),n.assetList.some(d=>!d.error)?n.appendInPlace&&(n.error=c):n.error=c,this.primaryFallback(n)}primaryFallback(e){const n=e.timelineStart,r=this.effectivePlayingItem;if(this.updateSchedule(),r){this.log(`Fallback to primary from event "${e.identifier}" start: ${n} pos: ${this.timelinePos} playing: ${r?fa(r):"<none>"} error: ${e.error}`),e.appendInPlace&&(this.attachPrimary(n,null),this.flushFrontBuffer(n));let s=this.timelinePos;s===-1&&(s=this.hls.startPosition);const o=this.updateItem(r,s);if(this.itemsMatch(r,o))this.clearInterstitial(e,null);else{const i=this.schedule.findItemIndexAtTime(s);this.setSchedulePosition(i)}}else this.checkStart()}onAssetListLoaded(e,n){var r;const s=n.event,o=s.identifier,i=n.assetListResponse.ASSETS;if(!this.schedule.hasEvent(o))return;const a=s.timelineStart,u=s.duration;let l=0;i.forEach((p,g)=>{const v=parseFloat(p.DURATION);this.createAsset(s,g,l,a+l,v,p.URI),l+=v}),s.duration=l,this.log(`Loaded asset-list with duration: ${l} (was: ${u}) ${s}`);const c=this.waitingItem,d=(c==null?void 0:c.event.identifier)===o;this.updateSchedule();const f=(r=this.bufferingItem)==null?void 0:r.event;if(d){var h;const p=this.schedule.findEventIndex(o),g=(h=this.schedule.items)==null?void 0:h[p];if(g){if(!this.playingItem&&this.timelinePos>g.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==p){s.error=new Error(`Interstitial no longer within playback range ${this.timelinePos} ${s}`),this.primaryFallback(s);return}this.setBufferingItem(g)}this.setSchedulePosition(p)}else if((f==null?void 0:f.identifier)===o&&f.appendInPlace){const p=s.assetList[0],g=this.getAssetPlayer(p.identifier),v=this.primaryMedia;p&&g&&v&&this.bufferAssetPlayer(g,v)}}onError(e,n){switch(n.details){case Xe.ASSET_LIST_PARSING_ERROR:case Xe.ASSET_LIST_LOAD_ERROR:case Xe.ASSET_LIST_LOAD_TIMEOUT:{const r=n.interstitial;r&&this.primaryFallback(r);break}case Xe.BUFFER_STALLED_ERROR:{this.onTimeupdate(),this.checkBuffer(!0);break}}}}const O2=500;class Cge extends jw{constructor(e,n,r){super(e,n,r,"subtitle-stream-controller",en.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(Q.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Q.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(Q.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(Q.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(Q.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(Q.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(Q.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Q.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(Q.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(Q.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(Q.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(Q.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(e,n){this.stopLoad(),this.state=ct.IDLE,this.setInterval(O2),this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=n?-1:e,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(e,n){this.tracksBuffered=[],super.onMediaDetaching(e,n)}onLevelLoaded(e,n){this.mainDetails=n.details}onSubtitleFragProcessed(e,n){const{frag:r,success:s}=n;if(Mr(r)&&(this.fragPrevious=r),this.state=ct.IDLE,!s)return;const o=this.tracksBuffered[this.currentTrackId];if(!o)return;let i;const a=r.start;for(let l=0;l<o.length;l++)if(a>=o[l].start&&a<=o[l].end){i=o[l];break}const u=r.start+r.duration;i?i.end=u:(i={start:a,end:u},o.push(i)),this.fragmentTracker.fragBuffered(r),this.fragBufferedComplete(r,null),this.media&&this.tick()}onBufferFlushing(e,n){const{startOffset:r,endOffset:s}=n;if(r===0&&s!==Number.POSITIVE_INFINITY){const o=s-1;if(o<=0)return;n.endOffsetSubtitles=Math.max(0,o),this.tracksBuffered.forEach(i=>{for(let a=0;a<i.length;){if(i[a].end<=o){i.shift();continue}else if(i[a].start<o)i[a].start=o;else break;a++}}),this.fragmentTracker.removeFragmentsInRange(r,o,en.SUBTITLE)}}onError(e,n){const r=n.frag;(r==null?void 0:r.type)===en.SUBTITLE&&(n.details===Xe.FRAG_GAP&&this.fragmentTracker.fragBuffered(r,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==ct.STOPPED&&(this.state=ct.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:n}){if(this.levels&&ID(this.levels,n)){this.levels=n.map(r=>new Wd(r));return}this.tracksBuffered=[],this.levels=n.map(r=>{const s=new Wd(r);return this.tracksBuffered[s.id]=[],s}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,en.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,n){var r;if(this.currentTrackId=n.id,!((r=this.levels)!=null&&r.length)||this.currentTrackId===-1){this.clearInterval();return}const s=this.levels[this.currentTrackId];s!=null&&s.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,s&&this.state!==ct.STOPPED&&this.setInterval(O2)}onSubtitleTrackLoaded(e,n){var r;const{currentTrackId:s,levels:o}=this,{details:i,id:a}=n;if(!o){this.warn(`Subtitle tracks were reset while loading level ${a}`);return}const u=o[a];if(a>=o.length||!u)return;this.log(`Subtitle track ${a} loaded [${i.startSN},${i.endSN}]${i.lastPartSn?`[part-${i.lastPartSn}-${i.lastPartIndex}]`:""},duration:${i.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let l=0;if(i.live||(r=u.details)!=null&&r.live){const d=this.mainDetails;if(i.deltaUpdateFailed||!d)return;const f=d.fragments[0];if(!u.details)i.hasProgramDateTime&&d.hasProgramDateTime?(am(i,d),l=i.fragmentStart):f&&(l=f.start,Ky(i,l));else{var c;l=this.alignPlaylists(i,u.details,(c=this.levelLastLoaded)==null?void 0:c.details),l===0&&f&&(l=f.start,Ky(i,l))}}u.details=i,this.levelLastLoaded=u,a===s&&(this.hls.trigger(Q.SUBTITLE_TRACK_UPDATED,{details:i,id:a,groupId:n.groupId}),this.tick(),i.live&&!this.fragCurrent&&this.media&&this.state===ct.IDLE&&(Rl(null,i.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),u.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:n,payload:r}=e,s=n.decryptdata,o=this.hls;if(!this.fragContextChanged(n)&&r&&r.byteLength>0&&s!=null&&s.key&&s.iv&&Tu(s.method)){const i=performance.now();this.decrypter.decrypt(new Uint8Array(r),s.key.buffer,s.iv.buffer,Uw(s.method)).catch(a=>{throw o.trigger(Q.ERROR,{type:tn.MEDIA_ERROR,details:Xe.FRAG_DECRYPT_ERROR,fatal:!1,error:a,reason:a.message,frag:n}),a}).then(a=>{const u=performance.now();o.trigger(Q.FRAG_DECRYPTED,{frag:n,payload:a,stats:{tstart:i,tdecrypt:u}})}).catch(a=>{this.warn(`${a.name}: ${a.message}`),this.state=ct.IDLE})}}doTick(){if(!this.media){this.state=ct.IDLE;return}if(this.state===ct.IDLE){const{currentTrackId:e,levels:n}=this,r=n==null?void 0:n[e];if(!r||!n.length||!r.details||this.waitForLive(r))return;const{config:s}=this,o=this.getLoadPosition(),i=yn.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],o,s.maxBufferHole),{end:a,len:u}=i,l=r.details,c=this.hls.maxBufferLength+l.levelTargetDuration;if(u>c)return;const d=l.fragments,f=d.length,h=l.edge;let p=null;const g=this.fragPrevious;if(a<h){const _=s.maxFragLookUpTolerance,b=a>h-_?0:_;p=Rl(g,d,Math.max(d[0].start,a),b),!p&&g&&g.start<d[0].start&&(p=d[0])}else p=d[f-1];if(p=this.filterReplacedPrimary(p,r.details),!p)return;const v=p.sn-l.startSN,y=d[v-1];if(y&&y.cc===p.cc&&this.fragmentTracker.getState(y)===Ar.NOT_LOADED&&(p=y),this.fragmentTracker.getState(p)===Ar.NOT_LOADED){const _=this.mapToInitFragWhenRequired(p);_&&this.loadFragment(_,r,a)}}}loadFragment(e,n,r){Mr(e)?super.loadFragment(e,n,r):this._loadInitSegment(e,n)}get mediaBufferTimeRanges(){return new kge(this.tracksBuffered[this.currentTrackId]||[])}}class kge{constructor(e){this.buffered=void 0;const n=(r,s,o)=>{if(s=s>>>0,s>o-1)throw new DOMException(`Failed to execute '${r}' on 'TimeRanges': The index provided (${s}) is greater than the maximum bound (${o})`);return e[s][r]};this.buffered={get length(){return e.length},end(r){return n("end",r,e.length)},start(r){return n("start",r,e.length)}}}}const Ige={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},FD=t=>String.fromCharCode(Ige[t]||t),yo=15,xi=100,Age={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Rge={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Lge={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},$ge={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Pge=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class Dge{constructor(){this.time=null,this.verboseLevel=0}log(e,n){if(this.verboseLevel>=e){const r=typeof n=="function"?n():n;$n.log(`${this.time} [${e}] ${r}`)}}}const el=function(e){const n=[];for(let r=0;r<e.length;r++)n.push(e[r].toString(16));return n};class BD{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const n=["foreground","underline","italics","background","flash"];for(let r=0;r<n.length;r++){const s=n[r];e.hasOwnProperty(s)&&(this[s]=e[s])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class Oge{constructor(){this.uchar=" ",this.penState=new BD}reset(){this.uchar=" ",this.penState.reset()}setChar(e,n){this.uchar=e,this.penState.copy(n)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class Mge{constructor(e){this.chars=[],this.pos=0,this.currPenState=new BD,this.cueStartTime=null,this.logger=void 0;for(let n=0;n<xi;n++)this.chars.push(new Oge);this.logger=e}equals(e){for(let n=0;n<xi;n++)if(!this.chars[n].equals(e.chars[n]))return!1;return!0}copy(e){for(let n=0;n<xi;n++)this.chars[n].copy(e.chars[n])}isEmpty(){let e=!0;for(let n=0;n<xi;n++)if(!this.chars[n].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>xi&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=xi)}moveCursor(e){const n=this.pos+e;if(e>1)for(let r=this.pos+1;r<n+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(n)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const n=FD(e);if(this.pos>=xi){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+n+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1)}clearFromPos(e){let n;for(n=e;n<xi;n++)this.chars[n].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let n=!0;for(let r=0;r<xi;r++){const s=this.chars[r].uchar;s!==" "&&(n=!1),e.push(s)}return n?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class Qv{constructor(e){this.rows=[],this.currRow=yo-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let n=0;n<yo;n++)this.rows.push(new Mge(e));this.logger=e}reset(){for(let e=0;e<yo;e++)this.rows[e].clear();this.currRow=yo-1}equals(e){let n=!0;for(let r=0;r<yo;r++)if(!this.rows[r].equals(e.rows[r])){n=!1;break}return n}copy(e){for(let n=0;n<yo;n++)this.rows[n].copy(e.rows[n])}isEmpty(){let e=!0;for(let n=0;n<yo;n++)if(!this.rows[n].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+ar(e));let n=e.row-1;if(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(let a=0;a<yo;a++)this.rows[a].clear();const o=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){const a=i.rows[o].cueStartTime,u=this.logger.time;if(a!==null&&u!==null&&a<u)for(let l=0;l<this.nrRollUpRows;l++)this.rows[n-this.nrRollUpRows+l+1].copy(i.rows[o+l])}}this.currRow=n;const r=this.rows[this.currRow];if(e.indent!==null){const o=e.indent,i=Math.max(o-1,0);r.setCursor(e.indent),e.color=r.chars[i].penState.foreground}const s={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(s)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+ar(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(e,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const n=[];let r="",s=-1;for(let o=0;o<yo;o++){const i=this.rows[o].getTextString();i&&(s=o+1,e?n.push("Row "+s+": '"+i+"'"):n.push(i.trim()))}return n.length>0&&(e?r="["+n.join(" | ")+"]":r=n.join(`
`)),r}getTextAndFormat(){return this.rows}}class M2{constructor(e,n,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new Qv(r),this.nonDisplayedMemory=new Qv(r),this.lastOutputScreen=new Qv(r),this.currRollUpRow=this.displayedMemory.rows[yo-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[yo-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let r=0;r<e.length;r++)this.writeScreen.insertChar(e[r]);const n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>n+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const n={flash:!1};if(n.underline=e%2===1,n.italics=e>=46,n.italics)n.foreground="white";else{const r=Math.floor(e/2)-16,s=["white","green","blue","cyan","red","yellow","magenta"];n.foreground=s[r]}this.logger.log(2,"MIDROW: "+ar(n)),this.writeScreen.setPen(n)}outputDataUpdate(e=!1){const n=this.logger.time;n!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=n:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,n,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:n),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class N2{constructor(e,n,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=Fge(),this.logger=void 0;const s=this.logger=new Dge;this.channels=[null,new M2(e,n,s),new M2(e+1,r,s)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,n){this.channels[e].setHandler(n)}addData(e,n){this.logger.time=e;for(let r=0;r<n.length;r+=2){const s=n[r]&127,o=n[r+1]&127;let i=!1,a=null;if(s===0&&o===0)continue;this.logger.log(3,()=>"["+el([n[r],n[r+1]])+"] -> ("+el([s,o])+")");const u=this.cmdHistory;if(s>=16&&s<=31){if(Nge(s,o,u)){Ah(null,null,u),this.logger.log(3,()=>"Repeated command ("+el([s,o])+") is dropped");continue}Ah(s,o,this.cmdHistory),i=this.parseCmd(s,o),i||(i=this.parseMidrow(s,o)),i||(i=this.parsePAC(s,o)),i||(i=this.parseBackgroundAttributes(s,o))}else Ah(null,null,u);if(!i&&(a=this.parseChars(s,o),a)){const c=this.currentChannel;c&&c>0?this.channels[c].insertChars(a):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!i&&!a&&this.logger.log(2,()=>"Couldn't parse cleaned data "+el([s,o])+" orig: "+el([n[r],n[r+1]]))}}parseCmd(e,n){const r=(e===20||e===28||e===21||e===29)&&n>=32&&n<=47,s=(e===23||e===31)&&n>=33&&n<=35;if(!(r||s))return!1;const o=e===20||e===21||e===23?1:2,i=this.channels[o];return e===20||e===21||e===28||e===29?n===32?i.ccRCL():n===33?i.ccBS():n===34?i.ccAOF():n===35?i.ccAON():n===36?i.ccDER():n===37?i.ccRU(2):n===38?i.ccRU(3):n===39?i.ccRU(4):n===40?i.ccFON():n===41?i.ccRDC():n===42?i.ccTR():n===43?i.ccRTD():n===44?i.ccEDM():n===45?i.ccCR():n===46?i.ccENM():n===47&&i.ccEOC():i.ccTO(n-32),this.currentChannel=o,!0}parseMidrow(e,n){let r=0;if((e===17||e===25)&&n>=32&&n<=47){if(e===17?r=1:r=2,r!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const s=this.channels[r];return s?(s.ccMIDROW(n),this.logger.log(3,()=>"MIDROW ("+el([e,n])+")"),!0):!1}return!1}parsePAC(e,n){let r;const s=(e>=17&&e<=23||e>=25&&e<=31)&&n>=64&&n<=127,o=(e===16||e===24)&&n>=64&&n<=95;if(!(s||o))return!1;const i=e<=23?1:2;n>=64&&n<=95?r=i===1?Age[e]:Lge[e]:r=i===1?Rge[e]:$ge[e];const a=this.channels[i];return a?(a.setPAC(this.interpretPAC(r,n)),this.currentChannel=i,!0):!1}interpretPAC(e,n){let r;const s={color:null,italics:!1,indent:null,underline:!1,row:e};return n>95?r=n-96:r=n-64,s.underline=(r&1)===1,r<=13?s.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(s.italics=!0,s.color="white"):s.indent=Math.floor((r-16)/2)*4,s}parseChars(e,n){let r,s=null,o=null;if(e>=25?(r=2,o=e-8):(r=1,o=e),o>=17&&o<=19){let i;o===17?i=n+80:o===18?i=n+112:i=n+144,this.logger.log(2,()=>"Special char '"+FD(i)+"' in channel "+r),s=[i]}else e>=32&&e<=127&&(s=n===0?[e]:[e,n]);return s&&this.logger.log(3,()=>"Char codes =  "+el(s).join(",")),s}parseBackgroundAttributes(e,n){const r=(e===16||e===24)&&n>=32&&n<=47,s=(e===23||e===31)&&n>=45&&n<=47;if(!(r||s))return!1;let o;const i={};e===16||e===24?(o=Math.floor((n-32)/2),i.background=Pge[o],n%2===1&&(i.background=i.background+"_semi")):n===45?i.background="transparent":(i.foreground="black",n===47&&(i.underline=!0));const a=e<=23?1:2;return this.channels[a].setBkgData(i),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const n=this.channels[e];n&&n.reset()}Ah(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let n=0;n<this.channels.length;n++){const r=this.channels[n];r&&r.cueSplitAtTime(e)}}}function Ah(t,e,n){n.a=t,n.b=e}function Nge(t,e,n){return n.a===t&&n.b===e}function Fge(){return{a:null,b:null}}var e_=function(){if(im!=null&&im.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function n(a,u){if(typeof u!="string"||!Array.isArray(a))return!1;const l=u.toLowerCase();return~a.indexOf(l)?l:!1}function r(a){return n(t,a)}function s(a){return n(e,a)}function o(a,...u){let l=1;for(;l<arguments.length;l++){const c=arguments[l];for(const d in c)a[d]=c[d]}return a}function i(a,u,l){const c=this,d={enumerable:!0};c.hasBeenReset=!1;let f="",h=!1,p=a,g=u,v=l,y=null,_="",b=!0,w="auto",S="start",E=50,T="middle",I=50,k="middle";Object.defineProperty(c,"id",o({},d,{get:function(){return f},set:function(C){f=""+C}})),Object.defineProperty(c,"pauseOnExit",o({},d,{get:function(){return h},set:function(C){h=!!C}})),Object.defineProperty(c,"startTime",o({},d,{get:function(){return p},set:function(C){if(typeof C!="number")throw new TypeError("Start time must be set to a number.");p=C,this.hasBeenReset=!0}})),Object.defineProperty(c,"endTime",o({},d,{get:function(){return g},set:function(C){if(typeof C!="number")throw new TypeError("End time must be set to a number.");g=C,this.hasBeenReset=!0}})),Object.defineProperty(c,"text",o({},d,{get:function(){return v},set:function(C){v=""+C,this.hasBeenReset=!0}})),Object.defineProperty(c,"region",o({},d,{get:function(){return y},set:function(C){y=C,this.hasBeenReset=!0}})),Object.defineProperty(c,"vertical",o({},d,{get:function(){return _},set:function(C){const N=r(C);if(N===!1)throw new SyntaxError("An invalid or illegal string was specified.");_=N,this.hasBeenReset=!0}})),Object.defineProperty(c,"snapToLines",o({},d,{get:function(){return b},set:function(C){b=!!C,this.hasBeenReset=!0}})),Object.defineProperty(c,"line",o({},d,{get:function(){return w},set:function(C){if(typeof C!="number"&&C!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");w=C,this.hasBeenReset=!0}})),Object.defineProperty(c,"lineAlign",o({},d,{get:function(){return S},set:function(C){const N=s(C);if(!N)throw new SyntaxError("An invalid or illegal string was specified.");S=N,this.hasBeenReset=!0}})),Object.defineProperty(c,"position",o({},d,{get:function(){return E},set:function(C){if(C<0||C>100)throw new Error("Position must be between 0 and 100.");E=C,this.hasBeenReset=!0}})),Object.defineProperty(c,"positionAlign",o({},d,{get:function(){return T},set:function(C){const N=s(C);if(!N)throw new SyntaxError("An invalid or illegal string was specified.");T=N,this.hasBeenReset=!0}})),Object.defineProperty(c,"size",o({},d,{get:function(){return I},set:function(C){if(C<0||C>100)throw new Error("Size must be between 0 and 100.");I=C,this.hasBeenReset=!0}})),Object.defineProperty(c,"align",o({},d,{get:function(){return k},set:function(C){const N=s(C);if(!N)throw new SyntaxError("An invalid or illegal string was specified.");k=N,this.hasBeenReset=!0}})),c.displayState=void 0}return i.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},i}();class Bge{decode(e,n){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function VD(t){function e(r,s,o,i){return(r|0)*3600+(s|0)*60+(o|0)+parseFloat(i||0)}const n=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?e(n[2],n[3],0,n[4]):e(n[1],n[2],n[3],n[4]):null}class Vge{constructor(){this.values=Object.create(null)}set(e,n){!this.get(e)&&n!==""&&(this.values[e]=n)}get(e,n,r){return r?this.has(e)?this.values[e]:n[r]:this.has(e)?this.values[e]:n}has(e){return e in this.values}alt(e,n,r){for(let s=0;s<r.length;++s)if(n===r[s]){this.set(e,n);break}}integer(e,n){/^-?\d+$/.test(n)&&this.set(e,parseInt(n,10))}percent(e,n){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(n)){const r=parseFloat(n);if(r>=0&&r<=100)return this.set(e,r),!0}return!1}}function UD(t,e,n,r){const s=r?t.split(r):[t];for(const o in s){if(typeof s[o]!="string")continue;const i=s[o].split(n);if(i.length!==2)continue;const a=i[0],u=i[1];e(a,u)}}const Zy=new e_(0,0,""),Rh=Zy.align==="middle"?"middle":"center";function Uge(t,e,n){const r=t;function s(){const a=VD(t);if(a===null)throw new Error("Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),a}function o(a,u){const l=new Vge;UD(a,function(f,h){let p;switch(f){case"region":for(let g=n.length-1;g>=0;g--)if(n[g].id===h){l.set(f,n[g].region);break}break;case"vertical":l.alt(f,h,["rl","lr"]);break;case"line":p=h.split(","),l.integer(f,p[0]),l.percent(f,p[0])&&l.set("snapToLines",!1),l.alt(f,p[0],["auto"]),p.length===2&&l.alt("lineAlign",p[1],["start",Rh,"end"]);break;case"position":p=h.split(","),l.percent(f,p[0]),p.length===2&&l.alt("positionAlign",p[1],["start",Rh,"end","line-left","line-right","auto"]);break;case"size":l.percent(f,h);break;case"align":l.alt(f,h,["start",Rh,"end","left","right"]);break}},/:/,/\s/),u.region=l.get("region",null),u.vertical=l.get("vertical","");let c=l.get("line","auto");c==="auto"&&Zy.line===-1&&(c=-1),u.line=c,u.lineAlign=l.get("lineAlign","start"),u.snapToLines=l.get("snapToLines",!0),u.size=l.get("size",100),u.align=l.get("align",Rh);let d=l.get("position","auto");d==="auto"&&Zy.position===50&&(d=u.align==="start"||u.align==="left"?0:u.align==="end"||u.align==="right"?100:50),u.position=d}function i(){t=t.replace(/^\s+/,"")}if(i(),e.startTime=s(),i(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+r);t=t.slice(3),i(),e.endTime=s(),i(),o(t,e)}function HD(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class Hge{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new Bge,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const n=this;e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));function r(){let o=n.buffer,i=0;for(o=HD(o);i<o.length&&o[i]!=="\r"&&o[i]!==`
`;)++i;const a=o.slice(0,i);return o[i]==="\r"&&++i,o[i]===`
`&&++i,n.buffer=o.slice(i),a}function s(o){UD(o,function(i,a){},/:/)}try{let o="";if(n.state==="INITIAL"){if(!/\r\n|\n/.test(n.buffer))return this;o=r();const a=o.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!(a!=null&&a[0]))throw new Error("Malformed WebVTT signature.");n.state="HEADER"}let i=!1;for(;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(i?i=!1:o=r(),n.state){case"HEADER":/:/.test(o)?s(o):o||(n.state="ID");continue;case"NOTE":o||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){n.state="NOTE";break}if(!o)continue;if(n.cue=new e_(0,0,""),n.state="CUE",o.indexOf("-->")===-1){n.cue.id=o;continue}case"CUE":if(!n.cue){n.state="BADCUE";continue}try{Uge(o,n.cue,n.regionList)}catch{n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":{const a=o.indexOf("-->")!==-1;if(!o||a&&(i=!0)){n.oncue&&n.cue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}if(n.cue===null)continue;n.cue.text&&(n.cue.text+=`
`),n.cue.text+=o}continue;case"BADCUE":o||(n.state="ID")}}}catch{n.state==="CUETEXT"&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state=n.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(n){e.onparsingerror&&e.onparsingerror(n)}return e.onflush&&e.onflush(),this}}const jge=/\r\n|\n\r|\n|\r/g,Zv=function(e,n,r=0){return e.slice(r,r+n.length)===n},Kge=function(e){let n=parseInt(e.slice(-3));const r=parseInt(e.slice(-6,-4)),s=parseInt(e.slice(-9,-7)),o=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!jt(n)||!jt(r)||!jt(s)||!jt(o))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return n+=1e3*r,n+=60*1e3*s,n+=60*60*1e3*o,n};function t_(t,e,n){return cd(t.toString())+cd(e.toString())+cd(n)}const zge=function(e,n,r){let s=e[n],o=e[s.prevCC];if(!o||!o.new&&s.new){e.ccOffset=e.presentationOffset=s.start,s.new=!1;return}for(;(i=o)!=null&&i.new;){var i;e.ccOffset+=s.start-o.start,s.new=!1,s=o,o=e[s.prevCC]}e.presentationOffset=r};function Wge(t,e,n,r,s,o,i){const a=new Hge,u=Us(new Uint8Array(t)).trim().replace(jge,`
`).split(`
`),l=[],c=e?cme(e.baseTime,e.timescale):0;let d="00:00.000",f=0,h=0,p,g=!0;a.oncue=function(v){const y=n[r];let _=n.ccOffset;const b=(f-c)/9e4;if(y!=null&&y.new&&(h!==void 0?_=n.ccOffset=y.start:zge(n,r,b)),b){if(!e){p=new Error("Missing initPTS for VTT MPEGTS");return}_=b-n.presentationOffset}const w=v.endTime-v.startTime,S=Qs((v.startTime+_-h)*9e4,s*9e4)/9e4;v.startTime=Math.max(S,0),v.endTime=Math.max(S+w,0);const E=v.text.trim();v.text=decodeURIComponent(encodeURIComponent(E)),v.id||(v.id=t_(v.startTime,v.endTime,E)),v.endTime>0&&l.push(v)},a.onparsingerror=function(v){p=v},a.onflush=function(){if(p){i(p);return}o(l)},u.forEach(v=>{if(g)if(Zv(v,"X-TIMESTAMP-MAP=")){g=!1,v.slice(16).split(",").forEach(y=>{Zv(y,"LOCAL:")?d=y.slice(6):Zv(y,"MPEGTS:")&&(f=parseInt(y.slice(7)))});try{h=Kge(d)/1e3}catch(y){p=y}return}else v===""&&(g=!1);a.parse(v+`
`)}),a.flush()}const Jv="stpp.ttml.im1t",jD=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,KD=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,Gge={left:"start",center:"center",right:"end",start:"start",end:"end"};function F2(t,e,n,r){const s=hn(new Uint8Array(t),["mdat"]);if(s.length===0){r(new Error("Could not parse IMSC1 mdat"));return}const o=s.map(a=>Us(a)),i=ume(e.baseTime,1,e.timescale);try{o.forEach(a=>n(qge(a,i)))}catch(a){r(a)}}function qge(t,e){const s=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!s)throw new Error("Invalid ttml");const o={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},i=Object.keys(o).reduce((d,f)=>(d[f]=s.getAttribute(`ttp:${f}`)||o[f],d),{}),a=s.getAttribute("xml:space")!=="preserve",u=B2(e0(s,"styling","style")),l=B2(e0(s,"layout","region")),c=e0(s,"body","[begin]");return[].map.call(c,d=>{const f=zD(d,a);if(!f||!d.hasAttribute("begin"))return null;const h=n0(d.getAttribute("begin"),i),p=n0(d.getAttribute("dur"),i);let g=n0(d.getAttribute("end"),i);if(h===null)throw V2(d);if(g===null){if(p===null)throw V2(d);g=h+p}const v=new e_(h-e,g-e,f);v.id=t_(v.startTime,v.endTime,v.text);const y=l[d.getAttribute("region")],_=u[d.getAttribute("style")],b=Yge(y,_,u),{textAlign:w}=b;if(w){const S=Gge[w];S&&(v.lineAlign=S),v.align=w}return Gn(v,b),v}).filter(d=>d!==null)}function e0(t,e,n){const r=t.getElementsByTagName(e)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function B2(t){return t.reduce((e,n)=>{const r=n.getAttribute("xml:id");return r&&(e[r]=n),e},{})}function zD(t,e){return[].slice.call(t.childNodes).reduce((n,r,s)=>{var o;return r.nodeName==="br"&&s?n+`
`:(o=r.childNodes)!=null&&o.length?zD(r,e):e?n+r.textContent.trim().replace(/\s+/g," "):n+r.textContent},"")}function Yge(t,e,n){const r="http://www.w3.org/ns/ttml#styling";let s=null;const o=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],i=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return i&&n.hasOwnProperty(i)&&(s=n[i]),o.reduce((a,u)=>{const l=t0(e,r,u)||t0(t,r,u)||t0(s,r,u);return l&&(a[u]=l),a},{})}function t0(t,e,n){return t&&t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function V2(t){return new Error(`Could not parse ttml timestamp ${t}`)}function n0(t,e){if(!t)return null;let n=VD(t);return n===null&&(jD.test(t)?n=Xge(t,e):KD.test(t)&&(n=Qge(t,e))),n}function Xge(t,e){const n=jD.exec(t),r=(n[4]|0)+(n[5]|0)/e.subFrameRate;return(n[1]|0)*3600+(n[2]|0)*60+(n[3]|0)+r/e.frameRate}function Qge(t,e){const n=KD.exec(t),r=Number(n[1]);switch(n[2]){case"h":return r*3600;case"m":return r*60;case"ms":return r*1e3;case"f":return r/e.frameRate;case"t":return r/e.tickRate}return r}class Lh{constructor(e,n){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=n}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,n,r){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=n,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}class Zge{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=H2(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(Q.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Q.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Q.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Q.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(Q.FRAG_LOADING,this.onFragLoading,this),e.on(Q.FRAG_LOADED,this.onFragLoaded,this),e.on(Q.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(Q.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(Q.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(Q.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(Q.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(Q.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Q.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Q.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Q.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(Q.FRAG_LOADING,this.onFragLoading,this),e.off(Q.FRAG_LOADED,this.onFragLoaded,this),e.off(Q.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(Q.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(Q.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(Q.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(Q.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const e=new Lh(this,"textTrack1"),n=new Lh(this,"textTrack2"),r=new Lh(this,"textTrack3"),s=new Lh(this,"textTrack4");this.cea608Parser1=new N2(1,e,n),this.cea608Parser2=new N2(3,r,s)}addCues(e,n,r,s,o){let i=!1;for(let a=o.length;a--;){const u=o[a],l=Jge(u[0],u[1],n,r);if(l>=0&&(u[0]=Math.min(u[0],n),u[1]=Math.max(u[1],r),i=!0,l/(r-n)>.5))return}if(i||o.push([n,r]),this.config.renderTextTracksNatively){const a=this.captionsTracks[e];this.Cues.newCue(a,n,r,s)}else{const a=this.Cues.newCue(null,n,r,s);this.hls.trigger(Q.CUES_PARSED,{type:"captions",cues:a,track:e})}}onInitPtsFound(e,{frag:n,id:r,initPTS:s,timescale:o}){const{unparsedVttFrags:i}=this;r===en.MAIN&&(this.initPTS[n.cc]={baseTime:s,timescale:o}),i.length&&(this.unparsedVttFrags=[],i.forEach(a=>{this.onFragLoaded(Q.FRAG_LOADED,a)}))}getExistingTrack(e,n){const{media:r}=this;if(r)for(let s=0;s<r.textTracks.length;s++){const o=r.textTracks[s];if(U2(o,{name:e,lang:n,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return o}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:n,captionsTracks:r,media:s}=this,{label:o,languageCode:i}=n[e],a=this.getExistingTrack(o,i);if(a)r[e]=a,uu(r[e]),OD(r[e],s);else{const u=this.createTextTrack("captions",o,i);u&&(u[e]=!0,r[e]=u)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const n=this.captionsProperties[e];if(!n)return;const r=n.label,s={_id:e,label:r,kind:"captions",default:n.media?!!n.media.default:!1,closedCaptions:n.media};this.nonNativeCaptionsTracks[e]=s,this.hls.trigger(Q.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[s]})}createTextTrack(e,n,r){const s=this.media;if(s)return s.addTextTrack(e,n,r)}onMediaAttaching(e,n){this.media=n.media,n.mediaSource||this._cleanTracks()}onMediaDetaching(e,n){const r=!!n.transferMedia;if(this.media=null,r)return;const{captionsTracks:s}=this;Object.keys(s).forEach(o=>{uu(s[o]),delete s[o]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=H2(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const n=e.textTracks;if(n)for(let r=0;r<n.length;r++)uu(n[r])}onSubtitleTracksUpdated(e,n){const r=n.subtitleTracks||[],s=r.some(o=>o.textCodec===Jv);if(this.config.enableWebVTT||s&&this.config.enableIMSC1){if(ID(this.tracks,r)){this.tracks=r;return}if(this.textTracks=[],this.tracks=r,this.config.renderTextTracksNatively){const i=this.media,a=i?dp(i.textTracks):null;if(this.tracks.forEach((u,l)=>{let c;if(a){let d=null;for(let f=0;f<a.length;f++)if(a[f]&&U2(a[f],u)){d=a[f],a[f]=null;break}d&&(c=d)}if(c)uu(c);else{const d=WD(u);c=this.createTextTrack(d,u.name,u.lang),c&&(c.mode="disabled")}c&&this.textTracks.push(c)}),a!=null&&a.length){const u=a.filter(l=>l!==null).map(l=>l.label);u.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${u.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const i=this.tracks.map(a=>({label:a.name,kind:a.type.toLowerCase(),default:a.default,subtitleTrack:a}));this.hls.trigger(Q.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:i})}}}onManifestLoaded(e,n){this.config.enableCEA708Captions&&n.captions&&n.captions.forEach(r=>{const s=/(?:CC|SERVICE)([1-4])/.exec(r.instreamId);if(!s)return;const o=`textTrack${s[1]}`,i=this.captionsProperties[o];i&&(i.label=r.name,r.lang&&(i.languageCode=r.lang),i.media=r)})}closedCaptionsForLevel(e){const n=this.hls.levels[e.level];return n==null?void 0:n.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,n){if(this.enabled&&n.frag.type===en.MAIN){var r,s;const{cea608Parser1:o,cea608Parser2:i,lastSn:a}=this,{cc:u,sn:l}=n.frag,c=(r=(s=n.part)==null?void 0:s.index)!=null?r:-1;o&&i&&(l!==a+1||l===a&&c!==this.lastPartIndex+1||u!==this.lastCc)&&(o.reset(),i.reset()),this.lastCc=u,this.lastSn=l,this.lastPartIndex=c}}onFragLoaded(e,n){const{frag:r,payload:s}=n;if(r.type===en.SUBTITLE)if(s.byteLength){const o=r.decryptdata,i="stats"in n;if(o==null||!o.encrypted||i){const a=this.tracks[r.level],u=this.vttCCs;u[r.cc]||(u[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),a&&a.textCodec===Jv?this._parseIMSC1(r,s):this._parseVTTs(n)}}else this.hls.trigger(Q.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,n){const r=this.hls;F2(n,this.initPTS[e.cc],s=>{this._appendCues(s,e.level),r.trigger(Q.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},s=>{r.logger.log(`Failed to parse IMSC1: ${s}`),r.trigger(Q.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:s})})}_parseVTTs(e){var n;const{frag:r,payload:s}=e,{initPTS:o,unparsedVttFrags:i}=this,a=o.length-1;if(!o[r.cc]&&a===-1){i.push(e);return}const u=this.hls,l=(n=r.initSegment)!=null&&n.data?ho(r.initSegment.data,new Uint8Array(s)).buffer:s;Wge(l,this.initPTS[r.cc],this.vttCCs,r.cc,r.start,c=>{this._appendCues(c,r.level),u.trigger(Q.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})},c=>{const d=c.message==="Missing initPTS for VTT MPEGTS";d?i.push(e):this._fallbackToIMSC1(r,s),u.logger.log(`Failed to parse VTT cue: ${c}`),!(d&&a>r.cc)&&u.trigger(Q.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:c})})}_fallbackToIMSC1(e,n){const r=this.tracks[e.level];r.textCodec||F2(n,this.initPTS[e.cc],()=>{r.textCodec=Jv,this._parseIMSC1(e,n)},()=>{r.textCodec="wvtt"})}_appendCues(e,n){const r=this.hls;if(this.config.renderTextTracksNatively){const s=this.textTracks[n];if(!s||s.mode==="disabled")return;e.forEach(o=>MD(s,o))}else{const s=this.tracks[n];if(!s)return;const o=s.default?"default":"subtitles"+n;r.trigger(Q.CUES_PARSED,{type:"subtitles",cues:e,track:o})}}onFragDecrypted(e,n){const{frag:r}=n;r.type===en.SUBTITLE&&this.onFragLoaded(Q.FRAG_LOADED,n)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,n){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:r,samples:s}=n;if(!(r.type===en.MAIN&&this.closedCaptionsForLevel(r)==="NONE"))for(let o=0;o<s.length;o++){const i=s[o].bytes;if(i){this.cea608Parser1||this.initCea608Parsers();const a=this.extractCea608Data(i);this.cea608Parser1.addData(s[o].pts,a[0]),this.cea608Parser2.addData(s[o].pts,a[1])}}}onBufferFlushing(e,{startOffset:n,endOffset:r,endOffsetSubtitles:s,type:o}){const{media:i}=this;if(!(!i||i.currentTime<r)){if(!o||o==="video"){const{captionsTracks:a}=this;Object.keys(a).forEach(u=>Xy(a[u],n,r))}if(this.config.renderTextTracksNatively&&n===0&&s!==void 0){const{textTracks:a}=this;Object.keys(a).forEach(u=>Xy(a[u],n,s))}}}extractCea608Data(e){const n=[[],[]],r=e[0]&31;let s=2;for(let o=0;o<r;o++){const i=e[s++],a=127&e[s++],u=127&e[s++];if(a===0&&u===0)continue;if((4&i)!==0){const c=3&i;(c===0||c===1)&&(n[c].push(a),n[c].push(u))}}return n}}function WD(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function U2(t,e){return!!t&&t.kind===WD(e)&&Gy(e,t)}function Jge(t,e,n,r){return Math.min(e,r)-Math.max(t,n)}function H2(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}const eve=/\s/,tve={newCue(t,e,n,r){const s=[];let o,i,a,u,l;const c=self.VTTCue||self.TextTrackCue;for(let f=0;f<r.rows.length;f++)if(o=r.rows[f],a=!0,u=0,l="",!o.isEmpty()){var d;for(let g=0;g<o.chars.length;g++)eve.test(o.chars[g].uchar)&&a?u++:(l+=o.chars[g].uchar,a=!1);o.cueStartTime=e,e===n&&(n+=1e-4),u>=16?u--:u++;const h=HD(l.trim()),p=t_(e,n,h);t!=null&&(d=t.cues)!=null&&d.getCueById(p)||(i=new c(e,n,h),i.id=p,i.line=f+1,i.align="left",i.position=10+Math.min(80,Math.floor(u*8/32)*10),s.push(i))}return t&&s.length&&(s.sort((f,h)=>f.line==="auto"||h.line==="auto"?0:f.line>8&&h.line>8?h.line-f.line:f.line-h.line),s.forEach(f=>MD(t,f))),s}};function nve(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const rve=/(\d+)-(\d+)\/(\d+)/;class j2{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||ave,this.controller=new self.AbortController,this.stats=new Ow}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,n,r){const s=this.stats;if(s.loading.start)throw new Error("Loader can only be used once.");s.loading.start=self.performance.now();const o=sve(e,this.controller.signal),i=e.responseType==="arraybuffer",a=i?"byteLength":"length",{maxTimeToFirstByteMs:u,maxLoadTimeMs:l}=n.loadPolicy;this.context=e,this.config=n,this.callbacks=r,this.request=this.fetchSetup(e,o),self.clearTimeout(this.requestTimeout),n.timeout=u&&jt(u)?u:l,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(s,e,this.response))},n.timeout),(Qd(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(d=>{var f;this.response=this.loader=d;const h=Math.max(self.performance.now(),s.loading.start);if(self.clearTimeout(this.requestTimeout),n.timeout=l,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(s,e,this.response))},l-(h-s.loading.start)),!d.ok){const{status:g,statusText:v}=d;throw new lve(v||"fetch, bad network response",g,d)}s.loading.first=h,s.total=ive(d.headers)||s.total;const p=(f=this.callbacks)==null?void 0:f.onProgress;return p&&jt(n.highWaterMark)?this.loadProgressively(d,s,e,n.highWaterMark,p):i?d.arrayBuffer():e.responseType==="json"?d.json():d.text()}).then(d=>{var f,h;const p=this.response;if(!p)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),s.loading.end=Math.max(self.performance.now(),s.loading.first);const g=d[a];g&&(s.loaded=s.total=g);const v={url:p.url,data:d,code:p.status},y=(f=this.callbacks)==null?void 0:f.onProgress;y&&!jt(n.highWaterMark)&&y(s,e,d,p),(h=this.callbacks)==null||h.onSuccess(v,s,e,p)}).catch(d=>{var f;if(self.clearTimeout(this.requestTimeout),s.aborted)return;const h=d&&d.code||0,p=d?d.message:null;(f=this.callbacks)==null||f.onError({code:h,text:p},e,d?d.details:null,s)})}getCacheAge(){let e=null;if(this.response){const n=this.response.headers.get("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,n,r,s=0,o){const i=new aD,a=e.body.getReader(),u=()=>a.read().then(l=>{if(l.done)return i.dataLength&&o(n,r,i.flush().buffer,e),Promise.resolve(new ArrayBuffer(0));const c=l.value,d=c.length;return n.loaded+=d,d<s||i.dataLength?(i.push(c),i.dataLength>=s&&o(n,r,i.flush().buffer,e)):o(n,r,c.buffer,e),u()}).catch(()=>Promise.reject());return u()}}function sve(t,e){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(Gn({},t.headers))};return t.rangeEnd&&n.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),n}function ove(t){const e=rve.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function ive(t){const e=t.get("Content-Range");if(e){const r=ove(e);if(jt(r))return r}const n=t.get("Content-Length");if(n)return parseInt(n)}function ave(t,e){return new self.Request(t.url,e)}class lve extends Error{constructor(e,n,r){super(e),this.code=void 0,this.details=void 0,this.code=n,this.details=r}}const uve=/^age:\s*[\d.]+\s*$/im;class GD{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new Ow,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,n,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=n,this.callbacks=r,this.loadInternal()}loadInternal(){const{config:e,context:n}=this;if(!e||!n)return;const r=this.loader=new self.XMLHttpRequest,s=this.stats;s.loading.first=0,s.loaded=0,s.aborted=!1;const o=this.xhrSetup;o?Promise.resolve().then(()=>{if(!(this.loader!==r||this.stats.aborted))return o(r,n.url)}).catch(i=>{if(!(this.loader!==r||this.stats.aborted))return r.open("GET",n.url,!0),o(r,n.url)}).then(()=>{this.loader!==r||this.stats.aborted||this.openAndSendXhr(r,n,e)}).catch(i=>{var a;(a=this.callbacks)==null||a.onError({code:r.status,text:i.message},n,r,s)}):this.openAndSendXhr(r,n,e)}openAndSendXhr(e,n,r){e.readyState||e.open("GET",n.url,!0);const s=n.headers,{maxTimeToFirstByteMs:o,maxLoadTimeMs:i}=r.loadPolicy;if(s)for(const a in s)e.setRequestHeader(a,s[a]);n.rangeEnd&&e.setRequestHeader("Range","bytes="+n.rangeStart+"-"+(n.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=n.responseType,self.clearTimeout(this.requestTimeout),r.timeout=o&&jt(o)?o:i,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.timeout),e.send()}readystatechange(){const{context:e,loader:n,stats:r}=this;if(!e||!n)return;const s=n.readyState,o=this.config;if(!r.aborted&&s>=2&&(r.loading.first===0&&(r.loading.first=Math.max(self.performance.now(),r.loading.start),o.timeout!==o.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),o.timeout=o.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),o.loadPolicy.maxLoadTimeMs-(r.loading.first-r.loading.start)))),s===4)){self.clearTimeout(this.requestTimeout),n.onreadystatechange=null,n.onprogress=null;const l=n.status,c=n.responseType==="text"?n.responseText:null;if(l>=200&&l<300){const p=c??n.response;if(p!=null){var i,a;r.loading.end=Math.max(self.performance.now(),r.loading.first);const g=n.responseType==="arraybuffer"?p.byteLength:p.length;r.loaded=r.total=g,r.bwEstimate=r.total*8e3/(r.loading.end-r.loading.first);const v=(i=this.callbacks)==null?void 0:i.onProgress;v&&v(r,e,p,n);const y={url:n.responseURL,data:p,code:l};(a=this.callbacks)==null||a.onSuccess(y,r,e,n);return}}const d=o.loadPolicy.errorRetry,f=r.retry,h={url:e.url,data:void 0,code:l};if(om(d,f,!1,h))this.retry(d);else{var u;$n.error(`${l} while loading ${e.url}`),(u=this.callbacks)==null||u.onError({code:l,text:n.statusText},e,n,r)}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,n=this.stats.retry;if(om(e,n,!0))this.retry(e);else{var r;$n.warn(`timeout while loading ${(r=this.context)==null?void 0:r.url}`);const s=this.callbacks;s&&(this.abortInternal(),s.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:n,stats:r}=this;this.retryDelay=Fw(e,r.retry),r.retry++,$n.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${n==null?void 0:n.url}, retrying ${r.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total)}getCacheAge(){let e=null;if(this.loader&&uve.test(this.loader.getAllResponseHeaders())){const n=this.loader.getResponseHeader("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const cve={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},dve=Hn(Hn({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:60*1e3*1e3,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:GD,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Phe,bufferController:Tme,capLevelController:Zw,errorController:Bhe,fpsController:mge,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:XP,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,certLoadPolicy:{default:cve},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},fve()),{},{subtitleStreamController:Cge,subtitleTrackController:yge,timelineController:Zge,audioStreamController:_me,audioTrackController:Sme,emeController:Cu,cmcdController:fge,contentSteeringController:pge,interstitialsController:Tge});function fve(){return{cueHandler:tve,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function hve(t,e,n){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const r=Jy(t),s=["manifest","level","frag"],o=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return s.forEach(i=>{const a=`${i==="level"?"playlist":i}LoadPolicy`,u=e[a]===void 0,l=[];o.forEach(c=>{const d=`${i}Loading${c}`,f=e[d];if(f!==void 0&&u){l.push(d);const h=r[a].default;switch(e[a]={default:h},c){case"TimeOut":h.maxLoadTimeMs=f,h.maxTimeToFirstByteMs=f;break;case"MaxRetry":h.errorRetry.maxNumRetry=f,h.timeoutRetry.maxNumRetry=f;break;case"RetryDelay":h.errorRetry.retryDelayMs=f,h.timeoutRetry.retryDelayMs=f;break;case"MaxRetryTimeout":h.errorRetry.maxRetryDelayMs=f,h.timeoutRetry.maxRetryDelayMs=f;break}}}),l.length&&n.warn(`hls.js config: "${l.join('", "')}" setting(s) are deprecated, use "${a}": ${ar(e[a])}`)}),Hn(Hn({},r),e)}function Jy(t){return t&&typeof t=="object"?Array.isArray(t)?t.map(Jy):Object.keys(t).reduce((e,n)=>(e[n]=Jy(t[n]),e),{}):t}function pve(t,e){const n=t.loader;n!==j2&&n!==GD?(e.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):nve()&&(t.loader=j2,t.progressive=!0,t.enableSoftwareAES=!0,e.log("[config]: Progressive streaming enabled, using FetchLoader"))}const fp=2,mve=.1,gve=.05,vve=100;class yve extends GP{constructor(e,n){super("gap-controller",e.logger),this.hls=null,this.fragmentTracker=null,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var r;(r=this.media)!=null&&r.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{if(this.hls){var r;this.ended=((r=this.media)==null?void 0:r.currentTime)||1,this.hls.trigger(Q.MEDIA_ENDED,{stalled:!1})}},this.hls=e,this.fragmentTracker=n,this.registerListeners()}registerListeners(){const{hls:e}=this;e&&(e.on(Q.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Q.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Q.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(Q.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Q.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Q.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(e,n){this.setInterval(vve),this.mediaSource=n.mediaSource;const r=this.media=n.media;Mi(r,"playing",this.onMediaPlaying),Mi(r,"waiting",this.onMediaWaiting),Mi(r,"ended",this.onMediaEnded)}onMediaDetaching(e,n){this.clearInterval();const{media:r}=this;r&&(ei(r,"playing",this.onMediaPlaying),ei(r,"waiting",this.onMediaWaiting),ei(r,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(e,n){this.buffered=n.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var e;if(!((e=this.media)!=null&&e.readyState)||!this.hasBuffered)return;const n=this.media.currentTime;this.poll(n,this.lastCurrentTime),this.lastCurrentTime=n}poll(e,n){var r,s;const o=(r=this.hls)==null?void 0:r.config;if(!o)return;const{media:i,stalled:a}=this;if(!i)return;const{seeking:u}=i,l=this.seeking&&!u,c=!this.seeking&&u,d=i.paused&&!u||i.ended||i.playbackRate===0;if(this.seeking=u,e!==n){n&&(this.ended=0),this.moved=!0,u||(this.nudgeRetry=0,o.nudgeOnVideoHole&&!d&&e>n&&this.nudgeOnVideoHole(e,n)),this.waiting===0&&this.stallResolved(e);return}if(c||l){l&&this.stallResolved(e);return}if(d){this.nudgeRetry=0,this.stallResolved(e),!this.ended&&i.ended&&this.hls&&(this.ended=e||1,this.hls.trigger(Q.MEDIA_ENDED,{stalled:!1}));return}if(!yn.getBuffered(i).length){this.nudgeRetry=0;return}const f=yn.bufferInfo(i,e,0),h=f.nextStart||0,p=this.fragmentTracker;if(u&&p&&this.hls){const E=K2(this.hls.inFlightFragments,e),T=f.len>fp,I=!h||E||h-e>fp&&!p.getPartialFragment(e);if(T||I)return;this.moved=!1}const g=(s=this.hls)==null?void 0:s.latestLevelDetails;if(!this.moved&&this.stalled!==null&&p){if(!(f.len>0)&&!h)return;const T=Math.max(h,f.start||0)-e,k=!!(g!=null&&g.live)?g.targetduration*2:fp,C=p.getPartialFragment(e);if(T>0&&(T<=k||C)){i.paused||this._trySkipBufferHole(C);return}}const v=o.detectStallWithCurrentTimeMs,y=self.performance.now(),_=this.waiting;if(a===null){_>0&&y-_<v?this.stalled=_:this.stalled=y;return}const b=y-a;if(!u&&(b>=v||_)&&this.hls){var w;if(((w=this.mediaSource)==null?void 0:w.readyState)==="ended"&&!(g!=null&&g.live)&&Math.abs(e-((g==null?void 0:g.edge)||0))<1){if(this.ended)return;this.ended=e||1,this.hls.trigger(Q.MEDIA_ENDED,{stalled:!0});return}if(this._reportStall(f),!this.media||!this.hls)return}const S=yn.bufferInfo(i,e,o.maxBufferHole);this._tryFixBufferStall(S,b)}stallResolved(e){const n=this.stalled;if(n&&this.hls&&(this.stalled=null,this.stallReported)){const r=self.performance.now()-n;this.log(`playback not stuck anymore @${e}, after ${Math.round(r)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(Q.STALL_RESOLVED,{})}}nudgeOnVideoHole(e,n){var r;const s=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&(r=this.buffered.audio)!=null&&r.length&&s&&s.length>1&&e>s.end(0)){const o=yn.bufferedInfo(yn.timeRangesToArray(this.buffered.audio),e,0);if(o.len>1&&n>=o.start){const i=yn.timeRangesToArray(s),a=yn.bufferedInfo(i,n,0).bufferedIndex;if(a>-1&&a<i.length-1){const u=yn.bufferedInfo(i,e,0).bufferedIndex,l=i[a].end,c=i[a+1].start;if((u===-1||u>a)&&c-l<1&&e-l<2){const d=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${e} hole: ${l} -> ${c} buffered index: ${u}`);this.warn(d.message),this.media.currentTime+=1e-6;const f=this.fragmentTracker.getPartialFragment(e)||void 0,h=yn.bufferInfo(this.media,e,0);this.hls.trigger(Q.ERROR,{type:tn.MEDIA_ERROR,details:Xe.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:d,reason:d.message,frag:f,buffer:h.len,bufferInfo:h})}}}}}_tryFixBufferStall(e,n){var r,s;const{fragmentTracker:o,media:i}=this,a=(r=this.hls)==null?void 0:r.config;if(!i||!o||!a)return;const u=i.currentTime,l=(s=this.hls)==null?void 0:s.latestLevelDetails,c=o.getPartialFragment(u);if((c||l!=null&&l.live&&u<l.fragmentStart)&&(this._trySkipBufferHole(c)||!this.media))return;const d=e.buffered;(d&&d.length>1&&e.len>a.maxBufferHole||e.nextStart&&e.nextStart-u<a.maxBufferHole)&&(n>a.highBufferWatchdogPeriod*1e3||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(e))}_reportStall(e){const{hls:n,media:r,stallReported:s,stalled:o}=this;if(!s&&o!==null&&r&&n){this.stallReported=!0;const i=new Error(`Playback stalling at @${r.currentTime} due to low buffer (${ar(e)})`);this.warn(i.message),n.trigger(Q.ERROR,{type:tn.MEDIA_ERROR,details:Xe.BUFFER_STALLED_ERROR,fatal:!1,error:i,buffer:e.len,bufferInfo:e,stalled:{start:o}})}}_trySkipBufferHole(e){var n;const{fragmentTracker:r,media:s}=this,o=(n=this.hls)==null?void 0:n.config;if(!s||!r||!o)return 0;const i=s.currentTime,a=yn.bufferInfo(s,i,0),u=i<a.start?a.start:a.nextStart;if(u&&this.hls){const c=a.len<=o.maxBufferHole,d=a.len>0&&a.len<1&&s.readyState<3,f=u-i;if(f>0&&(c||d)){if(f>o.maxBufferHole){let p=!1;if(i===0){const g=r.getAppendedFrag(0,en.MAIN);g&&u<g.end&&(p=!0)}if(!p){const g=e||r.getAppendedFrag(i,en.MAIN);if(g){var l;if(!((l=this.hls.loadLevelObj)!=null&&l.details)||K2(this.hls.inFlightFragments,u))return 0;let y=!1,_=g.end;for(;_<u;){const b=r.getPartialFragment(_);if(b)_+=b.duration;else{y=!0;break}}if(y)return 0}}}const h=Math.max(u+gve,i+mve);if(this.warn(`skipping hole, adjusting currentTime from ${i} to ${h}`),this.moved=!0,s.currentTime=h,!(e!=null&&e.gap)){const p=new Error(`fragment loaded with buffer holes, seeking from ${i} to ${h}`);this.hls.trigger(Q.ERROR,{type:tn.MEDIA_ERROR,details:Xe.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:p,reason:p.message,frag:e||void 0,buffer:a.len,bufferInfo:a})}return h}}return 0}_tryNudgeBuffer(e){const{hls:n,media:r,nudgeRetry:s}=this,o=n==null?void 0:n.config;if(!r||!o)return 0;const i=r.currentTime;if(this.nudgeRetry++,s<o.nudgeMaxRetry){const a=i+(s+1)*o.nudgeOffset,u=new Error(`Nudging 'currentTime' from ${i} to ${a}`);this.warn(u.message),r.currentTime=a,n.trigger(Q.ERROR,{type:tn.MEDIA_ERROR,details:Xe.BUFFER_NUDGE_ON_STALL,error:u,fatal:!1,buffer:e.len,bufferInfo:e})}else{const a=new Error(`Playhead still not moving while enough data buffered @${i} after ${o.nudgeMaxRetry} nudges`);this.error(a.message),n.trigger(Q.ERROR,{type:tn.MEDIA_ERROR,details:Xe.BUFFER_STALLED_ERROR,error:a,fatal:!0,buffer:e.len,bufferInfo:e})}}}function K2(t,e){const n=z2(t.main);if(n&&n.start<=e)return n;const r=z2(t.audio);return r&&r.start<=e?r:null}function z2(t){if(!t)return null;switch(t.state){case ct.IDLE:case ct.STOPPED:case ct.ENDED:case ct.ERROR:return null}return t.frag}const bve=.25;function eb(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function W2(t,e,n,r,s){let o=new t(e,n,"");try{o.value=r,s&&(o.type=s)}catch{o=new t(e,n,ar(s?Hn({type:s},r):r))}return o}const $h=(()=>{const t=eb();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function wve(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class _ve{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(Q.EVENT_CUE_ENTER,{})},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:e}=this;e.on(Q.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Q.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Q.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Q.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(Q.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Q.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Q.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(Q.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Q.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Q.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Q.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(Q.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Q.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Q.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)}onMediaAttaching(e,n){var r;this.media=n.media,((r=n.overrides)==null?void 0:r.cueRemoval)===!1&&(this.removeCues=!1)}onMediaAttached(){const e=this.hls.latestLevelDetails;e&&this.updateDateRangeCues(e)}onMediaDetaching(e,n){this.media=null,!n.transferMedia&&(this.id3Track&&(this.removeCues&&uu(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const n=this.getID3Track(e.textTracks);return n.mode="hidden",n}getID3Track(e){if(this.media){for(let n=0;n<e.length;n++){const r=e[n];if(r.kind==="metadata"&&r.label==="id3")return OD(r,this.media),r}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,n){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:r,enableID3MetadataCues:s}}}=this;if(!r&&!s)return;const{samples:o}=n;this.id3Track||(this.id3Track=this.createTrack(this.media));const i=eb();if(i)for(let a=0;a<o.length;a++){const u=o[a].type;if(u===Ps.emsg&&!r||!s)continue;const l=mD(o[a].data);if(l){const c=o[a].pts;let d=c+o[a].duration;d>$h&&(d=$h),d-c<=0&&(d=c+bve);for(let h=0;h<l.length;h++){const p=l[h];if(!gD(p)){this.updateId3CueEnds(c,u);const g=W2(i,c,d,p,u);g&&this.id3Track.addCue(g)}}}}}updateId3CueEnds(e,n){var r;const s=(r=this.id3Track)==null?void 0:r.cues;if(s)for(let o=s.length;o--;){const i=s[o];i.type===n&&i.startTime<e&&i.endTime===$h&&(i.endTime=e)}}onBufferFlushing(e,{startOffset:n,endOffset:r,type:s}){const{id3Track:o,hls:i}=this;if(!i)return;const{config:{enableEmsgMetadataCues:a,enableID3MetadataCues:u}}=i;if(o&&(a||u)){let l;s==="audio"?l=c=>c.type===Ps.audioId3&&u:s==="video"?l=c=>c.type===Ps.emsg&&a:l=c=>c.type===Ps.audioId3&&u||c.type===Ps.emsg&&a,Xy(o,n,r,l)}}onLevelUpdated(e,{details:n}){this.updateDateRangeCues(n,!0)}onLevelPtsUpdated(e,n){Math.abs(n.drift)>.01&&this.updateDateRangeCues(n.details)}updateDateRangeCues(e,n){if(!this.media||!e.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{id3Track:r}=this,{dateRanges:s}=e,o=Object.keys(s);let i=this.dateRangeCuesAppended;if(r&&n){var a;if((a=r.cues)!=null&&a.length){const c=Object.keys(i).filter(d=>!o.includes(d));for(let d=c.length;d--;){const f=c[d],h=i[f].cues;delete i[f],Object.keys(h).forEach(p=>{try{const g=h[p];g.removeEventListener("enter",this.onEventCueEnter),r.removeCue(g)}catch{}})}}else i=this.dateRangeCuesAppended={}}const u=e.fragments[e.fragments.length-1];if(o.length===0||!jt(u==null?void 0:u.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const l=eb();for(let c=0;c<o.length;c++){const d=o[c],f=s[d],h=f.startTime,p=i[d],g=(p==null?void 0:p.cues)||{};let v=(p==null?void 0:p.durationKnown)||!1,y=$h;const{duration:_,endDate:b}=f;if(b&&_!==null)y=h+_,v=!0;else if(f.endOnNext&&!v){const S=o.reduce((E,T)=>{if(T!==f.id){const I=s[T];if(I.class===f.class&&I.startDate>f.startDate&&(!E||f.startDate<E.startDate))return I}return E},null);S&&(y=S.startTime,v=!0)}const w=Object.keys(f.attr);for(let S=0;S<w.length;S++){const E=w[S];if(!Zhe(E))continue;const T=g[E];if(T)v&&!p.durationKnown?T.endTime=y:Math.abs(T.startTime-h)>.01&&(T.startTime=h,T.endTime=y);else if(l){let I=f.attr[E];Jhe(E)&&(I=wve(I));const C=W2(l,h,y,{key:E,data:I},Ps.dateRange);C&&(C.id=d,this.id3Track.addCue(C),g[E]=C,this.hls.config.interstitialsController&&(E==="X-ASSET-LIST"||E==="X-ASSET-URL")&&C.addEventListener("enter",this.onEventCueEnter))}}i[d]={cues:g,dateRange:f,durationKnown:v}}}}class Sve{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:n}=this,r=this.levelDetails;if(!n||!r)return;this.currentTime=n.currentTime;const s=this.computeLatency();if(s===null)return;this._latency=s;const{lowLatencyMode:o,maxLiveSyncPlaybackRate:i}=this.config;if(!o||i===1||!r.live)return;const a=this.targetLatency;if(a===null)return;const u=s-a,l=Math.min(this.maxLatency,a+r.targetduration);if(u<l&&u>.05&&this.forwardBufferLength>1){const d=Math.min(2,Math.max(1,i)),f=Math.round(2/(1+Math.exp(-.75*u-this.edgeStalled))*20)/20,h=Math.min(d,Math.max(1,f));this.changeMediaPlaybackRate(n,h)}else n.playbackRate!==1&&n.playbackRate!==0&&this.changeMediaPlaybackRate(n,1)},this.hls=e,this.config=e.config,this.registerListeners()}get levelDetails(){var e;return((e=this.hls)==null?void 0:e.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:e}=this;if(e.liveMaxLatencyDuration!==void 0)return e.liveMaxLatencyDuration;const n=this.levelDetails;return n?e.liveMaxLatencyDurationCount*n.targetduration:0}get targetLatency(){const e=this.levelDetails;if(e===null||this.hls===null)return null;const{holdBack:n,partHoldBack:r,targetduration:s}=e,{liveSyncDuration:o,liveSyncDurationCount:i,lowLatencyMode:a}=this.config,u=this.hls.userConfig;let l=a&&r||n;(this._targetLatencyUpdated||u.liveSyncDuration||u.liveSyncDurationCount||l===0)&&(l=o!==void 0?o:i*s);const c=s;return l+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,c)}set targetLatency(e){this.stallCount=0,this.config.liveSyncDuration=e,this._targetLatencyUpdated=!0}get liveSyncPosition(){const e=this.estimateLiveEdge(),n=this.targetLatency;if(e===null||n===null)return null;const r=this.levelDetails;if(r===null)return null;const s=r.edge,o=e-n-this.edgeStalled,i=s-r.totalduration,a=s-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(i,o),a)}get drift(){const e=this.levelDetails;return e===null?1:e.drift}get edgeStalled(){const e=this.levelDetails;if(e===null)return 0;const n=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-n,0)}get forwardBufferLength(){const{media:e}=this,n=this.levelDetails;if(!e||!n)return 0;const r=e.buffered.length;return(r?e.buffered.end(r-1):n.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:e}=this;e&&(e.on(Q.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Q.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Q.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Q.ERROR,this.onError,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(Q.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Q.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Q.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Q.ERROR,this.onError,this))}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:n}){n.advanced&&this.onTimeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(e,n){var r;n.details===Xe.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&(r=this.levelDetails)!=null&&r.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(e,n){var r,s;e.playbackRate!==n&&((r=this.hls)==null||r.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${(s=this.targetLatency)==null?void 0:s.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${e.playbackRate} to ${n}`),e.playbackRate=n)}estimateLiveEdge(){const e=this.levelDetails;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}class Eve extends Qw{constructor(e,n){super(e,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=n,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Q.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Q.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Q.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Q.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Q.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Q.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Q.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Q.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Q.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Q.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(n=>{n.loadError=0,n.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,n){this.resetLevels()}onManifestLoaded(e,n){const r=this.hls.config.preferManagedMediaSource,s=[],o={},i={};let a=!1,u=!1,l=!1;n.levels.forEach(c=>{var d;const f=c.attrs;let{audioCodec:h,videoCodec:p}=c;h&&(c.audioCodec=h=tm(h,r)||void 0),((d=p)==null?void 0:d.indexOf("avc1"))===0&&(p=c.videoCodec=bhe(p));const{width:g,height:v,unknownCodecs:y}=c;let _=y?y.length:0;if(y)for(let N=_;N--;){const D=y[N];this.isAudioSupported(D)?(c.audioCodec=h=h?`${h},${D}`:D,_--,qu.audio[h.substring(0,4)]=2):this.isVideoSupported(D)&&(c.videoCodec=p=p?`${p},${D}`:D,_--,qu.video[p.substring(0,4)]=2)}if(a||(a=!!(g&&v)),u||(u=!!p),l||(l=!!h),_||h&&!this.isAudioSupported(h)||p&&!this.isVideoSupported(p)){this.log(`Some or all CODECS not supported "${f.CODECS}"`);return}const{CODECS:b,"FRAME-RATE":w,"HDCP-LEVEL":S,"PATHWAY-ID":E,RESOLUTION:T,"VIDEO-RANGE":I}=f,C=`${`${E||"."}-`}${c.bitrate}-${T}-${w}-${b}-${I}-${S}`;if(o[C])if(o[C].uri!==c.url&&!c.attrs["PATHWAY-ID"]){const N=i[C]+=1;c.attrs["PATHWAY-ID"]=new Array(N+1).join(".");const D=this.createLevel(c);o[C]=D,s.push(D)}else o[C].addGroupId("audio",f.AUDIO),o[C].addGroupId("text",f.SUBTITLES);else{const N=this.createLevel(c);o[C]=N,i[C]=1,s.push(N)}}),this.filterAndSortMediaOptions(s,n,a,u,l)}createLevel(e){const n=new Wd(e),r=e.supplemental;if(r!=null&&r.videoCodec&&!this.isVideoSupported(r.videoCodec)){const s=new Error(`SUPPLEMENTAL-CODECS not supported "${r.videoCodec}"`);this.log(s.message),n.supportedResult=jP(s,[])}return n}isAudioSupported(e){return By(e,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(e){return By(e,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(e,n,r,s,o){let i=[],a=[],u=e;if((r||s)&&o&&(u=u.filter(({videoCodec:v,videoRange:y,width:_,height:b})=>(!!v||!!(_&&b))&&xhe(y))),u.length===0){Promise.resolve().then(()=>{if(this.hls){let v="no level with compatible codecs found in manifest",y=v;n.levels.length&&(y=`one or more CODECS in variant not supported: ${ar(n.levels.map(b=>b.attrs.CODECS).filter((b,w,S)=>S.indexOf(b)===w))}`,this.warn(y),v+=` (${y})`);const _=new Error(v);this.hls.trigger(Q.ERROR,{type:tn.MEDIA_ERROR,details:Xe.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:n.url,error:_,reason:y})}});return}n.audioTracks&&(i=n.audioTracks.filter(v=>!v.audioCodec||this.isAudioSupported(v.audioCodec)),G2(i)),n.subtitles&&(a=n.subtitles,G2(a));const l=u.slice(0);u.sort((v,y)=>{if(v.attrs["HDCP-LEVEL"]!==y.attrs["HDCP-LEVEL"])return(v.attrs["HDCP-LEVEL"]||"")>(y.attrs["HDCP-LEVEL"]||"")?1:-1;if(r&&v.height!==y.height)return v.height-y.height;if(v.frameRate!==y.frameRate)return v.frameRate-y.frameRate;if(v.videoRange!==y.videoRange)return nm.indexOf(v.videoRange)-nm.indexOf(y.videoRange);if(v.videoCodec!==y.videoCodec){const _=VT(v.videoCodec),b=VT(y.videoCodec);if(_!==b)return b-_}if(v.uri===y.uri&&v.codecSet!==y.codecSet){const _=em(v.codecSet),b=em(y.codecSet);if(_!==b)return b-_}return v.averageBitrate!==y.averageBitrate?v.averageBitrate-y.averageBitrate:0});let c=l[0];if(this.steering&&(u=this.steering.filterParsedLevels(u),u.length!==l.length)){for(let v=0;v<l.length;v++)if(l[v].pathwayId===u[0].pathwayId){c=l[v];break}}this._levels=u;for(let v=0;v<u.length;v++)if(u[v]===c){var d;this._firstLevel=v;const y=c.bitrate,_=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${u.length} level(s) found, first bitrate: ${y}`),((d=this.hls.userConfig)==null?void 0:d.abrEwmaDefaultEstimate)===void 0){const b=Math.min(y,this.hls.config.abrEwmaDefaultEstimateMax);b>_&&_===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=b)}break}const f=o&&!s,h=this.hls.config,p=!!(h.audioStreamController&&h.audioTrackController),g={levels:u,audioTracks:i,subtitleTracks:a,sessionData:n.sessionData,sessionKeys:n.sessionKeys,firstLevel:this._firstLevel,stats:n.stats,audio:o,video:s,altAudio:p&&!f&&i.some(v=>!!v.url)};this.hls.trigger(Q.MANIFEST_PARSED,g)}get levels(){return this._levels.length===0?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(e){const n=this._levels;if(n.length===0)return;if(e<0||e>=n.length){const c=new Error("invalid level idx"),d=e<0;if(this.hls.trigger(Q.ERROR,{type:tn.OTHER_ERROR,details:Xe.LEVEL_SWITCH_ERROR,level:e,fatal:d,error:c,reason:c.message}),d)return;e=Math.min(e,n.length-1)}const r=this.currentLevelIndex,s=this.currentLevel,o=s?s.attrs["PATHWAY-ID"]:void 0,i=n[e],a=i.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=i,r===e&&s&&o===a)return;this.log(`Switching to level ${e} (${i.height?i.height+"p ":""}${i.videoRange?i.videoRange+" ":""}${i.codecSet?i.codecSet+" ":""}@${i.bitrate})${a?" with Pathway "+a:""} from level ${r}${o?" with Pathway "+o:""}`);const u={level:e,attrs:i.attrs,details:i.details,bitrate:i.bitrate,averageBitrate:i.averageBitrate,maxBitrate:i.maxBitrate,realBitrate:i.realBitrate,width:i.width,height:i.height,codecSet:i.codecSet,audioCodec:i.audioCodec,videoCodec:i.videoCodec,audioGroups:i.audioGroups,subtitleGroups:i.subtitleGroups,loaded:i.loaded,loadError:i.loadError,fragmentError:i.fragmentError,name:i.name,id:i.id,uri:i.uri,url:i.url,urlId:0,audioGroupIds:i.audioGroupIds,textGroupIds:i.textGroupIds};this.hls.trigger(Q.LEVEL_SWITCHING,u);const l=i.details;if(!l||l.live){const c=this.switchParams(i.uri,s==null?void 0:s.details,l);this.loadPlaylist(c)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(e){if(this.steering){const n=this.steering.pathways(),r=e.filter(s=>n.indexOf(s)!==-1);if(e.length<1){this.warn(`pathwayPriority ${e} should contain at least one pathway from list: ${n}`);return}this.steering.pathwayPriority=r}}onError(e,n){n.fatal||!n.context||n.context.type===kn.LEVEL&&n.context.level===this.level&&this.checkRetry(n)}onFragBuffered(e,{frag:n}){if(n!==void 0&&n.type===en.MAIN){const r=n.elementaryStreams;if(!Object.keys(r).some(o=>!!r[o]))return;const s=this._levels[n.level];s!=null&&s.loadError&&(this.log(`Resetting level error count of ${s.loadError} on frag buffered`),s.loadError=0)}}onLevelLoaded(e,n){var r;const{level:s,details:o}=n,i=n.levelInfo;if(!i){var a;this.warn(`Invalid level index ${s}`),(a=n.deliveryDirectives)!=null&&a.skip&&(o.deltaUpdateFailed=!0);return}if(i===this.currentLevel||n.withoutMultiVariant){i.fragmentError===0&&(i.loadError=0);let u=i.details;u===n.details&&u.advanced&&(u=void 0),this.playlistLoaded(s,n,u)}else(r=n.deliveryDirectives)!=null&&r.skip&&(o.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,e)}loadingPlaylist(e,n){super.loadingPlaylist(e,n);const r=this.getUrlWithDirectives(e.uri,n),s=this.currentLevelIndex,o=e.attrs["PATHWAY-ID"],i=e.details,a=i==null?void 0:i.age;this.log(`Loading level index ${s}${(n==null?void 0:n.msn)!==void 0?" at sn "+n.msn+" part "+n.part:""}${o?" Pathway "+o:""}${a&&i.live?" age "+a.toFixed(1)+(i.type&&" "+i.type||""):""} ${r}`),this.hls.trigger(Q.LEVEL_LOADING,{url:r,level:s,levelInfo:e,pathwayId:e.attrs["PATHWAY-ID"],id:0,deliveryDirectives:n||null})}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var n;if(this._levels.length===1)return;const r=this._levels.filter((o,i)=>i!==e?!0:(this.steering&&this.steering.removeLevel(o),o===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,o.details&&o.details.fragments.forEach(a=>a.level=-1)),!1));sD(r),this._levels=r,this.currentLevelIndex>-1&&(n=this.currentLevel)!=null&&n.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const s=r.length-1;this._firstLevel=Math.min(this._firstLevel,s),this._startLevel&&(this._startLevel=Math.min(this._startLevel,s)),this.hls.trigger(Q.LEVELS_UPDATED,{levels:r})}onLevelsUpdated(e,{levels:n}){this._levels=n}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:n,maxHdcpLevel:r}=this.hls;this._maxAutoLevel!==n&&(this._maxAutoLevel=n,this.hls.trigger(Q.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:n,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:r}))}}function G2(t){const e={};t.forEach(n=>{const r=n.groupId||"";n.id=e[r]=e[r]||0,e[r]++})}function qD(){return self.SourceBuffer||self.WebKitSourceBuffer}function YD(){if(!Fa())return!1;const e=qD();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function xve(){if(!YD())return!1;const t=Fa();return typeof(t==null?void 0:t.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>t.isTypeSupported(zd(e,"video")))||["mp4a.40.2","fLaC"].some(e=>t.isTypeSupported(zd(e,"audio"))))}function Tve(){var t;const e=qD();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}const Cve=100;class kve extends jw{constructor(e,n,r){super(e,n,r,"stream-controller",en.MAIN),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const s=this.media,o=s?s.currentTime:null;if(o===null||!jt(o)||(this.log(`Media seeked to ${o.toFixed(3)}`),!this.getBufferedFrag(o)))return;const i=this.getFwdBufferInfoAtPos(s,o,en.MAIN,0);if(i===null||i.len===0){this.warn(`Main forward buffer length at ${o} on "seeked" event ${i?i.len:"empty"})`);return}this.tick()},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(Q.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Q.LEVEL_LOADING,this.onLevelLoading,this),e.on(Q.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Q.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(Q.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Q.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(Q.BUFFER_CREATED,this.onBufferCreated,this),e.on(Q.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Q.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Q.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(Q.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Q.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Q.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(Q.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Q.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(Q.BUFFER_CREATED,this.onBufferCreated,this),e.off(Q.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Q.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Q.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(e,n){if(this.levels){const{lastCurrentTime:r,hls:s}=this;if(this.stopLoad(),this.setInterval(Cve),this.level=-1,!this.startFragRequested){let o=s.startLevel;o===-1&&(s.config.testBandwidth&&this.levels.length>1?(o=0,this.bitrateTest=!0):o=s.firstAutoLevel),s.nextLoadLevel=o,this.level=s.loadLevel,this._hasEnoughToStart=!!n}r>0&&e===-1&&!n&&(this.log(`Override startPosition with lastCurrentTime @${r.toFixed(3)}`),e=r),this.state=ct.IDLE,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=n?-1:e,this.tick()}else this._forceStartLoad=!0,this.state=ct.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case ct.WAITING_LEVEL:{const{levels:n,level:r}=this,s=n==null?void 0:n[r],o=s==null?void 0:s.details;if(o&&(!o.live||this.levelLastLoaded===s&&!this.waitForLive(s))){if(this.waitForCdnTuneIn(o))break;this.state=ct.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=ct.IDLE;break}break}case ct.FRAG_LOADING_WAITING_RETRY:{var e;const n=self.performance.now(),r=this.retryDate;if(!r||n>=r||(e=this.media)!=null&&e.seeking){const{levels:s,level:o}=this,i=s==null?void 0:s[o];this.resetStartWhenNotLoaded(i||null),this.state=ct.IDLE}}break}this.state===ct.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var e;super.onTickEnd(),(e=this.media)!=null&&e.readyState&&this.media.seeking===!1&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:n,levels:r,media:s}=this;if(n===null||!s&&!this.primaryPrefetch&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const o=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(r!=null&&r[o]))return;const i=r[o],a=this.getMainFwdBufferInfo();if(a===null)return;const u=this.getLevelDetails();if(u&&this._streamEnded(a,u)){const g={};this.altAudio===2&&(g.type="video"),this.hls.trigger(Q.BUFFER_EOS,g),this.state=ct.ENDED;return}if(!this.buffering)return;e.loadLevel!==o&&e.manualLevel===-1&&this.log(`Adapting to level ${o} from level ${this.level}`),this.level=e.nextLoadLevel=o;const l=i.details;if(!l||this.state===ct.WAITING_LEVEL||this.waitForLive(i)){this.level=o,this.state=ct.WAITING_LEVEL,this.startFragRequested=!1;return}const c=a.len,d=this.getMaxBufferLength(i.maxBitrate);if(c>=d)return;this.backtrackFragment&&this.backtrackFragment.start>a.end&&(this.backtrackFragment=null);const f=this.backtrackFragment?this.backtrackFragment.start:a.end;let h=this.getNextFragment(f,l);if(this.couldBacktrack&&!this.fragPrevious&&h&&Mr(h)&&this.fragmentTracker.getState(h)!==Ar.OK){var p;const v=((p=this.backtrackFragment)!=null?p:h).sn-l.startSN,y=l.fragments[v-1];y&&h.cc===y.cc&&(h=y,this.fragmentTracker.removeFragment(y))}else this.backtrackFragment&&a.len&&(this.backtrackFragment=null);if(h&&this.isLoopLoading(h,f)){if(!h.gap){const v=this.audioOnly&&!this.altAudio?Wn.AUDIO:Wn.VIDEO,y=(v===Wn.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;y&&this.afterBufferFlushed(y,v,en.MAIN)}h=this.getNextFragmentLoopLoading(h,l,a,en.MAIN,d)}h&&(h.initSegment&&!h.initSegment.data&&!this.bitrateTest&&(h=h.initSegment),this.loadFragment(h,i,f))}loadFragment(e,n,r){const s=this.fragmentTracker.getState(e);s===Ar.NOT_LOADED||s===Ar.PARTIAL?Mr(e)?this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,n)):super.loadFragment(e,n,r):this._loadInitSegment(e,n):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,en.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:n}=this;if(n!=null&&n.readyState){let r;const s=this.getAppendedFrag(n.currentTime);s&&s.start>1&&this.flushMainBuffer(0,s.start-1);const o=this.getLevelDetails();if(o!=null&&o.live){const a=this.getMainFwdBufferInfo();if(!a||a.len<o.targetduration*2)return}if(!n.paused&&e){const a=this.hls.nextLoadLevel,u=e[a],l=this.fragLastKbps;l&&this.fragCurrent?r=this.fragCurrent.duration*u.maxBitrate/(1e3*l)+1:r=0}else r=0;const i=this.getBufferedFrag(n.currentTime+r);if(i){const a=this.followingBufferedFrag(i);if(a){this.abortCurrentFrag();const u=a.maxStartPTS?a.maxStartPTS:a.start,l=a.duration,c=Math.max(i.end,u+Math.min(Math.max(l-this.config.maxFragLookUpTolerance,l*(this.couldBacktrack?.5:.125)),l*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(c,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case ct.KEY_LOADING:case ct.FRAG_LOADING:case ct.FRAG_LOADING_WAITING_RETRY:case ct.PARSING:case ct.PARSED:this.state=ct.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,n){super.flushMainBuffer(e,n,this.altAudio===2?"video":null)}onMediaAttached(e,n){super.onMediaAttached(e,n);const r=n.media;Mi(r,"playing",this.onMediaPlaying),Mi(r,"seeked",this.onMediaSeeked)}onMediaDetaching(e,n){const{media:r}=this;r&&(ei(r,"playing",this.onMediaPlaying),ei(r,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(e,n),!n.transferMedia&&(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(Q.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(e,n){let r=!1,s=!1;n.levels.forEach(o=>{const i=o.audioCodec;i&&(r=r||i.indexOf("mp4a.40.2")!==-1,s=s||i.indexOf("mp4a.40.5")!==-1)}),this.audioCodecSwitch=r&&s&&!Tve(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=n.levels,this.startFragRequested=!1}onLevelLoading(e,n){const{levels:r}=this;if(!r||this.state!==ct.IDLE)return;const s=n.levelInfo;(!s.details||s.details.live&&(this.levelLastLoaded!==s||s.details.expired)||this.waitForCdnTuneIn(s.details))&&(this.state=ct.WAITING_LEVEL)}onLevelLoaded(e,n){var r;const{levels:s,startFragRequested:o}=this,i=n.level,a=n.details,u=a.totalduration;if(!s){this.warn(`Levels were reset while loading level ${i}`);return}this.log(`Level ${i} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""}, cc [${a.startCC}, ${a.endCC}] duration:${u}`);const l=n.levelInfo,c=this.fragCurrent;c&&(this.state===ct.FRAG_LOADING||this.state===ct.FRAG_LOADING_WAITING_RETRY)&&c.level!==n.level&&c.loader&&this.abortCurrentFrag();let d=0;if(a.live||(r=l.details)!=null&&r.live){var f;if(this.checkLiveUpdate(a),a.deltaUpdateFailed)return;d=this.alignPlaylists(a,l.details,(f=this.levelLastLoaded)==null?void 0:f.details)}if(l.details=a,this.levelLastLoaded=l,o||this.setStartPosition(a,d),this.hls.trigger(Q.LEVEL_UPDATED,{details:a,level:i}),this.state===ct.WAITING_LEVEL){if(this.waitForCdnTuneIn(a))return;this.state=ct.IDLE}o&&a.live&&this.synchronizeToLiveEdge(a),this.tick()}synchronizeToLiveEdge(e){const{config:n,media:r}=this;if(!r)return;const s=this.hls.liveSyncPosition,o=this.getLoadPosition(),i=e.fragmentStart,a=e.edge,u=o>=i-n.maxFragLookUpTolerance&&o<=a;if(s!==null&&r.duration>s&&(o<s||!u)){const l=n.liveMaxLatencyDuration!==void 0?n.liveMaxLatencyDuration:n.liveMaxLatencyDurationCount*e.targetduration;(!u&&r.readyState<4||o<a-l)&&(this._hasEnoughToStart||(this.nextLoadPosition=s),r.readyState&&(this.warn(`Playback: ${o.toFixed(3)} is located too far from the end of live sliding playlist: ${a}, reset currentTime to : ${s.toFixed(3)}`),r.currentTime=s))}}_handleFragmentLoadProgress(e){var n;const r=e.frag,{part:s,payload:o}=e,{levels:i}=this;if(!i){this.warn(`Levels were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const a=i[r.level];if(!a){this.warn(`Level ${r.level} not found on progress`);return}const u=a.details;if(!u){this.warn(`Dropping fragment ${r.sn} of level ${r.level} after level details were reset`),this.fragmentTracker.removeFragment(r);return}const l=a.videoCodec,c=u.PTSKnown||!u.live,d=(n=r.initSegment)==null?void 0:n.data,f=this._getAudioCodec(a),h=this.transmuxer=this.transmuxer||new kD(this.hls,en.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),p=s?s.index:-1,g=p!==-1,v=new Vw(r.level,r.sn,r.stats.chunkCount,o.byteLength,p,g),y=this.initPTS[r.cc];h.push(o,d,f,l,r,s,u.totalduration,c,v,y)}onAudioTrackSwitching(e,n){const r=this.hls,s=this.altAudio===2;if(rm(n.url,r))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const i=this.fragCurrent;i&&(this.log("Switching to main audio track, cancel main fragment load"),i.abortRequests(),this.fragmentTracker.removeFragment(i)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(s){this.fragmentTracker.removeAllFragments(),r.once(Q.BUFFER_FLUSHED,()=>{var i;(i=this.hls)==null||i.trigger(Q.AUDIO_TRACK_SWITCHED,n)}),r.trigger(Q.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});return}r.trigger(Q.AUDIO_TRACK_SWITCHED,n)}}onAudioTrackSwitched(e,n){const r=rm(n.url,this.hls);if(r){const s=this.videoBuffer;s&&this.mediaBuffer!==s&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=s)}this.altAudio=r?2:0,this.tick()}onBufferCreated(e,n){const r=n.tracks;let s,o,i=!1;for(const a in r){const u=r[a];if(u.id==="main"){if(o=a,s=u,a==="video"){const l=r[a];l&&(this.videoBuffer=l.buffer)}}else i=!0}i&&s?(this.log(`Alternate track found, use ${o}.buffered to schedule main fragment loading`),this.mediaBuffer=s.buffer):this.mediaBuffer=this.media}onFragBuffered(e,n){const{frag:r,part:s}=n,o=r.type===en.MAIN;if(o){if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${s?" p: "+s.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}`),this.state===ct.PARSED&&(this.state=ct.IDLE);return}const a=s?s.stats:r.stats;this.fragLastKbps=Math.round(8*a.total/(a.buffering.end-a.loading.first)),Mr(r)&&(this.fragPrevious=r),this.fragBufferedComplete(r,s)}const i=this.media;i&&(!this._hasEnoughToStart&&yn.getBuffered(i).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),o&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(e,n){var r;if(n.fatal){this.state=ct.ERROR;return}switch(n.details){case Xe.FRAG_GAP:case Xe.FRAG_PARSING_ERROR:case Xe.FRAG_DECRYPT_ERROR:case Xe.FRAG_LOAD_ERROR:case Xe.FRAG_LOAD_TIMEOUT:case Xe.KEY_LOAD_ERROR:case Xe.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(en.MAIN,n);break;case Xe.LEVEL_LOAD_ERROR:case Xe.LEVEL_LOAD_TIMEOUT:case Xe.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===ct.WAITING_LEVEL&&((r=n.context)==null?void 0:r.type)===kn.LEVEL&&(this.state=ct.IDLE);break;case Xe.BUFFER_ADD_CODEC_ERROR:case Xe.BUFFER_APPEND_ERROR:if(n.parent!=="main")return;this.resetLoadingState();break;case Xe.BUFFER_FULL_ERROR:if(n.parent!=="main")return;this.reduceLengthAndFlushBuffer(n)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case Xe.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onFragLoadEmergencyAborted(){this.state=ct.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(e,{type:n}){if(n!==Wn.AUDIO||!this.altAudio){const r=(n===Wn.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;r&&(this.afterBufferFlushed(r,n,en.MAIN),this.tick())}}onLevelsUpdated(e,n){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,this.level===-1&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=n.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const n=e.currentTime;let r=this.startPosition;if(r>=0&&n<r){if(e.seeking){this.log(`could not seek to ${r}, already seeking at ${n}`);return}const s=this.timelineOffset;s&&r&&(r+=s);const o=this.getLevelDetails(),i=yn.getBuffered(e),a=i.length?i.start(0):0,u=a-r,l=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);u>0&&(u<l||this.loadingParts&&u<2*((o==null?void 0:o.partTarget)||0))&&(this.log(`adjusting start position by ${u} to match buffer start`),r+=u,this.startPosition=r),n<r&&(this.log(`seek to target start position ${r} from current time ${n} buffer start ${a}`),e.currentTime=r)}}_getAudioCodec(e){let n=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&n&&(this.log("Swapping audio codec"),n.indexOf("mp4a.40.5")!==-1?n="mp4a.40.2":n="mp4a.40.5"),n}_loadBitrateTestFrag(e,n){e.bitrateTest=!0,this._doFragLoad(e,n).then(r=>{const{hls:s}=this,o=r==null?void 0:r.frag;if(!o||this.fragContextChanged(o))return;n.fragmentError=0,this.state=ct.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const i=o.stats;i.parsing.start=i.parsing.end=i.buffering.start=i.buffering.end=self.performance.now(),s.trigger(Q.FRAG_LOADED,r),o.bitrateTest=!1})}_handleTransmuxComplete(e){var n;const r=this.playlistType,{hls:s}=this,{remuxResult:o,chunkMeta:i}=e,a=this.getCurrentContext(i);if(!a){this.resetWhenMissingContext(i);return}const{frag:u,part:l,level:c}=a,{video:d,text:f,id3:h,initSegment:p}=o,{details:g}=c,v=this.altAudio?void 0:o.audio;if(this.fragContextChanged(u)){this.fragmentTracker.removeFragment(u);return}if(this.state=ct.PARSING,p){if(p!=null&&p.tracks){const b=u.initSegment||u;this._bufferInitSegment(c,p.tracks,b,i),s.trigger(Q.FRAG_PARSING_INIT_SEGMENT,{frag:b,id:r,tracks:p.tracks})}const y=p.initPTS,_=p.timescale;jt(y)&&(this.initPTS[u.cc]={baseTime:y,timescale:_},s.trigger(Q.INIT_PTS_FOUND,{frag:u,id:r,initPTS:y,timescale:_}))}if(d&&g){v&&d.type==="audiovideo"&&this.logMuxedErr(u);const y=g.fragments[u.sn-1-g.startSN],_=u.sn===g.startSN,b=!y||u.cc>y.cc;if(o.independent!==!1){const{startPTS:w,endPTS:S,startDTS:E,endDTS:T}=d;if(l)l.elementaryStreams[d.type]={startPTS:w,endPTS:S,startDTS:E,endDTS:T};else if(d.firstKeyFrame&&d.independent&&i.id===1&&!b&&(this.couldBacktrack=!0),d.dropped&&d.independent){const I=this.getMainFwdBufferInfo(),k=(I?I.end:this.getLoadPosition())+this.config.maxBufferHole,C=d.firstKeyFramePTS?d.firstKeyFramePTS:w;if(!_&&k<C-this.config.maxBufferHole&&!b){this.backtrack(u);return}else b&&(u.gap=!0);u.setElementaryStreamInfo(d.type,u.start,S,u.start,T,!0)}else _&&w-(g.appliedTimelineOffset||0)>fp&&(u.gap=!0);u.setElementaryStreamInfo(d.type,w,S,E,T),this.backtrackFragment&&(this.backtrackFragment=u),this.bufferFragmentData(d,u,l,i,_||b)}else if(_||b)u.gap=!0;else{this.backtrack(u);return}}if(v){const{startPTS:y,endPTS:_,startDTS:b,endDTS:w}=v;l&&(l.elementaryStreams[Wn.AUDIO]={startPTS:y,endPTS:_,startDTS:b,endDTS:w}),u.setElementaryStreamInfo(Wn.AUDIO,y,_,b,w),this.bufferFragmentData(v,u,l,i)}if(g&&h!=null&&(n=h.samples)!=null&&n.length){const y={id:r,frag:u,details:g,samples:h.samples};s.trigger(Q.FRAG_PARSING_METADATA,y)}if(g&&f){const y={id:r,frag:u,details:g,samples:f.samples};s.trigger(Q.FRAG_PARSING_USERDATA,y)}}logMuxedErr(e){this.warn(`${Mr(e)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${e.url}`)}_bufferInitSegment(e,n,r,s){if(this.state!==ct.PARSING)return;this.audioOnly=!!n.audio&&!n.video,this.altAudio&&!this.audioOnly&&(delete n.audio,n.audiovideo&&this.logMuxedErr(r));const{audio:o,video:i,audiovideo:a}=n;if(o){let l=ip(o.codec,e.audioCodec);l==="mp4a"&&(l="mp4a.40.5");const c=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){l&&(l.indexOf("mp4a.40.5")!==-1?l="mp4a.40.2":l="mp4a.40.5");const d=o.metadata;d&&"channelCount"in d&&(d.channelCount||1)!==1&&c.indexOf("firefox")===-1&&(l="mp4a.40.5")}l&&l.indexOf("mp4a.40.5")!==-1&&c.indexOf("android")!==-1&&o.container!=="audio/mpeg"&&(l="mp4a.40.2",this.log(`Android: force audio codec to ${l}`)),e.audioCodec&&e.audioCodec!==l&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${l}"`),o.levelCodec=l,o.id=en.MAIN,this.log(`Init audio buffer, container:${o.container}, codecs[selected/level/parsed]=[${l||""}/${e.audioCodec||""}/${o.codec}]`),delete n.audiovideo}if(i){i.levelCodec=e.videoCodec,i.id=en.MAIN;const l=i.codec;if((l==null?void 0:l.length)===4)switch(l){case"hvc1":case"hev1":i.codec="hvc1.1.6.L120.90";break;case"av01":i.codec="av01.0.04M.08";break;case"avc1":i.codec="avc1.42e01e";break}this.log(`Init video buffer, container:${i.container}, codecs[level/parsed]=[${e.videoCodec||""}/${l}]${i.codec!==l?" parsed-corrected="+i.codec:""}${i.supplemental?" supplemental="+i.supplemental:""}`),delete n.audiovideo}a&&(this.log(`Init audiovideo buffer, container:${a.container}, codecs[level/parsed]=[${e.codecs}/${a.codec}]`),delete n.video,delete n.audio);const u=Object.keys(n);if(u.length){if(this.hls.trigger(Q.BUFFER_CODECS,n),!this.hls)return;u.forEach(l=>{const d=n[l].initSegment;d!=null&&d.byteLength&&this.hls.trigger(Q.BUFFER_APPENDING,{type:l,data:d,frag:r,part:null,chunkMeta:s,parent:r.type})})}this.tickImmediate()}getMainFwdBufferInfo(){const e=this.mediaBuffer&&this.altAudio===2?this.mediaBuffer:this.media;return this.getFwdBufferInfo(e,en.MAIN)}get maxBufferLength(){const{levels:e,level:n}=this,r=e==null?void 0:e[n];return r?this.getMaxBufferLength(r.maxBitrate):this.config.maxBufferLength}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=ct.IDLE}checkFragmentChanged(){const e=this.media;let n=null;if(e&&e.readyState>1&&e.seeking===!1){const r=e.currentTime;if(yn.isBuffered(e,r)?n=this.getAppendedFrag(r):yn.isBuffered(e,r+.1)&&(n=this.getAppendedFrag(r+.1)),n){this.backtrackFragment=null;const s=this.fragPlaying,o=n.level;(!s||n.sn!==s.sn||s.level!==o)&&(this.fragPlaying=n,this.hls.trigger(Q.FRAG_CHANGED,{frag:n}),(!s||s.level!==o)&&this.hls.trigger(Q.LEVEL_SWITCHED,{level:o}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){var e;if(this.fragPlaying)return this.fragPlaying;const n=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;return jt(n)?this.getAppendedFrag(n):null}get currentProgramDateTime(){var e;const n=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;if(jt(n)){const r=this.getLevelDetails(),s=this.currentFrag||(r?Rl(null,r.fragments,n):null);if(s){const o=s.programDateTime;if(o!==null){const i=o+(n-s.start)*1e3;return new Date(i)}}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class Ive{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const r in this.keyUriToKeyInfo){const s=this.keyUriToKeyInfo[r].loader;if(s){var n;if(e&&e!==((n=s.context)==null?void 0:n.frag.type))return;s.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e];(n.mediaKeySessionContext||n.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e].loader;n&&n.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,n=Xe.KEY_LOAD_ERROR,r,s,o){return new ki({type:tn.NETWORK_ERROR,details:n,fatal:!1,frag:e,response:o,error:r,networkDetails:s})}loadClear(e,n){if(this.emeController&&this.config.emeEnabled){const{sn:r,cc:s}=e;for(let o=0;o<n.length;o++){const i=n[o];if(s<=i.cc&&(r==="initSegment"||i.sn==="initSegment"||r<i.sn)){this.emeController.selectKeySystemFormat(i).then(a=>{i.setKeyFormat(a)});break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(n=>this.loadInternal(e,n)):this.loadInternal(e)}loadInternal(e,n){var r,s;n&&e.setKeyFormat(n);const o=e.decryptdata;if(!o){const l=new Error(n?`Expected frag.decryptdata to be defined after setting format ${n}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,Xe.KEY_LOAD_ERROR,l))}const i=o.uri;if(!i)return Promise.reject(this.createKeyLoadError(e,Xe.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${i}"`)));let a=this.keyUriToKeyInfo[i];if((r=a)!=null&&r.decryptdata.key)return o.key=a.decryptdata.key,Promise.resolve({frag:e,keyInfo:a});if((s=a)!=null&&s.keyLoadPromise){var u;switch((u=a.mediaKeySessionContext)==null?void 0:u.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return a.keyLoadPromise.then(l=>(o.key=l.keyInfo.decryptdata.key,{frag:e,keyInfo:a}))}}switch(a=this.keyUriToKeyInfo[i]={decryptdata:o,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},o.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return o.keyFormat==="identity"?this.loadKeyHTTP(a,e):this.loadKeyEME(a,e);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(a,e);default:return Promise.reject(this.createKeyLoadError(e,Xe.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${o.method}"`)))}}loadKeyEME(e,n){const r={frag:n,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const s=this.emeController.loadKey(r);if(s)return(e.keyLoadPromise=s.then(o=>(e.mediaKeySessionContext=o,r))).catch(o=>{throw e.keyLoadPromise=null,o})}return Promise.resolve(r)}loadKeyHTTP(e,n){const r=this.config,s=r.loader,o=new s(r);return n.keyLoader=e.loader=o,e.keyLoadPromise=new Promise((i,a)=>{const u={keyInfo:e,frag:n,responseType:"arraybuffer",url:e.decryptdata.uri},l=r.keyLoadPolicy.default,c={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(f,h,p,g)=>{const{frag:v,keyInfo:y,url:_}=p;if(!v.decryptdata||y!==this.keyUriToKeyInfo[_])return a(this.createKeyLoadError(v,Xe.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),g));y.decryptdata.key=v.decryptdata.key=new Uint8Array(f.data),v.keyLoader=null,y.loader=null,i({frag:v,keyInfo:y})},onError:(f,h,p,g)=>{this.resetLoader(h),a(this.createKeyLoadError(n,Xe.KEY_LOAD_ERROR,new Error(`HTTP Error ${f.code} loading key ${f.text}`),p,Hn({url:u.url,data:void 0},f)))},onTimeout:(f,h,p)=>{this.resetLoader(h),a(this.createKeyLoadError(n,Xe.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),p))},onAbort:(f,h,p)=>{this.resetLoader(h),a(this.createKeyLoadError(n,Xe.INTERNAL_ABORTED,new Error("key loading aborted"),p))}};o.load(u,c,d)})}resetLoader(e){const{frag:n,keyInfo:r,url:s}=e,o=r.loader;n.keyLoader===o&&(n.keyLoader=null,r.loader=null),delete this.keyUriToKeyInfo[s],o&&o.destroy()}}function q2(t){const{type:e}=t;switch(e){case kn.AUDIO_TRACK:return en.AUDIO;case kn.SUBTITLE_TRACK:return en.SUBTITLE;default:return en.MAIN}}function r0(t,e){let n=t.url;return(n===void 0||n.indexOf("data:")===0)&&(n=e.url),n}class Ave{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Q.LEVEL_LOADING,this.onLevelLoading,this),e.on(Q.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(Q.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.on(Q.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:e}=this;e.off(Q.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Q.LEVEL_LOADING,this.onLevelLoading,this),e.off(Q.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(Q.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.off(Q.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(e){const n=this.hls.config,r=n.pLoader,s=n.loader,o=r||s,i=new o(n);return this.loaders[e.type]=i,i}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const n=this.loaders[e];n&&n.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,n){const{url:r}=n;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:kn.MANIFEST,url:r,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(e,n){const{id:r,level:s,pathwayId:o,url:i,deliveryDirectives:a,levelInfo:u}=n;this.load({id:r,level:s,pathwayId:o,responseType:"text",type:kn.LEVEL,url:i,deliveryDirectives:a,levelOrTrack:u})}onAudioTrackLoading(e,n){const{id:r,groupId:s,url:o,deliveryDirectives:i,track:a}=n;this.load({id:r,groupId:s,level:null,responseType:"text",type:kn.AUDIO_TRACK,url:o,deliveryDirectives:i,levelOrTrack:a})}onSubtitleTrackLoading(e,n){const{id:r,groupId:s,url:o,deliveryDirectives:i,track:a}=n;this.load({id:r,groupId:s,level:null,responseType:"text",type:kn.SUBTITLE_TRACK,url:o,deliveryDirectives:i,levelOrTrack:a})}onLevelsUpdated(e,n){const r=this.loaders[kn.LEVEL];if(r){const s=r.context;s&&!n.levels.some(o=>o===s.levelOrTrack)&&(r.abort(),delete this.loaders[kn.LEVEL])}}load(e){var n;const r=this.hls.config;let s=this.getInternalLoader(e);if(s){const l=this.hls.logger,c=s.context;if(c&&c.levelOrTrack===e.levelOrTrack&&(c.url===e.url||c.deliveryDirectives&&!e.deliveryDirectives)){c.url===e.url?l.log(`[playlist-loader]: ignore ${e.url} ongoing request`):l.log(`[playlist-loader]: ignore ${e.url} in favor of ${c.url}`);return}l.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),s.abort()}let o;if(e.type===kn.MANIFEST?o=r.manifestLoadPolicy.default:o=Gn({},r.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),s=this.createInternalLoader(e),jt((n=e.deliveryDirectives)==null?void 0:n.part)){let l;if(e.type===kn.LEVEL&&e.level!==null?l=this.hls.levels[e.level].details:e.type===kn.AUDIO_TRACK&&e.id!==null?l=this.hls.audioTracks[e.id].details:e.type===kn.SUBTITLE_TRACK&&e.id!==null&&(l=this.hls.subtitleTracks[e.id].details),l){const c=l.partTarget,d=l.targetduration;if(c&&d){const f=Math.max(c*3,d*.8)*1e3;o=Gn({},o,{maxTimeToFirstByteMs:Math.min(f,o.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(f,o.maxTimeToFirstByteMs)})}}}const i=o.errorRetry||o.timeoutRetry||{},a={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:i.maxNumRetry||0,retryDelay:i.retryDelayMs||0,maxRetryDelay:i.maxRetryDelayMs||0},u={onSuccess:(l,c,d,f)=>{const h=this.getInternalLoader(d);this.resetInternalLoader(d.type);const p=l.data;if(p.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(l,d,new Error("no EXTM3U delimiter"),f||null,c);return}c.parsing.start=performance.now(),Jo.isMediaPlaylist(p)||d.type!==kn.MANIFEST?this.handleTrackOrLevelPlaylist(l,c,d,f||null,h):this.handleMasterPlaylist(l,c,d,f)},onError:(l,c,d,f)=>{this.handleNetworkError(c,d,!1,l,f)},onTimeout:(l,c,d)=>{this.handleNetworkError(c,d,!0,void 0,l)}};s.load(e,a,u)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:e,startPosition:n},forceStartLoad:r}=this.hls;(e||r)&&(this.hls.logger.log(`${e?"auto":"force"} startLoad with configured startPosition ${n}`),this.hls.startLoad(n))}handleMasterPlaylist(e,n,r,s){const o=this.hls,i=e.data,a=r0(e,r),u=Jo.parseMasterPlaylist(i,a);if(u.playlistParsingError){this.handleManifestParsingError(e,r,u.playlistParsingError,s,n);return}const{contentSteering:l,levels:c,sessionData:d,sessionKeys:f,startTimeOffset:h,variableList:p}=u;this.variableList=p;const{AUDIO:g=[],SUBTITLES:v,"CLOSED-CAPTIONS":y}=Jo.parseMasterPlaylistMedia(i,a,u);g.length&&!g.some(b=>!b.url)&&c[0].audioCodec&&!c[0].attrs.AUDIO&&(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new cr({}),bitrate:0,url:""})),o.trigger(Q.MANIFEST_LOADED,{levels:c,audioTracks:g,subtitles:v,captions:y,contentSteering:l,url:a,stats:n,networkDetails:s,sessionData:d,sessionKeys:f,startTimeOffset:h,variableList:p})}handleTrackOrLevelPlaylist(e,n,r,s,o){const i=this.hls,{id:a,level:u,type:l}=r,c=r0(e,r),d=jt(u)?u:jt(a)?a:0,f=q2(r),h=Jo.parseLevelPlaylist(e.data,c,d,f,0,this.variableList);if(l===kn.MANIFEST){const p={attrs:new cr({}),bitrate:0,details:h,name:"",url:c};h.requestScheduled=n.loading.start+tD(h,0),i.trigger(Q.MANIFEST_LOADED,{levels:[p],audioTracks:[],url:c,stats:n,networkDetails:s,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}n.parsing.end=performance.now(),r.levelDetails=h,this.handlePlaylistLoaded(h,e,n,r,s,o)}handleManifestParsingError(e,n,r,s,o){this.hls.trigger(Q.ERROR,{type:tn.NETWORK_ERROR,details:Xe.MANIFEST_PARSING_ERROR,fatal:n.type===kn.MANIFEST,url:e.url,err:r,error:r,reason:r.message,response:e,context:n,networkDetails:s,stats:o})}handleNetworkError(e,n,r=!1,s,o){let i=`A network ${r?"timeout":"error"+(s?" (status "+s.code+")":"")} occurred while loading ${e.type}`;e.type===kn.LEVEL?i+=`: ${e.level} id: ${e.id}`:(e.type===kn.AUDIO_TRACK||e.type===kn.SUBTITLE_TRACK)&&(i+=` id: ${e.id} group-id: "${e.groupId}"`);const a=new Error(i);this.hls.logger.warn(`[playlist-loader]: ${i}`);let u=Xe.UNKNOWN,l=!1;const c=this.getInternalLoader(e);switch(e.type){case kn.MANIFEST:u=r?Xe.MANIFEST_LOAD_TIMEOUT:Xe.MANIFEST_LOAD_ERROR,l=!0;break;case kn.LEVEL:u=r?Xe.LEVEL_LOAD_TIMEOUT:Xe.LEVEL_LOAD_ERROR,l=!1;break;case kn.AUDIO_TRACK:u=r?Xe.AUDIO_TRACK_LOAD_TIMEOUT:Xe.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case kn.SUBTITLE_TRACK:u=r?Xe.SUBTITLE_TRACK_LOAD_TIMEOUT:Xe.SUBTITLE_LOAD_ERROR,l=!1;break}c&&this.resetInternalLoader(e.type);const d={type:tn.NETWORK_ERROR,details:u,fatal:l,url:e.url,loader:c,context:e,error:a,networkDetails:n,stats:o};if(s){const f=(n==null?void 0:n.url)||e.url;d.response=Hn({url:f,data:void 0},s)}this.hls.trigger(Q.ERROR,d)}handlePlaylistLoaded(e,n,r,s,o,i){const a=this.hls,{type:u,level:l,id:c,groupId:d,deliveryDirectives:f}=s,h=r0(n,s),p=q2(s),g=typeof s.level=="number"&&p===en.MAIN?l:void 0;if(!e.fragments.length){const y=e.playlistParsingError=new Error("No Segments found in Playlist");a.trigger(Q.ERROR,{type:tn.NETWORK_ERROR,details:Xe.LEVEL_EMPTY_ERROR,fatal:!1,url:h,error:y,reason:y.message,response:n,context:s,level:g,parent:p,networkDetails:o,stats:r});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const v=e.playlistParsingError;if(v){if(this.hls.logger.warn(v),!a.config.ignorePlaylistParsingErrors){a.trigger(Q.ERROR,{type:tn.NETWORK_ERROR,details:Xe.LEVEL_PARSING_ERROR,fatal:!1,url:h,error:v,reason:v.message,response:n,context:s,level:g,parent:p,networkDetails:o,stats:r});return}e.playlistParsingError=null}switch(e.live&&i&&(i.getCacheAge&&(e.ageHeader=i.getCacheAge()||0),(!i.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),u){case kn.MANIFEST:case kn.LEVEL:a.trigger(Q.LEVEL_LOADED,{details:e,levelInfo:s.levelOrTrack||a.levels[0],level:g||0,id:c||0,stats:r,networkDetails:o,deliveryDirectives:f,withoutMultiVariant:u===kn.MANIFEST});break;case kn.AUDIO_TRACK:a.trigger(Q.AUDIO_TRACK_LOADED,{details:e,track:s.levelOrTrack,id:c||0,groupId:d||"",stats:r,networkDetails:o,deliveryDirectives:f});break;case kn.SUBTITLE_TRACK:a.trigger(Q.SUBTITLE_TRACK_LOADED,{details:e,track:s.levelOrTrack,id:c||0,groupId:d||"",stats:r,networkDetails:o,deliveryDirectives:f});break}}}class _o{static get version(){return Yd}static isMSESupported(){return YD()}static isSupported(){return xve()}static getMediaSource(){return Fa()}static get Events(){return Q}static get MetadataSchema(){return Ps}static get ErrorTypes(){return tn}static get ErrorDetails(){return Xe}static get DefaultConfig(){return _o.defaultConfig?_o.defaultConfig:dve}static set DefaultConfig(e){_o.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Kw,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const n=this.logger=qfe(e.debug||!1,"Hls instance",e.assetPlayerId),r=this.config=hve(_o.DefaultConfig,e,n);this.userConfig=e,r.progressive&&pve(r,n);const{abrController:s,bufferController:o,capLevelController:i,errorController:a,fpsController:u}=r,l=new a(this),c=this.abrController=new s(this),d=new Vhe(this),f=r.interstitialsController,h=f?this.interstitialsController=new f(this,_o):null,p=this.bufferController=new o(this,d),g=this.capLevelController=new i(this),v=new u(this),y=new Ave(this),_=r.contentSteeringController,b=_?new _(this):null,w=this.levelController=new Eve(this,b),S=new _ve(this),E=new Ive(this.config),T=this.streamController=new kve(this,d,E),I=this.gapController=new yve(this,d);g.setStreamController(T),v.setStreamController(T);const k=[y,w,T];h&&k.splice(1,0,h),b&&k.splice(1,0,b),this.networkControllers=k;const C=[c,p,I,g,v,S,d];this.audioTrackController=this.createController(r.audioTrackController,k);const N=r.audioStreamController;N&&k.push(this.audioStreamController=new N(this,d,E)),this.subtitleTrackController=this.createController(r.subtitleTrackController,k);const D=r.subtitleStreamController;D&&k.push(this.subtititleStreamController=new D(this,d,E)),this.createController(r.timelineController,C),E.emeController=this.emeController=this.createController(r.emeController,C),this.cmcdController=this.createController(r.cmcdController,C),this.latencyController=this.createController(Sve,C),this.coreComponents=C,k.push(l);const W=l.onErrorOut;typeof W=="function"&&this.on(Q.ERROR,W,l),this.on(Q.MANIFEST_LOADED,y.onManifestLoaded,y)}createController(e,n){if(e){const r=new e(this);return n&&n.push(r),r}return null}on(e,n,r=this){this._emitter.on(e,n,r)}once(e,n,r=this){this._emitter.once(e,n,r)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,n,r=this,s){this._emitter.off(e,n,r,s)}listeners(e){return this._emitter.listeners(e)}emit(e,n,r){return this._emitter.emit(e,n,r)}trigger(e,n){if(this.config.debug)return this.emit(e,e,n);try{return this.emit(e,e,n)}catch(r){if(this.logger.error("An internal error happened while handling event "+e+'. Error message: "'+r.message+'". Here is a stacktrace:',r),!this.triggeringException){this.triggeringException=!0;const s=e===Q.ERROR;this.trigger(Q.ERROR,{type:tn.OTHER_ERROR,details:Xe.INTERNAL_EXCEPTION,fatal:s,event:e,error:r}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){this.logger.log("destroy"),this.trigger(Q.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(n=>n.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(n=>n.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){if(!e||"media"in e&&!e.media){const o=new Error(`attachMedia failed: invalid argument (${e})`);this.trigger(Q.ERROR,{type:tn.OTHER_ERROR,details:Xe.ATTACH_MEDIA_ERROR,fatal:!0,error:o});return}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const n="media"in e,r=n?e.media:e,s=n?e:{media:r};this._media=r,this.trigger(Q.MEDIA_ATTACHING,s)}detachMedia(){this.logger.log("detachMedia"),this.trigger(Q.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const e=this.bufferController.transferMedia();return this.trigger(Q.MEDIA_DETACHING,{transferMedia:e}),e}loadSource(e){this.stopLoad();const n=this.media,r=this._url,s=this._url=Dw.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${s}`),n&&r&&(r!==s||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(n)),this.trigger(Q.MANIFEST_LOADING,{url:e})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(e=-1,n){this.logger.log(`startLoad(${e+(n?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let r=0;r<this.networkControllers.length&&(this.networkControllers[r].startLoad(e,n),!(!this.started||!this.networkControllers));r++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()}))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()}))}get inFlightFragments(){const e={[en.MAIN]:this.streamController.inFlightFrag};return this.audioStreamController&&(e[en.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(e[en.SUBTITLE]=this.subtititleStreamController.inFlightFrag),e}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const e=this._media,n=e==null?void 0:e.currentTime;this.detachMedia(),e&&(this.attachMedia(e),n&&this.startLoad(n))}removeLevel(e){this.levelController.removeLevel(e)}get sessionId(){let e=this._sessionId;return e||(e=this._sessionId=Fpe()),e}get levels(){const e=this.levelController.levels;return e||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){this.logger.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){this.logger.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){this.logger.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){this.logger.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){this.logger.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const n=!!e;n!==this.config.capLevelToPlayerSize&&(n?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=n)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get abrEwmaDefaultEstimate(){const{bwEstimator:e}=this.abrController;return e?e.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(this.logger.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){Ehe(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:n}}=this;if(!e)return 0;const r=e.length;for(let s=0;s<r;s++)if(e[s].maxBitrate>=n)return s;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:n,maxHdcpLevel:r}=this;let s;if(n===-1&&e!=null&&e.length?s=e.length-1:s=n,r)for(let o=s;o--;){const i=e[o].attrs["HDCP-LEVEL"];if(i&&i<=r)return o}return s}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(e){var n;return((n=this.audioTrackController)==null?void 0:n.setAudioOption(e))||null}setSubtitleOption(e){var n;return((n=this.subtitleTrackController)==null?void 0:n.setSubtitleOption(e))||null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const n=this.audioTrackController;n&&(n.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const n=this.subtitleTrackController;n&&(n.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const n=this.subtitleTrackController;n&&(n.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(e){this.latencyController.targetLatency=e}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(e){this.levelController.pathwayPriority=e}get bufferedToEnd(){var e;return!!((e=this.bufferController)!=null&&e.bufferedToEnd)}get interstitialsManager(){var e;return((e=this.interstitialsController)==null?void 0:e.interstitialsManager)||null}getMediaDecodingInfo(e,n=this.allAudioTracks){const r=zP(n);return KP(e,r,navigator.mediaCapabilities)}}_o.defaultConfig=void 0;var cm={exports:{}};cm.exports;(function(t,e){/*!
 * artplayer-plugin-danmuku.js v5.1.5
 * Github: https://github.com/zhw2590582/ArtPlayer
 * (c) 2017-2025 Harvey Zack
 * Released under the MIT License.
 */(function(n,r,s,o,i){var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof rs<"u"?rs:{},u=typeof a[o]=="function"&&a[o],l=u.cache||{},c=typeof Qp=="function"&&Qp.bind(t);function d(p,g){if(!l[p]){if(!n[p]){var v=typeof a[o]=="function"&&a[o];if(!g&&v)return v(p,!0);if(u)return u(p,!0);if(c&&typeof p=="string")return c(p);var y=Error("Cannot find module '"+p+"'");throw y.code="MODULE_NOT_FOUND",y}b.resolve=function(w){var S=n[p][1][w];return S??w},b.cache={};var _=l[p]=new d.Module(p);n[p][0].call(_.exports,b,_,_.exports,this)}return l[p].exports;function b(w){var S=b.resolve(w);return S===!1?{}:d(S)}}d.isParcelRequire=!0,d.Module=function(p){this.id=p,this.bundle=d,this.exports={}},d.modules=n,d.cache=l,d.parent=u,d.register=function(p,g){n[p]=[function(v,y){y.exports=g},{}]},Object.defineProperty(d,"root",{get:function(){return a[o]}}),a[o]=d;for(var f=0;f<r.length;f++)d(r[f]);if(s){var h=d(s);t.exports=h}})({bgm6t:[function(n,r,s){var o=n("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(s),o.export(s,"default",()=>f);var i=n("./danmuku"),a=o.interopDefault(i),u=n("./setting"),l=o.interopDefault(u),c=n("./heatmap"),d=o.interopDefault(c);function f(h){return p=>{let g=new a.default(p,h),v=new l.default(p,g);return g.option.heatmap&&(0,d.default)(p,g,g.option.heatmap),{name:"artplayerPluginDanmuku",emit:g.emit.bind(g),load:g.load.bind(g),config:g.config.bind(g),hide:g.hide.bind(g),show:g.show.bind(g),reset:g.reset.bind(g),mount:v.mount.bind(v),get option(){return g.option},get isHide(){return g.isHide},get isStop(){return g.isStop}}}}f.icons=l.default.icons,typeof window<"u"&&(window.artplayerPluginDanmuku=f)},{"./danmuku":"4ns48","./setting":"lO8OT","./heatmap":"8AxLD","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4ns48":[function(n,r,s){var o=n("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(s);var i=n("./bilibili"),a=n("bundle-text:./worker"),u=o.interopDefault(a);class l{constructor(d,f){let{constructor:h,template:p}=d;this.utils=h.utils,this.validator=h.validator,this.$danmuku=p.$danmuku,this.$player=p.$player,this.art=d,this.queue=[],this.$refs=[],this.isStop=!1,this.isHide=!1,this.timer=null,this.index=0,this.option=l.option,this.states={wait:[],ready:[],emit:[],stop:[]},this.config(f);let g=new Blob([u.default],{type:"application/javascript"});this.worker=new Worker(URL.createObjectURL(g)),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.reset=this.reset.bind(this),this.resize=this.resize.bind(this),this.destroy=this.destroy.bind(this),d.on("video:play",this.start),d.on("video:playing",this.start),d.on("video:pause",this.stop),d.on("video:waiting",this.stop),d.on("destroy",this.destroy),d.on("resize",this.resize),this.load()}static get option(){return{danmuku:[],speed:5,margin:[10,"25%"],opacity:1,color:"#FFFFFF",mode:0,modes:[0,1,2],fontSize:25,antiOverlap:!0,synchronousPlayback:!1,mount:void 0,heatmap:!1,width:512,points:[],filter:()=>!0,beforeEmit:()=>!0,beforeVisible:()=>!0,visible:!0,emitter:!0,maxLength:200,lockTime:5,theme:"dark",OPACITY:{},FONT_SIZE:{},MARGIN:{},SPEED:{},COLOR:[]}}static get scheme(){return{danmuku:"array|function|string",speed:"number",margin:"array",opacity:"number",color:"string",mode:"number",modes:"array",fontSize:"number|string",antiOverlap:"boolean",synchronousPlayback:"boolean",mount:"?htmldivelement|string",heatmap:"object|boolean",width:"number",points:"array",filter:"function",beforeEmit:"function",beforeVisible:"function",visible:"boolean",emitter:"boolean",maxLength:"number",lockTime:"number",theme:"string",OPACITY:"object",FONT_SIZE:"object",MARGIN:"object",SPEED:"object",COLOR:"array"}}static get cssText(){return' user-select: none; position: absolute; white-space: pre; pointer-events: none; perspective: 500px; display: inline-block; will-change: transform; font-weight: normal; line-height: 1.125; visibility: hidden; font-family: SimHei, "Microsoft JhengHei", Arial, Helvetica, sans-serif; text-shadow: rgb(0, 0, 0) 1px 0px 1px, rgb(0, 0, 0) 0px 1px 1px, rgb(0, 0, 0) 0px -1px 1px, rgb(0, 0, 0) -1px 0px 1px; '}get isRotate(){var d,f;return(f=(d=this.art.plugins)==null?void 0:d.autoOrientation)==null?void 0:f.state}get marginTop(){let{clamp:d}=this.utils,f=this.option.margin[0],{clientHeight:h}=this.$player;return typeof f=="number"?d(f,0,h):typeof f=="string"&&f.endsWith("%")?d(h*(parseFloat(f)/100),0,h):l.option.margin[0]}get marginBottom(){let{clamp:d}=this.utils,f=this.option.margin[1],{clientHeight:h}=this.$player;return typeof f=="number"?d(f,0,h):typeof f=="string"&&f.endsWith("%")?d(h*(parseFloat(f)/100),0,h):l.option.margin[1]}get fontSize(){let{clamp:d}=this.utils,{clientHeight:f}=this.$player,h=this.option.fontSize;return typeof h=="number"?Math.round(d(h,12,f)):typeof h=="string"&&h.endsWith("%")?Math.round(d(f*(parseFloat(h)/100),12,f)):l.option.fontSize}get $ref(){let d=this.$refs.pop()||document.createElement("div");return d.style.cssText=l.cssText,d.dataset.mode="",d.className="",d}get readys(){let{currentTime:d}=this.art,f=[];return this.filter("ready",h=>f.push(h)),this.filter("wait",h=>{d+.1>=h.time&&h.time>=d-.1&&f.push(h)}),f}get visibles(){let d=[],{clientWidth:f}=this.$player,h=this.getLeft(this.$player);return this.filter("emit",p=>{let g=p.$ref.offsetTop,v=this.getLeft(p.$ref)-h,y=p.$ref.clientHeight,_=p.$ref.clientWidth,b=v+_,w=b/p.$restTime,S={};S.top=g,S.left=v,S.height=y,S.width=_,S.right=f-b,S.speed=w,S.distance=b,S.time=p.$restTime,S.mode=p.mode,d.push(S)}),d}get speed(){return this.option.synchronousPlayback&&this.art.playbackRate?this.option.speed/Number(this.art.playbackRate):this.option.speed}async load(d){let{errorHandle:f}=this.utils,h=[],p=d||this.option.danmuku;try{typeof p=="function"?h=await p():p instanceof Promise?h=await p:typeof p=="string"?h=await(0,i.bilibiliDanmuParseFromUrl)(p):Array.isArray(p)&&(h=p),f(Array.isArray(h),"Danmuku need return an array as result"),d===void 0&&(this.reset(),this.queue=[],this.states={wait:[],ready:[],emit:[],stop:[]},this.$refs=[],this.$danmuku.innerText="");for(let g=0;g<h.length;g++){let v=h[g];await this.emit(v)}this.art.emit("artplayerPluginDanmuku:loaded",this.queue)}catch(g){throw this.art.emit("artplayerPluginDanmuku:error",g),g}return this}async emit(d){let{clamp:f}=this.utils;if(this.validator(d,{text:"string",mode:"?number",color:"?string",time:"?number",border:"?boolean",style:"?object"}),!d.text.trim()||(d.time?d.time=f(d.time,0,1/0):d.time=this.art.currentTime+.5,d.mode===void 0&&(d.mode=this.option.mode),d.style===void 0&&(d.style={}),d.color===void 0&&(d.color=this.option.color),![0,1,2].includes(d.mode)||!this.option.filter(d)))return this;let h={...d,$state:"wait",$id:this.index++,$ref:null,$restTime:0,$lastStartTime:0};return this.setState(h,"wait"),this.queue.push(h),this}config(d){let{clamp:f}=this.utils,{$controlsCenter:h}=this.art.template;return Object.keys(d).some(p=>JSON.stringify(this.option[p])!==JSON.stringify(d[p]))&&(this.option=Object.assign({},l.option,this.option,d),this.validator(this.option,l.scheme),this.option.mode=f(this.option.mode,0,2),this.option.speed=f(this.option.speed,1,10),this.option.opacity=f(this.option.opacity,0,1),this.option.lockTime=f(this.option.lockTime,1,60),this.option.maxLength=f(this.option.maxLength,1,1e3),this.option.mount=this.option.mount||h,d.fontSize&&this.reset(),this.option.visible?this.show():this.hide(),this.art.emit("artplayerPluginDanmuku:config",this.option)),this}getLeft(d){let f=d.getBoundingClientRect();return this.isRotate?f.top:f.left}postMessage(d={}){return new Promise(f=>{d.id=Date.now(),this.worker.postMessage(d),this.worker.onmessage=h=>{let{data:p}=h;p.id===d.id&&f(p)}})}filter(d,f){let h=this.states[d]||[];for(let p=0;p<h.length;p++)f(h[p]);return h}setState(d,f){this.states[d.$state]=this.states[d.$state].filter(h=>h!==d),d.$state=f,d.$ref&&(d.$ref.dataset.state=f),this.states[f].push(d)}makeWait(d){this.setState(d,"wait"),d.$ref&&(d.$ref.style.cssText=l.cssText,d.$ref.style.visibility="hidden",d.$ref.style.marginLeft="0px",d.$ref.style.transform="translateX(0px)",d.$ref.style.transition="transform 0s linear 0s",this.$refs.push(d.$ref),d.$ref=null)}update(){let{setStyles:d}=this.utils;return this.timer=window.requestAnimationFrame(async()=>{if(this.art.playing&&!this.isHide){this.filter("emit",h=>{let p=(Date.now()-h.$lastStartTime)/1e3;h.$restTime-=p,h.$lastStartTime=Date.now(),h.$restTime<=0&&this.makeWait(h)});let f=this.readys;for(let h=0;h<f.length;h++){let p=f[h];if(await this.option.beforeVisible(p)){let{clientWidth:g,clientHeight:v}=this.$player;p.$ref=this.$ref,p.$ref.innerText=p.text,this.$danmuku.appendChild(p.$ref),p.$ref.style.opacity=this.option.opacity,p.$ref.style.fontSize=`${this.fontSize}px`,p.$ref.style.color=p.color,p.$ref.style.border=p.border?`1px solid ${p.color}`:null,p.$ref.style.backgroundColor=p.border?"rgb(0 0 0 / 50%)":null,d(p.$ref,p.style),p.$lastStartTime=Date.now(),p.$restTime=this.speed;let y=g+p.$ref.clientWidth,{result:_}=await this.postMessage({type:"getDanmuTop",target:{mode:p.mode,height:p.$ref.clientHeight,speed:y/p.$restTime},visibles:this.visibles,antiOverlap:this.option.antiOverlap,clientWidth:g,clientHeight:v,marginBottom:this.marginBottom,marginTop:this.marginTop});if(p.$ref)if(this.isStop||_===void 0)this.setState(p,"ready"),this.$refs.push(p.$ref),p.$ref=null;else{switch(this.setState(p,"emit"),p.$ref.style.top=`${_}px`,p.$ref.style.visibility="visible",p.$ref.dataset.mode=p.mode,p.mode){case 0:p.$ref.style.left=`${g}px`,p.$ref.style.marginLeft="0px",p.$ref.style.transform=`translateX(${-y}px)`,p.$ref.style.transition=`transform ${p.$restTime}s linear 0s`;break;case 1:case 2:p.$ref.style.left="50%",p.$ref.style.marginLeft=`-${p.$ref.clientWidth/2}px`}this.art.emit("artplayerPluginDanmuku:visible",p)}}}}this.isStop||this.update()}),this}resize(){let{clientWidth:d}=this.$player;this.filter("stop",f=>{f.mode===0&&(f.$ref.style.left=`${d}px`)}),this.filter("emit",f=>{if(f.$lastStartTime=Date.now(),f.mode===0){let h=d+f.$ref.clientWidth;f.$ref.style.left=`${d}px`,f.$ref.style.transform=`translateX(${-h}px)`,f.$ref.style.transition=`transform ${f.$restTime}s linear 0s`}})}continue(){let{clientWidth:d}=this.$player;return this.filter("stop",f=>{if(this.setState(f,"emit"),f.$lastStartTime=Date.now(),f.mode===0){let h=d+f.$ref.clientWidth;f.$ref.style.transform=`translateX(${-h}px)`,f.$ref.style.transition=`transform ${f.$restTime}s linear 0s`}}),this}suspend(){let{clientWidth:d}=this.$player;return this.filter("emit",f=>{if(this.setState(f,"stop"),f.mode===0){let h=d-(this.getLeft(f.$ref)-this.getLeft(this.$player));f.$ref.style.transform=`translateX(${-h}px)`,f.$ref.style.transition="transform 0s linear 0s"}}),this}stop(){return this.isStop=!0,this.suspend(),window.cancelAnimationFrame(this.timer),this.art.emit("artplayerPluginDanmuku:stop"),this}start(){return this.isStop=!1,this.continue(),this.update(),this.art.emit("artplayerPluginDanmuku:start"),this}reset(){return this.queue.forEach(d=>this.makeWait(d)),this.art.emit("artplayerPluginDanmuku:reset"),this}show(){return this.isHide=!1,this.$danmuku.style.opacity=1,this.option.visible=!0,this.art.emit("artplayerPluginDanmuku:show"),this}hide(){return this.isHide=!0,this.$danmuku.style.opacity=0,this.option.visible=!1,this.art.emit("artplayerPluginDanmuku:hide"),this}destroy(){this.stop(),this.worker.terminate(),this.art.off("video:play",this.start),this.art.off("video:playing",this.start),this.art.off("video:pause",this.stop),this.art.off("video:waiting",this.stop),this.art.off("resize",this.reset),this.art.off("destroy",this.destroy),this.art.emit("artplayerPluginDanmuku:destroy")}}s.default=l},{"./bilibili":"f83sx","bundle-text:./worker":"lfIAi","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],f83sx:[function(n,r,s){var o=n("@parcel/transformer-js/src/esmodule-helpers.js");function i(c){switch(c){case 1:case 2:case 3:default:return 0;case 4:return 2;case 5:return 1}}function a(c){if(typeof c!="string")return[];let d=new RegExp(/<d (?:.*? )??p="(?<p>.+?)"(?: .*?)?>(?<text>.+?)<\/d>/gs);return Array.from(c.matchAll(d)).map(f=>{let h=f.groups.p.split(",");return h.length>=8?{text:f.groups.text.trim().replaceAll("&quot;",'"').replaceAll("&apos;","'").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&amp;","&"),time:Number(h[0]),mode:i(Number(h[1])),fontSize:Number(h[2]),color:`#${Number(h[3]).toString(16)}`,timestamp:Number(h[4]),pool:Number(h[5]),userID:h[6],rowID:Number(h[7])}:null}).filter(Boolean)}function u({data:c}){let{xml:d,id:f}=c;if(!f||!d)return;let h=a(d);self.postMessage({danmus:h,id:f})}function l(c){return new Promise(async d=>{let f=await fetch(c),h=await f.text();try{let p=function(){let g=new Blob([` ${i.toString()} ${a.toString()} onmessage = ${u.toString()} `],{type:"application/javascript"});return new Worker(URL.createObjectURL(g))}();p.onmessage=g=>{let{danmus:v,id:y}=g.data;y&&v&&(d(v),p.terminate())},p.postMessage({xml:h,id:Date.now()})}catch{d(a(h))}})}o.defineInteropFlag(s),o.export(s,"bilibiliDanmuParseFromUrl",()=>l)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"9pCYc":[function(n,r,s){s.interopDefault=function(o){return o&&o.__esModule?o:{default:o}},s.defineInteropFlag=function(o){Object.defineProperty(o,"__esModule",{value:!0})},s.exportAll=function(o,i){return Object.keys(o).forEach(function(a){a==="default"||a==="__esModule"||Object.prototype.hasOwnProperty.call(i,a)||Object.defineProperty(i,a,{enumerable:!0,get:function(){return o[a]}})}),i},s.export=function(o,i,a){Object.defineProperty(o,i,{enumerable:!0,get:a})}},{}],lfIAi:[function(n,r,s){r.exports=`!function(e,t,n,o,i){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},f="function"==typeof r[o]&&r[o],l=f.cache||{},d="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(t,n){if(!l[t]){if(!e[t]){var i="function"==typeof r[o]&&r[o];if(!n&&i)return i(t,!0);if(f)return f(t,!0);if(d&&"string"==typeof t)return d(t);var h=Error("Cannot find module '"+t+"'");throw h.code="MODULE_NOT_FOUND",h}s.resolve=function(n){var o=e[t][1][n];return null!=o?o:n},s.cache={};var p=l[t]=new u.Module(t);e[t][0].call(p.exports,s,p,p.exports,this)}return l[t].exports;function s(e){var t=s.resolve(e);return!1===t?{}:u(t)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=l,u.parent=f,u.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},Object.defineProperty(u,"root",{get:function(){return r[o]}}),r[o]=u;for(var h=0;h<t.length;h++)u(t[h]);if(n){var p=u(n);"object"==typeof exports&&"undefined"!=typeof module?module.exports=p:"function"==typeof define&&define.amd&&define(function(){return p})}}({"59OZS":[function(e,t,n){function o({target:e,visibles:t,clientWidth:n,clientHeight:o,marginBottom:i,marginTop:r,antiOverlap:f}){let l=o-i,d=t.filter(t=>t.mode===e.mode&&t.top<=l).sort((e,t)=>e.top-t.top);if(0===d.length)return 2===e.mode?l-e.height:r;if(d.unshift({type:"top",top:0,left:0,right:0,height:r,width:n,speed:0,distance:n}),d.push({type:"bottom",top:l,left:0,right:0,height:i,width:n,speed:0,distance:n}),2===e.mode)for(let t=d.length-2;t>=0;t-=1){let n=d[t],o=d[t+1],i=n.top+n.height;if(o.top-i>=e.height)return o.top-e.height}else for(let t=1;t<d.length;t+=1){let n=d[t],o=d[t-1],i=o.top+o.height;if(n.top-i>=e.height)return i}let u=[];for(let e=1;e<d.length-1;e+=1){let t=d[e];if(u.length){let e=u[u.length-1];e[0].top===t.top?e.push(t):u.push([t])}else u.push([t])}if(f)switch(e.mode){case 0:{let t=u.find(t=>t.every(t=>!(n<t.distance)&&(e.speed<t.speed||t.right/(e.speed-t.speed)>t.time)));return t&&t[0]?t[0].top:void 0}case 1:case 2:return}else{switch(e.mode){case 0:u.sort((e,t)=>{let n=Math.min(...t.map(e=>e.right)),o=Math.min(...e.map(e=>e.right));return n*t.length-o*e.length});break;case 1:case 2:u.sort((e,t)=>{let n=Math.max(...t.map(e=>e.width));return Math.max(...e.map(e=>e.width))*e.length-n*t.length})}return u[0][0].top}}onmessage=e=>{let{data:t}=e;if(!t.id||!t.type)return;let n=(0,({getDanmuTop:o})[t.type])(t);self.postMessage({result:n,id:t.id})}},{}]},["59OZS"],"59OZS","parcelRequire4dc0");`},{}],lO8OT:[function(n,r,s){var o=n("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(s);var i=n("bundle-text:./style.less"),a=o.interopDefault(i),u=n("bundle-text:./img/on.svg"),l=o.interopDefault(u),c=n("bundle-text:./img/off.svg"),d=o.interopDefault(c),f=n("bundle-text:./img/config.svg"),h=o.interopDefault(f),p=n("bundle-text:./img/style.svg"),g=o.interopDefault(p),v=n("bundle-text:./img/mode_0_off.svg"),y=o.interopDefault(v),_=n("bundle-text:./img/mode_0_on.svg"),b=o.interopDefault(_),w=n("bundle-text:./img/mode_1_off.svg"),S=o.interopDefault(w),E=n("bundle-text:./img/mode_1_on.svg"),T=o.interopDefault(E),I=n("bundle-text:./img/mode_2_off.svg"),k=o.interopDefault(I),C=n("bundle-text:./img/mode_2_on.svg"),N=o.interopDefault(C),D=n("bundle-text:./img/check_on.svg"),W=o.interopDefault(D),H=n("bundle-text:./img/check_off.svg"),V=o.interopDefault(H);if(s.default=class{constructor(R,z){this.art=R,this.danmuku=z,this.utils=R.constructor.utils;let{setStyle:M}=this.utils,{$controlsCenter:B}=R.template;M(B,"display","flex"),this.template={$controlsCenter:B,$mount:B,$danmuku:null,$toggle:null,$config:null,$configPanel:null,$configModes:null,$style:null,$stylePanel:null,$styleModes:null,$colors:null,$opacitySlider:null,$opacityValue:null,$marginSlider:null,$marginValue:null,$fontSizeSlider:null,$fontSizeValue:null,$speedSlider:null,$speedValue:null,$input:null,$send:null},this.slider={opacity:null,margin:null,fontSize:null,speed:null},this.emitting=!1,this.isLock=!1,this.timer=null,this.createTemplate(),this.createSliders(),this.createEvents(),this.mount(this.option.mount),R.on("resize",()=>this.resize()),R.on("fullscreen",j=>this.onFullscreen(j)),R.on("fullscreenWeb",j=>this.onFullscreen(j)),R.proxy(this.template.$config,"mouseenter",()=>{this.onMouseEnter({$control:this.template.$config,$panel:this.template.$configPanel})}),R.proxy(this.template.$style,"mouseenter",()=>{this.onMouseEnter({$control:this.template.$style,$panel:this.template.$stylePanel})})}static get icons(){return{$on:l.default,$off:d.default,$config:h.default,$style:g.default,$mode_0_off:y.default,$mode_0_on:b.default,$mode_1_off:S.default,$mode_1_on:T.default,$mode_2_off:k.default,$mode_2_on:N.default,$check_on:W.default,$check_off:V.default}}get option(){return this.danmuku.option}get outside(){return this.template.$mount!==this.template.$controlsCenter}get TEMPLATE(){let{option:R}=this;return`<div class="apd-toggle">${l.default}${d.default}</div><div class="apd-config">${h.default}<div class="apd-config-panel"><div class="apd-config-panel-inner"><div class="apd-config-mode">按类型屏蔽<div class="apd-modes"><div data-mode="0" class="apd-mode">${y.default}${b.default}<div>滚动</div></div><div data-mode="1" class="apd-mode">${S.default}${T.default}<div>顶部</div></div><div data-mode="2" class="apd-mode">${k.default}${N.default}<div>底部</div></div></div></div><div class="apd-config-other"><div class="apd-other apd-anti-overlap">${W.default}${V.default} 防止弹幕重叠</div><div class="apd-other apd-sync-video">${W.default}${V.default} 同步视频速度</div></div><div class="apd-config-slider apd-config-opacity">不透明度<div class="apd-slider"></div><div class="apd-value">未知</div></div><div class="apd-config-slider apd-config-margin">显示区域<div class="apd-slider"></div><div class="apd-value">未知</div></div><div class="apd-config-slider apd-config-fontSize">弹幕字号<div class="apd-slider"></div><div class="apd-value">未知</div></div><div class="apd-config-slider apd-config-speed">弹幕速度<div class="apd-slider"></div><div class="apd-value">未知</div></div></div></div></div><div class="apd-emitter"><div class="apd-style">${g.default}<div class="apd-style-panel"><div class="apd-style-panel-inner"><div class="apd-style-mode">模式<div class="apd-modes"><div data-mode="0" class="apd-mode">${b.default}<div>滚动</div></div><div data-mode="1" class="apd-mode">${T.default}<div>顶部</div></div><div data-mode="2" class="apd-mode">${N.default}<div>底部</div></div></div></div><div class="apd-style-color">颜色<div class="apd-colors">${this.COLOR.map(z=>`<div data-color="${z}" class="apd-color" style="background-color: ${z}"></div>`).join("")}</div></div></div></div></div><input class="apd-input" placeholder="发个友善的弹幕见证当下" autocomplete="off" maxLength="${R.maxLength}" /><div class="apd-send">发送</div></div>`}get OPACITY(){return{min:0,max:100,steps:[],...this.option.OPACITY}}get FONT_SIZE(){return{min:12,max:120,steps:[],...this.option.FONT_SIZE}}get MARGIN(){return{min:0,max:3,steps:[{name:"1/4",value:[10,"75%"]},{name:"半屏",value:[10,"50%"]},{name:"3/4",value:[10,"25%"]},{name:"满屏",value:[10,10]}],...this.option.MARGIN}}get SPEED(){return{min:0,max:4,steps:[{name:"极慢",value:10},{name:"较慢",value:7.5,hide:!0},{name:"适中",value:5},{name:"较快",value:2.5,hide:!0},{name:"极快",value:1}],...this.option.SPEED}}get COLOR(){return this.option.COLOR.length?this.option.COLOR:["#FE0302","#FF7204","#FFAA02","#FFD302","#FFFF00","#A0EE00","#00CD00","#019899","#4266BE","#89D5FF","#CC0273","#222222","#9B9B9B","#FFFFFF"]}query(R){let{query:z}=this.utils,{$danmuku:M}=this.template;return z(R,M)}append(R,z){let{append:M}=this.utils;[...R.children].some(B=>B===z)||M(R,z)}setData(R,z){let{$player:M}=this.art.template,{$mount:B}=this.template;M.dataset[R]=z,this.outside&&(B.dataset[R]=z)}createTemplate(){let{createElement:R,tooltip:z}=this.utils,M=R("div");M.className="artplayer-plugin-danmuku",M.innerHTML=this.TEMPLATE,this.template.$danmuku=M,this.template.$toggle=this.query(".apd-toggle"),this.template.$config=this.query(".apd-config"),this.template.$configPanel=this.query(".apd-config-panel"),this.template.$configModes=this.query(".apd-config-mode .apd-modes"),this.template.$style=this.query(".apd-style"),this.template.$stylePanel=this.query(".apd-style-panel"),this.template.$styleModes=this.query(".apd-style-mode .apd-modes"),this.template.$colors=this.query(".apd-colors"),this.template.$antiOverlap=this.query(".apd-anti-overlap"),this.template.$syncVideo=this.query(".apd-sync-video"),this.template.$opacitySlider=this.query(".apd-config-opacity .apd-slider"),this.template.$opacityValue=this.query(".apd-config-opacity .apd-value"),this.template.$marginSlider=this.query(".apd-config-margin .apd-slider"),this.template.$marginValue=this.query(".apd-config-margin .apd-value"),this.template.$fontSizeSlider=this.query(".apd-config-fontSize .apd-slider"),this.template.$fontSizeValue=this.query(".apd-config-fontSize .apd-value"),this.template.$speedSlider=this.query(".apd-config-speed .apd-slider"),this.template.$speedValue=this.query(".apd-config-speed .apd-value"),this.template.$input=this.query(".apd-input"),this.template.$send=this.query(".apd-send");let{$toggle:B}=this.template;this.art.on("artplayerPluginDanmuku:show",()=>{z(B,"关闭弹幕")}),this.art.on("artplayerPluginDanmuku:hide",()=>{z(B,"打开弹幕")})}createEvents(){let{$toggle:R,$configModes:z,$styleModes:M,$colors:B,$antiOverlap:j,$syncVideo:X,$send:se,$input:te}=this.template;this.art.proxy(R,"click",()=>{this.danmuku.config({visible:!this.option.visible}),this.reset()}),this.art.proxy(z,"click",ie=>{let fe=ie.target.closest(".apd-mode");if(!fe)return;let ue=Number(fe.dataset.mode);this.option.modes.includes(ue)?this.danmuku.config({modes:this.option.modes.filter(J=>J!==ue)}):this.danmuku.config({modes:[...this.option.modes,ue]}),this.reset()}),this.art.proxy(j,"click",()=>{this.danmuku.config({antiOverlap:!this.option.antiOverlap}),this.reset()}),this.art.proxy(X,"click",()=>{this.danmuku.config({synchronousPlayback:!this.option.synchronousPlayback}),this.reset()}),this.art.proxy(M,"click",ie=>{let fe=ie.target.closest(".apd-mode");if(!fe)return;let ue=Number(fe.dataset.mode);this.danmuku.config({mode:ue}),this.reset()}),this.art.proxy(B,"click",ie=>{let fe=ie.target.closest(".apd-color");fe&&(this.danmuku.config({color:fe.dataset.color}),this.reset())}),this.art.proxy(se,"click",()=>this.emit()),this.art.proxy(te,"keypress",ie=>{ie.key==="Enter"&&(ie.preventDefault(),this.emit())})}createSliders(){this.slider.opacity=this.createSlider({...this.OPACITY,container:this.template.$opacitySlider,findIndex:()=>Math.round(100*this.option.opacity),onChange:R=>{let{$opacityValue:z}=this.template;z.textContent=`${R}%`,this.danmuku.config({opacity:R/100})}}),this.slider.margin=this.createSlider({...this.MARGIN,container:this.template.$marginSlider,findIndex:()=>this.MARGIN.steps.findIndex(R=>R.value[0]===this.option.margin[0]&&R.value[1]===this.option.margin[1]),onChange:R=>{let z=this.MARGIN.steps[R];if(!z)return;let{$marginValue:M}=this.template;M.textContent=z.name,this.danmuku.config({margin:z.value})}}),this.slider.fontSize=this.createSlider({...this.FONT_SIZE,container:this.template.$fontSizeSlider,findIndex:()=>this.danmuku.fontSize,onChange:R=>{let{$fontSizeValue:z}=this.template;z.textContent=`${R}px`,R!==this.danmuku.fontSize&&this.danmuku.config({fontSize:R})}}),this.slider.speed=this.createSlider({...this.SPEED,container:this.template.$speedSlider,findIndex:()=>this.SPEED.steps.findIndex(R=>R.value===this.option.speed),onChange:R=>{let z=this.SPEED.steps[R];if(!z)return;let{$speedValue:M}=this.template;M.textContent=z.name,this.danmuku.config({speed:z.value})}})}createSlider({min:R,max:z,container:M,findIndex:B,onChange:j,steps:X=[]}){let{query:se,clamp:te,setStyle:ie}=this.utils;ie(M,"touch-action","none"),M.innerHTML=`<div class="apd-slider-line"><div class="apd-slider-points">${X.map(()=>'<div class="apd-slider-point"></div>').join("")}</div><div class="apd-slider-progress"></div></div><div class="apd-slider-dot"></div><div class="apd-slider-steps">${X.map(Ae=>Ae.hide?"":`<div class="apd-slider-step">${Ae.name}</div>`).join("")}</div>`;let fe=se(".apd-slider-dot",M),ue=se(".apd-slider-progress",M),J=!1;function de(Ae=B()){if(Ae<R||Ae>z)return;let Re=(Ae-R)/(z-R);fe.style.left=`${100*Re}%`,X.length===0&&(ue.style.width=fe.style.left),j(Ae)}function ae(Ae){let{top:Re,height:pe,left:ne,width:le}=M.getBoundingClientRect();this.art.isRotate?de(Math.round(te(Ae.clientY-Re,0,pe)/pe*(z-R)+R)):de(Math.round(te(Ae.clientX-ne,0,le)/le*(z-R)+R))}return this.art.proxy(M,"click",Ae=>{ae.call(this,Ae)}),this.art.proxy(M,"pointerdown",Ae=>{J=Ae.button===0}),this.art.proxy(document,"pointermove",Ae=>{J&&ae.call(this,Ae)}),this.art.proxy(document,"pointerup",Ae=>{J&&(J=!1,ae.call(this,Ae))}),{reset:de}}onFullscreen(R){let{$danmuku:z,$controlsCenter:M,$mount:B}=this.template;this.outside?R?this.append(M,z):this.append(B,z):this.append(M,z)}onMouseEnter({$control:R,$panel:z}){let{$player:M}=this.art.template,B=R.getBoundingClientRect(),j=z.getBoundingClientRect(),X=M.getBoundingClientRect(),se=j.width/2-B.width/2,te=X.left-(B.left-se),ie=B.right+se-X.right;te>0?z.style.left=`${-se+te}px`:ie>0?z.style.left=`${-se-ie}px`:z.style.left=`${-se}px`}async emit(){let{$input:R}=this.template,z=R.value.trim();if(!z.length||this.isLock||this.emitting)return;let M={text:z,mode:this.option.mode,color:this.option.color,time:this.art.currentTime};try{this.emitting=!0;let B=await this.option.beforeEmit(M);if(this.emitting=!1,B!==!0)return;M.border=!0,delete M.time,this.danmuku.emit(M),R.value="",this.lock()}catch{this.emitting=!1}}lock(){let{addClass:R}=this.utils,{$send:z}=this.template;this.isLock=!0;let M=this.option.lockTime;z.innerText=M,R(z,"apd-lock");let B=()=>{this.timer=setTimeout(()=>{M===0?this.unlock():(M-=1,z.innerText=M,B())},1e3)};B()}unlock(){let{removeClass:R}=this.utils,{$send:z}=this.template;clearTimeout(this.timer),this.isLock=!1,z.innerText="发送",R(z,"apd-lock")}resize(){if(this.outside||this.art.fullscreen||this.art.fullscreenWeb)return;let{$player:R,$controlsCenter:z}=this.art.template,{$danmuku:M}=this.template;this.art.width<this.option.width?this.append(R,M):this.append(z,M)}reset(){let{inverseClass:R,tooltip:z}=this.utils,{$toggle:M,$colors:B}=this.template;this.slider.opacity.reset(),this.slider.margin.reset(),this.slider.fontSize.reset(),this.slider.speed.reset(),this.setData("danmukuVisible",this.option.visible),this.setData("danmukuMode",this.option.mode),this.setData("danmukuColor",this.option.color),this.setData("danmukuMode0",this.option.modes.includes(0)),this.setData("danmukuMode1",this.option.modes.includes(1)),this.setData("danmukuMode2",this.option.modes.includes(2)),this.setData("danmukuAntiOverlap",this.option.antiOverlap),this.setData("danmukuSyncVideo",this.option.synchronousPlayback),this.setData("danmukuTheme",this.option.theme),this.setData("danmukuEmitter",this.option.emitter);let j=Array.from(B.children).find(X=>X.dataset.color===this.option.color.toUpperCase());j&&R(j,"apd-active"),z(M,this.option.visible?"关闭弹幕":"打开弹幕"),this.resize()}mount(R){let{errorHandle:z}=this.utils,M=typeof R=="string"?document.querySelector(R):R;z(M,`Can not find the mount point: ${R}`),this.append(M,this.template.$danmuku),this.template.$mount=M,this.reset()}},typeof document<"u"){let R="artplayer-plugin-danmuku",z=document.getElementById(R);if(z)z.textContent=a.default;else{let M=document.createElement("style");M.id=R,M.textContent=a.default,document.head.appendChild(M)}}},{"bundle-text:./style.less":"hViDo","bundle-text:./img/on.svg":"9pjcf","bundle-text:./img/off.svg":"b2dkP","bundle-text:./img/config.svg":"l8tyy","bundle-text:./img/style.svg":"5iZC3","bundle-text:./img/mode_0_off.svg":"i0Vut","bundle-text:./img/mode_0_on.svg":"hOSvZ","bundle-text:./img/mode_1_off.svg":"bOXC3","bundle-text:./img/mode_1_on.svg":"lKuh0","bundle-text:./img/mode_2_off.svg":"eB8W6","bundle-text:./img/mode_2_on.svg":"bpe2E","bundle-text:./img/check_on.svg":"kL9zy","bundle-text:./img/check_off.svg":"22xpM","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],hViDo:[function(n,r,s){r.exports='.artplayer-plugin-danmuku{z-index:99;color:#fff;flex-shrink:0;justify-content:center;align-items:center;gap:10px;width:100%;height:32px;font-size:12px;font-weight:300;display:flex;position:relative}.artplayer-plugin-danmuku .apd-icon{cursor:pointer;opacity:.75;fill:#fff;transition:all .2s}.artplayer-plugin-danmuku .apd-icon:hover{opacity:1}.artplayer-plugin-danmuku .apd-config{display:flex;position:relative}.artplayer-plugin-danmuku .apd-config .apd-config-panel{opacity:0;pointer-events:none;width:320px;padding:10px;position:absolute;bottom:24px;left:0}.artplayer-plugin-danmuku .apd-config .apd-config-panel .apd-config-panel-inner{background-color:#000000d9;border-radius:3px;width:100%;padding:10px}.artplayer-plugin-danmuku .apd-config:hover .apd-config-panel{opacity:100;pointer-events:all}.artplayer-plugin-danmuku .apd-config-mode,.artplayer-plugin-danmuku .apd-config-slider,.artplayer-plugin-danmuku .apd-config-other,.artplayer-plugin-danmuku .apd-style-mode{margin-bottom:15px}.artplayer-plugin-danmuku .apd-modes{align-items:center;gap:20px;margin-top:5px;display:flex}.artplayer-plugin-danmuku .apd-modes .apd-mode{cursor:pointer;text-align:center}.artplayer-plugin-danmuku .apd-modes .apd-mode:hover{color:#00a1d6}.artplayer-plugin-danmuku .apd-config-slider{align-items:center;gap:12px;display:flex}.artplayer-plugin-danmuku .apd-config-slider .apd-value{text-align:right;width:32px}.artplayer-plugin-danmuku .apd-slider{cursor:pointer;flex:1;justify-content:center;align-items:center;height:20px;display:flex;position:relative}.artplayer-plugin-danmuku .apd-slider .apd-slider-line{background-color:#ffffff40;border-radius:3px;width:100%;height:2px;position:relative;overflow:hidden}.artplayer-plugin-danmuku .apd-slider .apd-slider-points{justify-content:space-between;align-items:center;display:flex;position:absolute;inset:0}.artplayer-plugin-danmuku .apd-slider .apd-slider-points .apd-slider-point{background-color:#ffffff80;border-radius:50%;width:2px;height:2px}.artplayer-plugin-danmuku .apd-slider .apd-slider-progress{background-color:#00a1d6;width:0%;height:100%}.artplayer-plugin-danmuku .apd-slider .apd-slider-dot{background-color:#00a1d6;border-radius:50%;width:12px;height:12px;position:absolute;left:0%;transform:translate(-6px)}.artplayer-plugin-danmuku .apd-slider .apd-slider-steps{color:#777;justify-content:space-between;align-items:center;width:calc(100% + 32px);display:flex;position:absolute;bottom:-12px}.artplayer-plugin-danmuku .apd-slider .apd-slider-steps .apd-slider-step{text-align:center;flex-shrink:0;width:36px;scale:.95}.artplayer-plugin-danmuku .apd-config-other{align-items:center;gap:20px;display:flex}.artplayer-plugin-danmuku .apd-config-other .apd-check-off,.artplayer-plugin-danmuku .apd-config-other .apd-check-on{width:16px;height:16px}.artplayer-plugin-danmuku .apd-config-other .apd-other{cursor:pointer;align-items:center;gap:2px;display:flex}.artplayer-plugin-danmuku .apd-config-other .apd-other:hover{color:#00a1d6}.artplayer-plugin-danmuku .apd-emitter{background-color:#ffffff40;border-radius:5px;flex:1;align-items:center;height:100%;display:flex}.artplayer-plugin-danmuku .apd-style{justify-content:center;align-items:center;display:flex;position:relative}.artplayer-plugin-danmuku .apd-style .apd-style-panel{opacity:0;pointer-events:none;width:200px;padding:10px;position:absolute;bottom:24px;left:0}.artplayer-plugin-danmuku .apd-style .apd-style-panel .apd-style-panel-inner{background-color:#000000d9;border-radius:3px;width:100%;padding:10px}.artplayer-plugin-danmuku .apd-style:hover .apd-style-panel{opacity:100;pointer-events:all}.artplayer-plugin-danmuku .apd-colors{flex-wrap:wrap;gap:8px;margin-top:5px;display:flex}.artplayer-plugin-danmuku .apd-colors .apd-color{cursor:pointer;border-radius:2px;width:16px;height:16px}.artplayer-plugin-danmuku .apd-colors .apd-color.apd-active{border:1px solid #000;box-shadow:0 0 0 1px #fff}.artplayer-plugin-danmuku .apd-input{color:#fff;background-color:#0000;border:none;outline:none;flex:1;width:auto;min-width:0;height:100%;line-height:1}.artplayer-plugin-danmuku .apd-input::placeholder{color:#ffffff80}.artplayer-plugin-danmuku .apd-send{cursor:pointer;text-shadow:none;background-color:#00a1d6;border-top-right-radius:5px;border-bottom-right-radius:5px;flex-shrink:0;justify-content:center;align-items:center;width:60px;height:100%;display:flex}.artplayer-plugin-danmuku .apd-send.apd-lock{cursor:not-allowed;color:#666;background-color:#e7e7e7}.art-controls-center .apd-emitter{flex:none;width:260px}.art-fullscreen .artplayer-plugin-danmuku,.art-fullscreen-web .artplayer-plugin-danmuku{gap:16px;height:38px}.art-fullscreen .artplayer-plugin-danmuku .apd-config-icon,.art-fullscreen-web .artplayer-plugin-danmuku .apd-config-icon,.art-fullscreen .artplayer-plugin-danmuku .apd-toggle-off,.art-fullscreen-web .artplayer-plugin-danmuku .apd-toggle-off,.art-fullscreen .artplayer-plugin-danmuku .apd-toggle-on,.art-fullscreen-web .artplayer-plugin-danmuku .apd-toggle-on{width:28px;height:28px}.art-fullscreen .artplayer-plugin-danmuku .apd-emitter,.art-fullscreen-web .artplayer-plugin-danmuku .apd-emitter{flex:none;width:400px}.art-video-player>.artplayer-plugin-danmuku{padding:0 10px;position:absolute;bottom:-40px;left:0;right:0}.art-video-player:has(>.artplayer-plugin-danmuku){margin-bottom:40px}[data-danmuku-emitter=false] .apd-emitter{display:none!important}[data-danmuku-emitter=false] .art-controls-center .artplayer-plugin-danmuku{justify-content:flex-end;gap:18px}[data-danmuku-emitter=false].art-fullscreen .art-controls-center .artplayer-plugin-danmuku,[data-danmuku-emitter=false].art-fullscreen-web .art-controls-center .artplayer-plugin-danmuku{gap:24px}[data-danmuku-theme=light]>.artplayer-plugin-danmuku .apd-icon{fill:#333}[data-danmuku-theme=light]>.artplayer-plugin-danmuku .apd-emitter{background-color:#f1f2f3}[data-danmuku-theme=light]>.artplayer-plugin-danmuku .apd-input{color:#000}[data-danmuku-theme=light]>.artplayer-plugin-danmuku .apd-input::placeholder{color:#0000004d}[data-danmuku-visible=false] .apd-toggle-off{display:block}[data-danmuku-visible=false] .apd-toggle-on,[data-danmuku-visible=true] .apd-toggle-off{display:none}[data-danmuku-visible=true] .apd-toggle-on{display:block}[data-danmuku-anti-overlap=false] .apd-anti-overlap .apd-check-on{display:none}[data-danmuku-anti-overlap=false] .apd-anti-overlap .apd-check-off,[data-danmuku-anti-overlap=true] .apd-anti-overlap .apd-check-on{display:block}[data-danmuku-anti-overlap=true] .apd-anti-overlap .apd-check-off,[data-danmuku-sync-video=false] .apd-sync-video .apd-check-on{display:none}[data-danmuku-sync-video=false] .apd-sync-video .apd-check-off,[data-danmuku-sync-video=true] .apd-sync-video .apd-check-on{display:block}[data-danmuku-sync-video=true] .apd-sync-video .apd-check-off{display:none}[data-danmuku-mode0=false] .apd-config-mode .apd-mode-0-off{display:block}[data-danmuku-mode0=false] .apd-config-mode .apd-mode-0-on{display:none}[data-danmuku-mode0=false] .art-danmuku [data-mode="0"]{opacity:0!important}[data-danmuku-mode0=true] .apd-config-mode .apd-mode-0-off{display:none}[data-danmuku-mode0=true] .apd-config-mode .apd-mode-0-on{display:block}[data-danmuku-mode="0"] .apd-style-mode [data-mode="0"]{color:#00a1d6}[data-danmuku-mode="0"] .apd-style-mode [data-mode="0"] path{fill:#00a1d6}[data-danmuku-mode1=false] .apd-config-mode .apd-mode-1-off{display:block}[data-danmuku-mode1=false] .apd-config-mode .apd-mode-1-on{display:none}[data-danmuku-mode1=false] .art-danmuku [data-mode="1"]{opacity:0!important}[data-danmuku-mode1=true] .apd-config-mode .apd-mode-1-off{display:none}[data-danmuku-mode1=true] .apd-config-mode .apd-mode-1-on{display:block}[data-danmuku-mode="1"] .apd-style-mode [data-mode="1"]{color:#00a1d6}[data-danmuku-mode="1"] .apd-style-mode [data-mode="1"] path{fill:#00a1d6}[data-danmuku-mode2=false] .apd-config-mode .apd-mode-2-off{display:block}[data-danmuku-mode2=false] .apd-config-mode .apd-mode-2-on{display:none}[data-danmuku-mode2=false] .art-danmuku [data-mode="2"]{opacity:0!important}[data-danmuku-mode2=true] .apd-config-mode .apd-mode-2-off{display:none}[data-danmuku-mode2=true] .apd-config-mode .apd-mode-2-on{display:block}[data-danmuku-mode="2"] .apd-style-mode [data-mode="2"]{color:#00a1d6}[data-danmuku-mode="2"] .apd-style-mode [data-mode="2"] path{fill:#00a1d6}'},{}],"9pjcf":[function(n,r,s){r.exports='<svg class="apd-icon apd-toggle-on" xmlns="http://www.w3.org/2000/svg" data-pointer="none" viewBox="0 0 24 24" width="24" height="24"><path fill-rule="evenodd" d="M11.989 4.828c-.47 0-.975.004-1.515.012l-1.71-2.566a1.008 1.008 0 0 0-1.678 1.118l.999 1.5c-.681.018-1.403.04-2.164.068a4.013 4.013 0 0 0-3.83 3.44c-.165 1.15-.245 2.545-.245 4.185 0 1.965.115 3.67.35 5.116a4.012 4.012 0 0 0 3.763 3.363l.906.046c1.205.063 1.808.095 3.607.095a.988.988 0 0 0 0-1.975c-1.758 0-2.339-.03-3.501-.092l-.915-.047a2.037 2.037 0 0 1-1.91-1.708c-.216-1.324-.325-2.924-.325-4.798 0-1.563.076-2.864.225-3.904.14-.977.96-1.713 1.945-1.747 2.444-.087 4.465-.13 6.063-.131 1.598 0 3.62.044 6.064.13.96.034 1.71.81 1.855 1.814.075.524.113 1.962.141 3.065v.002c.01.342.017.65.025.88a.987.987 0 1 0 1.974-.068c-.008-.226-.016-.523-.025-.856v-.027c-.03-1.118-.073-2.663-.16-3.276-.273-1.906-1.783-3.438-3.74-3.507-.9-.032-1.743-.058-2.531-.078l1.05-1.46a1.008 1.008 0 0 0-1.638-1.177l-1.862 2.59c-.38-.004-.744-.007-1.088-.007h-.13Zm.521 4.775h-1.32v4.631h2.222v.847h-2.618v1.078h2.618l.003.678c.36.026.714.163 1.01.407h.11v-1.085h2.694v-1.078h-2.695v-.847H16.8v-4.63h-1.276a8.59 8.59 0 0 0 .748-1.42L15.183 7.8a14.232 14.232 0 0 1-.814 1.804h-1.518l.693-.308a8.862 8.862 0 0 0-.814-1.408l-1.045.352c.297.396.572.847.825 1.364Zm-4.18 3.564.154-1.485h1.98V8.294h-3.2v.98H9.33v1.43H7.472l-.308 3.453h2.277c0 1.166-.044 1.925-.12 2.277-.078.352-.386.528-.936.528-.308 0-.616-.022-.902-.055l.297 1.067.062.005c.285.02.551.04.818.04 1.001-.067 1.562-.419 1.694-1.057.11-.638.176-1.903.176-3.795h-2.2Zm7.458.11v-.858h-1.254v.858h1.254Zm-2.376-.858v.858h-1.199v-.858h1.2Zm-1.199-.946h1.2v-.902h-1.2v.902Zm2.321 0v-.902h1.254v.902h-1.254Z" clip-rule="evenodd"/><path fill="#00AEEC" fill-rule="evenodd" d="M22.846 14.627a1 1 0 0 0-1.412.075l-5.091 5.703-2.216-2.275-.097-.086-.008-.005a1 1 0 0 0-1.322 1.493l2.963 3.041.093.083.007.005a1 1 0 0 0 1.354-.124l5.81-6.505.08-.102.005-.008a1 1 0 0 0-.166-1.295Z" clip-rule="evenodd"/></svg>'},{}],b2dkP:[function(n,r,s){r.exports='<svg class="apd-icon apd-toggle-off" xmlns="http://www.w3.org/2000/svg" data-pointer="none" viewBox="0 0 24 24" width="24" height="24"><path fill-rule="evenodd" d="m8.085 4.891-.999-1.499a1.008 1.008 0 0 1 1.679-1.118l1.709 2.566c.54-.008 1.045-.012 1.515-.012h.13c.345 0 .707.003 1.088.007l1.862-2.59a1.008 1.008 0 0 1 1.637 1.177l-1.049 1.46c.788.02 1.631.046 2.53.078 1.958.069 3.468 1.6 3.74 3.507.088.613.13 2.158.16 3.276l.001.027c.01.333.017.63.025.856a.987.987 0 0 1-1.974.069c-.008-.23-.016-.539-.025-.881v-.002c-.028-1.103-.066-2.541-.142-3.065-.143-1.004-.895-1.78-1.854-1.813a179.14 179.14 0 0 0-6.064-.131c-1.598 0-3.619.044-6.063.13a2.037 2.037 0 0 0-1.945 1.748c-.15 1.04-.225 2.341-.225 3.904 0 1.874.11 3.474.325 4.798.154.949.95 1.66 1.91 1.708a97.58 97.58 0 0 0 5.416.139.988.988 0 0 1 0 1.975 99.78 99.78 0 0 1-5.513-.141A4.012 4.012 0 0 1 2.197 17.7c-.236-1.446-.351-3.151-.351-5.116 0-1.64.08-3.035.245-4.184A4.013 4.013 0 0 1 5.92 4.96c.761-.027 1.483-.05 2.164-.069Zm4.436 4.707h-1.32v4.63h2.222v.848h-2.618v1.078h2.431a5.01 5.01 0 0 1 3.575-3.115V9.598h-1.276a8.59 8.59 0 0 0 .748-1.42l-1.089-.384a14.232 14.232 0 0 1-.814 1.804h-1.518l.693-.308a8.862 8.862 0 0 0-.814-1.408l-1.045.352c.297.396.572.847.825 1.364Zm-4.18 3.564.154-1.485h1.98V8.289h-3.2v.979h2.067v1.43H7.483l-.308 3.454h2.277c0 1.166-.044 1.925-.12 2.277-.078.352-.386.528-.936.528-.308 0-.616-.022-.902-.055l.297 1.067.062.004c.285.02.551.04.818.04 1.001-.066 1.562-.418 1.694-1.056.11-.638.176-1.903.176-3.795h-2.2Zm7.458.11v-.858h-1.254v.858H15.8Zm-2.376-.858v.858h-1.199v-.858h1.2Zm-1.199-.946h1.2v-.902h-1.2v.902Zm2.321 0v-.902H15.8v.902h-1.254Zm3.517 10.594a4 4 0 1 0 0-8 4 4 0 0 0 0 8Zm-.002-1.502a2.5 2.5 0 0 1-2.217-3.657l3.326 3.398a2.49 2.49 0 0 1-1.109.259Zm2.5-2.5c0 .42-.103.815-.286 1.162l-3.328-3.401a2.5 2.5 0 0 1 3.614 2.239Z" clip-rule="evenodd"/></svg>'},{}],l8tyy:[function(n,r,s){r.exports='<svg class="apd-icon apd-config-icon" xmlns="http://www.w3.org/2000/svg" data-pointer="none" viewBox="0 0 24 24" width="24" height="24"><path fill-rule="evenodd" d="m15.645 4.881 1.06-1.473a.998.998 0 1 0-1.622-1.166L13.22 4.835a110.67 110.67 0 0 0-1.1-.007h-.131c-.47 0-.975.004-1.515.012L8.783 2.3A.998.998 0 0 0 7.12 3.408l.988 1.484c-.688.019-1.418.042-2.188.069a4.013 4.013 0 0 0-3.83 3.44c-.165 1.15-.245 2.545-.245 4.185 0 1.965.115 3.67.35 5.116a4.012 4.012 0 0 0 3.763 3.363 99.78 99.78 0 0 0 5.513.141.988.988 0 0 0 0-1.975 97.58 97.58 0 0 1-5.416-.139 2.037 2.037 0 0 1-1.91-1.708c-.216-1.324-.325-2.924-.325-4.798 0-1.563.076-2.864.225-3.904.14-.977.96-1.713 1.945-1.747 2.444-.087 4.465-.13 6.063-.131 1.598 0 3.62.044 6.064.13.96.034 1.71.81 1.855 1.814.075.524.113 1.962.141 3.065v.002c.005.183.01.07.014-.038.004-.096.008-.189.011-.081a.987.987 0 1 0 1.974-.069c-.004-.105-.007-.009-.011.09a2.175 2.175 0 0 1-.007.135l-.002.01a.574.574 0 0 1-.005-.091v-.027c-.03-1.118-.073-2.663-.16-3.276-.273-1.906-1.783-3.438-3.74-3.507-.905-.032-1.752-.058-2.543-.079Zm-3.113 4.703h-1.307v4.643h2.2v.04l.651-1.234c.113-.215.281-.389.482-.509v-.11h.235c.137-.049.283-.074.433-.074h1.553V9.584h-1.264a8.5 8.5 0 0 0 .741-1.405l-1.078-.381c-.24.631-.501 1.23-.806 1.786h-1.503l.686-.305a8.613 8.613 0 0 0-.806-1.394l-1.034.348c.294.392.566.839.817 1.35Zm-1.7 5.502h2.16l-.564 1.068h-1.595v-1.068Zm-2.498-1.863.152-1.561h1.96V8.289H7.277v.969h2.048v1.435h-1.84l-.306 3.51h2.254c0 1.155-.043 1.906-.12 2.255-.076.348-.38.523-.925.523-.305 0-.61-.022-.893-.055l.294 1.056.061.005c.282.02.546.039.81.039.991-.065 1.547-.414 1.677-1.046.11-.631.175-1.883.175-3.757H8.334Zm5.09-.8v.85h-1.188v-.85h1.187Zm-1.188-.955h1.187v-.893h-1.187v.893Zm2.322.007v-.893h1.241v.893h-1.241Zm.528 2.757a1.26 1.26 0 0 1 1.087-.627l4.003-.009a1.26 1.26 0 0 1 1.094.63l1.721 2.982c.226.39.225.872-.001 1.263l-1.743 3a1.26 1.26 0 0 1-1.086.628l-4.003.009a1.26 1.26 0 0 1-1.094-.63l-1.722-2.982a1.26 1.26 0 0 1 .002-1.263l1.742-3Zm1.967.858a1.26 1.26 0 0 0-1.08.614l-.903 1.513a1.26 1.26 0 0 0-.002 1.289l.885 1.492c.227.384.64.62 1.086.618l2.192-.005a1.26 1.26 0 0 0 1.08-.615l.904-1.518a1.26 1.26 0 0 0 .001-1.288l-.884-1.489a1.26 1.26 0 0 0-1.086-.616l-2.193.005Zm2.517 2.76a1.4 1.4 0 1 1-2.8 0 1.4 1.4 0 0 1 2.8 0Z" clip-rule="evenodd"/></svg>'},{}],"5iZC3":[function(n,r,s){r.exports='<svg class="apd-icon apd-style-icon" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" data-pointer="none" style="enable-background:new 0 0 22 22" viewBox="0 0 22 22" width="36" height="24"><path d="M17 16H5c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1zM6.96 15c.39 0 .74-.24.89-.6l.65-1.6h5l.66 1.6c.15.36.5.6.89.6.69 0 1.15-.71.88-1.34l-3.88-8.97C11.87 4.27 11.46 4 11 4s-.87.27-1.05.69l-3.88 8.97c-.27.63.2 1.34.89 1.34zM11 5.98 12.87 11H9.13L11 5.98z"/></svg>'},{}],i0Vut:[function(n,r,s){r.exports='<svg class="apd-icon apd-mode-0-off" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" data-pointer="none" style="enable-background:new 0 0 28 28" viewBox="0 0 28 28" width="28" height="28"><path d="M23 15c1.487 0 2.866.464 4 1.255V7a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h11.674A7 7 0 0 1 23 15zM11 9h6a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2zm-3 2H6V9h2v2zm4 4h-2v-2h2v2zm2-1a1 1 0 0 1 1-1h1a1 1 0 0 1 0 2h-1a1 1 0 0 1-1-1z" fill="#00AEEC"/><path d="M26.536 18.464a5 5 0 0 0-7.071 0 5 5 0 0 0 0 7.071 5 5 0 1 0 7.071-7.071zm-5.657 5.657a3 3 0 0 1-.586-3.415l4.001 4.001a3 3 0 0 1-3.415-.586zm4.829-.827-4.001-4.001a3.002 3.002 0 0 1 4.001 4.001z" fill="#00AEEC"/></svg>'},{}],hOSvZ:[function(n,r,s){r.exports='<svg class="apd-icon apd-mode-0-on" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" data-pointer="none" style="enable-background:new 0 0 28 28" viewBox="0 0 28 28" width="28" height="28"><path d="M23 3H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h18a4 4 0 0 0 4-4V7a4 4 0 0 0-4-4zM11 9h6a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2zm-3 2H6V9h2v2zm4 4h-2v-2h2v2zm9 0h-6a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2z" fill="#FFF"/></svg>'},{}],bOXC3:[function(n,r,s){r.exports='<svg class="apd-icon apd-mode-1-off" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" data-pointer="none" style="enable-background:new 0 0 28 28" viewBox="0 0 28 28" width="28" height="28"><path d="M23 15c1.487 0 2.866.464 4 1.255V7a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h11.674A7 7 0 0 1 23 15zm-4-8h2v2h-2V7zM9 9H7V7h2v2zm4 0h-2V7h2v2zm2-2h2v2h-2V7z" fill="#00AEEC"/><path d="M26.536 18.464a5 5 0 0 0-7.071 0 5 5 0 0 0 0 7.071 5 5 0 1 0 7.071-7.071zm-5.657 5.657a3 3 0 0 1-.586-3.415l4.001 4.001a3 3 0 0 1-3.415-.586zm4.829-.827-4.001-4.001a3.002 3.002 0 0 1 4.001 4.001z" fill="#00AEEC"/></svg>'},{}],lKuh0:[function(n,r,s){r.exports='<svg class="apd-icon apd-mode-1-on" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" data-pointer="none" style="enable-background:new 0 0 28 28" viewBox="0 0 28 28" width="28" height="28"><path d="M23 3H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h18a4 4 0 0 0 4-4V7a4 4 0 0 0-4-4zM9 9H7V7h2v2zm4 0h-2V7h2v2zm4 0h-2V7h2v2zm4 0h-2V7h2v2z" fill="#FFF"/></svg>'},{}],eB8W6:[function(n,r,s){r.exports='<svg class="apd-icon apd-mode-2-off" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" data-pointer="none" style="enable-background:new 0 0 28 28" viewBox="0 0 28 28" width="28" height="28"><path d="M23 15c1.487 0 2.866.464 4 1.255V7a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h11.674A7 7 0 0 1 23 15zM9 21H7v-2h2v2zm4 0h-2v-2h2v2z" fill="#00AEEC"/><path d="M26.536 18.464a5 5 0 0 0-7.071 0 5 5 0 0 0 0 7.071 5 5 0 1 0 7.071-7.071zm-5.657 5.657a3 3 0 0 1-.586-3.415l4.001 4.001a3 3 0 0 1-3.415-.586zm4.829-.827-4.001-4.001a3.002 3.002 0 0 1 4.001 4.001z" fill="#00AEEC"/></svg>'},{}],bpe2E:[function(n,r,s){r.exports='<svg class="apd-icon apd-mode-2-on" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" data-pointer="none" style="enable-background:new 0 0 28 28" viewBox="0 0 28 28" width="28" height="28"><path d="M23 3H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h18a4 4 0 0 0 4-4V7a4 4 0 0 0-4-4zM9 21H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z" fill="#FFF"/></svg>'},{}],kL9zy:[function(n,r,s){r.exports='<svg class="apd-icon apd-check-on" xmlns="http://www.w3.org/2000/svg" data-pointer="none" viewBox="0 0 32 32" width="32" height="32"><path d="m13 18.25-1.8-1.8c-.6-.6-1.65-.6-2.25 0s-.6 1.5 0 2.25l2.85 2.85c.318.318.762.468 1.2.448.438.02.882-.13 1.2-.448l8.85-8.85c.6-.6.6-1.65 0-2.25s-1.65-.6-2.25 0l-7.8 7.8zM8 4h16c2.21 0 4 1.79 4 4v16c0 2.21-1.79 4-4 4H8c-2.21 0-4-1.79-4-4V8c0-2.21 1.79-4 4-4z" fill="#00AEEC"/></svg>'},{}],"22xpM":[function(n,r,s){r.exports='<svg class="apd-icon apd-check-off" xmlns="http://www.w3.org/2000/svg" data-pointer="none" viewBox="0 0 32 32" width="32" height="32"><path d="M8 6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H8zm0-2h16c2.21 0 4 1.79 4 4v16c0 2.21-1.79 4-4 4H8c-2.21 0-4-1.79-4-4V8c0-2.21 1.79-4 4-4z" fill="#FFF"/></svg>'},{}],"8AxLD":[function(n,r,s){var o=n("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(s),o.export(s,"default",()=>u);let i={map:(l,c,d,f,h)=>(l-c)*(h-f)/(d-c)+f,range(l,c,d){let f=Math.round(l/d)*d;return Array.from({length:Math.floor((c-l)/d)},(h,p)=>p*d+f)}},a=(l,c)=>{let d=c[0]-l[0],f=c[1]-l[1];return{length:Math.sqrt(Math.pow(d,2)+Math.pow(f,2)),angle:Math.atan2(f,d)}};function u(l,c,d){let{query:f}=l.constructor.utils;l.controls.add({name:"heatmap",position:"top",html:"",style:{position:"absolute",top:"-100px",left:"0px",right:"0px",height:"100px",width:"100%",pointerEvents:"none"},mounted(h){let p=null,g=null;function v(y=[]){if(p=null,g=null,h.innerHTML="",!l.duration||l.option.isLive)return;let _={w:h.offsetWidth,h:h.offsetHeight},b={xMin:0,xMax:_.w,yMin:0,yMax:128,scale:.25,opacity:.2,minHeight:Math.floor(.05*_.h),sampling:Math.floor(_.w/100),smoothing:.2,flattening:.2};typeof d=="object"&&Object.assign(b,d);let w=[];if(Array.isArray(y)&&y.length)w=[...y];else{let W=l.duration/_.w;for(let H=0;H<=_.w;H+=b.sampling){let V=c.queue.filter(({time:R})=>R>H*W&&R<=(H+b.sampling)*W).length;w.push([H,V])}}if(w.length===0)return;let S=w[w.length-1],E=S[0],T=S[1];E!==_.w&&w.push([_.w,T]);let I=w.map(W=>W[1]),k=(Math.min(...I)+Math.max(...I))/2;for(let W=0;W<w.length;W++){let H=w[W],V=H[1];H[1]=V*(V>k?1+b.scale:1-b.scale)+b.minHeight}let C=(W,H,V,R)=>{let z=a(H||W,V||W),M=i.map(Math.cos(z.angle)*b.flattening,0,1,1,0),B=z.angle*M+(R?Math.PI:0),j=z.length*b.smoothing;return[W[0]+Math.cos(B)*j,W[1]+Math.sin(B)*j]},N=(W,H,V)=>{let R=C(V[H-1],V[H-2],W),z=C(W,V[H-1],V[H+1],!0),M=H===V.length-1?" z":"";return`C ${R[0]},${R[1]} ${z[0]},${z[1]} ${W[0]},${W[1]}${M}`},D=w.map(W=>[i.map(W[0],b.xMin,b.xMax,0,_.w),i.map(W[1],b.yMin,b.yMax,_.h,0)]).reduce((W,H,V,R)=>V===0?`M ${R[R.length-1][0]},${_.h} L ${H[0]},${_.h} L ${H[0]},${H[1]}`:`${W} ${N(H,V,R)}`,"");h.innerHTML=`<svg viewBox="0 0 ${_.w} ${_.h}"><defs><linearGradient id="heatmap-solids" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" style="stop-color:var(--art-theme);stop-opacity:${b.opacity}" /><stop offset="0%" style="stop-color:var(--art-theme);stop-opacity:${b.opacity}" id="heatmap-start" /><stop offset="0%" style="stop-color:var(--art-progress-color);stop-opacity:1" id="heatmap-stop" /><stop offset="100%" style="stop-color:var(--art-progress-color);stop-opacity:1" /></linearGradient></defs><path fill="url(#heatmap-solids)" d="${D}"></path></svg>`,p=f("#heatmap-start",h),g=f("#heatmap-stop",h),p.setAttribute("offset",`${100*l.played}%`),g.setAttribute("offset",`${100*l.played}%`)}l.on("video:timeupdate",()=>{p&&g&&(p.setAttribute("offset",`${100*l.played}%`),g.setAttribute("offset",`${100*l.played}%`))}),l.on("setBar",(y,_)=>{p&&g&&y==="played"&&(p.setAttribute("offset",`${100*_}%`),g.setAttribute("offset",`${100*_}%`))}),l.on("ready",()=>v()),l.on("resize",()=>v()),l.on("artplayerPluginDanmuku:loaded",()=>v()),l.on("artplayerPluginDanmuku:points",y=>v(y))}})}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}]},["bgm6t"],"bgm6t","parcelRequire4dc0")})(cm,cm.exports);var Rve=cm.exports;const Lve=Ks(Rve);var XD={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(rs,function(){var n=function(x,$){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,Y){K.__proto__=Y}||function(K,Y){for(var Z in Y)Object.prototype.hasOwnProperty.call(Y,Z)&&(K[Z]=Y[Z])})(x,$)},r=function(){return(r=Object.assign||function(x){for(var $,K=1,Y=arguments.length;K<Y;K++)for(var Z in $=arguments[K])Object.prototype.hasOwnProperty.call($,Z)&&(x[Z]=$[Z]);return x}).apply(this,arguments)};function s(x,$,K){if(K||arguments.length===2)for(var Y,Z=0,oe=$.length;Z<oe;Z++)!Y&&Z in $||((Y=Y||Array.prototype.slice.call($,0,Z))[Z]=$[Z]);return x.concat(Y||Array.prototype.slice.call($))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:rs,i=Object.keys,a=Array.isArray;function u(x,$){return typeof $!="object"||i($).forEach(function(K){x[K]=$[K]}),x}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var l=Object.getPrototypeOf,c={}.hasOwnProperty;function d(x,$){return c.call(x,$)}function f(x,$){typeof $=="function"&&($=$(l(x))),(typeof Reflect>"u"?i:Reflect.ownKeys)($).forEach(function(K){p(x,K,$[K])})}var h=Object.defineProperty;function p(x,$,K,Y){h(x,$,u(K&&d(K,"get")&&typeof K.get=="function"?{get:K.get,set:K.set,configurable:!0}:{value:K,configurable:!0,writable:!0},Y))}function g(x){return{from:function($){return x.prototype=Object.create($.prototype),p(x.prototype,"constructor",x),{extend:f.bind(null,x.prototype)}}}}var v=Object.getOwnPropertyDescriptor,y=[].slice;function _(x,$,K){return y.call(x,$,K)}function b(x,$){return $(x)}function w(x){if(!x)throw new Error("Assertion Failed")}function S(x){o.setImmediate?setImmediate(x):setTimeout(x,0)}function E(x,$){if(typeof $=="string"&&d(x,$))return x[$];if(!$)return x;if(typeof $!="string"){for(var K=[],Y=0,Z=$.length;Y<Z;++Y){var oe=E(x,$[Y]);K.push(oe)}return K}var be=$.indexOf(".");if(be!==-1){var Te=x[$.substr(0,be)];return Te==null?void 0:E(Te,$.substr(be+1))}}function T(x,$,K){if(x&&$!==void 0&&!("isFrozen"in Object&&Object.isFrozen(x)))if(typeof $!="string"&&"length"in $){w(typeof K!="string"&&"length"in K);for(var Y=0,Z=$.length;Y<Z;++Y)T(x,$[Y],K[Y])}else{var oe,be,Te=$.indexOf(".");Te!==-1?(oe=$.substr(0,Te),(be=$.substr(Te+1))===""?K===void 0?a(x)&&!isNaN(parseInt(oe))?x.splice(oe,1):delete x[oe]:x[oe]=K:T(Te=!(Te=x[oe])||!d(x,oe)?x[oe]={}:Te,be,K)):K===void 0?a(x)&&!isNaN(parseInt($))?x.splice($,1):delete x[$]:x[$]=K}}function I(x){var $,K={};for($ in x)d(x,$)&&(K[$]=x[$]);return K}var k=[].concat;function C(x){return k.apply([],x)}var mt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(C([8,16,32,64].map(function(x){return["Int","Uint","Float"].map(function($){return $+x+"Array"})}))).filter(function(x){return o[x]}),N=new Set(mt.map(function(x){return o[x]})),D=null;function W(x){return D=new WeakMap,x=function $(K){if(!K||typeof K!="object")return K;var Y=D.get(K);if(Y)return Y;if(a(K)){Y=[],D.set(K,Y);for(var Z=0,oe=K.length;Z<oe;++Z)Y.push($(K[Z]))}else if(N.has(K.constructor))Y=K;else{var be,Te=l(K);for(be in Y=Te===Object.prototype?{}:Object.create(Te),D.set(K,Y),K)d(K,be)&&(Y[be]=$(K[be]))}return Y}(x),D=null,x}var H={}.toString;function V(x){return H.call(x).slice(8,-1)}var R=typeof Symbol<"u"?Symbol.iterator:"@@iterator",z=typeof R=="symbol"?function(x){var $;return x!=null&&($=x[R])&&$.apply(x)}:function(){return null};function M(x,$){return $=x.indexOf($),0<=$&&x.splice($,1),0<=$}var B={};function j(x){var $,K,Y,Z;if(arguments.length===1){if(a(x))return x.slice();if(this===B&&typeof x=="string")return[x];if(Z=z(x)){for(K=[];!(Y=Z.next()).done;)K.push(Y.value);return K}if(x==null)return[x];if(typeof($=x.length)!="number")return[x];for(K=new Array($);$--;)K[$]=x[$];return K}for($=arguments.length,K=new Array($);$--;)K[$]=arguments[$];return K}var X=typeof Symbol<"u"?function(x){return x[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ze=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Gs=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ze),se={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function te(x,$){this.name=x,this.message=$}function ie(x,$){return x+". Errors: "+Object.keys($).map(function(K){return $[K].toString()}).filter(function(K,Y,Z){return Z.indexOf(K)===Y}).join(`
`)}function fe(x,$,K,Y){this.failures=$,this.failedKeys=Y,this.successCount=K,this.message=ie(x,$)}function ue(x,$){this.name="BulkError",this.failures=Object.keys($).map(function(K){return $[K]}),this.failuresByPos=$,this.message=ie(x,this.failures)}g(te).from(Error).extend({toString:function(){return this.name+": "+this.message}}),g(fe).from(te),g(ue).from(te);var J=Gs.reduce(function(x,$){return x[$]=$+"Error",x},{}),de=te,ae=Gs.reduce(function(x,$){var K=$+"Error";function Y(Z,oe){this.name=K,Z?typeof Z=="string"?(this.message="".concat(Z).concat(oe?`
 `+oe:""),this.inner=oe||null):typeof Z=="object"&&(this.message="".concat(Z.name," ").concat(Z.message),this.inner=Z):(this.message=se[$]||K,this.inner=null)}return g(Y).from(de),x[$]=Y,x},{});ae.Syntax=SyntaxError,ae.Type=TypeError,ae.Range=RangeError;var Ae=Ze.reduce(function(x,$){return x[$+"Error"]=ae[$],x},{}),Re=Gs.reduce(function(x,$){return["Syntax","Type","Range"].indexOf($)===-1&&(x[$+"Error"]=ae[$]),x},{});function pe(){}function ne(x){return x}function le(x,$){return x==null||x===ne?$:function(K){return $(x(K))}}function Se(x,$){return function(){x.apply(this,arguments),$.apply(this,arguments)}}function Ce(x,$){return x===pe?$:function(){var K=x.apply(this,arguments);K!==void 0&&(arguments[0]=K);var Y=this.onsuccess,Z=this.onerror;this.onsuccess=null,this.onerror=null;var oe=$.apply(this,arguments);return Y&&(this.onsuccess=this.onsuccess?Se(Y,this.onsuccess):Y),Z&&(this.onerror=this.onerror?Se(Z,this.onerror):Z),oe!==void 0?oe:K}}function Ee(x,$){return x===pe?$:function(){x.apply(this,arguments);var K=this.onsuccess,Y=this.onerror;this.onsuccess=this.onerror=null,$.apply(this,arguments),K&&(this.onsuccess=this.onsuccess?Se(K,this.onsuccess):K),Y&&(this.onerror=this.onerror?Se(Y,this.onerror):Y)}}function we(x,$){return x===pe?$:function(K){var Y=x.apply(this,arguments);u(K,Y);var Z=this.onsuccess,oe=this.onerror;return this.onsuccess=null,this.onerror=null,K=$.apply(this,arguments),Z&&(this.onsuccess=this.onsuccess?Se(Z,this.onsuccess):Z),oe&&(this.onerror=this.onerror?Se(oe,this.onerror):oe),Y===void 0?K===void 0?void 0:K:u(Y,K)}}function Le(x,$){return x===pe?$:function(){return $.apply(this,arguments)!==!1&&x.apply(this,arguments)}}function Be(x,$){return x===pe?$:function(){var K=x.apply(this,arguments);if(K&&typeof K.then=="function"){for(var Y=this,Z=arguments.length,oe=new Array(Z);Z--;)oe[Z]=arguments[Z];return K.then(function(){return $.apply(Y,oe)})}return $.apply(this,arguments)}}Re.ModifyError=fe,Re.DexieError=te,Re.BulkError=ue;var Ue=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function je(x){Ue=x}var at={},Ie=100,mt=typeof Promise>"u"?[]:function(){var x=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[x,l(x),x];var $=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[$,l($),x]}(),Ze=mt[0],Gs=mt[1],mt=mt[2],Gs=Gs&&Gs.then,Pt=Ze&&Ze.constructor,Vt=!!mt,Ht=function(x,$){$e.push([x,$]),fn&&(queueMicrotask(Ur),fn=!1)},Jt=!0,fn=!0,wt=[],Mt=[],he=ne,_e={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:pe,pgp:!1,env:{},finalize:pe},re=_e,$e=[],Et=0,Rt=[];function ft(x){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var $=this._PSD=re;if(typeof x!="function"){if(x!==at)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&lr(this,this._value))}this._state=null,this._value=null,++$.ref,function K(Y,Z){try{Z(function(oe){if(Y._state===null){if(oe===Y)throw new TypeError("A promise cannot be resolved with itself.");var be=Y._lib&&zs();oe&&typeof oe.then=="function"?K(Y,function(Te,De){oe instanceof ft?oe._then(Te,De):oe.then(Te,De)}):(Y._state=!0,Y._value=oe,zn(Y)),be&&bs()}},lr.bind(null,Y))}catch(oe){lr(Y,oe)}}(this,x)}var sn={get:function(){var x=re,$=na;function K(Y,Z){var oe=this,be=!x.global&&(x!==re||$!==na),Te=be&&!Vn(),De=new ft(function(Me,He){ys(oe,new sr(yi(Y,x,be,Te),yi(Z,x,be,Te),Me,He,x))});return this._consoleTask&&(De._consoleTask=this._consoleTask),De}return K.prototype=at,K},set:function(x){p(this,"then",x&&x.prototype===at?sn:{get:function(){return x},set:sn.set})}};function sr(x,$,K,Y,Z){this.onFulfilled=typeof x=="function"?x:null,this.onRejected=typeof $=="function"?$:null,this.resolve=K,this.reject=Y,this.psd=Z}function lr(x,$){var K,Y;Mt.push($),x._state===null&&(K=x._lib&&zs(),$=he($),x._state=!1,x._value=$,Y=x,wt.some(function(Z){return Z._value===Y._value})||wt.push(Y),zn(x),K&&bs())}function zn(x){var $=x._listeners;x._listeners=[];for(var K=0,Y=$.length;K<Y;++K)ys(x,$[K]);var Z=x._PSD;--Z.ref||Z.finalize(),Et===0&&(++Et,Ht(function(){--Et==0&&Zi()},[]))}function ys(x,$){if(x._state!==null){var K=x._state?$.onFulfilled:$.onRejected;if(K===null)return(x._state?$.resolve:$.reject)(x._value);++$.psd.ref,++Et,Ht(Pn,[K,x,$])}else x._listeners.push($)}function Pn(x,$,K){try{var Y,Z=$._value;!$._state&&Mt.length&&(Mt=[]),Y=Ue&&$._consoleTask?$._consoleTask.run(function(){return x(Z)}):x(Z),$._state||Mt.indexOf(Z)!==-1||function(oe){for(var be=wt.length;be;)if(wt[--be]._value===oe._value)return wt.splice(be,1)}($),K.resolve(Y)}catch(oe){K.reject(oe)}finally{--Et==0&&Zi(),--K.psd.ref||K.psd.finalize()}}function Ur(){Wr(_e,function(){zs()&&bs()})}function zs(){var x=Jt;return fn=Jt=!1,x}function bs(){var x,$,K;do for(;0<$e.length;)for(x=$e,$e=[],K=x.length,$=0;$<K;++$){var Y=x[$];Y[0].apply(null,Y[1])}while(0<$e.length);fn=Jt=!0}function Zi(){var x=wt;wt=[],x.forEach(function(Y){Y._PSD.onunhandled.call(null,Y._value,Y)});for(var $=Rt.slice(0),K=$.length;K;)$[--K]()}function Ji(x){return new ft(at,!1,x)}function Bn(x,$){var K=re;return function(){var Y=zs(),Z=re;try{return kr(K,!0),x.apply(this,arguments)}catch(oe){$&&$(oe)}finally{kr(Z,!1),Y&&bs()}}}f(ft.prototype,{then:sn,_then:function(x,$){ys(this,new sr(null,null,x,$,re))},catch:function(x){if(arguments.length===1)return this.then(null,x);var $=x,K=arguments[1];return typeof $=="function"?this.then(null,function(Y){return(Y instanceof $?K:Ji)(Y)}):this.then(null,function(Y){return(Y&&Y.name===$?K:Ji)(Y)})},finally:function(x){return this.then(function($){return ft.resolve(x()).then(function(){return $})},function($){return ft.resolve(x()).then(function(){return Ji($)})})},timeout:function(x,$){var K=this;return x<1/0?new ft(function(Y,Z){var oe=setTimeout(function(){return Z(new ae.Timeout($))},x);K.then(Y,Z).finally(clearTimeout.bind(null,oe))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&p(ft.prototype,Symbol.toStringTag,"Dexie.Promise"),_e.env=mo(),f(ft,{all:function(){var x=j.apply(null,arguments).map(mr);return new ft(function($,K){x.length===0&&$([]);var Y=x.length;x.forEach(function(Z,oe){return ft.resolve(Z).then(function(be){x[oe]=be,--Y||$(x)},K)})})},resolve:function(x){return x instanceof ft?x:x&&typeof x.then=="function"?new ft(function($,K){x.then($,K)}):new ft(at,!0,x)},reject:Ji,race:function(){var x=j.apply(null,arguments).map(mr);return new ft(function($,K){x.map(function(Y){return ft.resolve(Y).then($,K)})})},PSD:{get:function(){return re},set:function(x){return re=x}},totalEchoes:{get:function(){return na}},newPSD:kt,usePSD:Wr,scheduler:{get:function(){return Ht},set:function(x){Ht=x}},rejectionMapper:{get:function(){return he},set:function(x){he=x}},follow:function(x,$){return new ft(function(K,Y){return kt(function(Z,oe){var be=re;be.unhandleds=[],be.onunhandled=oe,be.finalize=Se(function(){var Te,De=this;Te=function(){De.unhandleds.length===0?Z():oe(De.unhandleds[0])},Rt.push(function Me(){Te(),Rt.splice(Rt.indexOf(Me),1)}),++Et,Ht(function(){--Et==0&&Zi()},[])},be.finalize),x()},$,K,Y)})}}),Pt&&(Pt.allSettled&&p(ft,"allSettled",function(){var x=j.apply(null,arguments).map(mr);return new ft(function($){x.length===0&&$([]);var K=x.length,Y=new Array(K);x.forEach(function(Z,oe){return ft.resolve(Z).then(function(be){return Y[oe]={status:"fulfilled",value:be}},function(be){return Y[oe]={status:"rejected",reason:be}}).then(function(){return--K||$(Y)})})})}),Pt.any&&typeof AggregateError<"u"&&p(ft,"any",function(){var x=j.apply(null,arguments).map(mr);return new ft(function($,K){x.length===0&&K(new AggregateError([]));var Y=x.length,Z=new Array(Y);x.forEach(function(oe,be){return ft.resolve(oe).then(function(Te){return $(Te)},function(Te){Z[be]=Te,--Y||K(new AggregateError(Z))})})})}),Pt.withResolvers&&(ft.withResolvers=Pt.withResolvers));var ur={awaits:0,echoes:0,id:0},vc=0,ea=[],ta=0,na=0,et=0;function kt(x,$,K,Y){var Z=re,oe=Object.create(Z);return oe.parent=Z,oe.ref=0,oe.global=!1,oe.id=++et,_e.env,oe.env=Vt?{Promise:ft,PromiseProp:{value:ft,configurable:!0,writable:!0},all:ft.all,race:ft.race,allSettled:ft.allSettled,any:ft.any,resolve:ft.resolve,reject:ft.reject}:{},$&&u(oe,$),++Z.ref,oe.finalize=function(){--this.parent.ref||this.parent.finalize()},Y=Wr(oe,x,K,Y),oe.ref===0&&oe.finalize(),Y}function cn(){return ur.id||(ur.id=++vc),++ur.awaits,ur.echoes+=Ie,ur.id}function Vn(){return!!ur.awaits&&(--ur.awaits==0&&(ur.id=0),ur.echoes=ur.awaits*Ie,!0)}function mr(x){return ur.echoes&&x&&x.constructor===Pt?(cn(),x.then(function($){return Vn(),$},function($){return Vn(),yt($)})):x}function Fo(){var x=ea[ea.length-1];ea.pop(),kr(x,!1)}function kr(x,$){var K,Y=re;($?!ur.echoes||ta++&&x===re:!ta||--ta&&x===re)||queueMicrotask($?(function(Z){++na,ur.echoes&&--ur.echoes!=0||(ur.echoes=ur.awaits=ur.id=0),ea.push(re),kr(Z,!0)}).bind(null,x):Fo),x!==re&&(re=x,Y===_e&&(_e.env=mo()),Vt&&(K=_e.env.Promise,$=x.env,(Y.global||x.global)&&(Object.defineProperty(o,"Promise",$.PromiseProp),K.all=$.all,K.race=$.race,K.resolve=$.resolve,K.reject=$.reject,$.allSettled&&(K.allSettled=$.allSettled),$.any&&(K.any=$.any))))}function mo(){var x=o.Promise;return Vt?{Promise:x,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:x.all,race:x.race,allSettled:x.allSettled,any:x.any,resolve:x.resolve,reject:x.reject}:{}}function Wr(x,$,K,Y,Z){var oe=re;try{return kr(x,!0),$(K,Y,Z)}finally{kr(oe,!1)}}function yi(x,$,K,Y){return typeof x!="function"?x:function(){var Z=re;K&&cn(),kr($,!0);try{return x.apply(this,arguments)}finally{kr(Z,!1),Y&&queueMicrotask(Vn)}}}function Je(x){Promise===Pt&&ur.echoes===0?ta===0?x():enqueueNativeMicroTask(x):setTimeout(x,0)}(""+Gs).indexOf("[native code]")===-1&&(cn=Vn=pe);var yt=ft.reject,Zt=String.fromCharCode(65535),rn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Sr="String expected.",Er=[],Ws="__dbnames",go="readonly",ra="readwrite";function sa(x,$){return x?$?function(){return x.apply(this,arguments)&&$.apply(this,arguments)}:x:$}var Af={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Bl(x){return typeof x!="string"||/\./.test(x)?function($){return $}:function($){return $[x]===void 0&&x in $&&delete($=W($))[x],$}}function Rf(){throw ae.Type()}function Ln(x,$){try{var K=l_(x),Y=l_($);if(K!==Y)return K==="Array"?1:Y==="Array"?-1:K==="binary"?1:Y==="binary"?-1:K==="string"?1:Y==="string"?-1:K==="Date"?1:Y!=="Date"?NaN:-1;switch(K){case"number":case"Date":case"string":return $<x?1:x<$?-1:0;case"binary":return function(Z,oe){for(var be=Z.length,Te=oe.length,De=be<Te?be:Te,Me=0;Me<De;++Me)if(Z[Me]!==oe[Me])return Z[Me]<oe[Me]?-1:1;return be===Te?0:be<Te?-1:1}(u_(x),u_($));case"Array":return function(Z,oe){for(var be=Z.length,Te=oe.length,De=be<Te?be:Te,Me=0;Me<De;++Me){var He=Ln(Z[Me],oe[Me]);if(He!==0)return He}return be===Te?0:be<Te?-1:1}(x,$)}}catch{}return NaN}function l_(x){var $=typeof x;return $!="object"?$:ArrayBuffer.isView(x)?"binary":(x=V(x),x==="ArrayBuffer"?"binary":x)}function u_(x){return x instanceof Uint8Array?x:ArrayBuffer.isView(x)?new Uint8Array(x.buffer,x.byteOffset,x.byteLength):new Uint8Array(x)}var c_=(nr.prototype._trans=function(x,$,K){var Y=this._tx||re.trans,Z=this.name,oe=Ue&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(x==="readonly"?"read":"write"," ").concat(this.name));function be(Me,He,ke){if(!ke.schema[Z])throw new ae.NotFound("Table "+Z+" not part of transaction");return $(ke.idbtrans,ke)}var Te=zs();try{var De=Y&&Y.db._novip===this.db._novip?Y===re.trans?Y._promise(x,be,K):kt(function(){return Y._promise(x,be,K)},{trans:Y,transless:re.transless||re}):function Me(He,ke,We,Oe){if(He.idbdb&&(He._state.openComplete||re.letThrough||He._vip)){var Ve=He._createTransaction(ke,We,He._dbSchema);try{Ve.create(),He._state.PR1398_maxLoop=3}catch(ze){return ze.name===J.InvalidState&&He.isOpen()&&0<--He._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),He.close({disableAutoOpen:!1}),He.open().then(function(){return Me(He,ke,We,Oe)})):yt(ze)}return Ve._promise(ke,function(ze,Fe){return kt(function(){return re.trans=Ve,Oe(ze,Fe,Ve)})}).then(function(ze){if(ke==="readwrite")try{Ve.idbtrans.commit()}catch{}return ke==="readonly"?ze:Ve._completion.then(function(){return ze})})}if(He._state.openComplete)return yt(new ae.DatabaseClosed(He._state.dbOpenError));if(!He._state.isBeingOpened){if(!He._state.autoOpen)return yt(new ae.DatabaseClosed);He.open().catch(pe)}return He._state.dbReadyPromise.then(function(){return Me(He,ke,We,Oe)})}(this.db,x,[this.name],be);return oe&&(De._consoleTask=oe,De=De.catch(function(Me){return console.trace(Me),yt(Me)})),De}finally{Te&&bs()}},nr.prototype.get=function(x,$){var K=this;return x&&x.constructor===Object?this.where(x).first($):x==null?yt(new ae.Type("Invalid argument to Table.get()")):this._trans("readonly",function(Y){return K.core.get({trans:Y,key:x}).then(function(Z){return K.hook.reading.fire(Z)})}).then($)},nr.prototype.where=function(x){if(typeof x=="string")return new this.db.WhereClause(this,x);if(a(x))return new this.db.WhereClause(this,"[".concat(x.join("+"),"]"));var $=i(x);if($.length===1)return this.where($[0]).equals(x[$[0]]);var K=this.schema.indexes.concat(this.schema.primKey).filter(function(Te){if(Te.compound&&$.every(function(Me){return 0<=Te.keyPath.indexOf(Me)})){for(var De=0;De<$.length;++De)if($.indexOf(Te.keyPath[De])===-1)return!1;return!0}return!1}).sort(function(Te,De){return Te.keyPath.length-De.keyPath.length})[0];if(K&&this.db._maxKey!==Zt){var oe=K.keyPath.slice(0,$.length);return this.where(oe).equals(oe.map(function(De){return x[De]}))}!K&&Ue&&console.warn("The query ".concat(JSON.stringify(x)," on ").concat(this.name," would benefit from a ")+"compound index [".concat($.join("+"),"]"));var Y=this.schema.idxByName;function Z(Te,De){return Ln(Te,De)===0}var be=$.reduce(function(ke,De){var Me=ke[0],He=ke[1],ke=Y[De],We=x[De];return[Me||ke,Me||!ke?sa(He,ke&&ke.multi?function(Oe){return Oe=E(Oe,De),a(Oe)&&Oe.some(function(Ve){return Z(We,Ve)})}:function(Oe){return Z(We,E(Oe,De))}):He]},[null,null]),oe=be[0],be=be[1];return oe?this.where(oe.name).equals(x[oe.keyPath]).filter(be):K?this.filter(be):this.where($).equals("")},nr.prototype.filter=function(x){return this.toCollection().and(x)},nr.prototype.count=function(x){return this.toCollection().count(x)},nr.prototype.offset=function(x){return this.toCollection().offset(x)},nr.prototype.limit=function(x){return this.toCollection().limit(x)},nr.prototype.each=function(x){return this.toCollection().each(x)},nr.prototype.toArray=function(x){return this.toCollection().toArray(x)},nr.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},nr.prototype.orderBy=function(x){return new this.db.Collection(new this.db.WhereClause(this,a(x)?"[".concat(x.join("+"),"]"):x))},nr.prototype.reverse=function(){return this.toCollection().reverse()},nr.prototype.mapToClass=function(x){var $,K=this.db,Y=this.name;function Z(){return $!==null&&$.apply(this,arguments)||this}(this.schema.mappedClass=x).prototype instanceof Rf&&(function(De,Me){if(typeof Me!="function"&&Me!==null)throw new TypeError("Class extends value "+String(Me)+" is not a constructor or null");function He(){this.constructor=De}n(De,Me),De.prototype=Me===null?Object.create(Me):(He.prototype=Me.prototype,new He)}(Z,$=x),Object.defineProperty(Z.prototype,"db",{get:function(){return K},enumerable:!1,configurable:!0}),Z.prototype.table=function(){return Y},x=Z);for(var oe=new Set,be=x.prototype;be;be=l(be))Object.getOwnPropertyNames(be).forEach(function(De){return oe.add(De)});function Te(De){if(!De)return De;var Me,He=Object.create(x.prototype);for(Me in De)if(!oe.has(Me))try{He[Me]=De[Me]}catch{}return He}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Te,this.hook("reading",Te),x},nr.prototype.defineClass=function(){return this.mapToClass(function(x){u(this,x)})},nr.prototype.add=function(x,$){var K=this,Y=this.schema.primKey,Z=Y.auto,oe=Y.keyPath,be=x;return oe&&Z&&(be=Bl(oe)(x)),this._trans("readwrite",function(Te){return K.core.mutate({trans:Te,type:"add",keys:$!=null?[$]:null,values:[be]})}).then(function(Te){return Te.numFailures?ft.reject(Te.failures[0]):Te.lastResult}).then(function(Te){if(oe)try{T(x,oe,Te)}catch{}return Te})},nr.prototype.update=function(x,$){return typeof x!="object"||a(x)?this.where(":id").equals(x).modify($):(x=E(x,this.schema.primKey.keyPath),x===void 0?yt(new ae.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(x).modify($))},nr.prototype.put=function(x,$){var K=this,Y=this.schema.primKey,Z=Y.auto,oe=Y.keyPath,be=x;return oe&&Z&&(be=Bl(oe)(x)),this._trans("readwrite",function(Te){return K.core.mutate({trans:Te,type:"put",values:[be],keys:$!=null?[$]:null})}).then(function(Te){return Te.numFailures?ft.reject(Te.failures[0]):Te.lastResult}).then(function(Te){if(oe)try{T(x,oe,Te)}catch{}return Te})},nr.prototype.delete=function(x){var $=this;return this._trans("readwrite",function(K){return $.core.mutate({trans:K,type:"delete",keys:[x]})}).then(function(K){return K.numFailures?ft.reject(K.failures[0]):void 0})},nr.prototype.clear=function(){var x=this;return this._trans("readwrite",function($){return x.core.mutate({trans:$,type:"deleteRange",range:Af})}).then(function($){return $.numFailures?ft.reject($.failures[0]):void 0})},nr.prototype.bulkGet=function(x){var $=this;return this._trans("readonly",function(K){return $.core.getMany({keys:x,trans:K}).then(function(Y){return Y.map(function(Z){return $.hook.reading.fire(Z)})})})},nr.prototype.bulkAdd=function(x,$,K){var Y=this,Z=Array.isArray($)?$:void 0,oe=(K=K||(Z?void 0:$))?K.allKeys:void 0;return this._trans("readwrite",function(be){var Me=Y.schema.primKey,Te=Me.auto,Me=Me.keyPath;if(Me&&Z)throw new ae.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(Z&&Z.length!==x.length)throw new ae.InvalidArgument("Arguments objects and keys must have the same length");var De=x.length,Me=Me&&Te?x.map(Bl(Me)):x;return Y.core.mutate({trans:be,type:"add",keys:Z,values:Me,wantResults:oe}).then(function(Ve){var ke=Ve.numFailures,We=Ve.results,Oe=Ve.lastResult,Ve=Ve.failures;if(ke===0)return oe?We:Oe;throw new ue("".concat(Y.name,".bulkAdd(): ").concat(ke," of ").concat(De," operations failed"),Ve)})})},nr.prototype.bulkPut=function(x,$,K){var Y=this,Z=Array.isArray($)?$:void 0,oe=(K=K||(Z?void 0:$))?K.allKeys:void 0;return this._trans("readwrite",function(be){var Me=Y.schema.primKey,Te=Me.auto,Me=Me.keyPath;if(Me&&Z)throw new ae.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(Z&&Z.length!==x.length)throw new ae.InvalidArgument("Arguments objects and keys must have the same length");var De=x.length,Me=Me&&Te?x.map(Bl(Me)):x;return Y.core.mutate({trans:be,type:"put",keys:Z,values:Me,wantResults:oe}).then(function(Ve){var ke=Ve.numFailures,We=Ve.results,Oe=Ve.lastResult,Ve=Ve.failures;if(ke===0)return oe?We:Oe;throw new ue("".concat(Y.name,".bulkPut(): ").concat(ke," of ").concat(De," operations failed"),Ve)})})},nr.prototype.bulkUpdate=function(x){var $=this,K=this.core,Y=x.map(function(be){return be.key}),Z=x.map(function(be){return be.changes}),oe=[];return this._trans("readwrite",function(be){return K.getMany({trans:be,keys:Y,cache:"clone"}).then(function(Te){var De=[],Me=[];x.forEach(function(ke,We){var Oe=ke.key,Ve=ke.changes,ze=Te[We];if(ze){for(var Fe=0,Qe=Object.keys(Ve);Fe<Qe.length;Fe++){var nt=Qe[Fe],st=Ve[nt];if(nt===$.schema.primKey.keyPath){if(Ln(st,Oe)!==0)throw new ae.Constraint("Cannot update primary key in bulkUpdate()")}else T(ze,nt,st)}oe.push(We),De.push(Oe),Me.push(ze)}});var He=De.length;return K.mutate({trans:be,type:"put",keys:De,values:Me,updates:{keys:Y,changeSpecs:Z}}).then(function(ke){var We=ke.numFailures,Oe=ke.failures;if(We===0)return He;for(var Ve=0,ze=Object.keys(Oe);Ve<ze.length;Ve++){var Fe,Qe=ze[Ve],nt=oe[Number(Qe)];nt!=null&&(Fe=Oe[Qe],delete Oe[Qe],Oe[nt]=Fe)}throw new ue("".concat($.name,".bulkUpdate(): ").concat(We," of ").concat(He," operations failed"),Oe)})})})},nr.prototype.bulkDelete=function(x){var $=this,K=x.length;return this._trans("readwrite",function(Y){return $.core.mutate({trans:Y,type:"delete",keys:x})}).then(function(be){var Z=be.numFailures,oe=be.lastResult,be=be.failures;if(Z===0)return oe;throw new ue("".concat($.name,".bulkDelete(): ").concat(Z," of ").concat(K," operations failed"),be)})},nr);function nr(){}function yc(x){function $(be,Te){if(Te){for(var De=arguments.length,Me=new Array(De-1);--De;)Me[De-1]=arguments[De];return K[be].subscribe.apply(null,Me),x}if(typeof be=="string")return K[be]}var K={};$.addEventType=oe;for(var Y=1,Z=arguments.length;Y<Z;++Y)oe(arguments[Y]);return $;function oe(be,Te,De){if(typeof be!="object"){var Me;Te=Te||Le;var He={subscribers:[],fire:De=De||pe,subscribe:function(ke){He.subscribers.indexOf(ke)===-1&&(He.subscribers.push(ke),He.fire=Te(He.fire,ke))},unsubscribe:function(ke){He.subscribers=He.subscribers.filter(function(We){return We!==ke}),He.fire=He.subscribers.reduce(Te,De)}};return K[be]=$[be]=He}i(Me=be).forEach(function(ke){var We=Me[ke];if(a(We))oe(ke,Me[ke][0],Me[ke][1]);else{if(We!=="asap")throw new ae.InvalidArgument("Invalid event config");var Oe=oe(ke,ne,function(){for(var Ve=arguments.length,ze=new Array(Ve);Ve--;)ze[Ve]=arguments[Ve];Oe.subscribers.forEach(function(Fe){S(function(){Fe.apply(null,ze)})})})}})}}function bc(x,$){return g($).from({prototype:x}),$}function Vl(x,$){return!(x.filter||x.algorithm||x.or)&&($?x.justLimit:!x.replayFilter)}function gg(x,$){x.filter=sa(x.filter,$)}function vg(x,$,K){var Y=x.replayFilter;x.replayFilter=Y?function(){return sa(Y(),$())}:$,x.justLimit=K&&!Y}function Lf(x,$){if(x.isPrimKey)return $.primaryKey;var K=$.getIndexByKeyPath(x.index);if(!K)throw new ae.Schema("KeyPath "+x.index+" on object store "+$.name+" is not indexed");return K}function d_(x,$,K){var Y=Lf(x,$.schema);return $.openCursor({trans:K,values:!x.keysOnly,reverse:x.dir==="prev",unique:!!x.unique,query:{index:Y,range:x.range}})}function $f(x,$,K,Y){var Z=x.replayFilter?sa(x.filter,x.replayFilter()):x.filter;if(x.or){var oe={},be=function(Te,De,Me){var He,ke;Z&&!Z(De,Me,function(We){return De.stop(We)},function(We){return De.fail(We)})||((ke=""+(He=De.primaryKey))=="[object ArrayBuffer]"&&(ke=""+new Uint8Array(He)),d(oe,ke)||(oe[ke]=!0,$(Te,De,Me)))};return Promise.all([x.or._iterate(be,K),f_(d_(x,Y,K),x.algorithm,be,!x.keysOnly&&x.valueMapper)])}return f_(d_(x,Y,K),sa(x.algorithm,Z),$,!x.keysOnly&&x.valueMapper)}function f_(x,$,K,Y){var Z=Bn(Y?function(oe,be,Te){return K(Y(oe),be,Te)}:K);return x.then(function(oe){if(oe)return oe.start(function(){var be=function(){return oe.continue()};$&&!$(oe,function(Te){return be=Te},function(Te){oe.stop(Te),be=pe},function(Te){oe.fail(Te),be=pe})||Z(oe.value,oe,function(Te){return be=Te}),be()})})}var wc=(h_.prototype.execute=function(x){var $=this["@@propmod"];if($.add!==void 0){var K=$.add;if(a(K))return s(s([],a(x)?x:[],!0),K,!0).sort();if(typeof K=="number")return(Number(x)||0)+K;if(typeof K=="bigint")try{return BigInt(x)+K}catch{return BigInt(0)+K}throw new TypeError("Invalid term ".concat(K))}if($.remove!==void 0){var Y=$.remove;if(a(Y))return a(x)?x.filter(function(Z){return!Y.includes(Z)}).sort():[];if(typeof Y=="number")return Number(x)-Y;if(typeof Y=="bigint")try{return BigInt(x)-Y}catch{return BigInt(0)-Y}throw new TypeError("Invalid subtrahend ".concat(Y))}return K=(K=$.replacePrefix)===null||K===void 0?void 0:K[0],K&&typeof x=="string"&&x.startsWith(K)?$.replacePrefix[1]+x.substring(K.length):x},h_);function h_(x){this["@@propmod"]=x}var tO=(Fn.prototype._read=function(x,$){var K=this._ctx;return K.error?K.table._trans(null,yt.bind(null,K.error)):K.table._trans("readonly",x).then($)},Fn.prototype._write=function(x){var $=this._ctx;return $.error?$.table._trans(null,yt.bind(null,$.error)):$.table._trans("readwrite",x,"locked")},Fn.prototype._addAlgorithm=function(x){var $=this._ctx;$.algorithm=sa($.algorithm,x)},Fn.prototype._iterate=function(x,$){return $f(this._ctx,x,$,this._ctx.table.core)},Fn.prototype.clone=function(x){var $=Object.create(this.constructor.prototype),K=Object.create(this._ctx);return x&&u(K,x),$._ctx=K,$},Fn.prototype.raw=function(){return this._ctx.valueMapper=null,this},Fn.prototype.each=function(x){var $=this._ctx;return this._read(function(K){return $f($,x,K,$.table.core)})},Fn.prototype.count=function(x){var $=this;return this._read(function(K){var Y=$._ctx,Z=Y.table.core;if(Vl(Y,!0))return Z.count({trans:K,query:{index:Lf(Y,Z.schema),range:Y.range}}).then(function(be){return Math.min(be,Y.limit)});var oe=0;return $f(Y,function(){return++oe,!1},K,Z).then(function(){return oe})}).then(x)},Fn.prototype.sortBy=function(x,$){var K=x.split(".").reverse(),Y=K[0],Z=K.length-1;function oe(De,Me){return Me?oe(De[K[Me]],Me-1):De[Y]}var be=this._ctx.dir==="next"?1:-1;function Te(De,Me){return Ln(oe(De,Z),oe(Me,Z))*be}return this.toArray(function(De){return De.sort(Te)}).then($)},Fn.prototype.toArray=function(x){var $=this;return this._read(function(K){var Y=$._ctx;if(Y.dir==="next"&&Vl(Y,!0)&&0<Y.limit){var Z=Y.valueMapper,oe=Lf(Y,Y.table.core.schema);return Y.table.core.query({trans:K,limit:Y.limit,values:!0,query:{index:oe,range:Y.range}}).then(function(Te){return Te=Te.result,Z?Te.map(Z):Te})}var be=[];return $f(Y,function(Te){return be.push(Te)},K,Y.table.core).then(function(){return be})},x)},Fn.prototype.offset=function(x){var $=this._ctx;return x<=0||($.offset+=x,Vl($)?vg($,function(){var K=x;return function(Y,Z){return K===0||(K===1?--K:Z(function(){Y.advance(K),K=0}),!1)}}):vg($,function(){var K=x;return function(){return--K<0}})),this},Fn.prototype.limit=function(x){return this._ctx.limit=Math.min(this._ctx.limit,x),vg(this._ctx,function(){var $=x;return function(K,Y,Z){return--$<=0&&Y(Z),0<=$}},!0),this},Fn.prototype.until=function(x,$){return gg(this._ctx,function(K,Y,Z){return!x(K.value)||(Y(Z),$)}),this},Fn.prototype.first=function(x){return this.limit(1).toArray(function($){return $[0]}).then(x)},Fn.prototype.last=function(x){return this.reverse().first(x)},Fn.prototype.filter=function(x){var $;return gg(this._ctx,function(K){return x(K.value)}),($=this._ctx).isMatch=sa($.isMatch,x),this},Fn.prototype.and=function(x){return this.filter(x)},Fn.prototype.or=function(x){return new this.db.WhereClause(this._ctx.table,x,this)},Fn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Fn.prototype.desc=function(){return this.reverse()},Fn.prototype.eachKey=function(x){var $=this._ctx;return $.keysOnly=!$.isMatch,this.each(function(K,Y){x(Y.key,Y)})},Fn.prototype.eachUniqueKey=function(x){return this._ctx.unique="unique",this.eachKey(x)},Fn.prototype.eachPrimaryKey=function(x){var $=this._ctx;return $.keysOnly=!$.isMatch,this.each(function(K,Y){x(Y.primaryKey,Y)})},Fn.prototype.keys=function(x){var $=this._ctx;$.keysOnly=!$.isMatch;var K=[];return this.each(function(Y,Z){K.push(Z.key)}).then(function(){return K}).then(x)},Fn.prototype.primaryKeys=function(x){var $=this._ctx;if($.dir==="next"&&Vl($,!0)&&0<$.limit)return this._read(function(Y){var Z=Lf($,$.table.core.schema);return $.table.core.query({trans:Y,values:!1,limit:$.limit,query:{index:Z,range:$.range}})}).then(function(Y){return Y.result}).then(x);$.keysOnly=!$.isMatch;var K=[];return this.each(function(Y,Z){K.push(Z.primaryKey)}).then(function(){return K}).then(x)},Fn.prototype.uniqueKeys=function(x){return this._ctx.unique="unique",this.keys(x)},Fn.prototype.firstKey=function(x){return this.limit(1).keys(function($){return $[0]}).then(x)},Fn.prototype.lastKey=function(x){return this.reverse().firstKey(x)},Fn.prototype.distinct=function(){var x=this._ctx,x=x.index&&x.table.schema.idxByName[x.index];if(!x||!x.multi)return this;var $={};return gg(this._ctx,function(Z){var Y=Z.primaryKey.toString(),Z=d($,Y);return $[Y]=!0,!Z}),this},Fn.prototype.modify=function(x){var $=this,K=this._ctx;return this._write(function(Y){var Z,oe,be;be=typeof x=="function"?x:(Z=i(x),oe=Z.length,function(Fe){for(var Qe=!1,nt=0;nt<oe;++nt){var st=Z[nt],ut=x[st],Tt=E(Fe,st);ut instanceof wc?(T(Fe,st,ut.execute(Tt)),Qe=!0):Tt!==ut&&(T(Fe,st,ut),Qe=!0)}return Qe});var Te=K.table.core,ke=Te.schema.primaryKey,De=ke.outbound,Me=ke.extractKey,He=200,ke=$.db._options.modifyChunkSize;ke&&(He=typeof ke=="object"?ke[Te.name]||ke["*"]||200:ke);function We(Fe,st){var nt=st.failures,st=st.numFailures;Ve+=Fe-st;for(var ut=0,Tt=i(nt);ut<Tt.length;ut++){var Ot=Tt[ut];Oe.push(nt[Ot])}}var Oe=[],Ve=0,ze=[];return $.clone().primaryKeys().then(function(Fe){function Qe(st){var ut=Math.min(He,Fe.length-st);return Te.getMany({trans:Y,keys:Fe.slice(st,st+ut),cache:"immutable"}).then(function(Tt){for(var Ot=[],Ct=[],Lt=De?[]:null,Ut=[],Dt=0;Dt<ut;++Dt){var zt=Tt[Dt],mn={value:W(zt),primKey:Fe[st+Dt]};be.call(mn,mn.value,mn)!==!1&&(mn.value==null?Ut.push(Fe[st+Dt]):De||Ln(Me(zt),Me(mn.value))===0?(Ct.push(mn.value),De&&Lt.push(Fe[st+Dt])):(Ut.push(Fe[st+Dt]),Ot.push(mn.value)))}return Promise.resolve(0<Ot.length&&Te.mutate({trans:Y,type:"add",values:Ot}).then(function(Tn){for(var Cn in Tn.failures)Ut.splice(parseInt(Cn),1);We(Ot.length,Tn)})).then(function(){return(0<Ct.length||nt&&typeof x=="object")&&Te.mutate({trans:Y,type:"put",keys:Lt,values:Ct,criteria:nt,changeSpec:typeof x!="function"&&x,isAdditionalChunk:0<st}).then(function(Tn){return We(Ct.length,Tn)})}).then(function(){return(0<Ut.length||nt&&x===yg)&&Te.mutate({trans:Y,type:"delete",keys:Ut,criteria:nt,isAdditionalChunk:0<st}).then(function(Tn){return We(Ut.length,Tn)})}).then(function(){return Fe.length>st+ut&&Qe(st+He)})})}var nt=Vl(K)&&K.limit===1/0&&(typeof x!="function"||x===yg)&&{index:K.index,range:K.range};return Qe(0).then(function(){if(0<Oe.length)throw new fe("Error modifying one or more objects",Oe,Ve,ze);return Fe.length})})})},Fn.prototype.delete=function(){var x=this._ctx,$=x.range;return Vl(x)&&(x.isPrimKey||$.type===3)?this._write(function(K){var Y=x.table.core.schema.primaryKey,Z=$;return x.table.core.count({trans:K,query:{index:Y,range:Z}}).then(function(oe){return x.table.core.mutate({trans:K,type:"deleteRange",range:Z}).then(function(be){var Te=be.failures;if(be.lastResult,be.results,be=be.numFailures,be)throw new fe("Could not delete some values",Object.keys(Te).map(function(De){return Te[De]}),oe-be);return oe-be})})}):this.modify(yg)},Fn);function Fn(){}var yg=function(x,$){return $.value=null};function nO(x,$){return x<$?-1:x===$?0:1}function rO(x,$){return $<x?-1:x===$?0:1}function Rs(x,$,K){return x=x instanceof m_?new x.Collection(x):x,x._ctx.error=new(K||TypeError)($),x}function Ul(x){return new x.Collection(x,function(){return p_("")}).limit(0)}function Pf(x,$,K,Y){var Z,oe,be,Te,De,Me,He,ke=K.length;if(!K.every(function(Ve){return typeof Ve=="string"}))return Rs(x,Sr);function We(Ve){Z=Ve==="next"?function(Fe){return Fe.toUpperCase()}:function(Fe){return Fe.toLowerCase()},oe=Ve==="next"?function(Fe){return Fe.toLowerCase()}:function(Fe){return Fe.toUpperCase()},be=Ve==="next"?nO:rO;var ze=K.map(function(Fe){return{lower:oe(Fe),upper:Z(Fe)}}).sort(function(Fe,Qe){return be(Fe.lower,Qe.lower)});Te=ze.map(function(Fe){return Fe.upper}),De=ze.map(function(Fe){return Fe.lower}),He=(Me=Ve)==="next"?"":Y}We("next"),x=new x.Collection(x,function(){return oa(Te[0],De[ke-1]+Y)}),x._ondirectionchange=function(Ve){We(Ve)};var Oe=0;return x._addAlgorithm(function(Ve,ze,Fe){var Qe=Ve.key;if(typeof Qe!="string")return!1;var nt=oe(Qe);if($(nt,De,Oe))return!0;for(var st=null,ut=Oe;ut<ke;++ut){var Tt=function(Ot,Ct,Lt,Ut,Dt,zt){for(var mn=Math.min(Ot.length,Ut.length),Tn=-1,Cn=0;Cn<mn;++Cn){var Ls=Ct[Cn];if(Ls!==Ut[Cn])return Dt(Ot[Cn],Lt[Cn])<0?Ot.substr(0,Cn)+Lt[Cn]+Lt.substr(Cn+1):Dt(Ot[Cn],Ut[Cn])<0?Ot.substr(0,Cn)+Ut[Cn]+Lt.substr(Cn+1):0<=Tn?Ot.substr(0,Tn)+Ct[Tn]+Lt.substr(Tn+1):null;Dt(Ot[Cn],Ls)<0&&(Tn=Cn)}return mn<Ut.length&&zt==="next"?Ot+Lt.substr(Ot.length):mn<Ot.length&&zt==="prev"?Ot.substr(0,Lt.length):Tn<0?null:Ot.substr(0,Tn)+Ut[Tn]+Lt.substr(Tn+1)}(Qe,nt,Te[ut],De[ut],be,Me);Tt===null&&st===null?Oe=ut+1:(st===null||0<be(st,Tt))&&(st=Tt)}return ze(st!==null?function(){Ve.continue(st+He)}:Fe),!1}),x}function oa(x,$,K,Y){return{type:2,lower:x,upper:$,lowerOpen:K,upperOpen:Y}}function p_(x){return{type:1,lower:x,upper:x}}var m_=(Object.defineProperty(Dr.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Dr.prototype.between=function(x,$,K,Y){K=K!==!1,Y=Y===!0;try{return 0<this._cmp(x,$)||this._cmp(x,$)===0&&(K||Y)&&(!K||!Y)?Ul(this):new this.Collection(this,function(){return oa(x,$,!K,!Y)})}catch{return Rs(this,rn)}},Dr.prototype.equals=function(x){return x==null?Rs(this,rn):new this.Collection(this,function(){return p_(x)})},Dr.prototype.above=function(x){return x==null?Rs(this,rn):new this.Collection(this,function(){return oa(x,void 0,!0)})},Dr.prototype.aboveOrEqual=function(x){return x==null?Rs(this,rn):new this.Collection(this,function(){return oa(x,void 0,!1)})},Dr.prototype.below=function(x){return x==null?Rs(this,rn):new this.Collection(this,function(){return oa(void 0,x,!1,!0)})},Dr.prototype.belowOrEqual=function(x){return x==null?Rs(this,rn):new this.Collection(this,function(){return oa(void 0,x)})},Dr.prototype.startsWith=function(x){return typeof x!="string"?Rs(this,Sr):this.between(x,x+Zt,!0,!0)},Dr.prototype.startsWithIgnoreCase=function(x){return x===""?this.startsWith(x):Pf(this,function($,K){return $.indexOf(K[0])===0},[x],Zt)},Dr.prototype.equalsIgnoreCase=function(x){return Pf(this,function($,K){return $===K[0]},[x],"")},Dr.prototype.anyOfIgnoreCase=function(){var x=j.apply(B,arguments);return x.length===0?Ul(this):Pf(this,function($,K){return K.indexOf($)!==-1},x,"")},Dr.prototype.startsWithAnyOfIgnoreCase=function(){var x=j.apply(B,arguments);return x.length===0?Ul(this):Pf(this,function($,K){return K.some(function(Y){return $.indexOf(Y)===0})},x,Zt)},Dr.prototype.anyOf=function(){var x=this,$=j.apply(B,arguments),K=this._cmp;try{$.sort(K)}catch{return Rs(this,rn)}if($.length===0)return Ul(this);var Y=new this.Collection(this,function(){return oa($[0],$[$.length-1])});Y._ondirectionchange=function(oe){K=oe==="next"?x._ascending:x._descending,$.sort(K)};var Z=0;return Y._addAlgorithm(function(oe,be,Te){for(var De=oe.key;0<K(De,$[Z]);)if(++Z===$.length)return be(Te),!1;return K(De,$[Z])===0||(be(function(){oe.continue($[Z])}),!1)}),Y},Dr.prototype.notEqual=function(x){return this.inAnyRange([[-1/0,x],[x,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Dr.prototype.noneOf=function(){var x=j.apply(B,arguments);if(x.length===0)return new this.Collection(this);try{x.sort(this._ascending)}catch{return Rs(this,rn)}var $=x.reduce(function(K,Y){return K?K.concat([[K[K.length-1][1],Y]]):[[-1/0,Y]]},null);return $.push([x[x.length-1],this.db._maxKey]),this.inAnyRange($,{includeLowers:!1,includeUppers:!1})},Dr.prototype.inAnyRange=function(Qe,$){var K=this,Y=this._cmp,Z=this._ascending,oe=this._descending,be=this._min,Te=this._max;if(Qe.length===0)return Ul(this);if(!Qe.every(function(nt){return nt[0]!==void 0&&nt[1]!==void 0&&Z(nt[0],nt[1])<=0}))return Rs(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ae.InvalidArgument);var De=!$||$.includeLowers!==!1,Me=$&&$.includeUppers===!0,He,ke=Z;function We(nt,st){return ke(nt[0],st[0])}try{(He=Qe.reduce(function(nt,st){for(var ut=0,Tt=nt.length;ut<Tt;++ut){var Ot=nt[ut];if(Y(st[0],Ot[1])<0&&0<Y(st[1],Ot[0])){Ot[0]=be(Ot[0],st[0]),Ot[1]=Te(Ot[1],st[1]);break}}return ut===Tt&&nt.push(st),nt},[])).sort(We)}catch{return Rs(this,rn)}var Oe=0,Ve=Me?function(nt){return 0<Z(nt,He[Oe][1])}:function(nt){return 0<=Z(nt,He[Oe][1])},ze=De?function(nt){return 0<oe(nt,He[Oe][0])}:function(nt){return 0<=oe(nt,He[Oe][0])},Fe=Ve,Qe=new this.Collection(this,function(){return oa(He[0][0],He[He.length-1][1],!De,!Me)});return Qe._ondirectionchange=function(nt){ke=nt==="next"?(Fe=Ve,Z):(Fe=ze,oe),He.sort(We)},Qe._addAlgorithm(function(nt,st,ut){for(var Tt,Ot=nt.key;Fe(Ot);)if(++Oe===He.length)return st(ut),!1;return!Ve(Tt=Ot)&&!ze(Tt)||(K._cmp(Ot,He[Oe][1])===0||K._cmp(Ot,He[Oe][0])===0||st(function(){ke===Z?nt.continue(He[Oe][0]):nt.continue(He[Oe][1])}),!1)}),Qe},Dr.prototype.startsWithAnyOf=function(){var x=j.apply(B,arguments);return x.every(function($){return typeof $=="string"})?x.length===0?Ul(this):this.inAnyRange(x.map(function($){return[$,$+Zt]})):Rs(this,"startsWithAnyOf() only works with strings")},Dr);function Dr(){}function Bo(x){return Bn(function($){return _c($),x($.target.error),!1})}function _c(x){x.stopPropagation&&x.stopPropagation(),x.preventDefault&&x.preventDefault()}var Sc="storagemutated",bg="x-storagemutated-1",ia=yc(null,Sc),sO=(Vo.prototype._lock=function(){return w(!re.global),++this._reculock,this._reculock!==1||re.global||(re.lockOwnerFor=this),this},Vo.prototype._unlock=function(){if(w(!re.global),--this._reculock==0)for(re.global||(re.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var x=this._blockedFuncs.shift();try{Wr(x[1],x[0])}catch{}}return this},Vo.prototype._locked=function(){return this._reculock&&re.lockOwnerFor!==this},Vo.prototype.create=function(x){var $=this;if(!this.mode)return this;var K=this.db.idbdb,Y=this.db._state.dbOpenError;if(w(!this.idbtrans),!x&&!K)switch(Y&&Y.name){case"DatabaseClosedError":throw new ae.DatabaseClosed(Y);case"MissingAPIError":throw new ae.MissingAPI(Y.message,Y);default:throw new ae.OpenFailed(Y)}if(!this.active)throw new ae.TransactionInactive;return w(this._completion._state===null),(x=this.idbtrans=x||(this.db.core||K).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Bn(function(Z){_c(Z),$._reject(x.error)}),x.onabort=Bn(function(Z){_c(Z),$.active&&$._reject(new ae.Abort(x.error)),$.active=!1,$.on("abort").fire(Z)}),x.oncomplete=Bn(function(){$.active=!1,$._resolve(),"mutatedParts"in x&&ia.storagemutated.fire(x.mutatedParts)}),this},Vo.prototype._promise=function(x,$,K){var Y=this;if(x==="readwrite"&&this.mode!=="readwrite")return yt(new ae.ReadOnly("Transaction is readonly"));if(!this.active)return yt(new ae.TransactionInactive);if(this._locked())return new ft(function(oe,be){Y._blockedFuncs.push([function(){Y._promise(x,$,K).then(oe,be)},re])});if(K)return kt(function(){var oe=new ft(function(be,Te){Y._lock();var De=$(be,Te,Y);De&&De.then&&De.then(be,Te)});return oe.finally(function(){return Y._unlock()}),oe._lib=!0,oe});var Z=new ft(function(oe,be){var Te=$(oe,be,Y);Te&&Te.then&&Te.then(oe,be)});return Z._lib=!0,Z},Vo.prototype._root=function(){return this.parent?this.parent._root():this},Vo.prototype.waitFor=function(x){var $,K=this._root(),Y=ft.resolve(x);K._waitingFor?K._waitingFor=K._waitingFor.then(function(){return Y}):(K._waitingFor=Y,K._waitingQueue=[],$=K.idbtrans.objectStore(K.storeNames[0]),function oe(){for(++K._spinCount;K._waitingQueue.length;)K._waitingQueue.shift()();K._waitingFor&&($.get(-1/0).onsuccess=oe)}());var Z=K._waitingFor;return new ft(function(oe,be){Y.then(function(Te){return K._waitingQueue.push(Bn(oe.bind(null,Te)))},function(Te){return K._waitingQueue.push(Bn(be.bind(null,Te)))}).finally(function(){K._waitingFor===Z&&(K._waitingFor=null)})})},Vo.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ae.Abort))},Vo.prototype.table=function(x){var $=this._memoizedTables||(this._memoizedTables={});if(d($,x))return $[x];var K=this.schema[x];if(!K)throw new ae.NotFound("Table "+x+" not part of transaction");return K=new this.db.Table(x,K,this),K.core=this.db.core.table(x),$[x]=K},Vo);function Vo(){}function wg(x,$,K,Y,Z,oe,be){return{name:x,keyPath:$,unique:K,multi:Y,auto:Z,compound:oe,src:(K&&!be?"&":"")+(Y?"*":"")+(Z?"++":"")+g_($)}}function g_(x){return typeof x=="string"?x:x?"["+[].join.call(x,"+")+"]":""}function _g(x,$,K){return{name:x,primKey:$,indexes:K,mappedClass:null,idxByName:(Y=function(Z){return[Z.name,Z]},K.reduce(function(Z,oe,be){return be=Y(oe,be),be&&(Z[be[0]]=be[1]),Z},{}))};var Y}var Ec=function(x){try{return x.only([[]]),Ec=function(){return[[]]},[[]]}catch{return Ec=function(){return Zt},Zt}};function Sg(x){return x==null?function(){}:typeof x=="string"?($=x).split(".").length===1?function(K){return K[$]}:function(K){return E(K,$)}:function(K){return E(K,x)};var $}function v_(x){return[].slice.call(x)}var oO=0;function xc(x){return x==null?":id":typeof x=="string"?x:"[".concat(x.join("+"),"]")}function iO(x,$,De){function Y(Fe){if(Fe.type===3)return null;if(Fe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Oe=Fe.lower,Ve=Fe.upper,ze=Fe.lowerOpen,Fe=Fe.upperOpen;return Oe===void 0?Ve===void 0?null:$.upperBound(Ve,!!Fe):Ve===void 0?$.lowerBound(Oe,!!ze):$.bound(Oe,Ve,!!ze,!!Fe)}function Z(We){var Oe,Ve=We.name;return{name:Ve,schema:We,mutate:function(ze){var Fe=ze.trans,Qe=ze.type,nt=ze.keys,st=ze.values,ut=ze.range;return new Promise(function(Tt,Ot){Tt=Bn(Tt);var Ct=Fe.objectStore(Ve),Lt=Ct.keyPath==null,Ut=Qe==="put"||Qe==="add";if(!Ut&&Qe!=="delete"&&Qe!=="deleteRange")throw new Error("Invalid operation type: "+Qe);var Dt,zt=(nt||st||{length:1}).length;if(nt&&st&&nt.length!==st.length)throw new Error("Given keys array must have same length as given values array.");if(zt===0)return Tt({numFailures:0,failures:{},results:[],lastResult:void 0});function mn(ss){++Ls,_c(ss)}var Tn=[],Cn=[],Ls=0;if(Qe==="deleteRange"){if(ut.type===4)return Tt({numFailures:Ls,failures:Cn,results:[],lastResult:void 0});ut.type===3?Tn.push(Dt=Ct.clear()):Tn.push(Dt=Ct.delete(Y(ut)))}else{var Lt=Ut?Lt?[st,nt]:[st,null]:[nt,null],pn=Lt[0],qr=Lt[1];if(Ut)for(var Yr=0;Yr<zt;++Yr)Tn.push(Dt=qr&&qr[Yr]!==void 0?Ct[Qe](pn[Yr],qr[Yr]):Ct[Qe](pn[Yr])),Dt.onerror=mn;else for(Yr=0;Yr<zt;++Yr)Tn.push(Dt=Ct[Qe](pn[Yr])),Dt.onerror=mn}function Wf(ss){ss=ss.target.result,Tn.forEach(function(qa,Vg){return qa.error!=null&&(Cn[Vg]=qa.error)}),Tt({numFailures:Ls,failures:Cn,results:Qe==="delete"?nt:Tn.map(function(qa){return qa.result}),lastResult:ss})}Dt.onerror=function(ss){mn(ss),Wf(ss)},Dt.onsuccess=Wf})},getMany:function(ze){var Fe=ze.trans,Qe=ze.keys;return new Promise(function(nt,st){nt=Bn(nt);for(var ut,Tt=Fe.objectStore(Ve),Ot=Qe.length,Ct=new Array(Ot),Lt=0,Ut=0,Dt=function(Tn){Tn=Tn.target,Ct[Tn._pos]=Tn.result,++Ut===Lt&&nt(Ct)},zt=Bo(st),mn=0;mn<Ot;++mn)Qe[mn]!=null&&((ut=Tt.get(Qe[mn]))._pos=mn,ut.onsuccess=Dt,ut.onerror=zt,++Lt);Lt===0&&nt(Ct)})},get:function(ze){var Fe=ze.trans,Qe=ze.key;return new Promise(function(nt,st){nt=Bn(nt);var ut=Fe.objectStore(Ve).get(Qe);ut.onsuccess=function(Tt){return nt(Tt.target.result)},ut.onerror=Bo(st)})},query:(Oe=Me,function(ze){return new Promise(function(Fe,Qe){Fe=Bn(Fe);var nt,st,ut,Lt=ze.trans,Tt=ze.values,Ot=ze.limit,Dt=ze.query,Ct=Ot===1/0?void 0:Ot,Ut=Dt.index,Dt=Dt.range,Lt=Lt.objectStore(Ve),Ut=Ut.isPrimaryKey?Lt:Lt.index(Ut.name),Dt=Y(Dt);if(Ot===0)return Fe({result:[]});Oe?((Ct=Tt?Ut.getAll(Dt,Ct):Ut.getAllKeys(Dt,Ct)).onsuccess=function(zt){return Fe({result:zt.target.result})},Ct.onerror=Bo(Qe)):(nt=0,st=!Tt&&"openKeyCursor"in Ut?Ut.openKeyCursor(Dt):Ut.openCursor(Dt),ut=[],st.onsuccess=function(zt){var mn=st.result;return mn?(ut.push(Tt?mn.value:mn.primaryKey),++nt===Ot?Fe({result:ut}):void mn.continue()):Fe({result:ut})},st.onerror=Bo(Qe))})}),openCursor:function(ze){var Fe=ze.trans,Qe=ze.values,nt=ze.query,st=ze.reverse,ut=ze.unique;return new Promise(function(Tt,Ot){Tt=Bn(Tt);var Ut=nt.index,Ct=nt.range,Lt=Fe.objectStore(Ve),Lt=Ut.isPrimaryKey?Lt:Lt.index(Ut.name),Ut=st?ut?"prevunique":"prev":ut?"nextunique":"next",Dt=!Qe&&"openKeyCursor"in Lt?Lt.openKeyCursor(Y(Ct),Ut):Lt.openCursor(Y(Ct),Ut);Dt.onerror=Bo(Ot),Dt.onsuccess=Bn(function(zt){var mn,Tn,Cn,Ls,pn=Dt.result;pn?(pn.___id=++oO,pn.done=!1,mn=pn.continue.bind(pn),Tn=(Tn=pn.continuePrimaryKey)&&Tn.bind(pn),Cn=pn.advance.bind(pn),Ls=function(){throw new Error("Cursor not stopped")},pn.trans=Fe,pn.stop=pn.continue=pn.continuePrimaryKey=pn.advance=function(){throw new Error("Cursor not started")},pn.fail=Bn(Ot),pn.next=function(){var qr=this,Yr=1;return this.start(function(){return Yr--?qr.continue():qr.stop()}).then(function(){return qr})},pn.start=function(qr){function Yr(){if(Dt.result)try{qr()}catch(ss){pn.fail(ss)}else pn.done=!0,pn.start=function(){throw new Error("Cursor behind last entry")},pn.stop()}var Wf=new Promise(function(ss,qa){ss=Bn(ss),Dt.onerror=Bo(qa),pn.fail=qa,pn.stop=function(Vg){pn.stop=pn.continue=pn.continuePrimaryKey=pn.advance=Ls,ss(Vg)}});return Dt.onsuccess=Bn(function(ss){Dt.onsuccess=Yr,Yr()}),pn.continue=mn,pn.continuePrimaryKey=Tn,pn.advance=Cn,Yr(),Wf},Tt(pn)):Tt(null)},Ot)})},count:function(ze){var Fe=ze.query,Qe=ze.trans,nt=Fe.index,st=Fe.range;return new Promise(function(ut,Tt){var Ot=Qe.objectStore(Ve),Ct=nt.isPrimaryKey?Ot:Ot.index(nt.name),Ot=Y(st),Ct=Ot?Ct.count(Ot):Ct.count();Ct.onsuccess=Bn(function(Lt){return ut(Lt.target.result)}),Ct.onerror=Bo(Tt)})}}}var oe,be,Te,He=(be=De,Te=v_((oe=x).objectStoreNames),{schema:{name:oe.name,tables:Te.map(function(We){return be.objectStore(We)}).map(function(We){var Oe=We.keyPath,Fe=We.autoIncrement,Ve=a(Oe),ze={},Fe={name:We.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Oe==null,compound:Ve,keyPath:Oe,autoIncrement:Fe,unique:!0,extractKey:Sg(Oe)},indexes:v_(We.indexNames).map(function(Qe){return We.index(Qe)}).map(function(ut){var nt=ut.name,st=ut.unique,Tt=ut.multiEntry,ut=ut.keyPath,Tt={name:nt,compound:a(ut),keyPath:ut,unique:st,multiEntry:Tt,extractKey:Sg(ut)};return ze[xc(ut)]=Tt}),getIndexByKeyPath:function(Qe){return ze[xc(Qe)]}};return ze[":id"]=Fe.primaryKey,Oe!=null&&(ze[xc(Oe)]=Fe.primaryKey),Fe})},hasGetAll:0<Te.length&&"getAll"in be.objectStore(Te[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),De=He.schema,Me=He.hasGetAll,He=De.tables.map(Z),ke={};return He.forEach(function(We){return ke[We.name]=We}),{stack:"dbcore",transaction:x.transaction.bind(x),table:function(We){if(!ke[We])throw new Error("Table '".concat(We,"' not found"));return ke[We]},MIN_KEY:-1/0,MAX_KEY:Ec($),schema:De}}function aO(x,$,K,Y){var Z=K.IDBKeyRange;return K.indexedDB,{dbcore:(Y=iO($,Z,Y),x.dbcore.reduce(function(oe,be){return be=be.create,r(r({},oe),be(oe))},Y))}}function Df(x,Y){var K=Y.db,Y=aO(x._middlewares,K,x._deps,Y);x.core=Y.dbcore,x.tables.forEach(function(Z){var oe=Z.name;x.core.schema.tables.some(function(be){return be.name===oe})&&(Z.core=x.core.table(oe),x[oe]instanceof x.Table&&(x[oe].core=Z.core))})}function Of(x,$,K,Y){K.forEach(function(Z){var oe=Y[Z];$.forEach(function(be){var Te=function De(Me,He){return v(Me,He)||(Me=l(Me))&&De(Me,He)}(be,Z);(!Te||"value"in Te&&Te.value===void 0)&&(be===x.Transaction.prototype||be instanceof x.Transaction?p(be,Z,{get:function(){return this.table(Z)},set:function(De){h(this,Z,{value:De,writable:!0,configurable:!0,enumerable:!0})}}):be[Z]=new x.Table(Z,oe))})})}function Eg(x,$){$.forEach(function(K){for(var Y in K)K[Y]instanceof x.Table&&delete K[Y]})}function lO(x,$){return x._cfg.version-$._cfg.version}function uO(x,$,K,Y){var Z=x._dbSchema;K.objectStoreNames.contains("$meta")&&!Z.$meta&&(Z.$meta=_g("$meta",b_("")[0],[]),x._storeNames.push("$meta"));var oe=x._createTransaction("readwrite",x._storeNames,Z);oe.create(K),oe._completion.catch(Y);var be=oe._reject.bind(oe),Te=re.transless||re;kt(function(){return re.trans=oe,re.transless=Te,$!==0?(Df(x,K),Me=$,((De=oe).storeNames.includes("$meta")?De.table("$meta").get("version").then(function(He){return He??Me}):ft.resolve(Me)).then(function(He){return We=He,Oe=oe,Ve=K,ze=[],He=(ke=x)._versions,Fe=ke._dbSchema=Nf(0,ke.idbdb,Ve),(He=He.filter(function(Qe){return Qe._cfg.version>=We})).length!==0?(He.forEach(function(Qe){ze.push(function(){var nt=Fe,st=Qe._cfg.dbschema;Ff(ke,nt,Ve),Ff(ke,st,Ve),Fe=ke._dbSchema=st;var ut=xg(nt,st);ut.add.forEach(function(Ut){Tg(Ve,Ut[0],Ut[1].primKey,Ut[1].indexes)}),ut.change.forEach(function(Ut){if(Ut.recreate)throw new ae.Upgrade("Not yet support for changing primary key");var Dt=Ve.objectStore(Ut.name);Ut.add.forEach(function(zt){return Mf(Dt,zt)}),Ut.change.forEach(function(zt){Dt.deleteIndex(zt.name),Mf(Dt,zt)}),Ut.del.forEach(function(zt){return Dt.deleteIndex(zt)})});var Tt=Qe._cfg.contentUpgrade;if(Tt&&Qe._cfg.version>We){Df(ke,Ve),Oe._memoizedTables={};var Ot=I(st);ut.del.forEach(function(Ut){Ot[Ut]=nt[Ut]}),Eg(ke,[ke.Transaction.prototype]),Of(ke,[ke.Transaction.prototype],i(Ot),Ot),Oe.schema=Ot;var Ct,Lt=X(Tt);return Lt&&cn(),ut=ft.follow(function(){var Ut;(Ct=Tt(Oe))&&Lt&&(Ut=Vn.bind(null,null),Ct.then(Ut,Ut))}),Ct&&typeof Ct.then=="function"?ft.resolve(Ct):ut.then(function(){return Ct})}}),ze.push(function(nt){var st,ut,Tt=Qe._cfg.dbschema;st=Tt,ut=nt,[].slice.call(ut.db.objectStoreNames).forEach(function(Ot){return st[Ot]==null&&ut.db.deleteObjectStore(Ot)}),Eg(ke,[ke.Transaction.prototype]),Of(ke,[ke.Transaction.prototype],ke._storeNames,ke._dbSchema),Oe.schema=ke._dbSchema}),ze.push(function(nt){ke.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(ke.idbdb.version/10)===Qe._cfg.version?(ke.idbdb.deleteObjectStore("$meta"),delete ke._dbSchema.$meta,ke._storeNames=ke._storeNames.filter(function(st){return st!=="$meta"})):nt.objectStore("$meta").put(Qe._cfg.version,"version"))})}),function Qe(){return ze.length?ft.resolve(ze.shift()(Oe.idbtrans)).then(Qe):ft.resolve()}().then(function(){y_(Fe,Ve)})):ft.resolve();var ke,We,Oe,Ve,ze,Fe}).catch(be)):(i(Z).forEach(function(He){Tg(K,He,Z[He].primKey,Z[He].indexes)}),Df(x,K),void ft.follow(function(){return x.on.populate.fire(oe)}).catch(be));var De,Me})}function cO(x,$){y_(x._dbSchema,$),$.db.version%10!=0||$.objectStoreNames.contains("$meta")||$.db.createObjectStore("$meta").add(Math.ceil($.db.version/10-1),"version");var K=Nf(0,x.idbdb,$);Ff(x,x._dbSchema,$);for(var Y=0,Z=xg(K,x._dbSchema).change;Y<Z.length;Y++){var oe=function(be){if(be.change.length||be.recreate)return console.warn("Unable to patch indexes of table ".concat(be.name," because it has changes on the type of index or primary key.")),{value:void 0};var Te=$.objectStore(be.name);be.add.forEach(function(De){Ue&&console.debug("Dexie upgrade patch: Creating missing index ".concat(be.name,".").concat(De.src)),Mf(Te,De)})}(Z[Y]);if(typeof oe=="object")return oe.value}}function xg(x,$){var K,Y={del:[],add:[],change:[]};for(K in x)$[K]||Y.del.push(K);for(K in $){var Z=x[K],oe=$[K];if(Z){var be={name:K,def:oe,recreate:!1,del:[],add:[],change:[]};if(""+(Z.primKey.keyPath||"")!=""+(oe.primKey.keyPath||"")||Z.primKey.auto!==oe.primKey.auto)be.recreate=!0,Y.change.push(be);else{var Te=Z.idxByName,De=oe.idxByName,Me=void 0;for(Me in Te)De[Me]||be.del.push(Me);for(Me in De){var He=Te[Me],ke=De[Me];He?He.src!==ke.src&&be.change.push(ke):be.add.push(ke)}(0<be.del.length||0<be.add.length||0<be.change.length)&&Y.change.push(be)}}else Y.add.push([K,oe])}return Y}function Tg(x,$,K,Y){var Z=x.db.createObjectStore($,K.keyPath?{keyPath:K.keyPath,autoIncrement:K.auto}:{autoIncrement:K.auto});return Y.forEach(function(oe){return Mf(Z,oe)}),Z}function y_(x,$){i(x).forEach(function(K){$.db.objectStoreNames.contains(K)||(Ue&&console.debug("Dexie: Creating missing table",K),Tg($,K,x[K].primKey,x[K].indexes))})}function Mf(x,$){x.createIndex($.name,$.keyPath,{unique:$.unique,multiEntry:$.multi})}function Nf(x,$,K){var Y={};return _($.objectStoreNames,0).forEach(function(Z){for(var oe=K.objectStore(Z),be=wg(g_(Me=oe.keyPath),Me||"",!0,!1,!!oe.autoIncrement,Me&&typeof Me!="string",!0),Te=[],De=0;De<oe.indexNames.length;++De){var He=oe.index(oe.indexNames[De]),Me=He.keyPath,He=wg(He.name,Me,!!He.unique,!!He.multiEntry,!1,Me&&typeof Me!="string",!1);Te.push(He)}Y[Z]=_g(Z,be,Te)}),Y}function Ff(x,$,K){for(var Y=K.db.objectStoreNames,Z=0;Z<Y.length;++Z){var oe=Y[Z],be=K.objectStore(oe);x._hasGetAll="getAll"in be;for(var Te=0;Te<be.indexNames.length;++Te){var De=be.indexNames[Te],Me=be.index(De).keyPath,He=typeof Me=="string"?Me:"["+_(Me).join("+")+"]";!$[oe]||(Me=$[oe].idxByName[He])&&(Me.name=De,delete $[oe].idxByName[He],$[oe].idxByName[De]=Me)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(x._hasGetAll=!1)}function b_(x){return x.split(",").map(function($,K){var Y=($=$.trim()).replace(/([&*]|\+\+)/g,""),Z=/^\[/.test(Y)?Y.match(/^\[(.*)\]$/)[1].split("+"):Y;return wg(Y,Z||null,/\&/.test($),/\*/.test($),/\+\+/.test($),a(Z),K===0)})}var dO=(Bf.prototype._parseStoresSpec=function(x,$){i(x).forEach(function(K){if(x[K]!==null){var Y=b_(x[K]),Z=Y.shift();if(Z.unique=!0,Z.multi)throw new ae.Schema("Primary key cannot be multi-valued");Y.forEach(function(oe){if(oe.auto)throw new ae.Schema("Only primary key can be marked as autoIncrement (++)");if(!oe.keyPath)throw new ae.Schema("Index must have a name and cannot be an empty string")}),$[K]=_g(K,Z,Y)}})},Bf.prototype.stores=function(K){var $=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,K):K;var K=$._versions,Y={},Z={};return K.forEach(function(oe){u(Y,oe._cfg.storesSource),Z=oe._cfg.dbschema={},oe._parseStoresSpec(Y,Z)}),$._dbSchema=Z,Eg($,[$._allTables,$,$.Transaction.prototype]),Of($,[$._allTables,$,$.Transaction.prototype,this._cfg.tables],i(Z),Z),$._storeNames=i(Z),this},Bf.prototype.upgrade=function(x){return this._cfg.contentUpgrade=Be(this._cfg.contentUpgrade||pe,x),this},Bf);function Bf(){}function Cg(x,$){var K=x._dbNamesDB;return K||(K=x._dbNamesDB=new bi(Ws,{addons:[],indexedDB:x,IDBKeyRange:$})).version(1).stores({dbnames:"name"}),K.table("dbnames")}function kg(x){return x&&typeof x.databases=="function"}function Ig(x){return kt(function(){return re.letThrough=!0,x()})}function Ag(x){return!("from"in x)}var Gr=function(x,$){if(!this){var K=new Gr;return x&&"d"in x&&u(K,x),K}u(this,arguments.length?{d:1,from:x,to:1<arguments.length?$:x}:{d:0})};function Tc(x,$,K){var Y=Ln($,K);if(!isNaN(Y)){if(0<Y)throw RangeError();if(Ag(x))return u(x,{from:$,to:K,d:1});var Z=x.l,Y=x.r;if(Ln(K,x.from)<0)return Z?Tc(Z,$,K):x.l={from:$,to:K,d:1,l:null,r:null},__(x);if(0<Ln($,x.to))return Y?Tc(Y,$,K):x.r={from:$,to:K,d:1,l:null,r:null},__(x);Ln($,x.from)<0&&(x.from=$,x.l=null,x.d=Y?Y.d+1:1),0<Ln(K,x.to)&&(x.to=K,x.r=null,x.d=x.l?x.l.d+1:1),K=!x.r,Z&&!x.l&&Cc(x,Z),Y&&K&&Cc(x,Y)}}function Cc(x,$){Ag($)||function K(Y,De){var oe=De.from,be=De.to,Te=De.l,De=De.r;Tc(Y,oe,be),Te&&K(Y,Te),De&&K(Y,De)}(x,$)}function w_(x,$){var K=Vf($),Y=K.next();if(Y.done)return!1;for(var Z=Y.value,oe=Vf(x),be=oe.next(Z.from),Te=be.value;!Y.done&&!be.done;){if(Ln(Te.from,Z.to)<=0&&0<=Ln(Te.to,Z.from))return!0;Ln(Z.from,Te.from)<0?Z=(Y=K.next(Te.from)).value:Te=(be=oe.next(Z.from)).value}return!1}function Vf(x){var $=Ag(x)?null:{s:0,n:x};return{next:function(K){for(var Y=0<arguments.length;$;)switch($.s){case 0:if($.s=1,Y)for(;$.n.l&&Ln(K,$.n.from)<0;)$={up:$,n:$.n.l,s:1};else for(;$.n.l;)$={up:$,n:$.n.l,s:1};case 1:if($.s=2,!Y||Ln(K,$.n.to)<=0)return{value:$.n,done:!1};case 2:if($.n.r){$.s=3,$={up:$,n:$.n.r,s:0};continue}case 3:$=$.up}return{done:!0}}}}function __(x){var $,K,Y=((($=x.r)===null||$===void 0?void 0:$.d)||0)-(((K=x.l)===null||K===void 0?void 0:K.d)||0),Z=1<Y?"r":Y<-1?"l":"";Z&&($=Z=="r"?"l":"r",K=r({},x),Y=x[Z],x.from=Y.from,x.to=Y.to,x[Z]=Y[Z],K[Z]=Y[$],(x[$]=K).d=S_(K)),x.d=S_(x)}function S_(K){var $=K.r,K=K.l;return($?K?Math.max($.d,K.d):$.d:K?K.d:0)+1}function Uf(x,$){return i($).forEach(function(K){x[K]?Cc(x[K],$[K]):x[K]=function Y(Z){var oe,be,Te={};for(oe in Z)d(Z,oe)&&(be=Z[oe],Te[oe]=!be||typeof be!="object"||N.has(be.constructor)?be:Y(be));return Te}($[K])}),x}function Rg(x,$){return x.all||$.all||Object.keys(x).some(function(K){return $[K]&&w_($[K],x[K])})}f(Gr.prototype,((Gs={add:function(x){return Cc(this,x),this},addKey:function(x){return Tc(this,x,x),this},addKeys:function(x){var $=this;return x.forEach(function(K){return Tc($,K,K)}),this},hasKey:function(x){var $=Vf(this).next(x).value;return $&&Ln($.from,x)<=0&&0<=Ln($.to,x)}})[R]=function(){return Vf(this)},Gs));var Wa={},Lg={},$g=!1;function Hf(x){Uf(Lg,x),$g||($g=!0,setTimeout(function(){$g=!1,Pg(Lg,!(Lg={}))},0))}function Pg(x,$){$===void 0&&($=!1);var K=new Set;if(x.all)for(var Y=0,Z=Object.values(Wa);Y<Z.length;Y++)E_(be=Z[Y],x,K,$);else for(var oe in x){var be,Te=/^idb\:\/\/(.*)\/(.*)\//.exec(oe);Te&&(oe=Te[1],Te=Te[2],(be=Wa["idb://".concat(oe,"/").concat(Te)])&&E_(be,x,K,$))}K.forEach(function(De){return De()})}function E_(x,$,K,Y){for(var Z=[],oe=0,be=Object.entries(x.queries.query);oe<be.length;oe++){for(var Te=be[oe],De=Te[0],Me=[],He=0,ke=Te[1];He<ke.length;He++){var We=ke[He];Rg($,We.obsSet)?We.subscribers.forEach(function(Fe){return K.add(Fe)}):Y&&Me.push(We)}Y&&Z.push([De,Me])}if(Y)for(var Oe=0,Ve=Z;Oe<Ve.length;Oe++){var ze=Ve[Oe],De=ze[0],Me=ze[1];x.queries.query[De]=Me}}function fO(x){var $=x._state,K=x._deps.indexedDB;if($.isBeingOpened||x.idbdb)return $.dbReadyPromise.then(function(){return $.dbOpenError?yt($.dbOpenError):x});$.isBeingOpened=!0,$.dbOpenError=null,$.openComplete=!1;var Y=$.openCanceller,Z=Math.round(10*x.verno),oe=!1;function be(){if($.openCanceller!==Y)throw new ae.DatabaseClosed("db.open() was cancelled")}function Te(){return new ft(function(We,Oe){if(be(),!K)throw new ae.MissingAPI;var Ve=x.name,ze=$.autoSchema||!Z?K.open(Ve):K.open(Ve,Z);if(!ze)throw new ae.MissingAPI;ze.onerror=Bo(Oe),ze.onblocked=Bn(x._fireOnBlocked),ze.onupgradeneeded=Bn(function(Fe){var Qe;He=ze.transaction,$.autoSchema&&!x._options.allowEmptyDB?(ze.onerror=_c,He.abort(),ze.result.close(),(Qe=K.deleteDatabase(Ve)).onsuccess=Qe.onerror=Bn(function(){Oe(new ae.NoSuchDatabase("Database ".concat(Ve," doesnt exist")))})):(He.onerror=Bo(Oe),Fe=Fe.oldVersion>Math.pow(2,62)?0:Fe.oldVersion,ke=Fe<1,x.idbdb=ze.result,oe&&cO(x,He),uO(x,Fe/10,He,Oe))},Oe),ze.onsuccess=Bn(function(){He=null;var Fe,Qe,nt,st,ut,Tt=x.idbdb=ze.result,Ot=_(Tt.objectStoreNames);if(0<Ot.length)try{var Ct=Tt.transaction((st=Ot).length===1?st[0]:st,"readonly");if($.autoSchema)Qe=Tt,nt=Ct,(Fe=x).verno=Qe.version/10,nt=Fe._dbSchema=Nf(0,Qe,nt),Fe._storeNames=_(Qe.objectStoreNames,0),Of(Fe,[Fe._allTables],i(nt),nt);else if(Ff(x,x._dbSchema,Ct),((ut=xg(Nf(0,(ut=x).idbdb,Ct),ut._dbSchema)).add.length||ut.change.some(function(Lt){return Lt.add.length||Lt.change.length}))&&!oe)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Tt.close(),Z=Tt.version+1,oe=!0,We(Te());Df(x,Ct)}catch{}Er.push(x),Tt.onversionchange=Bn(function(Lt){$.vcFired=!0,x.on("versionchange").fire(Lt)}),Tt.onclose=Bn(function(Lt){x.on("close").fire(Lt)}),ke&&(ut=x._deps,Ct=Ve,Tt=ut.indexedDB,ut=ut.IDBKeyRange,kg(Tt)||Ct===Ws||Cg(Tt,ut).put({name:Ct}).catch(pe)),We()},Oe)}).catch(function(We){switch(We==null?void 0:We.name){case"UnknownError":if(0<$.PR1398_maxLoop)return $.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Te();break;case"VersionError":if(0<Z)return Z=0,Te()}return ft.reject(We)})}var De,Me=$.dbReadyResolve,He=null,ke=!1;return ft.race([Y,(typeof navigator>"u"?ft.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(We){function Oe(){return indexedDB.databases().finally(We)}De=setInterval(Oe,100),Oe()}).finally(function(){return clearInterval(De)}):Promise.resolve()).then(Te)]).then(function(){return be(),$.onReadyBeingFired=[],ft.resolve(Ig(function(){return x.on.ready.fire(x.vip)})).then(function We(){if(0<$.onReadyBeingFired.length){var Oe=$.onReadyBeingFired.reduce(Be,pe);return $.onReadyBeingFired=[],ft.resolve(Ig(function(){return Oe(x.vip)})).then(We)}})}).finally(function(){$.openCanceller===Y&&($.onReadyBeingFired=null,$.isBeingOpened=!1)}).catch(function(We){$.dbOpenError=We;try{He&&He.abort()}catch{}return Y===$.openCanceller&&x._close(),yt(We)}).finally(function(){$.openComplete=!0,Me()}).then(function(){var We;return ke&&(We={},x.tables.forEach(function(Oe){Oe.schema.indexes.forEach(function(Ve){Ve.name&&(We["idb://".concat(x.name,"/").concat(Oe.name,"/").concat(Ve.name)]=new Gr(-1/0,[[[]]]))}),We["idb://".concat(x.name,"/").concat(Oe.name,"/")]=We["idb://".concat(x.name,"/").concat(Oe.name,"/:dels")]=new Gr(-1/0,[[[]]])}),ia(Sc).fire(We),Pg(We,!0)),x})}function Dg(x){function $(oe){return x.next(oe)}var K=Z($),Y=Z(function(oe){return x.throw(oe)});function Z(oe){return function(De){var Te=oe(De),De=Te.value;return Te.done?De:De&&typeof De.then=="function"?De.then(K,Y):a(De)?Promise.all(De).then(K,Y):K(De)}}return Z($)()}function jf(x,$,K){for(var Y=a(x)?x.slice():[x],Z=0;Z<K;++Z)Y.push($);return Y}var hO={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(x){return r(r({},x),{table:function($){var K=x.table($),Y=K.schema,Z={},oe=[];function be(ke,We,Oe){var Ve=xc(ke),ze=Z[Ve]=Z[Ve]||[],Fe=ke==null?0:typeof ke=="string"?1:ke.length,Qe=0<We,Qe=r(r({},Oe),{name:Qe?"".concat(Ve,"(virtual-from:").concat(Oe.name,")"):Oe.name,lowLevelIndex:Oe,isVirtual:Qe,keyTail:We,keyLength:Fe,extractKey:Sg(ke),unique:!Qe&&Oe.unique});return ze.push(Qe),Qe.isPrimaryKey||oe.push(Qe),1<Fe&&be(Fe===2?ke[0]:ke.slice(0,Fe-1),We+1,Oe),ze.sort(function(nt,st){return nt.keyTail-st.keyTail}),Qe}$=be(Y.primaryKey.keyPath,0,Y.primaryKey),Z[":id"]=[$];for(var Te=0,De=Y.indexes;Te<De.length;Te++){var Me=De[Te];be(Me.keyPath,0,Me)}function He(ke){var We,Oe=ke.query.index;return Oe.isVirtual?r(r({},ke),{query:{index:Oe.lowLevelIndex,range:(We=ke.query.range,Oe=Oe.keyTail,{type:We.type===1?2:We.type,lower:jf(We.lower,We.lowerOpen?x.MAX_KEY:x.MIN_KEY,Oe),lowerOpen:!0,upper:jf(We.upper,We.upperOpen?x.MIN_KEY:x.MAX_KEY,Oe),upperOpen:!0})}}):ke}return r(r({},K),{schema:r(r({},Y),{primaryKey:$,indexes:oe,getIndexByKeyPath:function(ke){return(ke=Z[xc(ke)])&&ke[0]}}),count:function(ke){return K.count(He(ke))},query:function(ke){return K.query(He(ke))},openCursor:function(ke){var We=ke.query.index,Oe=We.keyTail,Ve=We.isVirtual,ze=We.keyLength;return Ve?K.openCursor(He(ke)).then(function(Qe){return Qe&&Fe(Qe)}):K.openCursor(ke);function Fe(Qe){return Object.create(Qe,{continue:{value:function(nt){nt!=null?Qe.continue(jf(nt,ke.reverse?x.MAX_KEY:x.MIN_KEY,Oe)):ke.unique?Qe.continue(Qe.key.slice(0,ze).concat(ke.reverse?x.MIN_KEY:x.MAX_KEY,Oe)):Qe.continue()}},continuePrimaryKey:{value:function(nt,st){Qe.continuePrimaryKey(jf(nt,x.MAX_KEY,Oe),st)}},primaryKey:{get:function(){return Qe.primaryKey}},key:{get:function(){var nt=Qe.key;return ze===1?nt[0]:nt.slice(0,ze)}},value:{get:function(){return Qe.value}}})}}})}})}};function Og(x,$,K,Y){return K=K||{},Y=Y||"",i(x).forEach(function(Z){var oe,be,Te;d($,Z)?(oe=x[Z],be=$[Z],typeof oe=="object"&&typeof be=="object"&&oe&&be?(Te=V(oe))!==V(be)?K[Y+Z]=$[Z]:Te==="Object"?Og(oe,be,K,Y+Z+"."):oe!==be&&(K[Y+Z]=$[Z]):oe!==be&&(K[Y+Z]=$[Z])):K[Y+Z]=void 0}),i($).forEach(function(Z){d(x,Z)||(K[Y+Z]=$[Z])}),K}function Mg(x,$){return $.type==="delete"?$.keys:$.keys||$.values.map(x.extractKey)}var pO={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(x){return r(r({},x),{table:function($){var K=x.table($),Y=K.schema.primaryKey;return r(r({},K),{mutate:function(Z){var oe=re.trans,be=oe.table($).hook,Te=be.deleting,De=be.creating,Me=be.updating;switch(Z.type){case"add":if(De.fire===pe)break;return oe._promise("readwrite",function(){return He(Z)},!0);case"put":if(De.fire===pe&&Me.fire===pe)break;return oe._promise("readwrite",function(){return He(Z)},!0);case"delete":if(Te.fire===pe)break;return oe._promise("readwrite",function(){return He(Z)},!0);case"deleteRange":if(Te.fire===pe)break;return oe._promise("readwrite",function(){return function ke(We,Oe,Ve){return K.query({trans:We,values:!1,query:{index:Y,range:Oe},limit:Ve}).then(function(ze){var Fe=ze.result;return He({type:"delete",keys:Fe,trans:We}).then(function(Qe){return 0<Qe.numFailures?Promise.reject(Qe.failures[0]):Fe.length<Ve?{failures:[],numFailures:0,lastResult:void 0}:ke(We,r(r({},Oe),{lower:Fe[Fe.length-1],lowerOpen:!0}),Ve)})})}(Z.trans,Z.range,1e4)},!0)}return K.mutate(Z);function He(ke){var We,Oe,Ve,ze=re.trans,Fe=ke.keys||Mg(Y,ke);if(!Fe)throw new Error("Keys missing");return(ke=ke.type==="add"||ke.type==="put"?r(r({},ke),{keys:Fe}):r({},ke)).type!=="delete"&&(ke.values=s([],ke.values,!0)),ke.keys&&(ke.keys=s([],ke.keys,!0)),We=K,Ve=Fe,((Oe=ke).type==="add"?Promise.resolve([]):We.getMany({trans:Oe.trans,keys:Ve,cache:"immutable"})).then(function(Qe){var nt=Fe.map(function(st,ut){var Tt,Ot,Ct,Lt=Qe[ut],Ut={onerror:null,onsuccess:null};return ke.type==="delete"?Te.fire.call(Ut,st,Lt,ze):ke.type==="add"||Lt===void 0?(Tt=De.fire.call(Ut,st,ke.values[ut],ze),st==null&&Tt!=null&&(ke.keys[ut]=st=Tt,Y.outbound||T(ke.values[ut],Y.keyPath,st))):(Tt=Og(Lt,ke.values[ut]),(Ot=Me.fire.call(Ut,Tt,st,Lt,ze))&&(Ct=ke.values[ut],Object.keys(Ot).forEach(function(Dt){d(Ct,Dt)?Ct[Dt]=Ot[Dt]:T(Ct,Dt,Ot[Dt])}))),Ut});return K.mutate(ke).then(function(st){for(var ut=st.failures,Tt=st.results,Ot=st.numFailures,st=st.lastResult,Ct=0;Ct<Fe.length;++Ct){var Lt=(Tt||Fe)[Ct],Ut=nt[Ct];Lt==null?Ut.onerror&&Ut.onerror(ut[Ct]):Ut.onsuccess&&Ut.onsuccess(ke.type==="put"&&Qe[Ct]?ke.values[Ct]:Lt)}return{failures:ut,results:Tt,numFailures:Ot,lastResult:st}}).catch(function(st){return nt.forEach(function(ut){return ut.onerror&&ut.onerror(st)}),Promise.reject(st)})})}}})}})}};function x_(x,$,K){try{if(!$||$.keys.length<x.length)return null;for(var Y=[],Z=0,oe=0;Z<$.keys.length&&oe<x.length;++Z)Ln($.keys[Z],x[oe])===0&&(Y.push(K?W($.values[Z]):$.values[Z]),++oe);return Y.length===x.length?Y:null}catch{return null}}var mO={stack:"dbcore",level:-1,create:function(x){return{table:function($){var K=x.table($);return r(r({},K),{getMany:function(Y){if(!Y.cache)return K.getMany(Y);var Z=x_(Y.keys,Y.trans._cache,Y.cache==="clone");return Z?ft.resolve(Z):K.getMany(Y).then(function(oe){return Y.trans._cache={keys:Y.keys,values:Y.cache==="clone"?W(oe):oe},oe})},mutate:function(Y){return Y.type!=="add"&&(Y.trans._cache=null),K.mutate(Y)}})}}}};function T_(x,$){return x.trans.mode==="readonly"&&!!x.subscr&&!x.trans.explicit&&x.trans.db._options.cache!=="disabled"&&!$.schema.primaryKey.outbound}function C_(x,$){switch(x){case"query":return $.values&&!$.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var gO={stack:"dbcore",level:0,name:"Observability",create:function(x){var $=x.schema.name,K=new Gr(x.MIN_KEY,x.MAX_KEY);return r(r({},x),{transaction:function(Y,Z,oe){if(re.subscr&&Z!=="readonly")throw new ae.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(re.querier));return x.transaction(Y,Z,oe)},table:function(Y){var Z=x.table(Y),oe=Z.schema,be=oe.primaryKey,ke=oe.indexes,Te=be.extractKey,De=be.outbound,Me=be.autoIncrement&&ke.filter(function(Oe){return Oe.compound&&Oe.keyPath.includes(be.keyPath)}),He=r(r({},Z),{mutate:function(Oe){function Ve(Dt){return Dt="idb://".concat($,"/").concat(Y,"/").concat(Dt),st[Dt]||(st[Dt]=new Gr)}var ze,Fe,Qe,nt=Oe.trans,st=Oe.mutatedParts||(Oe.mutatedParts={}),ut=Ve(""),Tt=Ve(":dels"),Ot=Oe.type,Ut=Oe.type==="deleteRange"?[Oe.range]:Oe.type==="delete"?[Oe.keys]:Oe.values.length<50?[Mg(be,Oe).filter(function(Dt){return Dt}),Oe.values]:[],Ct=Ut[0],Lt=Ut[1],Ut=Oe.trans._cache;return a(Ct)?(ut.addKeys(Ct),(Ut=Ot==="delete"||Ct.length===Lt.length?x_(Ct,Ut):null)||Tt.addKeys(Ct),(Ut||Lt)&&(ze=Ve,Fe=Ut,Qe=Lt,oe.indexes.forEach(function(Dt){var zt=ze(Dt.name||"");function mn(Cn){return Cn!=null?Dt.extractKey(Cn):null}function Tn(Cn){return Dt.multiEntry&&a(Cn)?Cn.forEach(function(Ls){return zt.addKey(Ls)}):zt.addKey(Cn)}(Fe||Qe).forEach(function(Cn,qr){var pn=Fe&&mn(Fe[qr]),qr=Qe&&mn(Qe[qr]);Ln(pn,qr)!==0&&(pn!=null&&Tn(pn),qr!=null&&Tn(qr))})}))):Ct?(Lt={from:(Lt=Ct.lower)!==null&&Lt!==void 0?Lt:x.MIN_KEY,to:(Lt=Ct.upper)!==null&&Lt!==void 0?Lt:x.MAX_KEY},Tt.add(Lt),ut.add(Lt)):(ut.add(K),Tt.add(K),oe.indexes.forEach(function(Dt){return Ve(Dt.name).add(K)})),Z.mutate(Oe).then(function(Dt){return!Ct||Oe.type!=="add"&&Oe.type!=="put"||(ut.addKeys(Dt.results),Me&&Me.forEach(function(zt){for(var mn=Oe.values.map(function(pn){return zt.extractKey(pn)}),Tn=zt.keyPath.findIndex(function(pn){return pn===be.keyPath}),Cn=0,Ls=Dt.results.length;Cn<Ls;++Cn)mn[Cn][Tn]=Dt.results[Cn];Ve(zt.name).addKeys(mn)})),nt.mutatedParts=Uf(nt.mutatedParts||{},st),Dt})}}),ke=function(Ve){var ze=Ve.query,Ve=ze.index,ze=ze.range;return[Ve,new Gr((Ve=ze.lower)!==null&&Ve!==void 0?Ve:x.MIN_KEY,(ze=ze.upper)!==null&&ze!==void 0?ze:x.MAX_KEY)]},We={get:function(Oe){return[be,new Gr(Oe.key)]},getMany:function(Oe){return[be,new Gr().addKeys(Oe.keys)]},count:ke,query:ke,openCursor:ke};return i(We).forEach(function(Oe){He[Oe]=function(Ve){var ze=re.subscr,Fe=!!ze,Qe=T_(re,Z)&&C_(Oe,Ve)?Ve.obsSet={}:ze;if(Fe){var nt=function(Lt){return Lt="idb://".concat($,"/").concat(Y,"/").concat(Lt),Qe[Lt]||(Qe[Lt]=new Gr)},st=nt(""),ut=nt(":dels"),ze=We[Oe](Ve),Fe=ze[0],ze=ze[1];if((Oe==="query"&&Fe.isPrimaryKey&&!Ve.values?ut:nt(Fe.name||"")).add(ze),!Fe.isPrimaryKey){if(Oe!=="count"){var Tt=Oe==="query"&&De&&Ve.values&&Z.query(r(r({},Ve),{values:!1}));return Z[Oe].apply(this,arguments).then(function(Lt){if(Oe==="query"){if(De&&Ve.values)return Tt.then(function(mn){return mn=mn.result,st.addKeys(mn),Lt});var Ut=Ve.values?Lt.result.map(Te):Lt.result;(Ve.values?st:ut).addKeys(Ut)}else if(Oe==="openCursor"){var Dt=Lt,zt=Ve.values;return Dt&&Object.create(Dt,{key:{get:function(){return ut.addKey(Dt.primaryKey),Dt.key}},primaryKey:{get:function(){var mn=Dt.primaryKey;return ut.addKey(mn),mn}},value:{get:function(){return zt&&st.addKey(Dt.primaryKey),Dt.value}}})}return Lt})}ut.add(K)}}return Z[Oe].apply(this,arguments)}}),He}})}};function k_(x,$,K){if(K.numFailures===0)return $;if($.type==="deleteRange")return null;var Y=$.keys?$.keys.length:"values"in $&&$.values?$.values.length:1;return K.numFailures===Y?null:($=r({},$),a($.keys)&&($.keys=$.keys.filter(function(Z,oe){return!(oe in K.failures)})),"values"in $&&a($.values)&&($.values=$.values.filter(function(Z,oe){return!(oe in K.failures)})),$)}function Ng(x,$){return K=x,((Y=$).lower===void 0||(Y.lowerOpen?0<Ln(K,Y.lower):0<=Ln(K,Y.lower)))&&(x=x,($=$).upper===void 0||($.upperOpen?Ln(x,$.upper)<0:Ln(x,$.upper)<=0));var K,Y}function I_(x,$,We,Y,Z,oe){if(!We||We.length===0)return x;var be=$.query.index,Te=be.multiEntry,De=$.query.range,Me=Y.schema.primaryKey.extractKey,He=be.extractKey,ke=(be.lowLevelIndex||be).extractKey,We=We.reduce(function(Oe,Ve){var ze=Oe,Fe=[];if(Ve.type==="add"||Ve.type==="put")for(var Qe=new Gr,nt=Ve.values.length-1;0<=nt;--nt){var st,ut=Ve.values[nt],Tt=Me(ut);Qe.hasKey(Tt)||(st=He(ut),(Te&&a(st)?st.some(function(Dt){return Ng(Dt,De)}):Ng(st,De))&&(Qe.addKey(Tt),Fe.push(ut)))}switch(Ve.type){case"add":var Ot=new Gr().addKeys($.values?Oe.map(function(zt){return Me(zt)}):Oe),ze=Oe.concat($.values?Fe.filter(function(zt){return zt=Me(zt),!Ot.hasKey(zt)&&(Ot.addKey(zt),!0)}):Fe.map(function(zt){return Me(zt)}).filter(function(zt){return!Ot.hasKey(zt)&&(Ot.addKey(zt),!0)}));break;case"put":var Ct=new Gr().addKeys(Ve.values.map(function(zt){return Me(zt)}));ze=Oe.filter(function(zt){return!Ct.hasKey($.values?Me(zt):zt)}).concat($.values?Fe:Fe.map(function(zt){return Me(zt)}));break;case"delete":var Lt=new Gr().addKeys(Ve.keys);ze=Oe.filter(function(zt){return!Lt.hasKey($.values?Me(zt):zt)});break;case"deleteRange":var Ut=Ve.range;ze=Oe.filter(function(zt){return!Ng(Me(zt),Ut)})}return ze},x);return We===x?x:(We.sort(function(Oe,Ve){return Ln(ke(Oe),ke(Ve))||Ln(Me(Oe),Me(Ve))}),$.limit&&$.limit<1/0&&(We.length>$.limit?We.length=$.limit:x.length===$.limit&&We.length<$.limit&&(Z.dirty=!0)),oe?Object.freeze(We):We)}function A_(x,$){return Ln(x.lower,$.lower)===0&&Ln(x.upper,$.upper)===0&&!!x.lowerOpen==!!$.lowerOpen&&!!x.upperOpen==!!$.upperOpen}function vO(x,$){return function(K,Y,Z,oe){if(K===void 0)return Y!==void 0?-1:0;if(Y===void 0)return 1;if((Y=Ln(K,Y))===0){if(Z&&oe)return 0;if(Z)return 1;if(oe)return-1}return Y}(x.lower,$.lower,x.lowerOpen,$.lowerOpen)<=0&&0<=function(K,Y,Z,oe){if(K===void 0)return Y!==void 0?1:0;if(Y===void 0)return-1;if((Y=Ln(K,Y))===0){if(Z&&oe)return 0;if(Z)return-1;if(oe)return 1}return Y}(x.upper,$.upper,x.upperOpen,$.upperOpen)}function yO(x,$,K,Y){x.subscribers.add(K),Y.addEventListener("abort",function(){var Z,oe;x.subscribers.delete(K),x.subscribers.size===0&&(Z=x,oe=$,setTimeout(function(){Z.subscribers.size===0&&M(oe,Z)},3e3))})}var bO={stack:"dbcore",level:0,name:"Cache",create:function(x){var $=x.schema.name;return r(r({},x),{transaction:function(K,Y,Z){var oe,be,Te=x.transaction(K,Y,Z);return Y==="readwrite"&&(be=(oe=new AbortController).signal,Z=function(De){return function(){if(oe.abort(),Y==="readwrite"){for(var Me=new Set,He=0,ke=K;He<ke.length;He++){var We=ke[He],Oe=Wa["idb://".concat($,"/").concat(We)];if(Oe){var Ve=x.table(We),ze=Oe.optimisticOps.filter(function(zt){return zt.trans===Te});if(Te._explicit&&De&&Te.mutatedParts)for(var Fe=0,Qe=Object.values(Oe.queries.query);Fe<Qe.length;Fe++)for(var nt=0,st=(Ot=Qe[Fe]).slice();nt<st.length;nt++)Rg((Ct=st[nt]).obsSet,Te.mutatedParts)&&(M(Ot,Ct),Ct.subscribers.forEach(function(zt){return Me.add(zt)}));else if(0<ze.length){Oe.optimisticOps=Oe.optimisticOps.filter(function(zt){return zt.trans!==Te});for(var ut=0,Tt=Object.values(Oe.queries.query);ut<Tt.length;ut++)for(var Ot,Ct,Lt,Ut=0,Dt=(Ot=Tt[ut]).slice();Ut<Dt.length;Ut++)(Ct=Dt[Ut]).res!=null&&Te.mutatedParts&&(De&&!Ct.dirty?(Lt=Object.isFrozen(Ct.res),Lt=I_(Ct.res,Ct.req,ze,Ve,Ct,Lt),Ct.dirty?(M(Ot,Ct),Ct.subscribers.forEach(function(zt){return Me.add(zt)})):Lt!==Ct.res&&(Ct.res=Lt,Ct.promise=ft.resolve({result:Lt}))):(Ct.dirty&&M(Ot,Ct),Ct.subscribers.forEach(function(zt){return Me.add(zt)})))}}}Me.forEach(function(zt){return zt()})}}},Te.addEventListener("abort",Z(!1),{signal:be}),Te.addEventListener("error",Z(!1),{signal:be}),Te.addEventListener("complete",Z(!0),{signal:be})),Te},table:function(K){var Y=x.table(K),Z=Y.schema.primaryKey;return r(r({},Y),{mutate:function(oe){var be=re.trans;if(Z.outbound||be.db._options.cache==="disabled"||be.explicit||be.idbtrans.mode!=="readwrite")return Y.mutate(oe);var Te=Wa["idb://".concat($,"/").concat(K)];return Te?(be=Y.mutate(oe),oe.type!=="add"&&oe.type!=="put"||!(50<=oe.values.length||Mg(Z,oe).some(function(De){return De==null}))?(Te.optimisticOps.push(oe),oe.mutatedParts&&Hf(oe.mutatedParts),be.then(function(De){0<De.numFailures&&(M(Te.optimisticOps,oe),(De=k_(0,oe,De))&&Te.optimisticOps.push(De),oe.mutatedParts&&Hf(oe.mutatedParts))}),be.catch(function(){M(Te.optimisticOps,oe),oe.mutatedParts&&Hf(oe.mutatedParts)})):be.then(function(De){var Me=k_(0,r(r({},oe),{values:oe.values.map(function(He,ke){var We;return De.failures[ke]?He:(He=(We=Z.keyPath)!==null&&We!==void 0&&We.includes(".")?W(He):r({},He),T(He,Z.keyPath,De.results[ke]),He)})}),De);Te.optimisticOps.push(Me),queueMicrotask(function(){return oe.mutatedParts&&Hf(oe.mutatedParts)})}),be):Y.mutate(oe)},query:function(oe){if(!T_(re,Y)||!C_("query",oe))return Y.query(oe);var be=((Me=re.trans)===null||Me===void 0?void 0:Me.db._options.cache)==="immutable",ke=re,Te=ke.requery,De=ke.signal,Me=function(Ve,ze,Fe,Qe){var nt=Wa["idb://".concat(Ve,"/").concat(ze)];if(!nt)return[];if(!(ze=nt.queries[Fe]))return[null,!1,nt,null];var st=ze[(Qe.query?Qe.query.index.name:null)||""];if(!st)return[null,!1,nt,null];switch(Fe){case"query":var ut=st.find(function(Tt){return Tt.req.limit===Qe.limit&&Tt.req.values===Qe.values&&A_(Tt.req.query.range,Qe.query.range)});return ut?[ut,!0,nt,st]:[st.find(function(Tt){return("limit"in Tt.req?Tt.req.limit:1/0)>=Qe.limit&&(!Qe.values||Tt.req.values)&&vO(Tt.req.query.range,Qe.query.range)}),!1,nt,st];case"count":return ut=st.find(function(Tt){return A_(Tt.req.query.range,Qe.query.range)}),[ut,!!ut,nt,st]}}($,K,"query",oe),He=Me[0],ke=Me[1],We=Me[2],Oe=Me[3];return He&&ke?He.obsSet=oe.obsSet:(ke=Y.query(oe).then(function(Ve){var ze=Ve.result;if(He&&(He.res=ze),be){for(var Fe=0,Qe=ze.length;Fe<Qe;++Fe)Object.freeze(ze[Fe]);Object.freeze(ze)}else Ve.result=W(ze);return Ve}).catch(function(Ve){return Oe&&He&&M(Oe,He),Promise.reject(Ve)}),He={obsSet:oe.obsSet,promise:ke,subscribers:new Set,type:"query",req:oe,dirty:!1},Oe?Oe.push(He):(Oe=[He],(We=We||(Wa["idb://".concat($,"/").concat(K)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[oe.query.index.name||""]=Oe)),yO(He,Oe,Te,De),He.promise.then(function(Ve){return{result:I_(Ve.result,oe,We==null?void 0:We.optimisticOps,Y,He,be)}})}})}})}};function Kf(x,$){return new Proxy(x,{get:function(K,Y,Z){return Y==="db"?$:Reflect.get(K,Y,Z)}})}var bi=(gr.prototype.version=function(x){if(isNaN(x)||x<.1)throw new ae.Type("Given version is not a positive number");if(x=Math.round(10*x)/10,this.idbdb||this._state.isBeingOpened)throw new ae.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,x);var $=this._versions,K=$.filter(function(Y){return Y._cfg.version===x})[0];return K||(K=new this.Version(x),$.push(K),$.sort(lO),K.stores({}),this._state.autoSchema=!1,K)},gr.prototype._whenReady=function(x){var $=this;return this.idbdb&&(this._state.openComplete||re.letThrough||this._vip)?x():new ft(function(K,Y){if($._state.openComplete)return Y(new ae.DatabaseClosed($._state.dbOpenError));if(!$._state.isBeingOpened){if(!$._state.autoOpen)return void Y(new ae.DatabaseClosed);$.open().catch(pe)}$._state.dbReadyPromise.then(K,Y)}).then(x)},gr.prototype.use=function(x){var $=x.stack,K=x.create,Y=x.level,Z=x.name;return Z&&this.unuse({stack:$,name:Z}),x=this._middlewares[$]||(this._middlewares[$]=[]),x.push({stack:$,create:K,level:Y??10,name:Z}),x.sort(function(oe,be){return oe.level-be.level}),this},gr.prototype.unuse=function(x){var $=x.stack,K=x.name,Y=x.create;return $&&this._middlewares[$]&&(this._middlewares[$]=this._middlewares[$].filter(function(Z){return Y?Z.create!==Y:!!K&&Z.name!==K})),this},gr.prototype.open=function(){var x=this;return Wr(_e,function(){return fO(x)})},gr.prototype._close=function(){var x=this._state,$=Er.indexOf(this);if(0<=$&&Er.splice($,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}x.isBeingOpened||(x.dbReadyPromise=new ft(function(K){x.dbReadyResolve=K}),x.openCanceller=new ft(function(K,Y){x.cancelOpen=Y}))},gr.prototype.close=function(K){var $=(K===void 0?{disableAutoOpen:!0}:K).disableAutoOpen,K=this._state;$?(K.isBeingOpened&&K.cancelOpen(new ae.DatabaseClosed),this._close(),K.autoOpen=!1,K.dbOpenError=new ae.DatabaseClosed):(this._close(),K.autoOpen=this._options.autoOpen||K.isBeingOpened,K.openComplete=!1,K.dbOpenError=null)},gr.prototype.delete=function(x){var $=this;x===void 0&&(x={disableAutoOpen:!0});var K=0<arguments.length&&typeof arguments[0]!="object",Y=this._state;return new ft(function(Z,oe){function be(){$.close(x);var Te=$._deps.indexedDB.deleteDatabase($.name);Te.onsuccess=Bn(function(){var De,Me,He;De=$._deps,Me=$.name,He=De.indexedDB,De=De.IDBKeyRange,kg(He)||Me===Ws||Cg(He,De).delete(Me).catch(pe),Z()}),Te.onerror=Bo(oe),Te.onblocked=$._fireOnBlocked}if(K)throw new ae.InvalidArgument("Invalid closeOptions argument to db.delete()");Y.isBeingOpened?Y.dbReadyPromise.then(be):be()})},gr.prototype.backendDB=function(){return this.idbdb},gr.prototype.isOpen=function(){return this.idbdb!==null},gr.prototype.hasBeenClosed=function(){var x=this._state.dbOpenError;return x&&x.name==="DatabaseClosed"},gr.prototype.hasFailed=function(){return this._state.dbOpenError!==null},gr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(gr.prototype,"tables",{get:function(){var x=this;return i(this._allTables).map(function($){return x._allTables[$]})},enumerable:!1,configurable:!0}),gr.prototype.transaction=function(){var x=(function($,K,Y){var Z=arguments.length;if(Z<2)throw new ae.InvalidArgument("Too few arguments");for(var oe=new Array(Z-1);--Z;)oe[Z-1]=arguments[Z];return Y=oe.pop(),[$,C(oe),Y]}).apply(this,arguments);return this._transaction.apply(this,x)},gr.prototype._transaction=function(x,$,K){var Y=this,Z=re.trans;Z&&Z.db===this&&x.indexOf("!")===-1||(Z=null);var oe,be,Te=x.indexOf("?")!==-1;x=x.replace("!","").replace("?","");try{if(be=$.map(function(Me){if(Me=Me instanceof Y.Table?Me.name:Me,typeof Me!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Me}),x=="r"||x===go)oe=go;else{if(x!="rw"&&x!=ra)throw new ae.InvalidArgument("Invalid transaction mode: "+x);oe=ra}if(Z){if(Z.mode===go&&oe===ra){if(!Te)throw new ae.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");Z=null}Z&&be.forEach(function(Me){if(Z&&Z.storeNames.indexOf(Me)===-1){if(!Te)throw new ae.SubTransaction("Table "+Me+" not included in parent transaction.");Z=null}}),Te&&Z&&!Z.active&&(Z=null)}}catch(Me){return Z?Z._promise(null,function(He,ke){ke(Me)}):yt(Me)}var De=(function Me(He,ke,We,Oe,Ve){return ft.resolve().then(function(){var ze=re.transless||re,Fe=He._createTransaction(ke,We,He._dbSchema,Oe);if(Fe.explicit=!0,ze={trans:Fe,transless:ze},Oe)Fe.idbtrans=Oe.idbtrans;else try{Fe.create(),Fe.idbtrans._explicit=!0,He._state.PR1398_maxLoop=3}catch(st){return st.name===J.InvalidState&&He.isOpen()&&0<--He._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),He.close({disableAutoOpen:!1}),He.open().then(function(){return Me(He,ke,We,null,Ve)})):yt(st)}var Qe,nt=X(Ve);return nt&&cn(),ze=ft.follow(function(){var st;(Qe=Ve.call(Fe,Fe))&&(nt?(st=Vn.bind(null,null),Qe.then(st,st)):typeof Qe.next=="function"&&typeof Qe.throw=="function"&&(Qe=Dg(Qe)))},ze),(Qe&&typeof Qe.then=="function"?ft.resolve(Qe).then(function(st){return Fe.active?st:yt(new ae.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):ze.then(function(){return Qe})).then(function(st){return Oe&&Fe._resolve(),Fe._completion.then(function(){return st})}).catch(function(st){return Fe._reject(st),yt(st)})})}).bind(null,this,oe,be,Z,K);return Z?Z._promise(oe,De,"lock"):re.trans?Wr(re.transless,function(){return Y._whenReady(De)}):this._whenReady(De)},gr.prototype.table=function(x){if(!d(this._allTables,x))throw new ae.InvalidTable("Table ".concat(x," does not exist"));return this._allTables[x]},gr);function gr(x,$){var K=this;this._middlewares={},this.verno=0;var Y=gr.dependencies;this._options=$=r({addons:gr.addons,autoOpen:!0,indexedDB:Y.indexedDB,IDBKeyRange:Y.IDBKeyRange,cache:"cloned"},$),this._deps={indexedDB:$.indexedDB,IDBKeyRange:$.IDBKeyRange},Y=$.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var Z,oe,be,Te,De,Me={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:pe,dbReadyPromise:null,cancelOpen:pe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:$.autoOpen};Me.dbReadyPromise=new ft(function(ke){Me.dbReadyResolve=ke}),Me.openCanceller=new ft(function(ke,We){Me.cancelOpen=We}),this._state=Me,this.name=x,this.on=yc(this,"populate","blocked","versionchange","close",{ready:[Be,pe]}),this.on.ready.subscribe=b(this.on.ready.subscribe,function(ke){return function(We,Oe){gr.vip(function(){var Ve,ze=K._state;ze.openComplete?(ze.dbOpenError||ft.resolve().then(We),Oe&&ke(We)):ze.onReadyBeingFired?(ze.onReadyBeingFired.push(We),Oe&&ke(We)):(ke(We),Ve=K,Oe||ke(function Fe(){Ve.on.ready.unsubscribe(We),Ve.on.ready.unsubscribe(Fe)}))})}}),this.Collection=(Z=this,bc(tO.prototype,function(Qe,Fe){this.db=Z;var Oe=Af,Ve=null;if(Fe)try{Oe=Fe()}catch(nt){Ve=nt}var ze=Qe._ctx,Fe=ze.table,Qe=Fe.hook.reading.fire;this._ctx={table:Fe,index:ze.index,isPrimKey:!ze.index||Fe.schema.primKey.keyPath&&ze.index===Fe.schema.primKey.name,range:Oe,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Ve,or:ze.or,valueMapper:Qe!==ne?Qe:null}})),this.Table=(oe=this,bc(c_.prototype,function(ke,We,Oe){this.db=oe,this._tx=Oe,this.name=ke,this.schema=We,this.hook=oe._allTables[ke]?oe._allTables[ke].hook:yc(null,{creating:[Ce,pe],reading:[le,ne],updating:[we,pe],deleting:[Ee,pe]})})),this.Transaction=(be=this,bc(sO.prototype,function(ke,We,Oe,Ve,ze){var Fe=this;this.db=be,this.mode=ke,this.storeNames=We,this.schema=Oe,this.chromeTransactionDurability=Ve,this.idbtrans=null,this.on=yc(this,"complete","error","abort"),this.parent=ze||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ft(function(Qe,nt){Fe._resolve=Qe,Fe._reject=nt}),this._completion.then(function(){Fe.active=!1,Fe.on.complete.fire()},function(Qe){var nt=Fe.active;return Fe.active=!1,Fe.on.error.fire(Qe),Fe.parent?Fe.parent._reject(Qe):nt&&Fe.idbtrans&&Fe.idbtrans.abort(),yt(Qe)})})),this.Version=(Te=this,bc(dO.prototype,function(ke){this.db=Te,this._cfg={version:ke,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(De=this,bc(m_.prototype,function(ke,We,Oe){if(this.db=De,this._ctx={table:ke,index:We===":id"?null:We,or:Oe},this._cmp=this._ascending=Ln,this._descending=function(Ve,ze){return Ln(ze,Ve)},this._max=function(Ve,ze){return 0<Ln(Ve,ze)?Ve:ze},this._min=function(Ve,ze){return Ln(Ve,ze)<0?Ve:ze},this._IDBKeyRange=De._deps.IDBKeyRange,!this._IDBKeyRange)throw new ae.MissingAPI})),this.on("versionchange",function(ke){0<ke.newVersion?console.warn("Another connection wants to upgrade database '".concat(K.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(K.name,"'. Closing db now to resume the delete request.")),K.close({disableAutoOpen:!1})}),this.on("blocked",function(ke){!ke.newVersion||ke.newVersion<ke.oldVersion?console.warn("Dexie.delete('".concat(K.name,"') was blocked")):console.warn("Upgrade '".concat(K.name,"' blocked by other connection holding version ").concat(ke.oldVersion/10))}),this._maxKey=Ec($.IDBKeyRange),this._createTransaction=function(ke,We,Oe,Ve){return new K.Transaction(ke,We,Oe,K._options.chromeTransactionDurability,Ve)},this._fireOnBlocked=function(ke){K.on("blocked").fire(ke),Er.filter(function(We){return We.name===K.name&&We!==K&&!We._state.vcFired}).map(function(We){return We.on("versionchange").fire(ke)})},this.use(mO),this.use(bO),this.use(gO),this.use(hO),this.use(pO);var He=new Proxy(this,{get:function(ke,We,Oe){if(We==="_vip")return!0;if(We==="table")return function(ze){return Kf(K.table(ze),He)};var Ve=Reflect.get(ke,We,Oe);return Ve instanceof c_?Kf(Ve,He):We==="tables"?Ve.map(function(ze){return Kf(ze,He)}):We==="_createTransaction"?function(){return Kf(Ve.apply(this,arguments),He)}:Ve}});this.vip=He,Y.forEach(function(ke){return ke(K)})}var zf,Gs=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",wO=(Fg.prototype.subscribe=function(x,$,K){return this._subscribe(x&&typeof x!="function"?x:{next:x,error:$,complete:K})},Fg.prototype[Gs]=function(){return this},Fg);function Fg(x){this._subscribe=x}try{zf={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{zf={indexedDB:null,IDBKeyRange:null}}function R_(x){var $,K=!1,Y=new wO(function(Z){var oe=X(x),be,Te=!1,De={},Me={},He={get closed(){return Te},unsubscribe:function(){Te||(Te=!0,be&&be.abort(),ke&&ia.storagemutated.unsubscribe(Oe))}};Z.start&&Z.start(He);var ke=!1,We=function(){return Je(Ve)},Oe=function(ze){Uf(De,ze),Rg(Me,De)&&We()},Ve=function(){var ze,Fe,Qe;!Te&&zf.indexedDB&&(De={},ze={},be&&be.abort(),be=new AbortController,Qe=function(nt){var st=zs();try{oe&&cn();var ut=kt(x,nt);return ut=oe?ut.finally(Vn):ut}finally{st&&bs()}}(Fe={subscr:ze,signal:be.signal,requery:We,querier:x,trans:null}),Promise.resolve(Qe).then(function(nt){K=!0,$=nt,Te||Fe.signal.aborted||(De={},function(st){for(var ut in st)if(d(st,ut))return;return 1}(Me=ze)||ke||(ia(Sc,Oe),ke=!0),Je(function(){return!Te&&Z.next&&Z.next(nt)}))},function(nt){K=!1,["DatabaseClosedError","AbortError"].includes(nt==null?void 0:nt.name)||Te||Je(function(){Te||Z.error&&Z.error(nt)})}))};return setTimeout(We,0),He});return Y.hasValue=function(){return K},Y.getValue=function(){return $},Y}var Ga=bi;function Bg(x){var $=aa;try{aa=!0,ia.storagemutated.fire(x),Pg(x,!0)}finally{aa=$}}f(Ga,r(r({},Re),{delete:function(x){return new Ga(x,{addons:[]}).delete()},exists:function(x){return new Ga(x,{addons:[]}).open().then(function($){return $.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(x){try{return $=Ga.dependencies,K=$.indexedDB,$=$.IDBKeyRange,(kg(K)?Promise.resolve(K.databases()).then(function(Y){return Y.map(function(Z){return Z.name}).filter(function(Z){return Z!==Ws})}):Cg(K,$).toCollection().primaryKeys()).then(x)}catch{return yt(new ae.MissingAPI)}var $,K},defineClass:function(){return function(x){u(this,x)}},ignoreTransaction:function(x){return re.trans?Wr(re.transless,x):x()},vip:Ig,async:function(x){return function(){try{var $=Dg(x.apply(this,arguments));return $&&typeof $.then=="function"?$:ft.resolve($)}catch(K){return yt(K)}}},spawn:function(x,$,K){try{var Y=Dg(x.apply(K,$||[]));return Y&&typeof Y.then=="function"?Y:ft.resolve(Y)}catch(Z){return yt(Z)}},currentTransaction:{get:function(){return re.trans||null}},waitFor:function(x,$){return $=ft.resolve(typeof x=="function"?Ga.ignoreTransaction(x):x).timeout($||6e4),re.trans?re.trans.waitFor($):$},Promise:ft,debug:{get:function(){return Ue},set:function(x){je(x)}},derive:g,extend:u,props:f,override:b,Events:yc,on:ia,liveQuery:R_,extendObservabilitySet:Uf,getByKeyPath:E,setByKeyPath:T,delByKeyPath:function(x,$){typeof $=="string"?T(x,$,void 0):"length"in $&&[].map.call($,function(K){T(x,K,void 0)})},shallowClone:I,deepClone:W,getObjectDiff:Og,cmp:Ln,asap:S,minKey:-1/0,addons:[],connections:Er,errnames:J,dependencies:zf,cache:Wa,semVer:"4.0.11",version:"4.0.11".split(".").map(function(x){return parseInt(x)}).reduce(function(x,$,K){return x+$/Math.pow(10,2*K)})})),Ga.maxKey=Ec(Ga.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ia(Sc,function(x){aa||(x=new CustomEvent(bg,{detail:x}),aa=!0,dispatchEvent(x),aa=!1)}),addEventListener(bg,function(x){x=x.detail,aa||Bg(x)}));var Hl,aa=!1,L_=function(){};return typeof BroadcastChannel<"u"&&((L_=function(){(Hl=new BroadcastChannel(bg)).onmessage=function(x){return x.data&&Bg(x.data)}})(),typeof Hl.unref=="function"&&Hl.unref(),ia(Sc,function(x){aa||Hl.postMessage(x)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(x){if(!bi.disableBfCache&&x.persisted){Ue&&console.debug("Dexie: handling persisted pagehide"),Hl!=null&&Hl.close();for(var $=0,K=Er;$<K.length;$++)K[$].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(x){!bi.disableBfCache&&x.persisted&&(Ue&&console.debug("Dexie: handling persisted pageshow"),L_(),Bg({all:new Gr(-1/0,[[]])}))})),ft.rejectionMapper=function(x,$){return!x||x instanceof te||x instanceof TypeError||x instanceof SyntaxError||!x.name||!Ae[x.name]?x:($=new Ae[x.name]($||x.message,x),"stack"in x&&p($,"stack",{get:function(){return this.inner.stack}}),$)},je(Ue),r(bi,Object.freeze({__proto__:null,Dexie:bi,liveQuery:R_,Entity:Rf,cmp:Ln,PropModification:wc,replacePrefix:function(x,$){return new wc({replacePrefix:[x,$]})},add:function(x){return new wc({add:x})},remove:function(x){return new wc({remove:x})},default:bi,RangeSet:Gr,mergeRanges:Cc,rangesOverlap:w_}),{default:bi}),bi})})(XD);var $ve=XD.exports;const tb=Ks($ve),Y2=Symbol.for("Dexie"),nb=globalThis[Y2]||(globalThis[Y2]=tb);if(tb.semVer!==nb.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${tb.semVer} and ${nb.semVer}`);const Jd="anime",Pve={info:"&anime_id",url:"&anime_id",danmu:"&episode_id"},n_={[Jd]:Dve(Jd,Pve)},dm=n_[Jd].url,Hs=n_[Jd].info,fm=n_[Jd].danmu;function Dve(t,e,n=1){let r=new nb(t);return r.version(n).stores(e),r}function r_(t,e,n=60){const r=t.put.bind(t),s=t.get.bind(t),o=async function(a,u){const l=new Date,c={[e]:a,value:u,expiry:l.getTime()+n*6e4},d=await r(c),f=new Event(r.name);return f.key=a,f.value=u,document.dispatchEvent(f),d},i=async function(a){const u=await s(a),l=new Event(s.name);return l.key=a,l.value=u?u.value:null,document.dispatchEvent(l),u?new Date().getTime()>u.expiry?(await dm.delete(a),null):u.value:null};return t.put=o,t.get=i,{put:o,get:i}}r_(dm,"anime_id",60);r_(Hs,"anime_id",60*24*7);r_(fm,"episode_id",60*24*7);const If=xP.create({baseURL:"https://anime-danmu.onrender.com/",timeout:15e3});If.interceptors.request.use(t=>t);If.interceptors.response.use(t=>t.data,t=>Promise.reject(t));let QD="/proxy",Ove="/api/v2/comment/",Mve="/api/v2/search/episodes";function Nve(t,e){return e=e.toString().padStart(4,"0"),`${t}${e}`}async function Fve(t,e){const n=await If({url:`${QD}${Mve}`,method:"get",params:{anime:t,episode:e}});return console.log(n),n.animes}async function Bve(t){let e;try{e=await If({url:"https://api.nnsvip.cn",method:"get",params:{url:t}}),console.log(e)}catch(n){console.log("get_url error: ",n)}return e.url&&e.url.endsWith(".m3u8")?e.url:t}async function Vve(t){return(await If({url:`${QD}${Ove}${t}?withRelated=true&chConvert=1`,method:"get"})).comments}let rb=["未搜索到番剧弹幕","请按右键菜单","手动搜索番剧名称"],X2=()=>{let t=document.querySelector("#danmu_count"),e=document.querySelector("#anime_list"),n=document.querySelector("#episode_list");try{return[`番剧：${e.options[e.selectedIndex].text}`,`章节: ${n.options[n.selectedIndex].text}`,`已加载 ${t.textContent} 条弹幕`]}catch(r){return console.log(r),[]}};function Uve(t){let e=document.querySelector("#episode_list");async function n(s){let{anime_id:o,title:i,url:a,episode:u}=s.storage.get("info"),l=document.querySelector("#episode_list");const c=l.selectedIndex;console.log("update_episode_select: ",c);let d=await Hs.get(o);const{episode_dif:f}=d;let h=c+1-u;h!==f&&(d.episode_dif=h,await Hs.put(o,d));const p=l.value;let g;try{g=await Vve(p),await fm.put(p,g)}catch(v){if(console.log("接口请求失败，尝试使用缓存数据: ",v),g=await fm.get(p),!g)throw new Error("无法获取弹幕数据")}Wve(s,g)}async function r(s,o){console.log("update_episode_list: ",o);let{anime_id:i,title:a,url:u,episode:l}=s.storage.get("info"),c=document.querySelector("#episode_list");const{animeId:d,episodes:f}=o,h=f.reduce((_,b)=>_+`<option value="${b.episodeId}">${b.episodeTitle}</option>`,"");c.innerHTML=h;let p=await Hs.get(i);const{episode_dif:g}=p;let v=Nve(d,g+l);c.value=v;const y=new CustomEvent("update_episode_select",{detail:{art:s}});document.dispatchEvent(y)}e.addEventListener("change",async function(s){await n(t)}),document.addEventListener("update_episode_list",async function(s){let{art:o,anime:i}=s.detail;await r(o,i)}),document.addEventListener("update_episode_select",async function(s){let{art:o}=s.detail;await n(o)})}function Hve(t){let e=document.querySelector("#anime_list");e.addEventListener("change",async()=>{let{anime_id:r,title:s,url:o,episode:i}=t.storage.get("info"),a=await Hs.get(r);const u=e.selectedIndex,{anime_idx:l,animes:c}=a;u!==l&&(a.anime_idx=u,await Hs.put(r,a),await s_(t),await o_(t))});let n=document.querySelector("#anime_name");n.addEventListener("keypress",async r=>{r.key==="Enter"&&await sb(n.value,t)}),n.addEventListener("blur",async()=>{await sb(n.value,t)})}function jve(t){Yve(t),Hve(t),Uve(t)}async function s_(t){let{anime_id:e,title:n,url:r,episode:s}=t.storage.get("info"),o=await Hs.get(e);console.log("set_anime_name: ",o);let{animes:i,anime_idx:a}=o,u;a<=i.length-1?u=a:(u=0,o.anime_idx=u,await Hs.put(e,o));let l=i[u].animeTitle,c=document.querySelector("#anime_name");l?c.value=l:c.value=n}async function sb(t,e){let{anime_id:n,title:r,url:s,episode:o}=e.storage.get("info"),i=await Hs.get(n),a;try{a=await Fve(t)}catch(u){console.log("弹幕服务异常，稍后再试: ",u)}a.length>0?(i.animes=a,await Hs.put(n,i),await s_(e),await o_(e)):Kc(e,rb)}function Kve(t,e,n){console.log("update_anime_list: ",e,n);let r=document.querySelector("#anime_list");const s=e.reduce((a,u)=>a+`<option value="${u.animeId}">${u.animeTitle}</option>`,"");r.innerHTML=s;let o=e[n];r.value=o.animeId;const i=new CustomEvent("update_episode_list",{detail:{art:t,anime:o}});document.dispatchEvent(i)}async function o_(t){let{anime_id:e,title:n,url:r,episode:s}=t.storage.get("info"),o=await Hs.get(e),{animes:i,anime_idx:a}=o,u=i[a];const{animeTitle:l}=u;u.hasOwnProperty("animeId")?(console.log("有缓存，请求弹幕"),Kve(t,i,a)):(console.log("没有缓存，请求接口"),await sb(l,t))}const zve=`<div id="k-player-danmaku-search-form">
                <label>
                  <span>搜索番剧名称</span>
                  <input type="text" id="anime_name" class="k-input" />
                </label>
                <div style="min-height:24px; padding-top:4px">
                  <span id="tips"></span>
                </div>
                <label>
                  <span>番剧名称</span>
                  <select id="anime_list" class="k-select"></select>
                </label>
                <label>
                  <span>章节</span>
                  <select id="episode_list" class="k-select"></select>
                </label>
                <label>
                  <span class="open-danmaku-list">
                    <span>弹幕列表</span>
                    <small id="danmu_count"></small>
                  </span>
                </label>
                
                <span class="specific-thanks">弹幕服务由 弹弹play 提供</span>
              </div>`;function Kc(t,e){t.notice.show=e.join(`,

`)}function Wve(t,e){let n=JD(e);t.plugins.artplayerPluginDanmuku.config({danmuku:n}),t.plugins.artplayerPluginDanmuku.load()}function Gve(t){const e=document.createElement("input");e.type="file",e.accept=".json, .xml",e.addEventListener("change",()=>{const n=e.files[0];if(!n)return;const r=new FileReader;r.onload=()=>{const s=r.result;if(n.name.endsWith(".json")){let o=JSON.parse(s),i;o.length===1?i=o[0].comments:i=o;const a=JD(i);console.log("Parsed JSON danmaku:",a),t.plugins.artplayerPluginDanmuku.config({danmuku:a}),t.plugins.artplayerPluginDanmuku.load()}else if(n.name.endsWith(".xml")){const o=Xve(s);console.log("Parsed XML danmaku:",o),t.plugins.artplayerPluginDanmuku.config({danmuku:o}),t.plugins.artplayerPluginDanmuku.load()}else console.error("Unsupported file format. Please upload a .json or .xml file.")},r.readAsText(n)}),e.click()}async function qve(t){const n=document.querySelector("#episode_list").value;let r=await fm.get(n),s=t.storage.get("info");const{title:o,episode:i}=s,a=new Blob([JSON.stringify(r)],{type:"text/plain;charset=utf-8"});saveAs(a,`${o} - ${i}.json`)}function Yve(t){let e=Lve({danmuku:[],speed:5,opacity:1,fontSize:25,color:"#FFFFFF",mode:0,margin:[10,"25%"],antiOverlap:!0,useWorker:!0,synchronousPlayback:!1,filter:r=>r.text.length<50,lockTime:5,maxLength:100,minWidth:200,maxWidth:600,theme:"light",heatmap:!0,beforeEmit:r=>!!r.text.trim()});t.plugins.add(e),t.on("artplayerPluginDanmuku:emit",r=>{console.info("新增弹幕",r)}),t.on("artplayerPluginDanmuku:error",r=>{console.info("加载错误",r)}),t.on("artplayerPluginDanmuku:config",r=>{});let n=document.querySelector("#danmu_count");t.on("artplayerPluginDanmuku:loaded",r=>{console.info("加载弹幕",r.length),n.textContent=r.length,n.textContent===""?Kc(t,rb):Kc(t,X2())}),t.on("pause",()=>{n.textContent===""?Kc(t,rb):Kc(t,X2())})}function ZD(t){switch(t){case 1:case 2:case 3:return 0;case 4:case 5:return 1;default:return 0}}function Xve(t){if(typeof t!="string")return[];const e=t.matchAll(/<d (?:.*? )??p="(?<p>.+?)"(?: .*?)?>(?<text>.+?)<\/d>/gs);return Array.from(e).map(n=>{const r=n.groups.p.split(",");return r.length>=8?{text:n.groups.text.trim().replaceAll("&quot;",'"').replaceAll("&apos;","'").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&amp;","&"),time:Number(r[0]),mode:ZD(Number(r[1])),fontSize:Number(r[2]),color:`#${Number(r[3]).toString(16)}`,timestamp:Number(r[4]),pool:Number(r[5]),userID:r[6],rowID:Number(r[7])}:null}).filter(Boolean)}function JD(t){return t.map(e=>{let n=e.p.split(",");return{text:e.m,time:Number(n[0]),mode:ZD(Number(n[1])),fontSize:25,color:`#${Number(n[2]).toString(16)}`,timestamp:Number(e.cid),pool:0,userID:n[3],rowID:0}})}function Qve(t,e,n){if(_o.isSupported()){n.hls&&n.hls.destroy();const r=new _o;r.loadSource(e),r.attachMedia(t),n.hls=r,n.on("destroy",()=>r.destroy())}else t.canPlayType("application/vnd.apple.mpegurl")?t.src=e:n.notice.show="Unsupported playback format: m3u8"}function Zve(t,e,n,r){let s={container:e,url:t,poster:n,autoSize:!0,fullscreen:!0,fullscreenWeb:!0,autoOrientation:!0,flip:!0,playbackRate:!0,aspectRatio:!0,setting:!0,controls:[{position:"right",html:"上传",click:()=>Gve(o)},{position:"right",html:"下载",click:()=>qve(o)}],contextmenu:[{name:"搜索",html:zve}]};s.url.endsWith(".m3u8")&&Object.assign(s,{type:"m3u8",customType:{m3u8:Qve}}),r&&Object.assign(s,{volume:r.options.volume});let o=new IP(s);return o}async function Jve(t){let{anime_id:e,title:n,episode:r,url:s}=t,o={episodes:{}},i=await dm.get(e);i!=null&&(o=i);let a;return o.episodes.hasOwnProperty(r)?(a=o.episodes[r],console.log("缓存获取: ",a)):(a=await Bve(s),a.endsWith(".m3u8")&&(o.episodes[r]=a,await dm.put(e,o)),console.log("接口获取: ",a)),t.src_url=a,{var_anime_url:o}}const e0e={class:"player_area"},t0e={class:"player_p"},n0e={class:"current_play_info"},r0e={class:"play_info_left"},s0e={class:"current_play_title"},o0e=["href"],i0e={class:"tags"},a0e=["href"],l0e={class:"hidden-sm-and-down"},u0e={class:"hidden-sm-and-down"},c0e={class:"play_info_right"},d0e={class:"play-module"},f0e={class:"play-module-item"},h0e={class:"module-heading"},p0e={class:"play-tab-group"},m0e=["onClick"],g0e={class:"play-list"},v0e={class:"play-list-item"},y0e=["onClick"],b0e={key:0,class:"loading-wave"},w0e={key:1,class:"loading-wave"},_0e={class:"correlation"},S0e=ee({__name:"DanmuPlay",setup(t){const e=q(null);let n=null;const r=Ft({loading:!1,detail:{id:"",cid:"",pid:"",name:"",picture:"",playFrom:[],DownFrom:"",playList:[[]],downloadList:"",descriptor:{subTitle:"",cName:"",enName:"",initial:"",classTag:"",actor:"",director:"",writer:"",blurb:"",remarks:"",releaseDate:"",area:"",language:"",year:"",state:"",updateTime:"",addTime:"",dbId:"",dbScore:"",hits:"",content:""},list:[]},current:{index:0,episode:"",link:""},relate:[],currentTabId:"",autoplay:!0,options:{title:"",src:"",volume:.6,currentTime:50}}),s=P(()=>{let h=!1;return r.detail.list.forEach(p=>{r.currentTabId==p.id&&(h=r.current.index!=p.linkList.length-1)}),h}),o=vi();rt("global");const i=h=>{r.currentTabId=h},a=h=>{r.detail.list.forEach(p=>{if(p.id==h.sourceId){let g=p.linkList[h.episodeIndex];r.current={index:h.episodeIndex,episode:g.episode,link:g.link},r.options.src=g.link,r.options.title=r.detail.name+"  "+g.episode,r.currentTabId=h.sourceId}})},u=()=>{r.autoplay&&l()},l=()=>{s.value&&(a({sourceId:r.currentTabId,episodeIndex:r.current.index+1,target:""}),r.autoplay&&setTimeout(()=>{n&&n.play()},1e3))};xt(()=>{c()});async function c(){r.detail.id,r.detail.name,r.current.link,r.current.index+1,console.log(DT),n=Zve("url.m3u8",e.value,DT,r),jve(n),n.on("ready",()=>{}),n.on("ended",u)}async function d(){const h=r.detail.id,p=r.detail.name,g=r.current.link,v=r.current.index+1;let y={anime_id:h,title:p,src_url:g,url:g,episode:v};await Jve(y),n.storage.set("info",y),console.log("info: ",y);let _=await Hs.get(h);_||(_={animes:[{animeTitle:p}],anime_idx:0,episode_dif:0},await Hs.put(h,_)),console.log("db_anime_info: ",_),await n.switchUrl(y.src_url||g),await s_(n),await o_(n)}Pe(()=>r.current.link,h=>{h&&d()});const f=()=>{};return window.addEventListener("beforeunload",f),Ll(()=>{let h=o.currentRoute.value.query;vn("/filmPlayInfo",{id:h.id,playFrom:h.source,episode:h.episode}).then(p=>{p.code===0?(r.detail=p.data.detail,r.current={index:p.data.currentEpisode,...p.data.current},r.relate=p.data.relate,r.options.src=r.current.link,r.currentTabId=p.data.currentPlayFrom,r.loading=!0):gt.error({message:p.msg})})}),(h,p)=>{const g=lt;return At((L(),G("div",e0e,[F("div",t0e,[F("div",{class:"video-player",ref_key:"artContainer",ref:e},null,512)]),F("div",n0e,[F("div",r0e,[F("h3",s0e,[F("a",{href:`/filmDetail?link=${r.detail.id}`},ge(r.detail.name),9,o0e),xe(ge(r.current.episode),1)]),F("div",i0e,[F("a",{href:`/filmClassifySearch?Pid=${r.detail.pid}&Category=${r.detail.cid}`},[A(g,null,{default:O(()=>[A(m(e1))]),_:1}),xe(" "+ge(r.detail.descriptor.cName),1)],8,a0e),F("span",null,ge(r.detail.descriptor.classTag?r.detail.descriptor.classTag.replaceAll(",","/"):"未知"),1),F("span",l0e,ge(r.detail.descriptor.year),1),F("span",u0e,ge(r.detail.descriptor.area),1)])]),F("div",c0e,[F("a",{href:"javascript:;",class:U(`iconfont icon-play1 ${r.autoplay?"p_r_active":""}`),onClick:p[0]||(p[0]=()=>{r.autoplay=!r.autoplay})},null,2),At(F("a",{href:"javascript:;",class:"iconfont icon-iov-next",onClick:l},null,512),[[nn,s.value]])])]),F("div",d0e,[F("div",f0e,[F("div",h0e,[p[1]||(p[1]=F("p",{class:"play-module-title"},"播放列表",-1)),F("div",p0e,[(L(!0),G(tt,null,It(r.detail.list,v=>(L(),G("a",{href:"javascript:;",class:U(`play-tab-item ${r.currentTabId==v.id?"tab-active":""}`),onClick:y=>i(v.id)},ge(v.name),11,m0e))),256))])]),F("div",g0e,[(L(!0),G(tt,null,It(r.detail.list,v=>At((L(),G("div",v0e,[(L(!0),G(tt,null,It(v.linkList,(y,_)=>(L(),G("a",{class:U(`play-link ${y.link==r.current.link?"play-link-active":""}`),href:"javascript:;",onClick:b=>a({sourceId:v.id,episodeIndex:_,target:this})},[xe(ge(y.episode)+" ",1),y.link==r.current.link?(L(),G("div",b0e,p[2]||(p[2]=[F("div",{class:"loading-bar"},null,-1),F("div",{class:"loading-bar"},null,-1),F("div",{class:"loading-bar"},null,-1),F("div",{class:"loading-bar"},null,-1)]))):(L(),G("div",w0e))],10,y0e))),256))],512)),[[nn,r.currentTabId==v.id]])),256))])])]),F("div",_0e,[A(kP,{relateList:r.relate},null,8,["relateList"])])],512)),[[nn,r.loading]])}}}),E0e=Kn(S0e,[["__scopeId","data-v-1cd92f64"]]),x0e={class:"container"},T0e={class:"search_group"},C0e={key:0,class:"search_res"},k0e={class:"title"},I0e={class:"content"},A0e={class:"film_item"},R0e=["href"],L0e={class:"film_intro"},$0e={class:"tags"},P0e={class:"tag_c"},D0e={class:"blurb"},O0e={class:"pagination_container"},M0e=ee({__name:"SearchFilm",setup(t){const e=vi(),n=cue(),r=Ft({list:[],page:{current:0},oldSearch:"",search:""});Pe([n],(u,l)=>{i(e.currentRoute.value.query.search,e.currentRoute.value.query.current)});const s=u=>{location.href=`/play?id=${u}&episode=0&source=0`},o=()=>{if(r.search.length<=0){gt.error({message:"搜索信息不能为空",duration:1e3});return}location.href=location.href=`/search?search=${r.search}`},i=(u,l)=>{vn("/searchFilm",{keyword:u,current:l}).then(c=>{c.code==0?(r.list=c.data.list,r.page=c.data.page,r.oldSearch=u):gt.warning({message:c.msg,duration:1e3})})};xt(()=>{e.currentRoute.value.query.search!=null&&i(e.currentRoute.value.query.search+"",e.currentRoute.value.query.current)});const a=u=>{let l=e.currentRoute.value.query;location.href=`/search?search=${l.search}&current=${u}`};return(u,l)=>{const c=Nn,d=fc,f=cc;return L(),G(tt,null,[F("div",x0e,[F("div",T0e,[At(F("input",{"onUpdate:modelValue":l[0]||(l[0]=h=>r.search=h),onKeydown:l[1]||(l[1]=h=>{h.keyCode==13&&o()}),placeholder:"输入关键字搜索 动漫,剧集,电影 ",class:"search"},null,544),[[si,r.search]]),A(c,{onClick:o,icon:m(kd),style:{}},null,8,["icon"])]),r.list&&r.list.length>0?(L(),G("div",C0e,[F("div",k0e,[F("h2",null,ge(r.oldSearch),1),F("p",null,"共找到"+ge(r.page.total)+'部与"'+ge(r.oldSearch)+'"相关的影视作品',1)]),F("div",I0e,[(L(!0),G(tt,null,It(r.list,h=>(L(),G("div",A0e,[F("a",{href:`/filmDetail?link=${h.id}`,style:dt({backgroundImage:`url('${h.picture}')`})},null,12,R0e),F("div",L0e,[F("h3",null,ge(h.name),1),F("p",$0e,[F("span",P0e,ge(h.cName),1),F("span",null,ge(h.year),1),F("span",null,ge(h.area),1)]),F("p",null,[l[3]||(l[3]=F("em",null,"导演:",-1)),xe(ge(h.director),1)]),F("p",null,[l[4]||(l[4]=F("em",null,"主演:",-1)),xe(ge(h.actor),1)]),F("p",D0e,[l[5]||(l[5]=F("em",null,"剧情:",-1)),xe(ge(h.blurb.replaceAll("　　","")),1)]),A(c,{icon:m(Nm),onClick:p=>s(h.id)},{default:O(()=>l[6]||(l[6]=[xe("立即播放")])),_:2},1032,["icon","onClick"])])]))),256))]),F("div",O0e,[A(d,{background:"",layout:"prev, pager, next","current-page":r.page.current,"onUpdate:currentPage":l[2]||(l[2]=h=>r.page.current=h),onCurrentChange:a,"pager-count":5,"page-size":r.page.pageSize,total:r.page.total,"prev-icon":m(AI),"next-icon":m(RI),"hide-on-single-page":"",class:"pagination"},null,8,["current-page","page-size","total","prev-icon","next-icon"])])])):ce("",!0)]),r.oldSearch!=""&&(!r.list||r.list.length==0)?(L(),ye(f,{key:0,description:"未查询到对应影片"})):ce("",!0)],64)}}}),N0e=Kn(M0e,[["__scopeId","data-v-31fa3f00"]]),F0e="/assets/404-b813c94a.png",B0e={class:"container"},V0e=["src"],U0e={class:"btn-group"},H0e=ee({__name:"Error404",setup(t){const e=vi(),n=r=>{switch(r){case"home":e.push("/");break;case"back":e.go(-1);break}};return(r,s)=>(L(),G("div",B0e,[ce("",!0),F("img",{src:m(F0e),alt:"404",class:"notfound-img"},null,8,V0e),s[5]||(s[5]=F("p",{class:"warning-txt"},"你好像走错地方了哦!!!",-1)),F("div",U0e,[F("button",{onClick:s[2]||(s[2]=o=>n("home"))},"主页"),F("button",{onClick:s[3]||(s[3]=o=>n("back"))},"返回")])]))}}),j0e=Kn(H0e,[["__scopeId","data-v-148e0a5e"]]),K0e={key:0,class:"container"},z0e={class:"title"},W0e=["href"],G0e=["href"],q0e={class:"t_container"},Y0e={class:"t_item"},X0e={class:"t_title"},Q0e={class:"tag_group"},Z0e=["onClick"],J0e={class:"pagination_container"},eye=ee({__name:"FilmClassifySearch",setup(t){const e=Ft({title:{},list:[],search:{sortList:[],titles:[],tags:[]},page:{current:0},searchParams:{Pid:"",Category:"",Plot:"",Area:"",Language:"",Year:"",Sort:""}}),n=vi(),r=a=>{o()},s=(a,u)=>{e.searchParams[a]=u,e.page.current=1,o()},o=()=>{let a="";for(let u in e.searchParams){let l=e.searchParams[u];l!=""&&(a+=`&${u}=${l}`)}location.href="/filmClassifySearch?"+a.slice(1)+`&current=${e.page.current}`},i=()=>{let a=n.currentRoute.value.query;vn("/filmClassifySearch",{...a}).then(u=>{u.code===0?(e.title=u.data.title,e.list=u.data.list,e.page=u.data.page,e.search=u.data.search,e.searchParams=u.data.params):gt.error({message:"影片搜索结果异常,请稍后刷新重试",duration:1e3})})};return xt(()=>{i()}),(a,u)=>{const l=fc;return e.title.name?(L(),G("div",K0e,[F("div",z0e,[F("a",{href:`/filmClassify?Pid=${e.title.id}`},ge(e.title.name),9,W0e),u[1]||(u[1]=F("span",{class:"line"},null,-1)),F("a",{href:`/filmClassifySearch?Pid=${e.title.id}`,class:"h_active"},ge(`${e.title.name}库`),9,G0e)]),F("div",q0e,[(L(!0),G(tt,null,It(e.search.sortList,c=>(L(),G("div",Y0e,[F("div",X0e,[xe(ge(e.search.titles[c])+" ",1),u[2]||(u[2]=F("b",{class:"iconfont icon-triangle"},null,-1))]),F("div",Q0e,[(L(!0),G(tt,null,It(e.search.tags[c],d=>(L(),G("a",{href:"javascript:void(false)",class:U(`tag ${d.Value===e.searchParams[c]?"t_active":""}`),onClick:f=>s(c,d.Value)},ge(d.Name),11,Z0e))),256))])]))),256))]),A(xu,{col:7,list:e.list},null,8,["list"]),F("div",J0e,[A(l,{background:"",layout:"prev, pager, next","current-page":e.page.current,"onUpdate:currentPage":u[0]||(u[0]=c=>e.page.current=c),onCurrentChange:r,"pager-count":5,"page-size":e.page.pageSize,total:e.page.total,"prev-icon":m(AI),"next-icon":m(RI),"hide-on-single-page":"",class:"pagination"},null,8,["current-page","page-size","total","prev-icon","next-icon"])])])):ce("",!0)}}}),tye=Kn(eye,[["__scopeId","data-v-3e60ba97"]]),nye={key:0,class:"container"},rye={class:"title"},sye=["href"],oye=["href"],iye={class:"content"},aye={class:"news"},lye={class:"c_nav"},uye=["href"],cye={class:"news"},dye={class:"c_nav"},fye=["href"],hye={class:"news"},pye={class:"c_nav"},mye=["href"],gye=ee({__name:"FilmClassify",setup(t){const e=Ft({title:{},content:{news:[],top:[],recent:[]}}),n=vi(),r=()=>{let s=n.currentRoute.value.query;vn("/filmClassify",{Pid:s.Pid}).then(o=>{o.code===0?(e.title=o.data.title,e.content=o.data.content):gt.error({message:o.msg,duration:1e3})})};return xt(()=>{r()}),(s,o)=>e.content.news.length>0?(L(),G("div",nye,[F("div",rye,[F("a",{href:`/filmClassify?Pid=${e.title.id}`,class:"h_active"},ge(e.title.name),9,sye),o[0]||(o[0]=F("span",{class:"line"},null,-1)),F("a",{href:`/filmClassifySearch?Pid=${e.title.id}`},ge(`${e.title.name}库`),9,oye)]),F("div",iye,[F("div",aye,[F("div",lye,[o[2]||(o[2]=F("span",{class:"c_nav_text silver"},"最新上映",-1)),F("a",{href:`/filmClassifySearch?Pid=${e.title.id}&Sort=release_stamp`,class:"c_nav_more"},o[1]||(o[1]=[xe("更多"),F("b",{class:"iconfont icon-more"},null,-1)]),8,uye)]),A(xu,{col:7,list:e.content.news},null,8,["list"])]),F("div",cye,[F("div",dye,[o[4]||(o[4]=F("span",{class:"c_nav_text silver"},"排行榜",-1)),F("a",{href:`/filmClassifySearch?Pid=${e.title.id}&Sort=hits`,class:"c_nav_more"},o[3]||(o[3]=[xe("更多"),F("b",{class:"iconfont icon-more"},null,-1)]),8,fye)]),A(xu,{col:7,list:e.content.top},null,8,["list"])]),F("div",hye,[F("div",pye,[o[6]||(o[6]=F("span",{class:"c_nav_text silver"},"最近更新",-1)),F("a",{href:`/filmClassifySearch?Pid=${e.title.id}&Sort=update_stamp`,class:"c_nav_more"},o[5]||(o[5]=[xe("更多"),F("b",{class:"iconfont icon-more"},null,-1)]),8,mye)]),A(xu,{col:7,list:e.content.recent},null,8,["list"])])])])):ce("",!0)}}),vye=Kn(gye,[["__scopeId","data-v-c116421f"]]),yye={class:"container"},bye=ee({__name:"Index",setup(t){return xt(()=>{vn("/manage/index").then(e=>{e.code==0?gt.success({message:e.msg}):gt.error({message:e.msg})})}),(e,n)=>(L(),G("div",yye,n[0]||(n[0]=[F("h3",null,"管理后台首页, 不知道放点啥, 先空着",-1)])))}}),wye=Kn(bye,[["__scopeId","data-v-5d6b8cb4"]]),_ye={class:"container"},Sye={class:"container-form"},Eye={class:"cus-form"},xye={class:"cus-form-item"},Tye={class:"cus-form-item"},Cye=["type"],kye=ee({__name:"Login",setup(t){const e=Ft({userName:"",password:"",pwdIsShow:!1}),n=vi(),r=()=>{vr("/login",{userName:e.userName,password:e.password}).then(s=>{s.code===0?n.push("/manage/index"):gt.error({message:s.msg})})};return(s,o)=>{const i=Nn;return L(),G("div",_ye,[ce("",!0),F("div",Sye,[F("form",Eye,[o[7]||(o[7]=F("h2",{class:"form-title"},"GoFilm Manage",-1)),F("div",xye,[At(F("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=a=>e.userName=a),placeholder:"用户名 / 邮箱",class:"cus-input"},null,512),[[si,e.userName]]),o[3]||(o[3]=F("i",{class:"cus-item-icon iconfont icon-account"},null,-1))]),F("div",Tye,[o[4]||(o[4]=F("i",{class:"cus-item-icon iconfont icon-password"},null,-1)),At(F("input",{type:`${e.pwdIsShow?"text":"password"}`,"onUpdate:modelValue":o[1]||(o[1]=a=>e.password=a),placeholder:"密码",class:"cus-input",onKeydown:Sn(r,["enter"])},null,40,Cye),[[B3,e.password]]),F("i",{class:U(`cus-pwd iconfont ${e.pwdIsShow?"icon-eye2":"icon-eye"}`),onClick:o[2]||(o[2]=a=>e.pwdIsShow=!e.pwdIsShow)},null,2)]),A(i,{"native-type":"button",type:"primary",size:"large",color:"#9b49e7",round:"",onClick:r},{default:O(()=>o[5]||(o[5]=[xe("登录")])),_:1}),A(i,{"native-type":"button",disabled:"",type:"primary",size:"large",color:"#9b49e7",round:""},{default:O(()=>o[6]||(o[6]=[xe("注册")])),_:1})])])])}}}),Iye=Kn(kye,[["__scopeId","data-v-2e64a78d"]]),Aye={class:"header_container"},Rye={class:"left"},Lye={class:"right"},$ye={class:"dropdown_user"},Pye={class:"dialog-footer"},Dye="^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[$@$!%*?&])[A-Za-z\\d$@$!%*?&]{8,12}$",Oye=ee({__name:"ManageHeader",setup(t){const e=vi(),n=Ft({userInfo:{id:Number,userName:String,email:String,gender:Number,nickName:String,avatar:String,status:Number}}),r=rt("collapse"),s=Ft({changePwd:!1}),o=Ft({changePwd:{password:"",newPassword:"",confirmPassword:""},type:{password:!1,newPassword:!1,confirmPassword:!1}}),u=Ft({password:[{required:!0,message:"原始密码信息不能为空",trigger:"blur"}],newPassword:[{required:!0,validator:(h,p,g)=>{p===""?g(new Error("新密码不能为空")):p.match(Dye)||g(new Error("密码必须为8-12位且包含大小写字母数字和特殊字符")),g()},trigger:"blur"}],confirmPassword:[{required:!0,validator:(h,p,g)=>{p===""?g(new Error("确认密码不能为空")):o.changePwd.newPassword!==""&&o.changePwd.newPassword!=o.changePwd.confirmPassword&&g(new Error("新密码与确认密码不一致")),g()},trigger:"blur"}]}),l=()=>{vr("/changePassword",{password:o.changePwd.password,newPassword:o.changePwd.newPassword}).then(h=>{h.code===0?(o.changePwd={password:"",newPassword:"",confirmPassword:""},s.changePwd=!1,gt.success({message:h.msg})):gt.error({message:h.msg})})},c=()=>{s.changePwd=!1,o.changePwd={password:"",newPassword:"",confirmPassword:""}},d=()=>{vn("/logout").then(h=>{h.code===0?(Yce(),e.push("/login")):gt.error({message:h.msg})})},f=()=>{vn("/manage/user/info").then(h=>{h.code===0?(h.data.avatar=h.data.avatar=="empty"?"https://s2.loli.net/2023/12/05/O2SEiUcMx5aWlv4.jpg":h.data.avatar,n.userInfo=h.data):gt.error({message:h.msg})})};return xt(()=>{f()}),(h,p)=>{const g=w1,v=lt,y=MR,_=NR,b=OR,w=ir,S=mi,E=pi,T=Nn,I=uc;return L(),G("div",Aye,[F("div",Rye,[F("a",{href:"javascript:;",onClick:p[0]||(p[0]=(...k)=>m(r).changeCollapse&&m(r).changeCollapse(...k)),class:U(`iconfont ${m(r).collapse.value?"icon-unfold":"icon-fold"}`)},null,2),p[9]||(p[9]=F("h3",null,"后台管理中心",-1))]),F("div",Lye,[A(b,{placement:"bottom"},{dropdown:O(()=>[A(_,null,{default:O(()=>[A(y,{command:"a"},{default:O(()=>p[10]||(p[10]=[F("em",{class:"iconfont icon-user-info"},null,-1),xe("个人信息")])),_:1}),A(y,{command:"a",onClick:p[1]||(p[1]=k=>s.changePwd=!0)},{default:O(()=>p[11]||(p[11]=[F("em",{class:"iconfont icon-change-pwd2"},null,-1),xe("修改密码 ")])),_:1}),A(y,{command:"e",divided:"",onClick:d},{default:O(()=>p[12]||(p[12]=[F("em",{class:"iconfont icon-logout"},null,-1),xe("退出登录 ")])),_:1})]),_:1})]),default:O(()=>[F("div",$ye,[A(g,{class:"avatar",size:35,src:n.userInfo.avatar.toString(),alt:"admin"},null,8,["src"]),F("span",null,ge(n.userInfo.nickName),1),A(v,{class:"el-icon--right"},{default:O(()=>[A(m(fi))]),_:1})])]),_:1})]),A(I,{modelValue:s.changePwd,"onUpdate:modelValue":p[8]||(p[8]=k=>s.changePwd=k),width:"480px",title:"用户密码修改"},{footer:O(()=>[F("span",Pye,[A(T,{color:"#9b49e7",onClick:l},{default:O(()=>p[13]||(p[13]=[xe("确认")])),_:1}),A(T,{onClick:c},{default:O(()=>p[14]||(p[14]=[xe("取消")])),_:1})])]),default:O(()=>[A(E,{model:o.changePwd,rules:u,"label-width":"80px"},{default:O(()=>[A(S,{label:"原始密码",prop:"password"},{default:O(()=>[A(w,{modelValue:o.changePwd.password,"onUpdate:modelValue":p[2]||(p[2]=k=>o.changePwd.password=k),type:o.type.password?"text":"password"},null,8,["modelValue","type"]),F("i",{class:U(`cus-pwd iconfont ${o.type.password?"icon-eye2":"icon-eye"}`),onClick:p[3]||(p[3]=k=>o.type.password=!o.type.password)},null,2)]),_:1}),A(S,{label:"新密码",prop:"newPassword"},{default:O(()=>[A(w,{modelValue:o.changePwd.newPassword,"onUpdate:modelValue":p[4]||(p[4]=k=>o.changePwd.newPassword=k),type:o.type.newPassword?"text":"password"},null,8,["modelValue","type"]),F("i",{class:U(`cus-pwd iconfont ${o.type.newPassword?"icon-eye2":"icon-eye"}`),onClick:p[5]||(p[5]=k=>o.type.newPassword=!o.type.newPassword)},null,2)]),_:1}),A(S,{label:"确认密码",prop:"confirmPassword"},{default:O(()=>[A(w,{modelValue:o.changePwd.confirmPassword,"onUpdate:modelValue":p[6]||(p[6]=k=>o.changePwd.confirmPassword=k),type:o.type.confirmPassword?"text":"password"},null,8,["modelValue","type"]),F("i",{class:U(`cus-pwd iconfont ${o.type.confirmPassword?"icon-eye2":"icon-eye"}`),onClick:p[7]||(p[7]=k=>o.type.confirmPassword=!o.type.confirmPassword)},null,2)]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}}),Mye=Kn(Oye,[["__scopeId","data-v-988e81de"]]),Nye={class:"site_name"},Fye=ee({__name:"Sidebar",setup(t){const e=rt("collapse"),n=Ft({site:{siteName:String,logo:String}}),r=()=>{window.open("/index")},s=()=>{vn("/manage/config/basic").then(o=>{o.code==0?n.site=o.data:gt.error({message:o.msg})})};return xt(()=>{s()}),(o,i)=>{const a=w1,u=WR,l=lt,c=GR,d=zR;return L(),G("div",null,[A(d,{"default-active":"2",class:"side-nav",router:"",collapse:m(e).collapse.value},{default:O(()=>[A(u,{index:"",onClick:r},{title:O(()=>[F("b",Nye,ge(n.site.siteName),1)]),default:O(()=>[A(a,{class:"logo",size:30,src:n.site.logo.toString(),alt:"GoFilm"},null,8,["src"])]),_:1}),A(c,{index:"/manage/index"},{title:O(()=>[A(l,null,{default:O(()=>[A(m(r9))]),_:1}),i[0]||(i[0]=F("span",null,"网站管理",-1))]),default:O(()=>[A(u,{index:"/manage/system/webSite"},{default:O(()=>i[1]||(i[1]=[xe("站点管理")])),_:1}),A(u,{index:"/manage/system/banners"},{default:O(()=>i[2]||(i[2]=[xe("海报管理")])),_:1})]),_:1}),A(c,{index:"/manage/collect"},{title:O(()=>[A(l,null,{default:O(()=>[A(m(u9))]),_:1}),i[3]||(i[3]=F("span",null,"采集管理",-1))]),default:O(()=>[A(u,{index:"/manage/collect/index"},{default:O(()=>i[4]||(i[4]=[xe("影视采集")])),_:1}),A(u,{index:"/manage/collect/record"},{default:O(()=>i[5]||(i[5]=[xe("失效记录")])),_:1})]),_:1}),A(c,{index:"/manage/cron"},{title:O(()=>[A(l,null,{default:O(()=>[A(m(j9))]),_:1}),i[6]||(i[6]=F("span",null,"定时任务",-1))]),default:O(()=>[A(u,{index:"/manage/cron/index"},{default:O(()=>i[7]||(i[7]=[xe("任务管理")])),_:1})]),_:1}),A(c,{index:"/manage/film"},{title:O(()=>[A(l,null,{default:O(()=>[A(m(GV))]),_:1}),i[8]||(i[8]=F("span",null,"影片管理",-1))]),default:O(()=>[A(u,{index:"/manage/film/class"},{default:O(()=>i[9]||(i[9]=[xe("影视分类")])),_:1}),A(u,{index:"/manage/film"},{default:O(()=>i[10]||(i[10]=[xe("影视信息")])),_:1}),A(u,{index:"/manage/film/add"},{default:O(()=>i[11]||(i[11]=[xe("影片添加")])),_:1}),A(u,{index:"/manage/film/detail"},{default:O(()=>i[12]||(i[12]=[xe("视频详情")])),_:1})]),_:1}),A(c,{index:"/manage/file"},{title:O(()=>[A(l,null,{default:O(()=>[A(m(YV))]),_:1}),i[13]||(i[13]=F("span",null,"文件管理",-1))]),default:O(()=>[A(u,{index:"/manage/file/upload"},{default:O(()=>i[14]||(i[14]=[xe("文件上传")])),_:1}),A(u,{index:"/manage/file/gallery"},{default:O(()=>i[15]||(i[15]=[xe("图库管理")])),_:1})]),_:1})]),_:1},8,["collapse"])])}}}),Bye=Kn(Fye,[["__scopeId","data-v-85bbcc11"]]),Vye={class:"container"},Uye=ee({__name:"ManageHome",setup(t){const e=q(!1);return Qt("collapse",{collapse:e,changeCollapse:()=>{e.value=!e.value}}),(r,s)=>{const o=JA,i=k1,a=qt("router-view"),u=I1,l=C1;return L(),G("div",Vye,[A(l,null,{default:O(()=>[A(o,{width:e.value?"auto":"190px",class:"side"},{default:O(()=>[A(Bye)]),_:1},8,["width"]),A(l,null,{default:O(()=>[A(i,{class:"header"},{default:O(()=>[A(Mye)]),_:1}),A(u,{class:"view"},{default:O(()=>[A(a)]),_:1})]),_:1})]),_:1})])}}}),Hye=Kn(Uye,[["__scopeId","data-v-da813000"]]),jye={class:"container"},Kye={class:"cus_util"},zye={class:"dialog-footer"},Wye={class:"dialog-footer"},Gye={class:"dialog-footer"},qye={class:"dialog-footer"},Yye={class:"dialog-footer"},Xye=ee({__name:"CollectManage",setup(t){const e=Ft({siteList:[],collectDuration:[{time:24,label:"采集今日"},{time:168,label:"采集本周"},{time:-1,label:"采集全部"}],password:""}),n=Ft({addV:!1,editV:!1,batchV:!1,clear:!1,reCollect:!1}),r=Ft({add:{name:"",uri:"",resultModel:0,grade:1,collectType:0,syncPictures:!1,state:!1,interval:0,type_id:-1},edit:{id:"",name:"",uri:"",resultModel:0,grade:1,collectType:0,syncPictures:!1,state:!1,interval:0,type_id:-1},batch:{ids:[],time:0},options:[]}),s=()=>{n.batchV=!0,vn("/manage/collect/options").then(_=>{_.code===0?r.options=_.data:gt.error({message:_.msg})})},o=()=>{vr("/manage/spider/start",{ids:r.batch.ids,time:r.batch.time,batch:!0}).then(_=>{_.code===0?(gt.success({message:_.msg}),p(),g()):gt.error({message:_.msg})})},i=_=>{vr("/manage/spider/start",{id:_.id,time:_.cd,batch:!1}).then(b=>{b.code===0?(gt.success({message:b.msg}),g()):gt.error({message:b.msg})})},a=_=>{switch(_){case 0:r.add.syncPictures=r.add.syncPictures&&r.add.grade==0;break;case 1:r.edit.syncPictures=r.edit.syncPictures&&r.edit.grade==0;break}},u=()=>{vr("/manage/collect/add",r.add).then(_=>{_.code===0?(gt.success({message:_.msg}),p(),g()):gt.error({message:_.msg})})},l=_=>{vr("/manage/collect/test",_).then(b=>{b.code===0?gt.success({message:b.msg}):gt.error({message:b.msg})})},c=_=>{vn("/manage/collect/find",{id:_}).then(b=>{b.code===0?r.edit=b.data:gt.error({message:b.msg})}),n.editV=!0},d=_=>{vr("/manage/collect/change",{id:_.id,state:_.state,syncPictures:_.syncPictures}).then(b=>{b.code===0?(gt.success({message:b.msg}),g()):gt.error({message:b.msg})})},f=_=>{vr("/manage/collect/update",_).then(b=>{b.code===0?(gt.success({message:b.msg}),n.editV=!1,g()):gt.error({message:b.msg})})},h=_=>{vn("/manage/collect/del",{id:_}).then(b=>{b.code===0?(gt.success({message:b.msg}),g()):gt.error({message:b.msg})})},p=()=>{n.addV=!1,n.editV=!1,n.batchV=!1,r.add={name:"",uri:"",resultModel:0,grade:1,collectType:0,syncPictures:!1,state:!1,interval:0}},g=()=>{vn("/manage/collect/list").then(_=>{_.code===0?e.siteList=_.data.map(b=>{switch(b.collectType){case 0:b.collectTypeText="视频";break;case 1:b.collectTypeText="文章";break;case 2:b.collectTypeText="演员";break;case 3:b.collectTypeText="角色";break;case 4:b.collectTypeText="网站";break}return b.cd=24,b}):gt.error({message:_.msg})})},v=()=>{if(e.password.length<=0){gt.error({message:"操作失败, 密钥信息缺失"});return}vn("/manage/spider/clear",{password:e.password}).then(_=>{_.code===0?gt.success({message:_.msg}):gt.error({message:_.msg}),n.clear=!1,e.password=""})},y=()=>{if(e.password.length<=0){gt.error({message:"操作失败, 密钥信息缺失"});return}vn("/manage/spider/zero",{password:e.password}).then(_=>{_.code===0?gt.success({message:_.msg}):gt.error({message:_.msg}),n.reCollect=!1,e.password=""})};return xt(()=>{g()}),(_,b)=>{const w=Fl,S=co,E=VR,T=_f,I=ji,k=fo,C=Nn,N=Nl,D=ir,W=mi,H=wf,V=wr,R=Km,z=S1,M=pi,B=uc;return L(),G("div",jye,[A(N,{data:e.siteList,style:{width:"100%"},border:"",size:"default","row-class-name":"cus-tr","table-layout":"auto"},{default:O(()=>[A(w,{prop:"name",label:"资源名称"}),A(w,{prop:"resultModel",align:"center",label:"数据类型"},{default:O(j=>[A(S,{"disable-transitions":""},{default:O(()=>[xe(ge(j.row.resultModel==0?"JSON":"XML"),1)]),_:2},1024)]),_:1}),A(w,{prop:"collectType",align:"center",label:"资源类型"},{default:O(j=>[A(S,{"disable-transitions":""},{default:O(()=>[xe(ge(j.row.collectTypeText),1)]),_:2},1024)]),_:1}),A(w,{prop:"uri",label:"资源站"},{default:O(j=>[A(E,{href:j.row.uri,target:"_blank"},{default:O(()=>[xe(ge(j.row.uri),1)]),_:2},1032,["href"])]),_:1}),A(w,{prop:"syncPictures",align:"center",label:"同步图片"},{default:O(j=>[A(T,{onChange:X=>d(j.row),disabled:j.row.grade==1,modelValue:j.row.syncPictures,"onUpdate:modelValue":X=>j.row.syncPictures=X,"inline-prompt":"","active-text":"开启","inactive-text":"关闭"},null,8,["onChange","disabled","modelValue","onUpdate:modelValue"])]),_:1}),A(w,{prop:"state",align:"center",label:"是否启用"},{default:O(j=>[A(T,{onChange:X=>d(j.row),modelValue:j.row.state,"onUpdate:modelValue":X=>j.row.state=X,"inline-prompt":"","active-text":"启用","inactive-text":"禁用"},null,8,["onChange","modelValue","onUpdate:modelValue"])]),_:1}),A(w,{prop:"grade",align:"center",label:"站点权重"},{default:O(j=>[A(S,{"disable-transitions":"",type:`${j.row.grade==0?"success":"info"}`},{default:O(()=>[xe(ge(j.row.grade==0?"采集主站":"附属站点"),1)]),_:2},1032,["type"])]),_:1}),A(w,{prop:"grade",align:"center",label:"采集间隔"},{default:O(j=>[A(S,{"disable-transitions":"",type:"success"},{default:O(()=>[xe(ge(j.row.interval>0?`${j.row.interval} ms`:"无限制"),1)]),_:2},1024)]),_:1}),A(w,{label:"采集方式"},{default:O(j=>[A(k,{modelValue:j.row.cd,"onUpdate:modelValue":X=>j.row.cd=X,class:"m-2",placeholder:"Select",size:"small"},{default:O(()=>[(L(!0),G(tt,null,It(e.collectDuration,X=>(L(),ye(I,{key:X.time,label:X.label,value:X.time},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),A(w,{label:"操作",align:"center"},{default:O(j=>[A(C,{type:"success",icon:m(B9),plain:"",circle:"",onClick:X=>i(j.row)},null,8,["icon","onClick"]),A(C,{type:"primary",icon:m(ff),plain:"",circle:"",onClick:X=>c(j.row.id)},null,8,["icon","onClick"]),A(C,{type:"danger",icon:m(Ol),plain:"",circle:"",onClick:X=>h(j.row.id)},null,8,["icon","onClick"])]),_:1})]),_:1},8,["data"]),F("div",Kye,[A(C,{color:"#9b49e7",icon:m($I),onClick:b[0]||(b[0]=j=>n.addV=!0)},{default:O(()=>b[40]||(b[40]=[xe("添加采集站")])),_:1},8,["icon"]),A(C,{color:"#d942bf",onClick:s,icon:m(e1)},{default:O(()=>b[41]||(b[41]=[xe("一键采集")])),_:1},8,["icon"]),A(C,{type:"danger",icon:m(BV),onClick:b[1]||(b[1]=j=>n.clear=!0)},{default:O(()=>b[42]||(b[42]=[xe("RemoveAll")])),_:1},8,["icon"]),A(C,{type:"primary",icon:m(LI),onClick:b[2]||(b[2]=j=>n.reCollect=!0)},{default:O(()=>b[43]||(b[43]=[xe("AutoCollect")])),_:1},8,["icon"])]),A(B,{modelValue:n.addV,"onUpdate:modelValue":b[15]||(b[15]=j=>n.addV=j),title:"添加采集站点"},{footer:O(()=>[F("span",zye,[A(C,{color:"#cf48be",onClick:b[13]||(b[13]=j=>l(r.add))},{default:O(()=>b[53]||(b[53]=[xe("测试")])),_:1}),A(C,{color:"#9b49e7",onClick:u},{default:O(()=>b[54]||(b[54]=[xe("添加")])),_:1}),A(C,{onClick:b[14]||(b[14]=j=>n.addV=!1)},{default:O(()=>b[55]||(b[55]=[xe("取消")])),_:1})])]),default:O(()=>[A(M,{model:r.add},{default:O(()=>[A(W,{label:"资源名称"},{default:O(()=>[A(D,{modelValue:r.add.name,"onUpdate:modelValue":b[3]||(b[3]=j=>r.add.name=j),placeholder:"自定义资源名称(禁用汉字)"},null,8,["modelValue"])]),_:1}),A(W,{label:"接口地址"},{default:O(()=>[A(D,{modelValue:r.add.uri,"onUpdate:modelValue":b[4]||(b[4]=j=>r.add.uri=j),placeholder:"资源采集链接,本站只采集综合资源或m3u8资源"},null,8,["modelValue"])]),_:1}),A(W,{label:"间隔时长"},{default:O(()=>[A(V,{class:"box-item",effect:"dark",content:"单次采集请求的时间间隔, 单位/ms",placement:"top"},{default:O(()=>[A(H,{modelValue:r.add.interval,"onUpdate:modelValue":b[5]||(b[5]=j=>r.add.interval=j),min:0,step:100,"step-strictly":""},null,8,["modelValue"])]),_:1})]),_:1}),A(W,{label:"接口类型"},{default:O(()=>[A(z,{modelValue:r.add.resultModel,"onUpdate:modelValue":b[6]||(b[6]=j=>r.add.resultModel=j)},{default:O(()=>[A(R,{label:0},{default:O(()=>b[44]||(b[44]=[xe("JSON")])),_:1}),A(R,{disabled:"",label:1},{default:O(()=>b[45]||(b[45]=[xe("XML")])),_:1})]),_:1},8,["modelValue"])]),_:1}),A(W,{label:"资源类型"},{default:O(()=>[A(z,{fill:"#9b49e7",modelValue:r.add.collectType,"onUpdate:modelValue":b[7]||(b[7]=j=>r.add.collectType=j)},{default:O(()=>[A(R,{fill:"#9b49e7",label:0},{default:O(()=>b[46]||(b[46]=[xe("视频")])),_:1}),A(R,{disabled:"",label:1},{default:O(()=>b[47]||(b[47]=[xe("文章")])),_:1}),A(R,{disabled:"",label:2},{default:O(()=>b[48]||(b[48]=[xe("演员")])),_:1}),A(R,{disabled:"",label:3},{default:O(()=>b[49]||(b[49]=[xe("角色")])),_:1}),A(R,{disabled:"",label:4},{default:O(()=>b[50]||(b[50]=[xe("网站")])),_:1})]),_:1},8,["modelValue"])]),_:1}),A(W,{label:"站点权重"},{default:O(()=>[A(z,{onChange:b[8]||(b[8]=j=>a(0)),fill:"#9b49e7",modelValue:r.add.grade,"onUpdate:modelValue":b[9]||(b[9]=j=>r.add.grade=j)},{default:O(()=>[A(R,{label:0},{default:O(()=>b[51]||(b[51]=[xe("主站点")])),_:1}),A(R,{label:1},{default:O(()=>b[52]||(b[52]=[xe("附属站点")])),_:1})]),_:1},8,["modelValue"])]),_:1}),A(W,{label:"图片同步"},{default:O(()=>[A(T,{modelValue:r.add.syncPictures,"onUpdate:modelValue":b[10]||(b[10]=j=>r.add.syncPictures=j),onChange:b[11]||(b[11]=j=>a(0)),"inline-prompt":"","active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1}),A(W,{label:"是否启用"},{default:O(()=>[A(T,{modelValue:r.add.state,"onUpdate:modelValue":b[12]||(b[12]=j=>r.add.state=j),"inline-prompt":"","active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),A(B,{modelValue:n.editV,"onUpdate:modelValue":b[30]||(b[30]=j=>n.editV=j),title:"修改资源站信息"},{footer:O(()=>[F("span",Wye,[A(C,{color:"#cf48be",onClick:b[27]||(b[27]=j=>l(r.edit))},{default:O(()=>b[65]||(b[65]=[xe("测试")])),_:1}),A(C,{color:"#9b49e7",onClick:b[28]||(b[28]=j=>f(r.edit))},{default:O(()=>b[66]||(b[66]=[xe("更新")])),_:1}),A(C,{onClick:b[29]||(b[29]=j=>n.editV=!1)},{default:O(()=>b[67]||(b[67]=[xe("取消")])),_:1})])]),default:O(()=>[A(M,{model:r.edit},{default:O(()=>[A(W,{label:"资源名称"},{default:O(()=>[A(D,{modelValue:r.edit.name,"onUpdate:modelValue":b[16]||(b[16]=j=>r.edit.name=j),placeholder:"自定义资源名称(禁用汉字)"},null,8,["modelValue"])]),_:1}),A(W,{label:"接口地址"},{default:O(()=>[A(D,{modelValue:r.edit.uri,"onUpdate:modelValue":b[17]||(b[17]=j=>r.edit.uri=j),placeholder:"资源采集链接,本站只采集综合资源或m3u8资源"},null,8,["modelValue"])]),_:1}),A(W,{label:"间隔时长"},{default:O(()=>[A(V,{class:"box-item",effect:"dark",content:"单次采集请求的时间间隔, 单位/ms",placement:"top"},{default:O(()=>[A(H,{modelValue:r.edit.interval,"onUpdate:modelValue":b[18]||(b[18]=j=>r.edit.interval=j),min:0,step:100,"step-strictly":""},null,8,["modelValue"])]),_:1})]),_:1}),A(W,{label:"接口类型"},{default:O(()=>[A(z,{modelValue:r.edit.resultModel,"onUpdate:modelValue":b[19]||(b[19]=j=>r.edit.resultModel=j)},{default:O(()=>[A(R,{label:0},{default:O(()=>b[56]||(b[56]=[xe("JSON")])),_:1}),A(R,{disabled:"",label:1},{default:O(()=>b[57]||(b[57]=[xe("XML")])),_:1})]),_:1},8,["modelValue"])]),_:1}),A(W,{label:"资源类型"},{default:O(()=>[A(z,{fill:"#9b49e7",modelValue:r.edit.collectType,"onUpdate:modelValue":b[20]||(b[20]=j=>r.edit.collectType=j)},{default:O(()=>[A(R,{fill:"#9b49e7",label:0},{default:O(()=>b[58]||(b[58]=[xe("视频")])),_:1}),A(R,{disabled:"",label:1},{default:O(()=>b[59]||(b[59]=[xe("文章")])),_:1}),A(R,{disabled:"",label:2},{default:O(()=>b[60]||(b[60]=[xe("演员")])),_:1}),A(R,{disabled:"",label:3},{default:O(()=>b[61]||(b[61]=[xe("角色")])),_:1}),A(R,{disabled:"",label:4},{default:O(()=>b[62]||(b[62]=[xe("网站")])),_:1})]),_:1},8,["modelValue"])]),_:1}),A(W,{label:"视频类型"},{default:O(()=>[A(V,{class:"box-item",effect:"dark",content:"视频类型，-1 表示全部",placement:"top"},{default:O(()=>[A(H,{modelValue:r.edit.type_id,"onUpdate:modelValue":b[21]||(b[21]=j=>r.edit.type_id=j),min:-1,step:1,"step-strictly":""},null,8,["modelValue"])]),_:1})]),_:1}),A(W,{label:"站点权重"},{default:O(()=>[A(z,{fill:"#9b49e7",onChange:b[22]||(b[22]=j=>a(1)),modelValue:r.edit.grade,"onUpdate:modelValue":b[23]||(b[23]=j=>r.edit.grade=j)},{default:O(()=>[A(R,{label:0},{default:O(()=>b[63]||(b[63]=[xe("主站点")])),_:1}),A(R,{label:1},{default:O(()=>b[64]||(b[64]=[xe("附属站点")])),_:1})]),_:1},8,["modelValue"])]),_:1}),A(W,{label:"图片同步"},{default:O(()=>[A(T,{modelValue:r.edit.syncPictures,"onUpdate:modelValue":b[24]||(b[24]=j=>r.edit.syncPictures=j),onChange:b[25]||(b[25]=j=>a(1)),"inline-prompt":"","active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1}),A(W,{label:"是否启用"},{default:O(()=>[A(T,{modelValue:r.edit.state,"onUpdate:modelValue":b[26]||(b[26]=j=>r.edit.state=j),"inline-prompt":"","active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),A(B,{modelValue:n.batchV,"onUpdate:modelValue":b[33]||(b[33]=j=>n.batchV=j),width:"450px",title:"多资源站一键采集"},{footer:O(()=>[F("span",Gye,[A(C,{color:"#9b49e7",onClick:o},{default:O(()=>b[68]||(b[68]=[xe("确认执行")])),_:1}),A(C,{onClick:p},{default:O(()=>b[69]||(b[69]=[xe("取消")])),_:1})])]),default:O(()=>[A(M,{model:r.batch},{default:O(()=>[A(W,{label:"执行站点"},{default:O(()=>[A(k,{modelValue:r.batch.ids,"onUpdate:modelValue":b[31]||(b[31]=j=>r.batch.ids=j),multiple:"","collapse-tags":"","collapse-tags-tooltip":"",placeholder:"Select",style:{width:"240px"}},{default:O(()=>[(L(!0),G(tt,null,It(r.options,j=>(L(),ye(I,{key:j.id,label:j.name,value:j.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),A(W,{label:"采集时长"},{default:O(()=>[A(V,{class:"box-item",effect:"dark",content:"采集最近x小时更新的影片,负数则默认采集所有资源",placement:"top"},{default:O(()=>[A(H,{modelValue:r.batch.time,"onUpdate:modelValue":b[32]||(b[32]=j=>r.batch.time=j),step:1,"step-strictly":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),A(B,{modelValue:n.clear,"onUpdate:modelValue":b[36]||(b[36]=j=>n.clear=j),title:"是否清除所有影视数据 ?",width:"500"},{footer:O(()=>[F("div",qye,[A(C,{onClick:b[35]||(b[35]=j=>n.clear=!1)},{default:O(()=>b[70]||(b[70]=[xe("取消")])),_:1}),A(C,{type:"primary",onClick:v},{default:O(()=>b[71]||(b[71]=[xe("确认执行")])),_:1})])]),default:O(()=>[A(M,{model:r},{default:O(()=>[A(W,{label:"确认密码"},{default:O(()=>[A(D,{modelValue:e.password,"onUpdate:modelValue":b[34]||(b[34]=j=>e.password=j),type:"password",placeholder:"请输入账户密码并开确认执行",autocomplete:"off","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),A(B,{modelValue:n.reCollect,"onUpdate:modelValue":b[39]||(b[39]=j=>n.reCollect=j),title:"是否清除影片数据并重新采集 ?",width:"500"},{footer:O(()=>[F("div",Yye,[A(C,{onClick:b[38]||(b[38]=j=>n.reCollect=!1)},{default:O(()=>b[72]||(b[72]=[xe("取消")])),_:1}),A(C,{type:"primary",onClick:y},{default:O(()=>b[73]||(b[73]=[xe("确认执行")])),_:1})])]),default:O(()=>[A(M,{model:r},{default:O(()=>[A(W,{label:"确认密码"},{default:O(()=>[A(D,{modelValue:e.password,"onUpdate:modelValue":b[37]||(b[37]=j=>e.password=j),type:"password",placeholder:"请输入账户密码并开确认执行",autocomplete:"off","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),Qye={class:"container"},Zye={class:"content"},Jye=ee({__name:"SiteConfig",setup(t){const e=Ft({site:{siteName:"",domain:"",logo:"",keyword:"",describe:"",state:!0,hint:""}}),n=()=>{vr("/manage/config/basic/update",e.site).then(s=>{s.code===0?(gt.success({message:s.msg}),r()):gt.error({message:s.msg})})},r=()=>{vn("/manage/config/basic").then(s=>{s.code===0?e.site=s.data:gt.error({message:s.msg})})};return xt(()=>{r()}),(s,o)=>{const i=ir,a=mi,u=_f,l=Nn,c=pi;return L(),G("div",Qye,[o[9]||(o[9]=F("h2",{class:"title"},"网站基础参数配置",-1)),F("div",Zye,[A(c,{size:"large",model:e.site,"label-width":"120px"},{default:O(()=>[A(a,{label:"网站名称"},{default:O(()=>[A(i,{modelValue:e.site.siteName,"onUpdate:modelValue":o[0]||(o[0]=d=>e.site.siteName=d)},null,8,["modelValue"])]),_:1}),A(a,{label:"网站域名"},{default:O(()=>[A(i,{modelValue:e.site.domain,"onUpdate:modelValue":o[1]||(o[1]=d=>e.site.domain=d)},null,8,["modelValue"])]),_:1}),A(a,{label:"网站Logo"},{default:O(()=>[A(i,{modelValue:e.site.logo,"onUpdate:modelValue":o[2]||(o[2]=d=>e.site.logo=d)},null,8,["modelValue"])]),_:1}),A(a,{label:"搜索关键字"},{default:O(()=>[A(i,{modelValue:e.site.keyword,"onUpdate:modelValue":o[3]||(o[3]=d=>e.site.keyword=d)},null,8,["modelValue"])]),_:1}),A(a,{label:"网站描述"},{default:O(()=>[A(i,{modelValue:e.site.describe,"onUpdate:modelValue":o[4]||(o[4]=d=>e.site.describe=d)},null,8,["modelValue"])]),_:1}),A(a,{label:"网站状态"},{default:O(()=>[A(u,{modelValue:e.site.state,"onUpdate:modelValue":o[5]||(o[5]=d=>e.site.state=d),"inline-prompt":"","active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1}),A(a,{label:"维护提示"},{default:O(()=>[A(i,{modelValue:e.site.hint,"onUpdate:modelValue":o[6]||(o[6]=d=>e.site.hint=d)},null,8,["modelValue"])]),_:1}),A(a,null,{default:O(()=>[A(l,{color:"#9b49e7",onClick:n},{default:O(()=>o[7]||(o[7]=[xe("更新")])),_:1}),A(l,{onClick:r},{default:O(()=>o[8]||(o[8]=[xe("重置")])),_:1})]),_:1})]),_:1},8,["model"])])])}}}),ebe=Kn(Jye,[["__scopeId","data-v-3c90743b"]]),tbe={class:"container"},nbe={class:"cus_util"},rbe={class:"dialog-footer"},sbe={class:"dialog-footer"},obe=ee({__name:"CronManage",setup(t){const e=Ft({taskList:[]}),n=Ft({addV:!1,editV:!1}),r=Ft({add:{spec:"",remark:"",model:1,ids:[],time:0,state:!1},options:[],edit:{id:"",cid:"",spec:"",remark:"",model:1,ids:[],time:0,state:!1}}),s=()=>{vr("/manage/cron/add",r.add).then(h=>{h.code===0?(gt.success({message:h.msg}),i(),f()):gt.error({message:h.msg})})},o=()=>{vr("/manage/cron/update",{id:r.edit.id,ids:r.edit.ids,time:r.edit.time,state:r.edit.state,remark:r.edit.remark}).then(h=>{h.code===0?(gt.success({message:h.msg}),i(),f()):gt.error({message:h.msg})})},i=()=>{n.addV=!1,n.editV=!1,r.add={spec:"",remark:"",model:1,ids:[],time:0,state:!1},r.edit={id:"",cid:"",spec:"",remark:"",model:1,ids:[],time:0,state:!1}},a=()=>{n.addV=!0,d()},u=h=>{vn("/manage/cron/del",{id:h}).then(p=>{p.code===0?(gt.success({message:p.msg}),f()):gt.error({message:p.msg})})},l=(h,p)=>{vr("/manage/cron/change",{id:h,state:p}).then(g=>{g.code===0?(gt.success({message:g.msg}),f()):gt.error({message:g.msg})})},c=h=>{n.editV=!0,d(),vn("/manage/cron/find",{id:h}).then(p=>{p.code===0?r.edit=p.data:gt.error({message:p.msg})})},d=()=>{vn("/manage/collect/options").then(h=>{h.code===0?r.options=h.data:gt.error({message:h.msg})})},f=()=>{vn("/manage/cron/list").then(h=>{h.code===0?e.taskList=h.data:(e.taskList=[],gt.warning({message:h.msg}))})};return xt(()=>{f()}),(h,p)=>{const g=co,v=Fl,y=_f,_=Nn,b=Nl,w=ir,S=mi,E=Km,T=wr,I=S1,k=ji,C=fo,N=wf,D=pi,W=uc;return L(),G("div",tbe,[A(b,{data:e.taskList,style:{width:"100%"},border:"",size:"default","row-class-name":"cus-tr","table-layout":"auto"},{default:O(()=>[A(v,{prop:"id",label:"任务ID"},{default:O(H=>[A(g,{"disable-transitions":""},{default:O(()=>[xe(ge(H.row.id),1)]),_:2},1024)]),_:1}),A(v,{prop:"remark",label:"任务描述"}),A(v,{prop:"model",align:"center",label:"任务类型"},{default:O(H=>[A(g,{"disable-transitions":""},{default:O(()=>[xe(ge(H.row.model==0?"自动更新":H.row.model==0?"自定义任务":"采集重试"),1)]),_:2},1024)]),_:1}),A(v,{prop:"state",align:"center",label:"是否启用"},{default:O(H=>[A(y,{modelValue:H.row.state,"onUpdate:modelValue":V=>H.row.state=V,onChange:V=>l(H.row.id,H.row.state),"inline-prompt":"","active-text":"启用","inactive-text":"禁用"},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),A(v,{prop:"preV",align:"center",label:"上次执行时间"},{default:O(H=>[A(g,{type:"success","disable-transitions":""},{default:O(()=>[xe(ge(H.row.preV),1)]),_:2},1024)]),_:1}),A(v,{prop:"next",align:"center",label:"下次执行时间"},{default:O(H=>[A(g,{type:"warning","disable-transitions":""},{default:O(()=>[xe(ge(H.row.next),1)]),_:2},1024)]),_:1}),A(v,{label:"操作",align:"center"},{default:O(H=>[A(_,{type:"primary",icon:m(ff),plain:"",circle:"",onClick:V=>c(H.row.id)},null,8,["icon","onClick"]),A(_,{type:"danger",icon:m(Ol),plain:"",circle:"",onClick:V=>u(H.row.id)},null,8,["icon","onClick"])]),_:1})]),_:1},8,["data"]),F("div",nbe,[A(_,{color:"#9b49e7",icon:m(Qb),onClick:a},{default:O(()=>p[12]||(p[12]=[xe("创建定时任务")])),_:1},8,["icon"])]),A(W,{modelValue:n.addV,"onUpdate:modelValue":p[6]||(p[6]=H=>n.addV=H),title:"创建定时任务"},{footer:O(()=>[F("span",rbe,[A(_,{color:"#9b49e7",onClick:s},{default:O(()=>p[16]||(p[16]=[xe("添加")])),_:1}),A(_,{onClick:i},{default:O(()=>p[17]||(p[17]=[xe("取消")])),_:1})])]),default:O(()=>[A(D,{model:r.add},{default:O(()=>[A(S,{label:"任务周期"},{default:O(()=>[A(w,{modelValue:r.add.spec,"onUpdate:modelValue":p[0]||(p[0]=H=>r.add.spec=H),placeholder:"定时任务Cron表达式 (例: [0 */20 * * * ?] 每20分钟执行一次)"},null,8,["modelValue"])]),_:1}),A(S,{label:"任务描述"},{default:O(()=>[A(w,{modelValue:r.add.remark,"onUpdate:modelValue":p[1]||(p[1]=H=>r.add.remark=H),placeholder:"定时任务描述信息"},null,8,["modelValue"])]),_:1}),A(S,{label:"任务类型"},{default:O(()=>[A(I,{fill:"#9b49e7",modelValue:r.add.model,"onUpdate:modelValue":p[2]||(p[2]=H=>r.add.model=H)},{default:O(()=>[A(T,{class:"box-item",effect:"dark",content:"执行所有已启用站点的采集任务",placement:"top"},{default:O(()=>[A(E,{label:0},{default:O(()=>p[13]||(p[13]=[xe("自动更新")])),_:1})]),_:1}),A(T,{class:"box-item",effect:"dark",content:"只执行指定站点的采集任务",placement:"top"},{default:O(()=>[A(E,{label:1},{default:O(()=>p[14]||(p[14]=[xe("自定义更新")])),_:1})]),_:1}),A(T,{class:"box-item",effect:"dark",content:"失败采集重试处理",placement:"top"},{default:O(()=>[A(E,{label:2},{default:O(()=>p[15]||(p[15]=[xe("采集重试")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),r.add.model==1?(L(),ye(S,{key:0,label:"资源绑定"},{default:O(()=>[A(C,{modelValue:r.add.ids,"onUpdate:modelValue":p[3]||(p[3]=H=>r.add.ids=H),multiple:"","collapse-tags":"","collapse-tags-tooltip":"",placeholder:"Select",style:{width:"240px"}},{default:O(()=>[(L(!0),G(tt,null,It(r.options,H=>(L(),ye(k,{key:H.id,label:H.name,value:H.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):ce("",!0),r.add.model!=2?(L(),ye(S,{key:1,label:"采集时长"},{default:O(()=>[A(T,{class:"box-item",effect:"dark",content:"采集最近x小时更新的影片,负数则默认采集所有资源",placement:"top"},{default:O(()=>[A(N,{modelValue:r.add.time,"onUpdate:modelValue":p[4]||(p[4]=H=>r.add.time=H),step:1,"step-strictly":""},null,8,["modelValue"])]),_:1})]),_:1})):ce("",!0),A(S,{label:"任务状态"},{default:O(()=>[A(y,{modelValue:r.add.state,"onUpdate:modelValue":p[5]||(p[5]=H=>r.add.state=H),"inline-prompt":"","active-text":"开启","inactive-text":"禁用"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),A(W,{modelValue:n.editV,"onUpdate:modelValue":p[11]||(p[11]=H=>n.editV=H),title:"创建定时任务"},{footer:O(()=>[F("span",sbe,[A(_,{color:"#9b49e7",onClick:o},{default:O(()=>p[18]||(p[18]=[xe("更新")])),_:1}),A(_,{onClick:i},{default:O(()=>p[19]||(p[19]=[xe("取消")])),_:1})])]),default:O(()=>[A(D,{model:r.edit},{default:O(()=>[A(S,{label:"任务标识"},{default:O(()=>[A(g,{type:"success","disable-transitions":""},{default:O(()=>[xe(ge(r.edit.id),1)]),_:1})]),_:1}),A(S,{label:"任务描述"},{default:O(()=>[A(w,{modelValue:r.edit.remark,"onUpdate:modelValue":p[7]||(p[7]=H=>r.edit.remark=H),placeholder:"定时任务描述信息"},null,8,["modelValue"])]),_:1}),A(S,{label:"任务周期"},{default:O(()=>[A(g,{"disable-transitions":""},{default:O(()=>[xe(ge(r.edit.spec),1)]),_:1})]),_:1}),A(S,{label:"任务类型"},{default:O(()=>[A(g,{"disable-transitions":""},{default:O(()=>[xe(ge(r.edit.model==0?"自动更新":r.edit.model==1?"自定义更新":"采集重试"),1)]),_:1})]),_:1}),r.edit.model==1?(L(),ye(S,{key:0,label:"资源绑定"},{default:O(()=>[A(C,{modelValue:r.edit.ids,"onUpdate:modelValue":p[8]||(p[8]=H=>r.edit.ids=H),multiple:"","collapse-tags":"","collapse-tags-tooltip":"",placeholder:"Select",style:{width:"240px"}},{default:O(()=>[(L(!0),G(tt,null,It(r.options,H=>(L(),ye(k,{key:H.id,label:H.name,value:H.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):ce("",!0),r.edit.model!=2?(L(),ye(S,{key:1,label:"采集时长"},{default:O(()=>[A(T,{class:"box-item",effect:"dark",content:"采集最近x小时更新的影片,负数则默认采集所有资源",placement:"top"},{default:O(()=>[A(N,{modelValue:r.edit.time,"onUpdate:modelValue":p[9]||(p[9]=H=>r.edit.time=H),step:1,"step-strictly":""},null,8,["modelValue"])]),_:1})]),_:1})):ce("",!0),A(S,{label:"任务状态"},{default:O(()=>[A(y,{modelValue:r.edit.state,"onUpdate:modelValue":p[10]||(p[10]=H=>r.edit.state=H),"inline-prompt":"","active-text":"开启","inactive-text":"禁用"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),ibe=Kn(obe,[["__scopeId","data-v-adc315d6"]]),abe={};function lbe(t,e){return L(),G("div",null,e[0]||(e[0]=[F("h2",{style:{color:"#8e48b4"}},"功能开发中, 请关注后续更新",-1)]))}const Q2=Kn(abe,[["render",lbe]]),ube={class:"container"},cbe={class:"cus_util"},dbe={class:"dialog-footer"},fbe=ee({__name:"FilmClass",setup(t){const e=Ft({classTree:[]}),n=Ft({editV:!1,editForm:{id:-99,pid:-99,name:"",show:!0,children:[]}}),r=c=>{vn("/manage/film/class/del",{id:c}).then(d=>{d.code===0?(l(),gt.success({message:d.msg})):gt.error({message:d.msg})})},s=c=>{n.editV=!0,vn("/manage/film/class/find",{id:c}).then(d=>{d.code===0?n.editForm=d.data:gt.error({message:d.msg})})},o=()=>{let{id:c,name:d,show:f}=n.editForm;vr("/manage/film/class/update",{id:c,name:d,show:f}).then(h=>{h.code===0?(n.editV=!1,l(),gt.success({message:h.msg})):gt.error({message:h.msg})})},i=(c,d)=>{vr("/manage/film/class/update",{id:c,show:d}).then(f=>{f.code===0?(n.editV=!1,l(),gt.success({message:f.msg})):gt.error({message:f.msg})})},a=()=>{n.editForm={id:-99,pid:-99,name:"",show:!0,children:[]}},u=()=>{vn("/manage/spider/class/cover").then(c=>{c.code===0?gt.success({message:c.msg}):gt.error({message:c.msg})})},l=()=>{vn("/manage/film/class/tree").then(c=>{c.code===0?e.classTree=c.data.children:gt.error({message:c.msg})})};return xt(()=>{l()}),(c,d)=>{const f=co,h=Fl,p=_f,g=Nn,v=Nl,y=ir,_=mi,b=pi,w=uc;return L(),G("div",ube,[A(v,{data:e.classTree,style:{width:"100%"},border:"",size:"default","table-layout":"auto","max-height":"calc(90vh - 20px)","row-key":"id","row-class-name":"cus-tr"},{default:O(()=>[A(h,{prop:"name",label:"分类名称"},{default:O(S=>[A(f,{type:S.row.pid==0?"success":"warning","disable-transitions":""},{default:O(()=>[xe(ge(S.row.name),1)]),_:2},1032,["type"])]),_:1}),A(h,{prop:"show",align:"center",label:"是否展示"},{default:O(S=>[S.row.pid==0?(L(),ye(p,{key:0,modelValue:S.row.show,"onUpdate:modelValue":E=>S.row.show=E,"inline-prompt":"","active-text":"展示","inactive-text":"隐藏",onChange:E=>i(S.row.id,S.row.show)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(L(),ye(p,{key:1,modelValue:S.row.show,"onUpdate:modelValue":E=>S.row.show=E,"inline-prompt":"","active-text":"屏蔽","inactive-text":"恢复",onChange:E=>i(S.row.id,S.row.show)},null,8,["modelValue","onUpdate:modelValue","onChange"]))]),_:1}),A(h,{label:"操作",align:"center"},{default:O(S=>[A(g,{type:"primary",icon:m(ff),onClick:E=>s(S.row.id),plain:"",circle:""},null,8,["icon","onClick"]),A(g,{type:"danger",icon:m(Ol),onClick:E=>r(S.row.id),plain:"",circle:""},null,8,["icon","onClick"])]),_:1})]),_:1},8,["data"]),F("div",cbe,[A(g,{color:"#9b49e7",icon:m(PI),onClick:u},{default:O(()=>d[4]||(d[4]=[xe("重置分类信息")])),_:1},8,["icon"])]),A(w,{modelValue:n.editV,"onUpdate:modelValue":d[3]||(d[3]=S=>n.editV=S),onClose:a,width:"480px",title:"更新分类信息"},{footer:O(()=>[F("span",dbe,[A(g,{color:"#9b49e7",onClick:o},{default:O(()=>d[5]||(d[5]=[xe("更新")])),_:1}),A(g,{onClick:d[2]||(d[2]=S=>n.editV=!1)},{default:O(()=>d[6]||(d[6]=[xe("取消")])),_:1})])]),default:O(()=>[A(b,{model:n.editForm},{default:O(()=>[A(_,{label:"分类名称"},{default:O(()=>[A(y,{modelValue:n.editForm.name,"onUpdate:modelValue":d[0]||(d[0]=S=>n.editForm.name=S),placeholder:"分类名称,用于首页导航展示"},null,8,["modelValue"])]),_:1}),A(_,{label:"分类层级"},{default:O(()=>[A(f,{type:n.editForm.pid==0?"success":"warning","disable-transitions":""},{default:O(()=>[xe(ge(n.editForm.pid==0?"一级分类":"二级分类"),1)]),_:1},8,["type"])]),_:1}),A(_,{label:"是否展示"},{default:O(()=>[A(p,{modelValue:n.editForm.show,"onUpdate:modelValue":d[1]||(d[1]=S=>n.editForm.show=S),"inline-prompt":"","active-text":"展示","inactive-text":"隐藏"},null,8,["modelValue"])]),_:1}),n.editForm.children?(L(),ye(_,{key:0,class:"class_sub",label:"拓展分类"},{default:O(()=>[(L(!0),G(tt,null,It(n.editForm.children,S=>(L(),ye(f,{class:"class_sub_tag",type:"warning","disable-transitions":""},{default:O(()=>[xe(ge(S.name),1)]),_:2},1024))),256))]),_:1})):ce("",!0)]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),hbe=Kn(fbe,[["__scopeId","data-v-851447aa"]]),eO={dateFormat(t,e="YYYY-mm-dd HH:MM:SS"){let n=new Date(t);const r={"Y+":n.getFullYear().toString(),"m+":(n.getMonth()+1).toString(),"d+":n.getDate().toString(),"H+":n.getHours().toString(),"M+":n.getMinutes().toString(),"S+":n.getSeconds().toString()};for(let s in r){let o=new RegExp("("+s+")").exec(e);o&&(e=e.replace(o[1],o[1].length==1?r[s]:r[s].padStart(o[1].length,"0")))}return e},secondToTime(t){const e=Math.floor(t/3600),n=Math.floor(t%3600/60),r=Math.floor(t%60);let s="";return s=e<10?`0${e}`:`${e}`,s+=n<10?`:0${n}`:`:${n}`,s+=r<10?`:0${r}`:`:${r}`,s}},pbe={class:"container"},mbe={class:"params_form"},gbe={class:"content"},vbe={style:{color:"#8b40ff"}},ybe={class:"pagination"},bbe=ee({__name:"Film",setup(t){const e=Ft({list:[],page:{current:1,pageCount:0,pageSize:10,total:0},params:{name:"",pid:0,cid:0,plot:"",area:"",language:"",year:"",remarks:"",beginTime:"",endTime:""},options:{class:[{id:0,pid:-1,name:"",show:!0}],Plot:[],Area:[],Language:[],year:[],remarks:[]},dateGroup:[],classId:0});let n={};const r=l=>{for(let c=0;c<e.options.class.length;c++)if(e.options.class[c].id==l){let d=e.options.class[c];if(d.pid<=0){e.params.pid=d.id,e.params.cid=0;return}else if(d.pid==e.params.pid){e.params.pid=d.pid,e.params.cid=d.id;return}e.params.pid=d.pid,e.params.cid=d.id;let f=d.pid==0?n[d.id]:n[d.pid];f?(e.options.Plot=f.Plot,e.options.Area=f.Area,e.options.Language=f.Language):(e.options.Plot=[],e.options.Area=[],e.options.Language=[]),e.params.plot="",e.params.area="",e.params.language=""}},s=l=>(e.page.current-1)*e.page.pageSize+l+1,o=()=>{let l=e.params;e.dateGroup&&e.dateGroup.length==2?(l.beginTime=e.dateGroup[0],l.endTime=e.dateGroup[1]):(l.beginTime="",l.endTime=""),a()},i=l=>{vn("/manage/spider/update/single",{ids:l}).then(c=>{c.code===0?gt.success({message:c.msg}):gt.error({message:c.msg})})},a=()=>{let{current:l,pageSize:c}=e.page,d=e.params;vn("/manage/film/search/list",{...d,current:l,pageSize:c}).then(f=>{f.code===0?(e.list=f.data.list?f.data.list.map(h=>(h.year=h.year<=0?"未知":h.year,h.score=h.score==0?"暂无":h.score,h)):[],e.page=f.data.params.paging,e.options.class=f.data.options.class,e.options.remarks=f.data.options.remarks,e.options.year=f.data.options.year,n=f.data.options.tags):gt.error({message:f.msg})})};xt(()=>{a()});const u=l=>{vn("/manage/film/search/del",{id:l}).then(c=>{c.code===0?(gt.success({message:c.msg}),a()):gt.error({message:c.msg})})};return(l,c)=>{const d=ir,f=mi,h=ji,p=fo,g=M1,v=Nn,y=pi,_=Fl,b=co,w=Nl,S=fc;return L(),G("div",pbe,[F("div",mbe,[A(y,{model:e.params,class:"cus_form"},{default:O(()=>[A(f,null,{default:O(()=>[A(d,{modelValue:e.params.name,"onUpdate:modelValue":c[0]||(c[0]=E=>e.params.name=E),style:{display:"inline-block","text-align":"left"},placeholder:"片名搜素","suffix-icon":m(kd)},null,8,["modelValue","suffix-icon"])]),_:1}),A(f,null,{default:O(()=>[A(p,{modelValue:e.classId,"onUpdate:modelValue":c[1]||(c[1]=E=>e.classId=E),onChange:r,placeholder:"影片分类"},{default:O(()=>[(L(!0),G(tt,null,It(e.options.class,E=>(L(),ye(h,{key:E.id,label:E.name,value:E.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),A(f,null,{default:O(()=>[A(p,{modelValue:e.params.plot,"onUpdate:modelValue":c[2]||(c[2]=E=>e.params.plot=E),placeholder:"剧情筛选"},{default:O(()=>[(L(!0),G(tt,null,It(e.options.Plot,E=>(L(),ye(h,{key:E.Value,label:E.Name,value:E.Value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),A(f,null,{default:O(()=>[A(p,{modelValue:e.params.area,"onUpdate:modelValue":c[3]||(c[3]=E=>e.params.area=E),placeholder:"地区筛选"},{default:O(()=>[(L(!0),G(tt,null,It(e.options.Area,E=>(L(),ye(h,{key:E.Value,label:E.Name,value:E.Value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),A(f,null,{default:O(()=>[A(p,{modelValue:e.params.language,"onUpdate:modelValue":c[4]||(c[4]=E=>e.params.language=E),placeholder:"语言筛选"},{default:O(()=>[(L(!0),G(tt,null,It(e.options.Language,E=>(L(),ye(h,{key:E.Value,label:E.Name,value:E.Value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),A(f,null,{default:O(()=>[A(p,{modelValue:e.params.year,"onUpdate:modelValue":c[5]||(c[5]=E=>e.params.year=E),placeholder:"上映年份"},{default:O(()=>[(L(!0),G(tt,null,It(e.options.year,E=>(L(),ye(h,{key:E.Value,label:E.Name,value:E.Value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),A(f,null,{default:O(()=>[A(p,{modelValue:e.params.remarks,"onUpdate:modelValue":c[6]||(c[6]=E=>e.params.remarks=E),placeholder:"更新状态"},{default:O(()=>[(L(!0),G(tt,null,It(e.options.remarks,E=>(L(),ye(h,{key:E.Value,label:E.Name,value:E.Value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),A(f,null,{default:O(()=>[A(g,{modelValue:e.dateGroup,"onUpdate:modelValue":c[7]||(c[7]=E=>e.dateGroup=E),"value-format":"YYYY-MM-DD HH:mm:ss",type:"datetimerange","start-placeholder":"起始时间","end-placeholder":"终止时间"},null,8,["modelValue"])]),_:1}),A(f,null,{default:O(()=>[A(v,{type:"primary",onClick:o},{default:O(()=>c[12]||(c[12]=[xe("查询")])),_:1})]),_:1})]),_:1},8,["model"])]),F("div",gbe,[A(w,{data:e.list,style:{width:"100%"},border:"",size:"default","table-layout":"auto","max-height":"calc(68vh - 20px)","row-key":"id","row-class-name":"cus-tr"},{default:O(()=>[A(_,{type:"index","min-width":"40px",align:"left",label:"序号"},{default:O(E=>[F("span",vbe,ge(s(E.$index)),1)]),_:1}),A(_,{prop:"mid",align:"center",label:"影片ID"},{default:O(E=>[A(b,{type:"success","disable-transitions":""},{default:O(()=>[xe(ge(E.row.mid),1)]),_:2},1024)]),_:1}),A(_,{prop:"name",align:"left",label:"影片名称","show-overflow-tooltip":"","class-name":"col_name"}),A(_,{prop:"cName",align:"center",label:"所属分类"},{default:O(E=>[A(b,{type:"warning","disable-transitions":""},{default:O(()=>[xe(ge(E.row.cName),1)]),_:2},1024)]),_:1}),A(_,{prop:"year",align:"center",label:"年份"},{default:O(E=>[A(b,{type:"warning","disable-transitions":""},{default:O(()=>[xe(ge(E.row.year),1)]),_:2},1024)]),_:1}),A(_,{sortable:"",prop:"score",align:"center",label:"评分"},{default:O(E=>[A(b,{type:"success","disable-transitions":""},{default:O(()=>[xe(ge(E.row.score),1)]),_:2},1024)]),_:1}),A(_,{sortable:"",prop:"hits",align:"center",label:"热度"},{default:O(E=>[A(b,{type:"danger","disable-transitions":""},{default:O(()=>[xe("🔥"+ge(E.row.hits),1)]),_:2},1024)]),_:1}),A(_,{prop:"remarks",align:"center",label:"更新状态"},{default:O(E=>[(E.row.remarks+"").indexOf("更新")!=-1?(L(),ye(b,{key:0,type:"warning"},{default:O(()=>[xe(ge(E.row.remarks),1)]),_:2},1024)):(L(),ye(b,{key:1,type:"success"},{default:O(()=>[xe(ge(E.row.remarks),1)]),_:2},1024))]),_:1}),A(_,{sortable:"",prop:"updateStamp",align:"center",label:"更新时间"},{default:O(E=>[A(b,{type:"success","disable-transitions":""},{default:O(()=>[xe(ge(m(eO).dateFormat(E.row.updateStamp*1e3)),1)]),_:2},1024)]),_:1}),A(_,{label:"操作",align:"center","min-width":"100px"},{default:O(E=>[A(v,{type:"success",icon:m(fV),onClick:c[8]||(c[8]=()=>{}),plain:"",circle:""},null,8,["icon"]),A(v,{type:"success",icon:m(t1),onClick:T=>i(E.row.mid),plain:"",circle:""},null,8,["icon","onClick"]),A(v,{type:"primary",icon:m(ff),onClick:c[9]||(c[9]=()=>{}),plain:"",circle:""},null,8,["icon"]),A(v,{type:"danger",icon:m(Ol),onClick:T=>u(E.row.ID),plain:"",circle:""},null,8,["icon","onClick"])]),_:1})]),_:1},8,["data"]),F("div",ybe,[A(S,{"page-sizes":[10,20,50,100,500],background:"",layout:"prev, pager, next, sizes, total, jumper",total:e.page.total,"page-size":e.page.pageSize,"onUpdate:pageSize":c[10]||(c[10]=E=>e.page.pageSize=E),"current-page":e.page.current,"onUpdate:currentPage":c[11]||(c[11]=E=>e.page.current=E),onChange:a,"hide-on-single-page":""},null,8,["total","page-size","current-page"])])])])}}}),wbe=Kn(bbe,[["__scopeId","data-v-37405ef0"]]),_be=ee({__name:"ImageViewer",props:{options:{type:Object,default:{list:Array,currentLink:String,show:Boolean}},remove:{type:Function,default:null}},setup(t){const e=t,n=Ft({show:!1,list:[{link:""}],zIndex:2e3,initialIndex:0,infinite:!0,hideOnClickModal:!1});return xt(()=>{var r;n.list=e.options.list,n.list.forEach((s,o)=>{s==e.options.currentLink&&(n.initialIndex=o)}),n.show=(r=e.options)==null?void 0:r.show}),Pe([n],()=>{!n.show&&e.remove()}),(r,s)=>{const o=K1;return n.show?(L(),ye(o,{key:0,urlList:n.list,"z-index":n.zIndex,"initial-index":n.initialIndex,infinite:n.infinite,hideOnClickModal:n.hideOnClickModal,onClose:s[0]||(s[0]=i=>n.show=!1)},null,8,["urlList","z-index","initial-index","infinite","hideOnClickModal"])):ce("",!0)}}}),Sbe=t=>{t.show=!0;const e=document.createElement("div");document.body.appendChild(e);const n=xm(_be,{options:t,remove(){n.unmount(),document.body.removeChild(e)}});return n.mount(e)},Ebe={class:"container"},xbe={class:"content"},Tbe={class:"el-upload-list__item-actions"},Cbe=["onClick"],kbe=["onClick"],Ibe={class:"pagination"},Abe=ee({__name:"FileUpload",setup(t){const e=Ft({photoWall:[],page:{current:1,pageSize:39,pageNumber:0,total:0},imgList:[""]}),n=i=>{let a=i.file,u=new FormData;u.append("file",a),vr("/manage/file/upload",u).then(l=>{l.code===0?(gt.success({message:l.msg}),r()):gt.error({message:l.msg})})},r=()=>{vn("/manage/file/list",{current:e.page.current}).then(i=>{i.code===0?(e.photoWall=i.data.list,e.page=i.data.page):gt.error({message:i.msg})})};xt(()=>{r()});const s=i=>{vn("/manage/file/del",{id:i.ID}).then(a=>{a.code===0?(r(),gt.success({message:a.msg})):gt.error({message:a.msg})})},o=i=>{let a=e.photoWall.map(u=>u.link);Sbe({list:a,currentLink:i.link})};return(i,a)=>{const u=qm,l=lt,c=ng,d=fc;return L(),G("div",Ebe,[F("div",xbe,[A(c,{"file-list":e.photoWall,"onUpdate:fileList":a[0]||(a[0]=f=>e.photoWall=f),action:"#","list-type":"picture-card","http-request":n},{file:O(({file:f})=>[A(u,{class:"el-upload-list__item-thumbnail",style:{width:"100%",height:"100%"},src:f.link,fit:"cover"},null,8,["src"]),F("span",Tbe,[F("span",{class:"el-upload-list__item-preview",onClick:h=>o(f)},[A(l,null,{default:O(()=>[A(m(n1))]),_:1})],8,Cbe),ce("",!0),F("span",{class:"el-upload-list__item-delete",onClick:h=>s(f)},[A(l,null,{default:O(()=>[A(m(Ol))]),_:1})],8,kbe)])]),default:O(()=>[A(l,null,{default:O(()=>[A(m(Jb))]),_:1})]),_:1},8,["file-list"]),F("div",Ibe,[A(d,{background:"",layout:"prev, pager, next",total:e.page.total,"page-size":e.page.pageSize,"onUpdate:pageSize":a[1]||(a[1]=f=>e.page.pageSize=f),"current-page":e.page.current,"onUpdate:currentPage":a[2]||(a[2]=f=>e.page.current=f),onChange:r,"hide-on-single-page":""},null,8,["total","page-size","current-page"])])])])}}}),Rbe=Kn(Abe,[["__scopeId","data-v-a9066a0b"]]),Lbe={class:"container"},$be=ee({__name:"FilmAdd",setup(t){const e={id:0,cid:0,pid:0,name:"",picture:"",subTitle:"",cName:"",enName:"",initial:"",classTag:"",actor:"",director:"",writer:"",blurb:"",content:"",remarks:"",releaseDate:"",area:"",lang:"",year:"",state:"",updateTime:"",addTime:"",dbId:0,dbScore:"",hits:0,playForm:"",playLink:""},n=Ft({form:e,options:{category:[{id:0,name:"分类名称",pid:0}]}}),r=i=>{let a=i.file,u=new FormData;u.append("file",a),vr("/manage/file/upload",u).then(l=>{l.code===0?(gt.success({message:l.msg}),n.form.picture=l.data):gt.error({message:l.msg})})},s=i=>{n.options.category.forEach(a=>{a.id==i&&(n.form.cid=a.id,n.form.pid=a.pid,n.form.cName=a.name)})},o=()=>{let i=n.form;i.dbId=i.dbId-0,i.hits=i.hits-0,vr("/manage/film/add",{...n.form}).then(a=>{a.code===0?(gt.success({message:a.msg}),n.form=e):gt.error({message:a.msg})})};return xt(()=>{vn("/manage/film/class/tree").then(i=>{if(i.code===0){let a=[{id:0,name:"分类名称",pid:0}];a.pop(),i.data.children.forEach(u=>{u.children&&u.children.length>0&&(a=[...a,...u.children])}),n.options.category=a}else gt.error({message:i.msg})})}),(i,a)=>{const u=ji,l=fo,c=mi,d=ir,f=Nn,h=ng,p=pi;return L(),G("div",Lbe,[a[45]||(a[45]=F("h2",{style:{"text-align":"start"}},"添加影片",-1)),A(p,{model:n.form,class:"film_add_form"},{default:O(()=>[A(c,null,{default:O(()=>[a[21]||(a[21]=F("div",{class:"el-input-group__prepend",style:{border:"1px solid #dcdfe6","border-right":"none","border-radius":"3px",height:"32px"}},"影片分类: ",-1)),A(l,{modelValue:n.currentClass,"onUpdate:modelValue":a[0]||(a[0]=g=>n.currentClass=g),style:{width:"calc(100% - 103px)"},onChange:s,placeholder:"影片分类选择"},{default:O(()=>[(L(!0),G(tt,null,It(n.options.category,g=>(L(),ye(u,{key:g.id,label:g.name,value:g.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),A(c,null,{default:O(()=>[A(d,{modelValue:n.form.name,"onUpdate:modelValue":a[1]||(a[1]=g=>n.form.name=g),placeholder:"请输入影片名称",clearable:""},{prepend:O(()=>a[22]||(a[22]=[xe("影片名称: ")])),_:1},8,["modelValue"])]),_:1}),A(c,null,{default:O(()=>[A(d,{modelValue:n.form.subTitle,"onUpdate:modelValue":a[2]||(a[2]=g=>n.form.subTitle=g),placeholder:"影片别名, 可留空",clearable:""},{prepend:O(()=>a[23]||(a[23]=[xe("影片别名: ")])),_:1},8,["modelValue"])]),_:1}),A(c,null,{default:O(()=>[A(d,{modelValue:n.form.initial,"onUpdate:modelValue":a[3]||(a[3]=g=>n.form.initial=g),placeholder:"影片检索首字母, 大写",clearable:""},{prepend:O(()=>a[24]||(a[24]=[xe("首字母: ")])),_:1},8,["modelValue"])]),_:1}),A(c,null,{default:O(()=>[A(d,{modelValue:n.form.classTag,"onUpdate:modelValue":a[4]||(a[4]=g=>n.form.classTag=g),placeholder:"影片剧情标签(多标签以逗号分隔): 奇幻,校园,爱情",clearable:""},{prepend:O(()=>a[25]||(a[25]=[xe("剧情Tag: ")])),_:1},8,["modelValue"])]),_:1}),A(c,null,{default:O(()=>[A(d,{modelValue:n.form.director,"onUpdate:modelValue":a[5]||(a[5]=g=>n.form.director=g),placeholder:"导演名, 多个名称以逗号进行分隔",clearable:""},{prepend:O(()=>a[26]||(a[26]=[xe("导演: ")])),_:1},8,["modelValue"])]),_:1}),A(c,null,{default:O(()=>[A(d,{modelValue:n.form.actor,"onUpdate:modelValue":a[6]||(a[6]=g=>n.form.actor=g),placeholder:"主演名, 多个名称以逗号进行分隔",clearable:""},{prepend:O(()=>a[27]||(a[27]=[xe("主演: ")])),_:1},8,["modelValue"])]),_:1}),A(c,null,{default:O(()=>[A(d,{modelValue:n.form.writer,"onUpdate:modelValue":a[7]||(a[7]=g=>n.form.writer=g),placeholder:"作者名, 多个名称以逗号进行分隔",clearable:""},{prepend:O(()=>a[28]||(a[28]=[xe("作者: ")])),_:1},8,["modelValue"])]),_:1}),A(c,null,{default:O(()=>[A(d,{modelValue:n.form.remarks,"onUpdate:modelValue":a[8]||(a[8]=g=>n.form.remarks=g),placeholder:"影片更新进度信息, 完结, HD, 更新至xx集",clearable:""},{prepend:O(()=>a[29]||(a[29]=[xe("更新状态: ")])),_:1},8,["modelValue"])]),_:1}),A(c,null,{default:O(()=>[A(d,{modelValue:n.form.releaseDate,"onUpdate:modelValue":a[9]||(a[9]=g=>n.form.releaseDate=g),placeholder:"影片上映时间: YYYY-MM-DD",clearable:""},{prepend:O(()=>a[30]||(a[30]=[xe("上映时间: ")])),_:1},8,["modelValue"])]),_:1}),A(c,null,{default:O(()=>[A(d,{modelValue:n.form.area,"onUpdate:modelValue":a[10]||(a[10]=g=>n.form.area=g),placeholder:"影片来源地区信息",clearable:""},{prepend:O(()=>a[31]||(a[31]=[xe("地区: ")])),_:1},8,["modelValue"])]),_:1}),A(c,null,{default:O(()=>[A(d,{modelValue:n.form.lang,"onUpdate:modelValue":a[11]||(a[11]=g=>n.form.lang=g),placeholder:"影片语言信息",clearable:""},{prepend:O(()=>a[32]||(a[32]=[xe("语言: ")])),_:1},8,["modelValue"])]),_:1}),A(c,null,{default:O(()=>[A(d,{modelValue:n.form.year,"onUpdate:modelValue":a[12]||(a[12]=g=>n.form.year=g),placeholder:"影片上映年份信息: YYYY",clearable:""},{prepend:O(()=>a[33]||(a[33]=[xe("年份: ")])),_:1},8,["modelValue"])]),_:1}),A(c,null,{default:O(()=>[A(d,{modelValue:n.form.state,"onUpdate:modelValue":a[13]||(a[13]=g=>n.form.state=g),placeholder:" 影片状态: 正片 | 预告片",clearable:""},{prepend:O(()=>a[34]||(a[34]=[xe("影片状态: ")])),_:1},8,["modelValue"])]),_:1}),A(c,null,{default:O(()=>[A(d,{modelValue:n.form.dbId,"onUpdate:modelValue":a[14]||(a[14]=g=>n.form.dbId=g),placeholder:"豆瓣ID",clearable:""},{prepend:O(()=>a[35]||(a[35]=[xe("豆瓣Id: ")])),_:1},8,["modelValue"])]),_:1}),A(c,null,{default:O(()=>[A(d,{modelValue:n.form.dbScore,"onUpdate:modelValue":a[15]||(a[15]=g=>n.form.dbScore=g),placeholder:"豆瓣评分",clearable:""},{prepend:O(()=>a[36]||(a[36]=[xe("豆瓣评分: ")])),_:1},8,["modelValue"])]),_:1}),A(c,null,{default:O(()=>[A(d,{modelValue:n.form.hits,"onUpdate:modelValue":a[16]||(a[16]=g=>n.form.hits=g),placeholder:"影片热度(播放数)",clearable:""},{prepend:O(()=>a[37]||(a[37]=[xe("影片热度: ")])),_:1},8,["modelValue"])]),_:1}),A(c,null,{default:O(()=>[A(d,{modelValue:n.form.picture,"onUpdate:modelValue":a[17]||(a[17]=g=>n.form.picture=g),placeholder:"输入图片URL链接或点击上传到服务器并自动生成URL连接信息)",clearable:""},{prepend:O(()=>a[38]||(a[38]=[xe("影片海报: ")])),append:O(()=>[A(h,{class:"upload-demo","show-file-list":!1,action:"#","http-request":r},{default:O(()=>[A(f,{type:"primary"},{default:O(()=>a[39]||(a[39]=[xe("上传图片")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),A(c,null,{default:O(()=>[A(d,{modelValue:n.form.playForm,"onUpdate:modelValue":a[18]||(a[18]=g=>n.form.playForm=g),placeholder:"影片播放资源来源: xxXm3u8",clearable:""},{prepend:O(()=>a[40]||(a[40]=[xe("播放来源: ")])),_:1},8,["modelValue"])]),_:1}),A(c,null,{label:O(()=>a[41]||(a[41]=[F("span",{class:"el-input-group__prepend cus_label"},"剧情简介: ",-1)])),default:O(()=>[A(d,{modelValue:n.form.content,"onUpdate:modelValue":a[19]||(a[19]=g=>n.form.content=g),autosize:{minRows:2,maxRows:5},type:"textarea",placeholder:"影片剧情描述信息"},null,8,["modelValue"])]),_:1}),A(c,{label:"播放地址:"},{label:O(()=>a[42]||(a[42]=[F("span",{class:"el-input-group__prepend cus_label"},"播放地址: ",-1)])),default:O(()=>[A(d,{modelValue:n.form.playLink,"onUpdate:modelValue":a[20]||(a[20]=g=>n.form.playLink=g),autosize:{minRows:2,maxRows:5},type:"textarea",placeholder:`影片播放地址信息: 
格式: 第01集$https://xxx/xxx/index.m3u8#第02集$https://xxx/xxx/index.m3u8`},null,8,["modelValue"])]),_:1}),A(c,{class:"form_btn"},{default:O(()=>[A(f,{type:"primary",onClick:o},{default:O(()=>a[43]||(a[43]=[xe("添加影片")])),_:1}),A(f,null,{default:O(()=>a[44]||(a[44]=[xe("清空信息")])),_:1})]),_:1})]),_:1},8,["model"])])}}}),Pbe=Kn($be,[["__scopeId","data-v-ef79630f"]]),Dbe={class:"container"},Obe={class:"player_header"},Mbe={class:"player_link"},Nbe=ee({__name:"CustomPlay",setup(t){const e=Ft({link:"",options:{title:"",src:"",volume:.6,currentTime:50}}),n=()=>{if(!/(^http[s]?:\/\/[^\s]+\.m3u8$)|(^http[s]?:\/\/[^\s]+\.mp4$)/.test(e.link)){gt.error({message:"视频链接格式异常, 请输入正确的播放链接!!!"});return}e.options.src=e.link;var o=new IP({container:".video-player",url:e.link,type:"m3u8",customType:{m3u8:r}});o.on("ready",()=>{console.info(o.hls)})};function r(s,o,i){if(_o.isSupported()){i.hls&&i.hls.destroy();const a=new _o;a.loadSource(o),a.attachMedia(s),i.hls=a,i.on("destroy",()=>a.destroy())}else s.canPlayType("application/vnd.apple.mpegurl")?s.src=o:i.notice.show="Unsupported playback format: m3u8"}return xt(()=>{}),(s,o)=>(L(),G("div",Dbe,[F("div",Obe,[F("div",Mbe,[At(F("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=i=>e.link=i),onKeyup:Sn(n,["enter"]),placeholder:"请输入视频播放地址, mp4 或 m3u8 格式",class:"cus-input"},null,544),[[si,e.link]]),F("button",{class:"iconfont icon-play",onClick:n})])]),o[1]||(o[1]=F("div",{class:"player_area"},[F("div",{class:"video-player"}," test ")],-1))]))}}),Fbe=Kn(Nbe,[["__scopeId","data-v-3c388d10"]]),Bbe={class:"cus_util"},Vbe={class:"dialog-footer"},Ube={class:"film_view"},Hbe={class:"film_intro"},jbe={class:"tags"},Kbe={class:"tag_c"},zbe={class:"blurb"},Wbe={class:"dialog-footer"},Gbe={class:"dialog-footer"},qbe={class:"film_view"},Ybe={class:"film_intro"},Xbe={class:"tags"},Qbe={class:"tag_c"},Zbe={class:"blurb"},Jbe={class:"dialog-footer"},e1e={class:"film_view"},t1e=["href"],n1e={class:"film_intro"},r1e={class:"tags"},s1e={class:"tag_c"},o1e={class:"blurb"},i1e={class:"dialog-footer"},a1e=ee({__name:"Banners",setup(t){const e=Ft({banners:[],banner:{id:"",mid:0,name:"",cName:"",poster:"",picture:"",year:0,remark:"",sort:0},loading:!1,FilmId:"",film:{},options:[{}],dialogV:{addV:!1,editV:!1,bindV:!1,addBindV:!1,editBindV:!1}}),n=()=>{e.banner={id:"",mid:0,name:"",cName:"",poster:"",picture:"",year:0,remark:"",sort:0},e.dialogV.addV=!0},r=()=>{e.banner.mid=e.film.id,e.banner.name=e.film.name,e.banner.cName=e.film.cName,e.banner.picture=e.film.picture,e.banner.year=parseInt(e.film.year),e.banner.remark=e.film.remarks,e.dialogV.addBindV=!1,e.dialogV.editBindV=!1,gt.success({message:"影片信息绑定成功!!!"})},s=()=>{vr("/manage/banner/add",e.banner).then(g=>{g.code===0?(gt.success({message:g.msg}),e.banner={id:"",mid:0,name:"",cName:"",poster:"",picture:"",year:0,remark:"",sort:0},e.dialogV.addV=!1,p()):gt.error({message:g.msg})})},o=g=>{e.banner=g,e.dialogV.editV=!0},i=()=>{vr("/manage/banner/update",e.banner).then(g=>{g.code===0?(gt.success({message:g.msg}),e.banner={id:"",mid:0,name:"",cName:"",poster:"",picture:"",year:0,remark:"",sort:0},e.dialogV.editV=!1,p()):gt.error({message:g.msg})})},a=g=>{e.banner=g,e.dialogV.bindV=!0},u=g=>{g&&(e.loading=!0,setTimeout(()=>{e.loading=!1,vn("/searchFilm",{keyword:g,current:0}).then(v=>{v.code==0?e.options=v.data.list:(gt.warning({message:v.msg,duration:1e3}),e.options=[])})},1500))},l=g=>{e.options.forEach(v=>{v.id==g&&(e.film=v)})},c=()=>{e.banner.mid=e.film.id,e.banner.name=e.film.name,e.banner.cName=e.film.cName,e.banner.picture=e.film.picture,e.banner.year=parseInt(e.film.year),e.banner.remark=e.film.remarks,vr("/manage/banner/update",e.banner).then(g=>{g.code===0?(gt.success({message:g.msg}),e.banner={id:"",mid:0,name:"",cName:"",poster:"",picture:"",year:0,remark:"",sort:0},e.dialogV.bindV=!1,p()):gt.error({message:g.msg})})},d=g=>{vn("/manage/banner/del",{id:g.id}).then(v=>{v.code===0?(gt.success({message:v.msg}),p()):gt.error({message:v.msg})})},f=()=>{vn("/cache/del").then(g=>{g.code==0?gt.success({message:g.msg}):gt.error({message:g.msg})})},h=g=>{let v=g.file,y=new FormData;y.append("file",v),vr("/manage/file/upload",y).then(_=>{if(_.code===0){switch(g.data.type){case 0:e.banner.poster=_.data;break;case 1:e.banner.picture=_.data;break}gt.success({message:_.msg})}else gt.error({message:_.msg})})},p=()=>{vn("/manage/banner/list").then(g=>{g.code===0?e.banners=g.data:gt.error({message:g.msg})})};return xt(()=>{p()}),(g,v)=>{const y=Fl,_=co,b=qm,w=Nn,S=wr,E=Nl,T=ir,I=mi,k=ng,C=wf,N=pi,D=dL,W=uc;return L(),G(tt,null,[v[58]||(v[58]=F("h2",{style:{color:"#8e48b4"}},"首页横幅管理界面",-1)),A(E,{data:e.banners,style:{width:"100%"},border:"",size:"default","row-class-name":"cus-tr","table-layout":"auto"},{default:O(()=>[A(y,{prop:"name",label:"影片名称"}),A(y,{prop:"collectType",align:"center",label:"影片类型"},{default:O(H=>[A(_,{type:"warning"},{default:O(()=>[xe(ge(H.row.cName),1)]),_:2},1024)]),_:1}),A(y,{prop:"collectType",align:"center",label:"上映年份"},{default:O(H=>[A(_,{type:"warning"},{default:O(()=>[xe(ge(H.row.year),1)]),_:2},1024)]),_:1}),A(y,{prop:"collectType",align:"center",label:"影片海报"},{default:O(H=>[A(b,{style:{width:"180px",height:"80px"},src:H.row.poster,"preview-src-list":[H.row.poster],"preview-teleported":"",fit:"contain"},null,8,["src","preview-src-list"])]),_:1}),A(y,{prop:"collectType",align:"center",label:"影片封面"},{default:O(H=>[A(b,{style:{width:"60px",height:"80px"},src:H.row.picture,"preview-src-list":[H.row.picture],"preview-teleported":"",fit:"cover"},null,8,["src","preview-src-list"])]),_:1}),A(y,{prop:"collectType",align:"center",label:"排序"},{default:O(H=>[A(_,{"disable-transitions":""},{default:O(()=>[xe(ge(H.row.sort),1)]),_:2},1024)]),_:1}),A(y,{prop:"resultModel",align:"center",label:"连载状态"},{default:O(H=>[(H.row.remarks+"").search("更新")==-1?(L(),ye(_,{key:0,type:"success"},{default:O(()=>[xe(ge(H.row.remark),1)]),_:2},1024)):(L(),ye(_,{key:1,type:"primary"},{default:O(()=>[xe(ge(H.row.remark),1)]),_:2},1024))]),_:1}),A(y,{label:"操作",align:"center"},{default:O(H=>[A(S,{content:"绑定影片信息",placement:"top"},{default:O(()=>[A(w,{type:"success",icon:m(i9),plain:"",circle:"",onClick:V=>a(H.row)},null,8,["icon","onClick"])]),_:2},1024),A(S,{content:"修改海报信息",placement:"top"},{default:O(()=>[A(w,{type:"primary",icon:m(ff),plain:"",circle:"",onClick:V=>o(H.row)},null,8,["icon","onClick"])]),_:2},1024),A(S,{content:"删除海报信息",placement:"top"},{default:O(()=>[A(w,{type:"danger",icon:m(Ol),plain:"",circle:"",onClick:V=>d(H.row)},null,8,["icon","onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),F("div",Bbe,[A(w,{color:"#9b49e7",icon:m($I),onClick:n},{default:O(()=>v[31]||(v[31]=[xe("添加海报")])),_:1},8,["icon"]),A(w,{type:"danger",icon:m(U9),onClick:f},{default:O(()=>v[32]||(v[32]=[xe("清除缓存")])),_:1},8,["icon"])]),A(W,{modelValue:e.dialogV.addV,"onUpdate:modelValue":v[13]||(v[13]=H=>e.dialogV.addV=H),width:"680px",title:"添加海报"},{footer:O(()=>[F("span",Vbe,[A(w,{color:"#cf48be",onClick:v[8]||(v[8]=H=>e.dialogV.addBindV=!0)},{default:O(()=>v[35]||(v[35]=[xe("绑定影片")])),_:1}),A(w,{color:"#9b49e7",onClick:s},{default:O(()=>v[36]||(v[36]=[xe("确认添加")])),_:1}),A(w,{onClick:v[9]||(v[9]=H=>e.dialogV.addV=!1)},{default:O(()=>v[37]||(v[37]=[xe("取消")])),_:1})])]),default:O(()=>[A(N,{model:e.banner},{default:O(()=>[A(I,{label:"影片ID "},{default:O(()=>[A(T,{modelValue:e.banner.mid,"onUpdate:modelValue":v[0]||(v[0]=H=>e.banner.mid=H),modelModifiers:{number:!0},placeholder:"影片唯一ID"},null,8,["modelValue"])]),_:1}),A(I,{label:"影片名称"},{default:O(()=>[A(T,{modelValue:e.banner.name,"onUpdate:modelValue":v[1]||(v[1]=H=>e.banner.name=H),placeholder:"影片名称"},null,8,["modelValue"])]),_:1}),A(I,{label:"影片分类"},{default:O(()=>[A(T,{modelValue:e.banner.cName,"onUpdate:modelValue":v[2]||(v[2]=H=>e.banner.cName=H),placeholder:"影片所属分类"},null,8,["modelValue"])]),_:1}),A(I,{label:"影片海报"},{default:O(()=>[A(T,{modelValue:e.banner.poster,"onUpdate:modelValue":v[3]||(v[3]=H=>e.banner.poster=H),placeholder:"影片海报访问URL",class:"upload_input"},null,8,["modelValue"]),A(k,{"show-file-list":!1,action:"#","http-request":h,data:{type:0},class:"upload"},{default:O(()=>[A(w,{color:"#626aef",round:"",plain:"",icon:m(nh),class:"upload_btn"},{default:O(()=>v[33]||(v[33]=[xe("Upload")])),_:1},8,["icon"])]),_:1})]),_:1}),A(I,{label:"影片封面"},{default:O(()=>[A(T,{modelValue:e.banner.picture,"onUpdate:modelValue":v[4]||(v[4]=H=>e.banner.picture=H),placeholder:"影片封面访问URL",class:"upload_input"},null,8,["modelValue"]),A(k,{"show-file-list":!1,action:"#","http-request":h,data:{type:1},class:"upload"},{default:O(()=>[A(w,{color:"#626aef",round:"",plain:"",icon:m(nh),class:"upload_btn"},{default:O(()=>v[34]||(v[34]=[xe("Upload")])),_:1},8,["icon"])]),_:1})]),_:1}),A(I,{label:"更新状态"},{default:O(()=>[A(T,{modelValue:e.banner.remark,"onUpdate:modelValue":v[5]||(v[5]=H=>e.banner.remark=H),placeholder:"影片更新状态"},null,8,["modelValue"])]),_:1}),A(I,{label:"上映年份"},{default:O(()=>[A(C,{modelValue:e.banner.year,"onUpdate:modelValue":v[6]||(v[6]=H=>e.banner.year=H),min:0,step:1,max:2100,"step-strictly":""},null,8,["modelValue"])]),_:1}),A(I,{label:"排序分值"},{default:O(()=>[A(C,{modelValue:e.banner.sort,"onUpdate:modelValue":v[7]||(v[7]=H=>e.banner.sort=H),min:-100,step:1,max:100,"step-strictly":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),A(W,{modelValue:e.dialogV.addBindV,"onUpdate:modelValue":v[12]||(v[12]=H=>e.dialogV.addBindV=H),width:"620px",title:"绑定影片","align-center":""},{footer:O(()=>[F("span",Wbe,[A(w,{color:"#9b49e7",onClick:r},{default:O(()=>v[41]||(v[41]=[xe("确认绑定")])),_:1}),A(w,{onClick:v[11]||(v[11]=H=>e.dialogV.addBindV=!1)},{default:O(()=>v[42]||(v[42]=[xe("取消")])),_:1})])]),default:O(()=>[A(N,{model:e.banner},{default:O(()=>[A(I,{label:"搜索影片"},{default:O(()=>[A(D,{modelValue:e.FilmId,"onUpdate:modelValue":v[10]||(v[10]=H=>e.FilmId=H),filterable:"",props:{label:"name",value:"id"},remote:"","remote-method":u,clearable:"",options:e.options,loading:e.loading,placeholder:"请输入需要绑定的影片名称",onChange:l},null,8,["modelValue","options","loading"])]),_:1}),e.film.id?(L(),ye(I,{key:0},{default:O(()=>[F("div",Ube,[F("a",{href:"javascript:void(0);",style:dt({backgroundImage:`url('${e.film.picture}')`})},null,4),F("div",Hbe,[F("h3",null,ge(e.film.name),1),F("p",jbe,[F("span",Kbe,ge(e.film.cName),1),F("span",null,ge(e.film.year),1),F("span",null,ge(e.film.area),1)]),F("p",null,[v[38]||(v[38]=F("em",null,"导演:",-1)),xe(ge(e.film.director),1)]),F("p",null,[v[39]||(v[39]=F("em",null,"主演:",-1)),xe(ge(e.film.actor),1)]),F("p",zbe,[v[40]||(v[40]=F("em",null,"剧情:",-1)),xe(ge((e.film.blurb+"").replaceAll("　　","")),1)])])])]),_:1})):ce("",!0)]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),A(W,{modelValue:e.dialogV.editV,"onUpdate:modelValue":v[27]||(v[27]=H=>e.dialogV.editV=H),width:"680px",title:"修改海报信息"},{footer:O(()=>[F("span",Gbe,[A(w,{color:"#cf48be",onClick:v[22]||(v[22]=H=>e.dialogV.editBindV=!0)},{default:O(()=>v[45]||(v[45]=[xe("绑定影片")])),_:1}),A(w,{color:"#9b49e7",onClick:i},{default:O(()=>v[46]||(v[46]=[xe("保存")])),_:1}),A(w,{onClick:v[23]||(v[23]=H=>e.dialogV.editV=!1)},{default:O(()=>v[47]||(v[47]=[xe("取消")])),_:1})])]),default:O(()=>[A(N,{model:e.banner},{default:O(()=>[A(I,{label:"影片ID "},{default:O(()=>[A(T,{modelValue:e.banner.mid,"onUpdate:modelValue":v[14]||(v[14]=H=>e.banner.mid=H),modelModifiers:{number:!0},placeholder:"影片唯一ID"},null,8,["modelValue"])]),_:1}),A(I,{label:"影片名称"},{default:O(()=>[A(T,{modelValue:e.banner.name,"onUpdate:modelValue":v[15]||(v[15]=H=>e.banner.name=H),placeholder:"影片名称"},null,8,["modelValue"])]),_:1}),A(I,{label:"影片分类"},{default:O(()=>[A(T,{modelValue:e.banner.cName,"onUpdate:modelValue":v[16]||(v[16]=H=>e.banner.cName=H),placeholder:"影片所属分类"},null,8,["modelValue"])]),_:1}),A(I,{label:"影片海报"},{default:O(()=>[A(T,{modelValue:e.banner.poster,"onUpdate:modelValue":v[17]||(v[17]=H=>e.banner.poster=H),placeholder:"影片海报访问URL",class:"upload_input"},null,8,["modelValue"]),A(k,{"show-file-list":!1,action:"#","http-request":h,data:{type:0},class:"upload"},{default:O(()=>[A(w,{color:"#626aef",round:"",plain:"",icon:m(nh),class:"upload_btn"},{default:O(()=>v[43]||(v[43]=[xe("Upload")])),_:1},8,["icon"])]),_:1})]),_:1}),A(I,{label:"影片封面"},{default:O(()=>[A(T,{modelValue:e.banner.picture,"onUpdate:modelValue":v[18]||(v[18]=H=>e.banner.picture=H),placeholder:"影片封面访问URL",class:"upload_input"},null,8,["modelValue"]),A(k,{"show-file-list":!1,action:"#","http-request":h,data:{type:1},class:"upload"},{default:O(()=>[A(w,{color:"#626aef",round:"",plain:"",icon:m(nh),class:"upload_btn"},{default:O(()=>v[44]||(v[44]=[xe("Upload")])),_:1},8,["icon"])]),_:1})]),_:1}),A(I,{label:"更新状态"},{default:O(()=>[A(T,{modelValue:e.banner.remark,"onUpdate:modelValue":v[19]||(v[19]=H=>e.banner.remark=H),placeholder:"影片更新状态"},null,8,["modelValue"])]),_:1}),A(I,{label:"上映年份"},{default:O(()=>[A(C,{modelValue:e.banner.year,"onUpdate:modelValue":v[20]||(v[20]=H=>e.banner.year=H),min:0,step:1,max:2100,"step-strictly":""},null,8,["modelValue"])]),_:1}),A(I,{label:"排序分值"},{default:O(()=>[A(C,{modelValue:e.banner.sort,"onUpdate:modelValue":v[21]||(v[21]=H=>e.banner.sort=H),min:-100,step:1,max:100,"step-strictly":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),A(W,{modelValue:e.dialogV.editBindV,"onUpdate:modelValue":v[26]||(v[26]=H=>e.dialogV.editBindV=H),width:"620px",title:"绑定影片","align-center":""},{footer:O(()=>[F("span",Jbe,[A(w,{color:"#9b49e7",onClick:r},{default:O(()=>v[51]||(v[51]=[xe("确认绑定")])),_:1}),A(w,{onClick:v[25]||(v[25]=H=>e.dialogV.addBindV=!1)},{default:O(()=>v[52]||(v[52]=[xe("取消")])),_:1})])]),default:O(()=>[A(N,{model:e.banner},{default:O(()=>[A(I,{label:"搜索影片"},{default:O(()=>[A(D,{modelValue:e.FilmId,"onUpdate:modelValue":v[24]||(v[24]=H=>e.FilmId=H),filterable:"",props:{label:"name",value:"id"},remote:"","remote-method":u,clearable:"",options:e.options,loading:e.loading,placeholder:"请输入需要绑定的影片名称",onChange:l},null,8,["modelValue","options","loading"])]),_:1}),e.film.id?(L(),ye(I,{key:0},{default:O(()=>[F("div",qbe,[F("a",{href:"javascript:void(0);",style:dt({backgroundImage:`url('${e.film.picture}')`})},null,4),F("div",Ybe,[F("h3",null,ge(e.film.name),1),F("p",Xbe,[F("span",Qbe,ge(e.film.cName),1),F("span",null,ge(e.film.year),1),F("span",null,ge(e.film.area),1)]),F("p",null,[v[48]||(v[48]=F("em",null,"导演:",-1)),xe(ge(e.film.director),1)]),F("p",null,[v[49]||(v[49]=F("em",null,"主演:",-1)),xe(ge(e.film.actor),1)]),F("p",Zbe,[v[50]||(v[50]=F("em",null,"剧情:",-1)),xe(ge((e.film.blurb+"").replaceAll("　　","")),1)])])])]),_:1})):ce("",!0)]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),A(W,{modelValue:e.dialogV.bindV,"onUpdate:modelValue":v[30]||(v[30]=H=>e.dialogV.bindV=H),width:"680px",title:"绑定影片"},{footer:O(()=>[F("span",i1e,[A(w,{color:"#9b49e7",onClick:c},{default:O(()=>v[56]||(v[56]=[xe("确认绑定")])),_:1}),A(w,{onClick:v[29]||(v[29]=H=>e.dialogV.bindV=!1)},{default:O(()=>v[57]||(v[57]=[xe("取消")])),_:1})])]),default:O(()=>[A(N,{model:e.banner},{default:O(()=>[A(I,{label:"搜索影片"},{default:O(()=>[A(D,{modelValue:e.FilmId,"onUpdate:modelValue":v[28]||(v[28]=H=>e.FilmId=H),filterable:"",props:{label:"name",value:"id"},remote:"","remote-method":u,clearable:"",options:e.options,loading:e.loading,placeholder:"请输入需要绑定的影片名称",onChange:l},null,8,["modelValue","options","loading"])]),_:1}),e.film.id?(L(),ye(I,{key:0},{default:O(()=>[F("div",e1e,[F("a",{href:`/filmDetail?link=${e.film.id}`,style:dt({backgroundImage:`url('${e.film.picture}')`})},null,12,t1e),F("div",n1e,[F("h3",null,ge(e.film.name),1),F("p",r1e,[F("span",s1e,ge(e.film.cName),1),F("span",null,ge(e.film.year),1),F("span",null,ge(e.film.area),1)]),F("p",null,[v[53]||(v[53]=F("em",null,"导演:",-1)),xe(ge(e.film.director),1)]),F("p",null,[v[54]||(v[54]=F("em",null,"主演:",-1)),xe(ge(e.film.actor),1)]),F("p",o1e,[v[55]||(v[55]=F("em",null,"剧情:",-1)),xe(ge((e.film.blurb+"").replaceAll("　　","")),1)])])])]),_:1})):ce("",!0)]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}}),l1e=Kn(a1e,[["__scopeId","data-v-1cc5220e"]]),u1e={key:0,class:"container"},c1e={class:"card"},d1e={class:"card-left"},f1e=["href"],h1e={class:"card-right"},p1e={class:"card-title"},m1e={class:"card-content"},g1e={class:"card-episode"},v1e={class:"card-time"},y1e={class:"card-episode"},b1e=["onClick"],w1e=ee({__name:"FilmHistory",setup(t){const e=Ft({historyList:[{}]}),n=rt("global"),r=o=>{console.log(o);let i=Ea.getCookie(Sa.FILM_HISTORY)?JSON.parse(Ea.getCookie(Sa.FILM_HISTORY)):null;delete i[o],Ea.setCookie(Sa.FILM_HISTORY,JSON.stringify(i)),s()},s=()=>{let o=Ea.getCookie(Sa.FILM_HISTORY)?JSON.parse(Ea.getCookie(Sa.FILM_HISTORY)):null,i=[];if(o){for(let a in o)i.push(o[a]);i.sort((a,u)=>u.timeStamp-a.timeStamp)}e.historyList=i};return xt(()=>{s()}),(o,i)=>{const a=cc;return m(n).isMobile?(L(),G("div",u1e,[(L(!0),G(tt,null,It(e.historyList,u=>(L(),G("div",c1e,[F("div",d1e,[F("a",{class:"card-link",href:u.link,style:dt({backgroundImage:`url(${u.picture})`})},null,12,f1e)]),F("div",h1e,[F("h5",p1e,ge(u.name),1),F("div",m1e,[F("p",g1e,ge(`已观看: ${u.progress}`),1),F("p",v1e,[F("b",{class:U(`iconfont ${u.devices?"icon-mobile":"icon-pc1"}`)},null,2),xe(ge(u.time),1)]),F("p",y1e,ge(u.episode),1)])]),F("a",{onClick:l=>r(u.id),class:"iconfont icon-cancel1"},null,8,b1e)]))),256)),e.historyList&&e.historyList.length<=0?(L(),ye(a,{key:0,style:{padding:"10px 0"},description:"暂无观看记录"})):ce("",!0)])):ce("",!0)}}}),_1e=Kn(w1e,[["__scopeId","data-v-82fc2d75"]]),S1e={class:"container"},E1e={class:"params_form"},x1e={class:"content"},T1e={style:{color:"#8b40ff"}},C1e={class:"pagination"},k1e={class:"cus_util"},I1e=ee({__name:"FailureRecord",setup(t){const e=Ft({records:[],page:{current:1,pageCount:0,pageSize:10,total:0},params:{originId:"",collectType:-1,status:-1,betweenTime:"",endTime:""},dateGroup:[],options:{origin:[],collectType:[],status:[]}}),n=()=>{let{current:l,pageSize:c}=e.page,d=e.params;vn("/manage/collect/record/list",{...d,current:l,pageSize:c}).then(f=>{f.code===0?(f.data.list.map(h=>(h.timeFormat=eO.dateFormat(new Date(h.UpdatedAt).getTime()),h)),e.records=f.data.list,e.page=f.data.params.paging,e.options=f.data.options):gt.error({message:f.msg})})},r=()=>{e.dateGroup&&e.dateGroup.length==2?(e.params.beginTime=e.dateGroup[0],e.params.endTime=e.dateGroup[1]):(e.params.beginTime="",e.params.endTime=""),n()},s=l=>{vn("/manage/collect/record/retry",{id:l}).then(c=>{c.code===0?gt.success({message:c.msg}):gt.error({message:c.msg})})},o=l=>{},i=()=>{ep.confirm("是否对所有失效记录进行重新采集?","采集失败记录处理",{confirmButtonText:"执行",cancelButtonText:"取消",type:"warning",center:!0}).then(()=>{vn("/manage/collect/record/retry/all").then(l=>{l.code===0?gt.success({message:l.msg}):gt.error({message:l.msg})})}).catch(()=>{gt({type:"warning",message:"采集恢复操作已取消!!!"})})},a=()=>{ep.confirm("是否清除所有已处理的记录?","记录清除",{confirmButtonText:"执行",cancelButtonText:"取消",type:"warning",center:!0}).then(()=>{vn("/manage/collect/record/clear/done").then(l=>{l.code===0?gt.success({message:l.msg}):gt.error({message:l.msg})})}).catch(()=>{gt({type:"warning",message:"记录清除已取消!!!"})})},u=()=>{ep.confirm("是否清除所有记录?","记录清除",{confirmButtonText:"执行",cancelButtonText:"取消",type:"warning",center:!0}).then(()=>{vn("/manage/collect/record/clear/all").then(l=>{l.code===0?gt.success({message:l.msg}):gt.error({message:l.msg})})}).catch(()=>{gt({type:"warning",message:"记录清除已取消!!!"})})};return xt(()=>{n(),console.log(e)}),(l,c)=>{const d=ji,f=fo,h=mi,p=M1,g=Nn,v=pi,y=Fl,_=co,b=wr,w=Nl,S=fc;return L(),G("div",S1e,[F("div",E1e,[A(v,{model:e.params,class:"cus_form"},{default:O(()=>[A(h,null,{default:O(()=>[A(f,{modelValue:e.params.originId,"onUpdate:modelValue":c[0]||(c[0]=E=>e.params.originId=E),placeholder:"采集来源"},{default:O(()=>[(L(!0),G(tt,null,It(e.options.origin,E=>(L(),ye(d,{key:E.value,label:E.name,value:E.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),ce("",!0),A(h,null,{default:O(()=>[A(f,{modelValue:e.params.status,"onUpdate:modelValue":c[2]||(c[2]=E=>e.params.status=E),placeholder:"记录状态"},{default:O(()=>[(L(!0),G(tt,null,It(e.options.status,E=>(L(),ye(d,{key:E.value,label:E.name,value:E.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),A(h,null,{default:O(()=>[A(p,{modelValue:e.dateGroup,"onUpdate:modelValue":c[3]||(c[3]=E=>e.dateGroup=E),"value-format":"YYYY-MM-DD HH:mm:ss",type:"datetimerange","start-placeholder":"起始时间","end-placeholder":"终止时间"},null,8,["modelValue"])]),_:1}),A(h,null,{default:O(()=>[A(g,{type:"primary",onClick:r},{default:O(()=>c[6]||(c[6]=[xe("查询")])),_:1})]),_:1})]),_:1},8,["model"])]),F("div",x1e,[A(w,{data:e.records,style:{width:"100%"},border:"",size:"default","table-layout":"auto","max-height":"calc(68vh - 20px)","row-key":"id",fit:"","row-class-name":"cus-tr"},{default:O(()=>[A(y,{type:"index",align:"left","min-width":"35px",label:"序列"},{default:O(E=>[F("span",T1e,ge(E.row.ID),1)]),_:1}),A(y,{prop:"originId",align:"center",label:"采集站"},{default:O(E=>[A(_,{type:"primary","disable-transitions":""},{default:O(()=>[xe(ge(E.row.originName),1)]),_:2},1024)]),_:1}),A(y,{prop:"originId",align:"center","min-width":"100px",label:"采集源ID"},{default:O(E=>[A(_,{type:"success","disable-transitions":""},{default:O(()=>[xe(ge(E.row.originId),1)]),_:2},1024)]),_:1}),A(y,{prop:"collectType",align:"center",label:"采集类型","show-overflow-tooltip":""},{default:O(E=>[A(_,{type:"success","disable-transitions":""},{default:O(()=>[xe(ge(E.row.collectType==0?"影片详情":"未知"),1)]),_:2},1024)]),_:1}),A(y,{prop:"pageNumber",align:"center",label:"分页页码"},{default:O(E=>[A(_,{type:"warning","disable-transitions":""},{default:O(()=>[xe(ge(E.row.pageNumber),1)]),_:2},1024)]),_:1}),A(y,{prop:"hour",align:"center",label:"采集时长"},{default:O(E=>[A(_,{type:"warning","disable-transitions":""},{default:O(()=>[xe(ge(E.row.hour),1)]),_:2},1024)]),_:1}),A(y,{prop:"cause",align:"center",label:"失败原因","min-width":"150px"},{default:O(E=>[A(_,{type:"danger","disable-transitions":""},{default:O(()=>[xe(ge(E.row.cause),1)]),_:2},1024)]),_:1}),A(y,{prop:"status",align:"center",label:"状态"},{default:O(E=>[E.row.status==1?(L(),ye(_,{key:0,type:"warning"},{default:O(()=>c[7]||(c[7]=[xe("待重试")])),_:1})):(L(),ye(_,{key:1,type:"success"},{default:O(()=>c[8]||(c[8]=[xe("已处理")])),_:1}))]),_:1}),A(y,{prop:"UpdatedAt",align:"center",label:"执行时间","min-width":"100px"},{default:O(E=>[A(_,{type:`${E.row.status==1?"warning":"success"}`,"disable-transitions":""},{default:O(()=>[xe(ge(E.row.timeFormat),1)]),_:2},1032,["type"])]),_:1}),A(y,{label:"操作",align:"center","min-width":"100px"},{default:O(E=>[A(b,{content:"采集重试",placement:"top"},{default:O(()=>[A(g,{type:"success",icon:m(t1),onClick:T=>s(E.row.ID),plain:"",circle:""},null,8,["icon","onClick"])]),_:2},1024),ce("",!0)]),_:1})]),_:1},8,["data"]),F("div",C1e,[F("div",k1e,[A(b,{content:"重试采集所有失败记录",placement:"top"},{default:O(()=>[A(g,{color:"#d942bf",icon:m(JV),onClick:i},{default:O(()=>c[9]||(c[9]=[xe("RetryAll")])),_:1},8,["icon"])]),_:1}),A(b,{content:"清除已处理记录,保留未处理记录",placement:"top"},{default:O(()=>[A(g,{type:"warning",icon:m(hf),onClick:a},{default:O(()=>c[10]||(c[10]=[xe("CleanDone")])),_:1},8,["icon"])]),_:1}),A(b,{content:"清除所有记录",placement:"top"},{default:O(()=>[A(g,{type:"danger",icon:m(LI),onClick:u},{default:O(()=>c[11]||(c[11]=[xe("CleanAll")])),_:1},8,["icon"])]),_:1})]),A(S,{"page-sizes":[10,20,50,100,500],background:"",layout:"prev, pager, next, sizes, total, jumper",total:e.page.total,"page-size":e.page.pageSize,"onUpdate:pageSize":c[4]||(c[4]=E=>e.page.pageSize=E),"current-page":e.page.current,"onUpdate:currentPage":c[5]||(c[5]=E=>e.page.current=E),onChange:n,"hide-on-single-page":""},null,8,["total","page-size","current-page"])])])])}}}),A1e=Kn(I1e,[["__scopeId","data-v-5832260a"]]),R1e=[{path:"/",component:yde,redirect:"/index",children:[{path:"index",component:afe},{path:"filmDetail",component:Ffe},{path:"play",component:E0e},{path:"search",component:N0e},{path:"filmClassify",component:vye},{path:"filmClassifySearch",component:tye},{path:"/custom/player",component:Fbe},{path:"/history",component:_1e}]},{path:"/login",component:Iye},{path:"/manage",component:Hye,redirect:"/manage/index",children:[{path:"index",component:wye},{path:"collect/index",component:Xye},{path:"collect/record",component:A1e},{path:"system/webSite",component:ebe},{path:"system/banners",component:l1e},{path:"cron/index",component:ibe},{path:"file/upload",component:Rbe},{path:"file/gallery",component:Q2},{path:"film",component:wbe},{path:"film/class",component:hbe},{path:"film/add",component:Pbe},{path:"film/detail",component:Q2}]},{path:"/:pathMatch(.*)*",component:j0e}],i_=lue({history:Nle(),routes:R1e});i_.beforeEach((t,e,n)=>{let r=new RegExp(/^\/manage\//).test(t.path),s=TP();r&&!s?n("/login"):n()});const a_=xm(ile);a_.use(Jae);a_.use(i_);a_.mount("#app")});export default L1e();
